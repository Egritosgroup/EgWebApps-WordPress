!function(){function t(n,e){return(t=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(n,e)}function n(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var c,o=i(t);if(n){var r=i(this).constructor;c=Reflect.construct(o,arguments,r)}else c=o.apply(this,arguments);return e(this,c)}}function e(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,n,e){return n&&o(t.prototype,n),e&&o(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{HNmh:function(t,n,e){var i,c,o;!function(r){if("object"==typeof t.exports){var a=r(null,n);void 0!==a&&(t.exports=a)}else c=[e,n],void 0===(o="function"==typeof(i=r)?i.apply(n,c):i)||(t.exports=o)}(function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=void 0;n.default=[[["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc.","\u03b1\u03c0\u03cc\u03b3.","\u03b2\u03c1\u03ac\u03b4\u03c5"],e,["\u03c4\u03bf \u03c0\u03c1\u03c9\u03af","\u03c4\u03bf \u03bc\u03b5\u03c3\u03b7\u03bc\u03ad\u03c1\u03b9","\u03c4\u03bf \u03b1\u03c0\u03cc\u03b3\u03b5\u03c5\u03bc\u03b1","\u03c4\u03bf \u03b2\u03c1\u03ac\u03b4\u03c5"]],[["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc.","\u03b1\u03c0\u03cc\u03b3.","\u03b2\u03c1\u03ac\u03b4\u03c5"],e,["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc\u03ad\u03c1\u03b9","\u03b1\u03c0\u03cc\u03b3\u03b5\u03c5\u03bc\u03b1","\u03b2\u03c1\u03ac\u03b4\u03c5"]],[["04:00","12:00"],["12:00","17:00"],["17:00","20:00"],["20:00","04:00"]]]})},wMrW:function(e,i,o){"use strict";o.r(i),o.d(i,"NotificationsModule",function(){return Q});var a,s=o("1kSV"),u=o("PCNd"),f=o("fXoL"),l=o("tyNb"),p=o("4krO"),d=o("oXA7"),b=o("zPkR"),h=o("tk/3"),y=o("rdQv"),v=o("VZwH"),g=o("3Pt+"),m=o("5eHb"),w=o("ofXK"),T=o("yh7E"),k=o.n(T),S=o("HNmh"),O=o.n(S),I=o("ZOsW"),E=o("7LiV"),j=o("7zfz");function N(t,n){if(1&t&&(f.kc(0),f.hc(1,"i"),f.jc()),2&t){var e=f.yc(2).$implicit;f.Tb(1),f.Wb("fa-2x ",e.GroupIcon,"")}}function x(t,n){if(1&t&&(f.gd(0,N,2,3,"ng-container",4),f.mc(1,"div",5),f.mc(2,"h4"),f.id(3),f.lc(),f.mc(4,"span"),f.id(5),f.lc(),f.lc(),f.mc(6,"div",6),f.hc(7,"i",7),f.lc()),2&t){var e=f.yc().$implicit,i=f.yc();f.Hc("ngIf",e.GroupIcon),f.Tb(3),f.jd(e.Perigrafi),f.Tb(2),f.jd(i.calcEnabledTypes(e.SubscriberEnabledTypes))}}function P(t,n){if(1&t&&(f.mc(0,"span",12),f.id(1),f.lc()),2&t){var e=f.yc(2).$implicit;f.Tb(1),f.kd(" ",e.ExtraInfoForSubscribers,"")}}function C(t,n){if(1&t){var e=f.nc();f.mc(0,"div",13),f.mc(1,"label",14),f.id(2),f.lc(),f.mc(3,"input",15),f.wc("change",function(t){f.Zc(e);var n=f.yc(2).$implicit;return f.yc().onInputChange(t,n,n.SupportedTypes)}),f.lc(),f.hc(4,"label",16),f.lc()}if(2&t){var i=f.yc(2).$implicit;f.Tb(1),f.Jc("for","",i.NotificationGroupId,"-all"),f.Tb(1),f.kd("",0==i.SubscriberEnabledTypes?"\u0395\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7":"\u0391\u03c0\u03b5\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7"," \u038c\u03bb\u03c9\u03bd"),f.Tb(1),f.Jc("id","",i.NotificationGroupId,"-all"),f.Hc("checked",0!=i.SubscriberEnabledTypes),f.Tb(1),f.Jc("for","",i.NotificationGroupId,"-all")}}function G(t,n){if(1&t){var e=f.nc();f.kc(0),f.mc(1,"div",17),f.hc(2,"label",18),f.mc(3,"input",15),f.wc("change",function(t){f.Zc(e);var n=f.yc().$implicit,i=f.yc(2).$implicit;return f.yc().onInputChange(t,i,n.Value)}),f.lc(),f.hc(4,"label",16),f.lc(),f.jc()}if(2&t){var i=f.yc().$implicit,c=f.yc(2).$implicit,o=f.yc();f.Tb(2),f.Kc("for","",c.NotificationGroupId,"-",i.Value,""),f.Hc("innerHTML",i.Metadata.Description+i.DisplayText,f.ad),f.Tb(1),f.Kc("id","",c.NotificationGroupId,"-",i.Value,""),f.Hc("checked",o.calcIfChecked(c,i.Value)),f.Tb(1),f.Kc("for","",c.NotificationGroupId,"-",i.Value,"")}}function H(t,n){if(1&t&&(f.kc(0),f.gd(1,G,5,8,"ng-container",4),f.jc()),2&t){var e=n.$implicit,i=f.yc(2).$implicit,c=f.yc();f.Tb(1),f.Hc("ngIf",c.isSupportedType(i.SupportedTypes,e.Value))}}function M(t,n){if(1&t&&(f.mc(0,"div",8),f.gd(1,P,2,1,"span",9),f.mc(2,"div"),f.mc(3,"b",10),f.id(4,"\u03a0\u03c9\u03c2 \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03bb\u03b1\u03bc\u03b2\u03ac\u03bd\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ad\u03c2 \u03c4\u03b9\u03c2 \u03b5\u03b9\u03b4\u03bf\u03c0\u03bf\u03b9\u03ae\u03c3\u03b5\u03b9\u03c2"),f.lc(),f.gd(5,C,5,5,"div",11),f.lc(),f.gd(6,H,2,1,"ng-container",1),f.lc()),2&t){var e=f.yc().$implicit,i=f.yc();f.Tb(1),f.Hc("ngIf",e.ExtraInfoForSubscribers),f.Tb(1),f.Vb(e.CanUnSubscribe?"has-switch":""),f.Tb(3),f.Hc("ngIf",e.CanUnSubscribe),f.Tb(1),f.Hc("ngForOf",i.notificationEnumTypeValues)}}function V(t,n){1&t&&(f.mc(0,"p-accordionTab"),f.gd(1,x,8,3,"ng-template",2),f.gd(2,M,7,5,"ng-template",3),f.lc())}var A=function(){function t(n){c(this,t),this.toastr=n}return r(t,[{key:"show",value:function(t,n,e){n&&this.toastr[e](n,t,{progressBar:!0,onActivateTick:!0})}},{key:"showError",value:function(t,n){this.show(t,n,"error")}},{key:"showInfo",value:function(t,n){this.show(t,n,"info")}},{key:"showSuccess",value:function(t,n){this.show(t,n,"success")}},{key:"showWarning",value:function(t,n){this.show(t,n,"warning")}}]),t}();A.\u0275fac=function(t){return new(t||A)(f.tc(m.b))},A.\u0275prov=Object(f.cc)({factory:function(){return new A(Object(f.tc)(m.b))},token:A,providedIn:"root"}),A.ctorParameters=function(){return[{type:m.b}]};var U=function t(n){var e=this;c(this,t),this.toasterSrv=n,this.catchBadResponse=function(t){var n="";if(t.error instanceof Error)n="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ".concat(t.message);else if(void 0!==t.error)n="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ".concat(t.message);else switch(t.status){case 403:n="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error ".concat(t.status);break;case 401:n="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n ".concat(t.status);break;default:n="Backend returned code ".concat(t.status,", body was: ").concat(void 0!==t.body?t.body.error:void 0!==t.message?t.message:"")}return e.toasterSrv.showError("","".concat(n)),Object(p.a)(!1)}};U.\u0275fac=function(t){return new(t||U)(f.tc(A))},U.\u0275prov=Object(f.cc)({factory:function(){return new U(Object(f.tc)(A))},token:U,providedIn:"root"}),U.ctorParameters=function(){return[{type:A}]};var $=function(e){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&t(n,e)}(o,e);var i=n(o);function o(t,n,e){var r;return c(this,o),(r=i.call(this,e,t)).exceptionSrv=t,r.toasterSrv=n,r.http=e,r}return r(o,[{key:"GetAllNotificationsTypes",value:function(t){var n="".concat(this.baseUrl,"Notifications/GetAllNotificationsTypes/").concat(t);return this.http.get(n)}},{key:"GetMySubscriptions",value:function(){var t="".concat(this.baseUrl,"Notifications/GetMySubscriptions");return this.http.get(t)}},{key:"UpdateSubscriptionPoliti",value:function(t){var n=this,e="".concat(this.baseUrl,"Notifications/UpdateSubscriptionPoliti");return this.http.post(e,t).pipe(Object(y.a)(function(t){return t}),Object(v.a)(function(t){return function(t,n){var e="";if(t.error instanceof Error&&t.error&&t.error.Message||void 0!==t.error&&t.error&&t.error.Message)e="".concat(t.error.Message);else switch(t.status){case 400:e=t.error;break;case 403:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. \n";break;case 401:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. \n",setTimeout(function(){return window.location.reload()},1e3);break;default:e="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1 \u03bc\u03b5 \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc ".concat(t.status,", \u03ba\u03b1\u03b9 \u03c0\u03b5\u03c1\u03b9\u03b5\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf: ").concat(void 0!==t.body?t.body.error:void 0!==t.Message?t.Message:"")}return console.log("ERRORING: ",t),n.showError("\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1","".concat(e)),Object(p.a)(!1)}(t,n.toasterSrv)}))}}]),o}(function(){return function t(n,e){var i=this;c(this,t),this.http=n,this.exceptionSrv=e,this.getBaseUrl=function(){return i.baseUrl},this.baseUrl+="api","undefined"!=typeof AppConfOptions&&AppConfOptions.notifications_api?this.baseUrl=AppConfOptions.notifications_api:this.baseUrl="/",this.baseUrl+="api/"}}());$.\u0275fac=function(t){return new(t||$)(f.tc(U),f.tc(A),f.tc(h.b))},$.\u0275prov=Object(f.cc)({factory:function(){return new $(Object(f.tc)(U),Object(f.tc)(A),Object(f.tc)(h.b))},token:$,providedIn:"root"}),$.ctorParameters=function(){return[{type:U},{type:A},{type:h.b}]};var _=function(){function t(n,e,i,o){c(this,t),this.notificationsNgSrv=n,this.toasterSrv=e,this.router=i,this.route=o,this.model=[],this.onDestroy=new d.a,this.index=0,this.isLoading=!0}return r(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_loadData",value:function(){}},{key:"onTabChanged",value:function(t){}}]),t}();_.\u0275fac=function(t){return new(t||_)(f.gc($),f.gc(A),f.gc(l.d),f.gc(l.a))},_.\u0275cmp=f.ac({type:_,selectors:[["lib-notifications-ng"]],decls:2,vars:0,template:function(t,n){1&t&&(f.hc(0,"lib-registration"),f.hc(1,"router-outlet"))},directives:function(){return[B,l.h]},encapsulation:2}),_.ctorParameters=function(){return[{type:$},{type:A},{type:l.d},{type:l.a}]},function(t){t[t.Email=1]="Email",t[t.Sms=2]="Sms",t[t.Paper=4]="Paper"}(a||(a={}));var R=function t(){c(this,t)},D=function(){function t(n){c(this,t),this.notificationsNgSrv=n,this.onDestroy=new d.a}return r(t,[{key:"ngOnInit",value:function(){var t=this;Object(b.a)([this.notificationsNgSrv.GetMySubscriptions(),this.notificationsNgSrv.GetAllNotificationsTypes("NotificationType")]).subscribe(function(n){n&&(t.model=n[0],t.notificationEnumTypeValues=n[1])})}},{key:"ngOnDestroy",value:function(){this.onDestroy.next}},{key:"toggleArrow",value:function(t){var n=t.originalEvent.srcElement.id,e=document.getElementById(n).getElementsByClassName("arrow")[0];e.children[0].classList.contains("fa-caret-down")?e.children[0].className="fas fa-caret-up fa-2x":e.children[0].className="fas fa-caret-down fa-2x"}},{key:"isSupportedType",value:function(t,n){return!!(t&n)}},{key:"onInputChange",value:function(t,n,e){var i=new R;i.NotificationGroupId=n.NotificationGroupId,i.SubscriberEnabledTypes=n.SubscriberEnabledTypes,n.SubscriberEnabledTypes&e?i.SubscriberEnabledTypes&=~e:i.SubscriberEnabledTypes|=e,this.notificationsNgSrv.UpdateSubscriptionPoliti(i).subscribe(function(e){e?n.SubscriberEnabledTypes=i.SubscriberEnabledTypes:t.target.checked=!0})}},{key:"calcEnabledTypes",value:function(t){for(var n="",e=0;e<this.notificationEnumTypeValues.length;e++){var i=this.notificationEnumTypeValues[e];t&i.Value&&(n+=(n.length>0?", ":"")+i.DisplayText)}return n}},{key:"calcIfChecked",value:function(t,n){return t.SubscriberEnabledTypes&n}}]),t}();D.\u0275fac=function(t){return new(t||D)(f.gc($))},D.\u0275cmp=f.ac({type:D,selectors:[["lib-mailing-lists"]],decls:2,vars:2,consts:[["expandIcon","","collapseIcon","",3,"multiple","onOpen","onClose"],[4,"ngFor","ngForOf"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"notgroup-title"],[1,"arrow"],[1,"fas","fa-caret-down","fa-2x"],[1,"card","card-body"],["class","extra-info",4,"ngIf"],[1,"descr"],["class","switch all",4,"ngIf"],[1,"extra-info"],[1,"switch","all"],[1,"label",3,"for"],["type","checkbox",1,"input",3,"id","checked","change"],[1,"slider",3,"for"],[1,"switch"],[1,"label",3,"for","innerHTML"]],template:function(t,n){1&t&&(f.mc(0,"p-accordion",0),f.wc("onOpen",function(t){return n.toggleArrow(t)})("onClose",function(t){return n.toggleArrow(t)}),f.gd(1,V,3,0,"p-accordionTab",1),f.lc()),2&t&&(f.Hc("multiple",!0),f.Tb(1),f.Hc("ngForOf",n.model))},directives:[E.a,w.o,E.c,j.j,w.p],encapsulation:2}),D.ctorParameters=function(){return[{type:$}]};var B=function(){function t(){c(this,t)}return r(t,[{key:"ngOnInit",value:function(){}}]),t}();B.\u0275fac=function(t){return new(t||B)},B.\u0275cmp=f.ac({type:B,selectors:[["lib-registration"]],decls:1,vars:0,template:function(t,n){1&t&&f.hc(0,"lib-mailing-lists")},directives:[D],encapsulation:2}),B.ctorParameters=function(){return[]};var z=[{path:"",component:_,pathMatch:"full"},{path:"Notifications",component:_,pathMatch:"full"}],F=function t(){c(this,t)};F.\u0275fac=function(t){return new(t||F)},F.\u0275mod=f.ec({type:F}),F.\u0275inj=f.dc({imports:[[l.g.forChild(z)],l.g]}),Object(w.H)(k.a,"el",O.a);var L=[E.b],J=function t(){c(this,t)};J.\u0275fac=function(t){return new(t||J)},J.\u0275mod=f.ec({type:J}),J.\u0275inj=f.dc({providers:[{provide:f.G,useValue:"el"}],imports:[[w.c,g.g,F,I.c].concat(L,[m.a.forRoot()])]});var K=o("zazq");function W(t,n){1&t&&(f.kc(0),f.mc(1,"div",1),f.hc(2,"lib-notifications-ng"),f.lc(),f.jc())}var Z=function(){function t(n){c(this,t),this.oidcSecuritySrv=n}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.oidcSecuritySrv.isAuthenticated$.subscribe(function(n){t.isAuthorized=n})}}]),t}();Z.\u0275fac=function(t){return new(t||Z)(f.gc(K.e))},Z.\u0275cmp=f.ac({type:Z,selectors:[["app-notifications"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"notifications-container","bg-white",2,"padding","30px"]],template:function(t,n){1&t&&f.gd(0,W,3,0,"ng-container",0),2&t&&f.Hc("ngIf",n.isAuthorized)},directives:[w.p,_],encapsulation:2});var X=[{path:"",component:Z}],q=function t(){c(this,t)};q.\u0275fac=function(t){return new(t||q)},q.\u0275mod=f.ec({type:q}),q.\u0275inj=f.dc({imports:[[l.g.forChild(X)],l.g]});var Q=function t(){c(this,t)};Q.\u0275fac=function(t){return new(t||Q)},Q.\u0275mod=f.ec({type:Q}),Q.\u0275inj=f.dc({imports:[[u.a,q,s.d,J]]})}}])}();