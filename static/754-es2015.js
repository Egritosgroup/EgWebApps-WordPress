"use strict";(self.webpackChunkegritos_group_eg_web_apps=self.webpackChunkegritos_group_eg_web_apps||[]).push([[754],{73754:function(e,i,t){t.r(i),t.d(i,{CarPoolingModule:function(){return be}});var o=t(46019),s=t(35660),a=t(54655),n=t(68214),r=t(79765),l=t(46782),d=t(43190),c=t(37716),p=t(74868),h=t(12622),u=t(38583),m=t(60394),g=t(3379),f=t(24020),Z=t(44748),A=t(33013);class T{constructor(){this.imerominiaTaksidiouApo=null,this.imerominiaTaksidiouEos=null,this.poliApo=null,this.poliEos=null,this.start=0,this.pageSize=10,this.onlyMyDiadromes=!1}}class b{constructor(){this.id=0,this.imerominiaTaksidiou=null,this.theseis=null,this.apoLatitude=null,this.apoLongitude=null,this.apoPlirisPerigrafi=null,this.apoTk=null,this.poliApo=null,this.prosLatitude=null,this.prosLongitude=null,this.prosPlirisPerigrafi=null,this.prosTk=null,this.poliEos=null,this.scholia=null,this.odigosId=null,this.ora=null}}var M=(()=>{return(e=M||(M={})).diadromiApo="\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd \u0391\u03c0\u03cc",e.imerominiaTaksidiou="\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd",e.apoPlirisPerigrafi="\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1",e.prosPlirisPerigrafi="\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2",e.ora="\u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2",e.theseis="\u0398\u03ad\u03c3\u03b5\u03b9\u03c2",M;var e})(),y=t(88002),w=t(5304),_=t(91841);let v=(()=>{class e{constructor(e,i){this.http=e,this.toasterSrv=i,this.apiUrl=AppConfOptions.carpooling_api+"api/"}GetAllDiadromes(){return this.http.get(`${this.apiUrl}diadromes/GetAll`).pipe((0,y.U)(e=>e),(0,w.K)(e=>(0,n.Zj)(e,this.toasterSrv)))}Search(e){return this.http.post(`${this.apiUrl}diadromes/Search`,e).pipe((0,y.U)(e=>e),(0,w.K)(e=>(0,n.Zj)(e,this.toasterSrv)))}Add(e){return this.http.post(`${this.apiUrl}diadromes/Add`,e).pipe((0,y.U)(e=>e),(0,w.K)(e=>(0,n.Zj)(e,this.toasterSrv)))}Update(e){return this.http.put(`${this.apiUrl}diadromes/Update/${e.id}`,e).pipe((0,y.U)(e=>e),(0,w.K)(e=>(0,n.Zj)(e,this.toasterSrv)))}GetDiadromi(e){return this.http.get(`${this.apiUrl}diadromes/`+e).pipe((0,y.U)(e=>e),(0,w.K)(e=>(0,n.Zj)(e,this.toasterSrv)))}GetAvailablePoleisMeDiadomes(e){return this.http.get(`${this.apiUrl}diadromes/GetAvailablePoleisMeDiadomes/${e}`).pipe((0,y.U)(e=>e),(0,w.K)(e=>(0,n.Zj)(e,this.toasterSrv)))}Delete(e){return this.http.delete(`${this.apiUrl}diadromes/${e}`).pipe((0,y.U)(e=>e),(0,w.K)(e=>(0,n.Zj)(e,this.toasterSrv)))}}return e.\u0275fac=function(i){return new(i||e)(c.LFG(_.eN),c.LFG(n.MJ))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e})();var q=t(3679),x=t(88598),U=t(86640),C=t(84439),k=t(16359),P=t(62177);function J(e,i){if(1&e&&(c.TgZ(0,"pre",20),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.Oqu(e.model.scholia)}}function I(e,i){1&e&&(c.TgZ(0,"span",21),c._uU(1,"-"),c.qZA())}function S(e,i){if(1&e&&(c.TgZ(0,"div",22),c.TgZ(1,"agm-map",23),c._UZ(2,"agm-direction",24),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.Q6J("latitude",e.model.apoLatitude)("longitude",e.model.apoLongitude),c.xp6(1),c.Q6J("origin",e.dir.origin)("destination",e.dir.destination)}}function L(e,i){if(1&e&&(c.ynx(0),c.TgZ(1,"div",2),c.TgZ(2,"a",3),c._UZ(3,"span",4),c._uU(4," \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1"),c.qZA(),c.qZA(),c.TgZ(5,"div",5),c.TgZ(6,"div",6),c.TgZ(7,"span",7),c._UZ(8,"i",8),c._uU(9," \u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd:"),c.qZA(),c.TgZ(10,"span",9),c._uU(11),c.ALo(12,"date"),c.qZA(),c.qZA(),c.TgZ(13,"div",6),c.TgZ(14,"span",7),c._UZ(15,"i",10),c._uU(16," \u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2:"),c.qZA(),c.TgZ(17,"span",9),c._uU(18),c.ALo(19,"date"),c.qZA(),c.qZA(),c.TgZ(20,"div",6),c.TgZ(21,"span",7),c._UZ(22,"i",11),c._uU(23," \u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1:"),c.qZA(),c.TgZ(24,"span",9),c._uU(25),c.qZA(),c.qZA(),c.TgZ(26,"div",6),c.TgZ(27,"span",7),c._UZ(28,"i",11),c._uU(29," \u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2:"),c.qZA(),c.TgZ(30,"span",9),c._uU(31),c.qZA(),c.qZA(),c.TgZ(32,"div",6),c.TgZ(33,"span",7),c._UZ(34,"i",12),c._uU(35," \u039f\u03b4\u03b7\u03b3\u03cc\u03c2:"),c.qZA(),c.TgZ(36,"span",9),c._uU(37),c.qZA(),c.qZA(),c.TgZ(38,"div",6),c.TgZ(39,"span",7),c._UZ(40,"i",13),c._uU(41," \u0398\u03ad\u03c3\u03b5\u03b9\u03c2:"),c.qZA(),c.TgZ(42,"span",9),c._uU(43),c.qZA(),c.qZA(),c.TgZ(44,"div",6),c.TgZ(45,"span",7),c._UZ(46,"i",14),c._uU(47," \u03a3\u03c7\u03cc\u03bb\u03b9\u03b1:"),c.qZA(),c.TgZ(48,"span",9),c.YNc(49,J,2,1,"pre",15),c.YNc(50,I,2,0,"span",16),c.qZA(),c.qZA(),c.qZA(),c.TgZ(51,"a",17),c._UZ(52,"span",18),c._uU(53," \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc\u03c2 \u03ba\u03cc\u03c3\u03c4\u03bf\u03c5\u03c2 \u03c4\u03bf\u03c5 \u03c4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),c.qZA(),c.YNc(54,S,3,4,"div",19),c.BQk()),2&e){const e=c.oxw();c.xp6(2),c.hYB("href","mailto:",e.model.odigos.email,"?Subject=\u0395\u03c1\u03ce\u03c4\u03b7\u03c3\u03b7 \u03b3\u03b9\u03b1 \u03c4\u03b7 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae \u039d\u03bf# ",e.model.id,"",c.LSH),c.xp6(9),c.Oqu(c.lcZ(12,13,e.model.imerominiaTaksidiou)),c.xp6(7),c.Oqu(c.xi3(19,15,e.model.imerominiaTaksidiou,"shortTime")),c.xp6(7),c.Oqu(e.model.apoPlirisPerigrafi),c.xp6(6),c.Oqu(e.model.prosPlirisPerigrafi),c.xp6(6),c.Oqu(e.model.odigos.fullName),c.xp6(6),c.Oqu(e.model.theseis),c.xp6(6),c.Q6J("ngIf",e.model.scholia),c.xp6(1),c.Q6J("ngIf",!e.model.scholia),c.xp6(1),c.hYB("href","https://www.viamichelin.com/web/Routes?departure=",e.model.apoPlirisPerigrafi,"&arrival=",e.model.prosPlirisPerigrafi,"",c.LSH),c.xp6(3),c.Q6J("ngIf",e.dir)}}let O=(()=>{class e{constructor(e){this.carPoolingSrv=e,this.dir=void 0}ngOnInit(){this._getDirection()}_getDirection(){this.dir={origin:{lat:this.model.apoLatitude,lng:this.model.apoLongitude},destination:{lat:this.model.prosLatitude,lng:this.model.prosLongitude}}}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(v))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-diadromi-view"]],inputs:{model:"model"},decls:2,vars:3,consts:[[3,"condition","customClass"],[4,"ngIf"],[1,"d-flex","justify-content-end","mb-1"],[1,"btn","btn-primary","btn-sm","m-0",3,"href"],["aria-hidden","true",1,"far","fa-envelope"],[1,"d-flex","flex-column"],[1,"d-flex","align-items-center"],[1,"diadromi-details-list__left"],["aria-hidden","true",1,"far","fa-calendar-alt","fa-fw"],[1,"diadromi-details-list__right"],["aria-hidden","true",1,"fas","fa-clock","fa-fw"],["aria-hidden","true",1,"fas","fa-map-marker-alt","fa-fw"],["aria-hidden","true",1,"fas","fa-car","fa-fw"],["aria-hidden","true",1,"fas","fa-user-circle","fa-fw"],["aria-hidden","true",1,"fas","fa-comments","fa-fw"],["cols","70","rows","3","disabled","",4,"ngIf"],["disabled","",4,"ngIf"],["target","_blank","rel","noopener nofollow","id","cost_calc",1,"btn","btn-primary","btn-sm","ml-0","mt-3",3,"href"],["aria-hidden","true",1,"fas","fa-euro-sign"],["class","mt-3",4,"ngIf"],["cols","70","rows","3","disabled",""],["disabled",""],[1,"mt-3"],[2,"height","300px",3,"latitude","longitude"],[3,"origin","destination"]],template:function(e,i){1&e&&(c._UZ(0,"lib-egr-loading",0),c.YNc(1,L,55,18,"ng-container",1)),2&e&&(c.Q6J("condition",!i.model)("customClass","egr-load-small"),c.xp6(1),c.Q6J("ngIf",i.model))},directives:[n.IE,u.O5,k.SA,P.w],pipes:[u.uU],encapsulation:2}),e})();const D=["searchDiadromesForm"];function N(e,i){if(1&e&&c._UZ(0,"div",21),2&e){const e=c.oxw();c.Q6J("innerHTML",e.formErrorsMsg,c.oJD)}}function Q(e,i){1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"th",27),c._uU(2,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),c.qZA(),c.TgZ(3,"th",28),c._uU(4,"\u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2"),c.qZA(),c.TgZ(5,"th",27),c._uU(6,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),c.qZA(),c.TgZ(7,"th",27),c._uU(8,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),c.qZA(),c.TgZ(9,"th",28),c._uU(10,"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u0398\u03ad\u03c3\u03b5\u03b9\u03c2"),c.qZA(),c.TgZ(11,"th",29),c._uU(12,"\u039f\u03b4\u03b7\u03b3\u03cc\u03c2"),c.qZA(),c.qZA())}function E(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td",30),c.TgZ(2,"span",31),c._uU(3,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),c.qZA(),c.TgZ(4,"button",32),c.NdJ("click",function(){const i=c.CHM(e).$implicit,t=c.oxw(2);return t.diadromiModalOpen=!0,t.selectedModel=i}),c._UZ(5,"span",33),c._uU(6),c.ALo(7,"date"),c.qZA(),c.qZA(),c.TgZ(8,"td",28),c.TgZ(9,"span",31),c._uU(10,"\u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2"),c.qZA(),c._uU(11),c.ALo(12,"date"),c.qZA(),c.TgZ(13,"td",27),c.TgZ(14,"span",31),c._uU(15,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),c.qZA(),c._uU(16),c.qZA(),c.TgZ(17,"td",27),c.TgZ(18,"span",31),c._uU(19,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),c.qZA(),c._uU(20),c.qZA(),c.TgZ(21,"td",34),c.TgZ(22,"span",31),c._uU(23,"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u0398\u03ad\u03c3\u03b5\u03b9\u03c2"),c.qZA(),c._uU(24),c.qZA(),c.TgZ(25,"td",29),c.TgZ(26,"span",31),c._uU(27,"\u039f\u03b4\u03b7\u03b3\u03cc\u03c2"),c.qZA(),c._uU(28),c.qZA(),c.qZA()}if(2&e){const e=i.$implicit;c.xp6(6),c.hij(" ",c.xi3(7,6,e.imerominiaTaksidiou,"dd/LL/yyyy")," "),c.xp6(5),c.hij(" ",c.xi3(12,9,e.imerominiaTaksidiou,"shortTime")," "),c.xp6(5),c.hij(" ",e.apoPlirisPerigrafi," "),c.xp6(4),c.hij(" ",e.prosPlirisPerigrafi," "),c.xp6(4),c.hij(" ",e.theseis," "),c.xp6(4),c.hij(" ",e.odigos.fullName," ")}}function F(e,i){if(1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td",35),c.TgZ(2,"strong"),c._uU(3,"\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2:"),c.qZA(),c._uU(4),c.qZA(),c.qZA()),2&e){const e=c.oxw(2);c.xp6(4),c.hij(" ",e.modelCopy.length," ")}}function R(e,i){1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"td",35),c._uU(2," \u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03b4\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ad\u03c2 \u03bc\u03b5 \u03c4\u03b1 \u03ba\u03c1\u03b9\u03c4\u03ae\u03c1\u03b9\u03b1 \u03c0\u03bf\u03c5 \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9. "),c.qZA(),c.qZA())}function H(e,i){if(1&e&&(c.TgZ(0,"p-table",22),c.YNc(1,Q,13,0,"ng-template",23),c.YNc(2,E,29,12,"ng-template",24),c.YNc(3,F,5,1,"ng-template",25),c.YNc(4,R,3,0,"ng-template",26),c.qZA()),2&e){const e=c.oxw();c.Q6J("value",e.modelCopy)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",e.isLoading)("totalRecords",null==e.modelCopy?null:e.modelCopy.length)}}function Y(e,i){if(1&e&&(c.TgZ(0,"div",36),c._UZ(1,"app-diadromi-view",37),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("model",e.selectedModel)}}const j=function(){return{width:"100%"}};let z=(()=>{class e{constructor(e,i,t){this.carPoolingSrv=e,this.toasterSrv=i,this.cdr=t,this.diathesimesPoleisApo=[],this.diathesimesPoleisEos=[],this.isLoading=!1,this.today=new Date,this.yearRange=(0,n.ug)(50,50),this.diadromiModalOpen=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=M}ngOnInit(){this.searchModel=new T,this.isLoading=!0,(0,n.RA)(this.cdr),this.carPoolingSrv.GetAvailablePoleisMeDiadomes(!0).subscribe(e=>{if(e){this.diathesimesPoleis=e;let i=this.diathesimesPoleis.filter(e=>e.poliApo);for(let e=0;e<i.length;e++)this.diathesimesPoleisApo=[...this.diathesimesPoleisApo,{id:e,perigrafi:i[e].poliApo.toString()}];let t=this.diathesimesPoleis.filter(e=>e.poliEos);for(let e=0;e<t.length;e++)this.diathesimesPoleisEos=[...this.diathesimesPoleisEos,{id:e,perigrafi:t[e].poliEos.toString()}]}this.isLoading=!1,(0,n.RA)(this.cdr)}),this.carPoolingSrv.Search(this.searchModel).subscribe(e=>{e&&(this.model=e,this.modelCopy=(0,n.p$)(this.model),this.modelCopy.sort(function(e,i){return e.imerominiaTaksidiou>i.imerominiaTaksidiou?-1:e.imerominiaTaksidiou<i.imerominiaTaksidiou?1:0})),this.isLoading=!1,(0,n.RA)(this.cdr)})}onSearch(){this.isFormSubmitted=!0,this.formErrorsMsg=null;let e=new T;e.imerominiaTaksidiouApo=this.searchModel.imerominiaTaksidiouApo,e.imerominiaTaksidiouEos=this.searchModel.imerominiaTaksidiouEos,this.diathesimesPoleisApo.some(e=>+e.id==+this.searchModel.poliApo)&&(e.poliApo=this.diathesimesPoleisApo.filter(e=>+e.id==+this.searchModel.poliApo)[0].perigrafi),this.diathesimesPoleisEos.some(e=>+e.id==+this.searchModel.poliEos)&&(e.poliEos=this.diathesimesPoleisEos.filter(e=>+e.id==+this.searchModel.poliEos)[0].perigrafi),(0,n.RA)(this.cdr),this.isFormSubmitted&&this.searchDiadromesForm.valid?(this.isLoading=!0,(0,n.RA)(this.cdr),this.carPoolingSrv.Search(e).subscribe(e=>{e&&(this.modelCopy=e),this.isLoading=!1,(0,n.RA)(this.cdr)})):(this.formErrorsMsg=(0,n.CD)(this.searchDiadromesForm,this.formDictionaryEnum,""),(0,n.RA)(this.cdr)),this.isLoading=!1,(0,n.RA)(this.cdr)}onClearFilters(){this.modelCopy=(0,n.p$)(this.model),this.searchModel.imerominiaTaksidiouApo=null,this.searchModel.imerominiaTaksidiouEos=null,this.searchModel.poliApo=null,this.searchModel.poliEos=null,this.isFormSubmitted=!1,this.formErrorsMsg=null,(0,n.RA)(this.cdr)}onAfetiriaSelected(){let e=[];e=this.searchModel.poliApo?this.diathesimesPoleis.filter(e=>e.poliApo==this.searchModel.poliApo):this.diathesimesPoleis,this.diathesimesPoleisEos=e.map(e=>e.poliEos),this.diathesimesPoleisEos=this.diathesimesPoleisEos.filter(function(e,i,t){return t.indexOf(e)===i}),(0,n.RA)(this.cdr)}onProorismosSelected(){let e=[];e=this.searchModel.poliEos?this.diathesimesPoleis.filter(e=>e.poliEos==this.searchModel.poliEos):this.diathesimesPoleis,this.diathesimesPoleisApo=e.map(e=>e.poliApo),this.diathesimesPoleisApo=this.diathesimesPoleisApo.filter(function(e,i,t){return t.indexOf(e)===i}),(0,n.RA)(this.cdr)}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(v),c.Y36(n.MJ),c.Y36(c.sBO))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-diadromes-list"]],viewQuery:function(e,i){if(1&e&&c.Gf(D,5),2&e){let e;c.iGM(e=c.CRH())&&(i.searchDiadromesForm=e.first)}},decls:36,vars:46,consts:[[3,"condition","customClass"],["header","\u03a6\u03af\u03bb\u03c4\u03c1\u03b1 \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7\u03c2",3,"styleClass"],[1,"form"],["searchDiadromesForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["name","diadromiApo","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body","required","",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","readonlyInput","ngModel","ngModelChange"],["imerominiaTaksidiouApoInput","ngModel"],[1,"validation-msg","text-danger","pt-1",3,"hidden"],["name","diadromiEos","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","readonlyInput","ngModel","ngModelChange"],["name","poliApo","bindLabel","perigrafi","bindValue","id",3,"items","ngModel","searchable","clearable","disabled","ngModelChange"],["name","poliEos","bindLabel","perigrafi","bindValue","id",3,"items","ngModel","searchable","clearable","disabled","ngModelChange"],[1,"form-buttons","d-flex","flex-wrap"],["type","button",1,"btn","btn-primary","btn-sm","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["type","button",1,"btn","btn-warning","btn-sm","text-white",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords",4,"ngIf"],[3,"title","isOpen","size","isOpenChange"],["class","modal-body",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[1,"fixed-width-col-100"],[1,"fixed-width-col-60"],[1,"fixed-width-col-150"],[1,"fixed-width-col-100","text-center"],[1,"p-column-title"],["type","button",1,"btn","btn-sm","btn-primary","m-0",3,"click"],["aria-hidden","true",1,"far","fa-eye"],[1,"fixed-width-col-60","text-center"],["colspan","6"],[1,"modal-body"],[3,"model"]],template:function(e,i){if(1&e&&(c._UZ(0,"lib-egr-loading",0),c.TgZ(1,"p-panel",1),c.TgZ(2,"form",2,3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"label"),c._uU(7,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd \u0391\u03c0\u03cc*"),c.qZA(),c.TgZ(8,"p-calendar",6,7),c.NdJ("ngModelChange",function(e){return i.searchModel.imerominiaTaksidiouApo=e}),c.qZA(),c.TgZ(10,"div",8),c._uU(11," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),c.qZA(),c.qZA(),c.TgZ(12,"div",5),c.TgZ(13,"label"),c._uU(14,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd \u0388\u03c9\u03c2"),c.qZA(),c.TgZ(15,"p-calendar",9),c.NdJ("ngModelChange",function(e){return i.searchModel.imerominiaTaksidiouEos=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(16,"div",4),c.TgZ(17,"div",5),c.TgZ(18,"label"),c._uU(19,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),c.qZA(),c.TgZ(20,"ng-select",10),c.NdJ("ngModelChange",function(e){return i.searchModel.poliApo=e}),c.qZA(),c.qZA(),c.TgZ(21,"div",5),c.TgZ(22,"label"),c._uU(23,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),c.qZA(),c.TgZ(24,"ng-select",11),c.NdJ("ngModelChange",function(e){return i.searchModel.poliEos=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(25,"div",12),c.TgZ(26,"button",13),c.NdJ("click",function(){return i.onSearch()}),c._UZ(27,"i",14),c._uU(28," \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7 "),c.qZA(),c.TgZ(29,"button",15),c.NdJ("click",function(){return i.onClearFilters()}),c._UZ(30,"i",16),c._uU(31," \u039a\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2 "),c.qZA(),c.qZA(),c.YNc(32,N,1,1,"div",17),c.qZA(),c.qZA(),c.YNc(33,H,5,9,"p-table",18),c.TgZ(34,"eg-modal",19),c.NdJ("isOpenChange",function(e){return i.diadromiModalOpen=e}),c.YNc(35,Y,2,1,"div",20),c.qZA()),2&e){const e=c.MAs(9);c.Q6J("condition",i.isLoading)("customClass","egr-load-small"),c.xp6(1),c.Q6J("styleClass","mb-3"),c.xp6(7),c.Akn(c.DdM(44,j)),c.Q6J("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",i.yearRange)("showIcon",!0)("showButtonBar",!0)("readonlyInput",!0)("ngModel",i.searchModel.imerominiaTaksidiouApo),c.xp6(2),c.Q6J("hidden",!i.isFormSubmitted||i.isFormSubmitted&&e.valid),c.xp6(5),c.Akn(c.DdM(45,j)),c.Q6J("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",i.yearRange)("showIcon",!0)("showButtonBar",!0)("readonlyInput",!0)("ngModel",i.searchModel.imerominiaTaksidiouEos),c.xp6(5),c.Q6J("items",i.diathesimesPoleisApo)("ngModel",i.searchModel.poliApo)("searchable",!0)("clearable",!0)("disabled",0==i.diathesimesPoleisApo.length),c.xp6(4),c.Q6J("items",i.diathesimesPoleisEos)("ngModel",i.searchModel.poliEos)("searchable",!0)("clearable",!0)("disabled",0==i.diathesimesPoleisEos.length),c.xp6(8),c.Q6J("ngIf",i.formErrorsMsg&&""!=i.formErrorsMsg),c.xp6(1),c.Q6J("ngIf",i.modelCopy&&!i.isLoading),c.xp6(1),c.Q6J("title","\u039a\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03b7\u03bc\u03ad\u03bd\u03b7 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae No#"+(null==i.selectedModel?null:i.selectedModel.id))("isOpen",i.diadromiModalOpen)("size","xl"),c.xp6(1),c.Q6J("ngIf",i.diadromiModalOpen)}},directives:[n.IE,f.s,q._Y,q.JL,q.F,x.f,q.Q7,q.JJ,q.On,U.w9,u.O5,n.tw,C.iA,A.jx,O],pipes:[u.uU],encapsulation:2,changeDetection:0}),e})();var B=t(45121);const $=["autocompleteItem"];let G=(()=>{class e{constructor(){this.setAddress=new c.vpe}ngAfterViewInit(){this.getPlaceAutocomplete()}getPlaceAutocomplete(){const e=new google.maps.places.Autocomplete(this.autocompleteItem.nativeElement,{componentRestrictions:{country:"GR"},types:[this.adressType]});e.addListener("place_changed",()=>{const i=e.getPlace();this.invokeEvent(i)})}invokeEvent(e){this.setAddress.emit(e)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["AutocompleteComponent"]],viewQuery:function(e,i){if(1&e&&c.Gf($,5),2&e){let e;c.iGM(e=c.CRH())&&(i.autocompleteItem=e.first)}},inputs:{adressType:"adressType",name:"name",placeholder:"placeholder",required:"required",autocompleteInput:"autocompleteInput"},outputs:{setAddress:"setAddress"},decls:2,vars:3,consts:[["type","text","autocomplete","off",1,"form-control",3,"placeholder","required","ngModel","keydown.enter","ngModelChange"],["autocompleteItem",""]],template:function(e,i){1&e&&(c.TgZ(0,"input",0,1),c.NdJ("keydown.enter",function(e){return e.preventDefault()})("ngModelChange",function(e){return i.autocompleteInput=e}),c.qZA()),2&e&&c.Q6J("placeholder",i.placeholder)("required",i.required)("ngModel",i.autocompleteInput)},directives:[q.Fj,q.Q7,q.JJ,q.On],encapsulation:2}),e})();const V=["myDiadromiForm"];function K(e,i){1&e&&(c.TgZ(0,"span"),c._uU(1,"\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7"),c.qZA())}function W(e,i){1&e&&(c.TgZ(0,"span"),c._uU(1,"\u0395\u03bd\u03b7\u03bc\u03ad\u03c1\u03c9\u03c3\u03b7"),c.qZA())}function X(e,i){if(1&e&&c._UZ(0,"div",24),2&e){const e=c.oxw(2);c.Q6J("innerHTML",e.formErrorsMsg,c.oJD)}}const ee=function(){return{width:"100%"}};function ie(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"form",2,3),c.TgZ(2,"div",4),c.TgZ(3,"div",5),c.TgZ(4,"label"),c._uU(5,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1*"),c.qZA(),c.TgZ(6,"AutocompleteComponent",6),c.NdJ("setAddress",function(i){return c.CHM(e),c.oxw().onHandleAddressChange(i,"apo")}),c.qZA(),c.TgZ(7,"div",7),c._uU(8," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),c.qZA(),c.qZA(),c.TgZ(9,"div",5),c.TgZ(10,"label"),c._uU(11,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2*"),c.qZA(),c.TgZ(12,"AutocompleteComponent",6),c.NdJ("setAddress",function(i){return c.CHM(e),c.oxw().onHandleAddressChange(i,"pros")}),c.qZA(),c.TgZ(13,"div",7),c._uU(14," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(15,"div",4),c.TgZ(16,"div",8),c.TgZ(17,"label"),c._uU(18,"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd*"),c.qZA(),c.TgZ(19,"p-calendar",9,10),c.NdJ("ngModelChange",function(i){return c.CHM(e),c.oxw().model.imerominiaTaksidiou=i}),c.qZA(),c.TgZ(21,"div",7),c._uU(22," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),c.qZA(),c.qZA(),c.TgZ(23,"div",8),c.TgZ(24,"label"),c._uU(25,"\u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2*"),c.qZA(),c.TgZ(26,"p-calendar",11,12),c.NdJ("ngModelChange",function(i){return c.CHM(e),c.oxw().model.ora=i}),c.qZA(),c.TgZ(28,"div",7),c._uU(29," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),c.qZA(),c.qZA(),c.TgZ(30,"div",8),c.TgZ(31,"label"),c._uU(32,"\u0398\u03ad\u03c3\u03b5\u03b9\u03c2*"),c.qZA(),c.TgZ(33,"input",13,14),c.NdJ("ngModelChange",function(i){return c.CHM(e),c.oxw().model.theseis=i}),c.qZA(),c.TgZ(35,"div",7),c._uU(36," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(37,"div",4),c.TgZ(38,"div",15),c.TgZ(39,"label"),c._uU(40,"\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1"),c.qZA(),c.TgZ(41,"textarea",16),c.NdJ("ngModelChange",function(i){return c.CHM(e),c.oxw().model.scholia=i}),c._uU(42,"\t\t\t"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(43,"div",17),c.TgZ(44,"button",18),c.NdJ("click",function(){return c.CHM(e),c.oxw().onSubmit()}),c._UZ(45,"i",19),c.YNc(46,K,2,0,"span",20),c.YNc(47,W,2,0,"span",20),c.qZA(),c.TgZ(48,"button",21),c.NdJ("click",function(){return c.CHM(e),c.oxw().onAkirosiClicked()}),c._UZ(49,"i",22),c._uU(50," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 "),c.qZA(),c.qZA(),c.YNc(51,X,1,1,"div",23),c.qZA()}if(2&e){const e=c.MAs(20),i=c.MAs(27),t=c.MAs(34),o=c.oxw();c.xp6(6),c.Q6J("name","apoPlirisPerigrafi")("adressType","address")("placeholder","\u03c0.\u03c7. \u0391\u03b8\u03ae\u03bd\u03b1")("required",!0)("autocompleteInput",o.model.apoPlirisPerigrafi),c.xp6(1),c.Q6J("hidden",!o.isFormSubmitted||o.isFormSubmitted&&o.model.apoPlirisPerigrafi),c.xp6(5),c.Q6J("name","prosPlirisPerigrafi")("adressType","address")("placeholder","\u03c0.\u03c7. \u039a\u03c1\u03ad\u03bf\u03bd\u03c4\u03bf\u03c2 25, \u0391\u03b8\u03ae\u03bd\u03b1")("required",!0)("autocompleteInput",o.model.prosPlirisPerigrafi),c.xp6(1),c.Q6J("hidden",!o.isFormSubmitted||o.isFormSubmitted&&o.model.prosPlirisPerigrafi),c.xp6(6),c.Akn(c.DdM(37,ee)),c.Q6J("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",o.yearRange)("showIcon",!0)("showButtonBar",!0)("ngModel",o.model.imerominiaTaksidiou),c.xp6(2),c.Q6J("hidden",!o.isFormSubmitted||o.isFormSubmitted&&e.valid),c.xp6(5),c.Akn(c.DdM(38,ee)),c.Q6J("baseZIndex",9999)("timeOnly",!0)("showIcon",!0)("ngModel",o.model.ora),c.xp6(2),c.Q6J("hidden",!o.isFormSubmitted||o.isFormSubmitted&&i.valid),c.xp6(5),c.Q6J("ngModel",o.model.theseis),c.xp6(2),c.Q6J("hidden",!o.isFormSubmitted||o.isFormSubmitted&&t.valid),c.xp6(6),c.Q6J("ngModel",o.model.scholia),c.xp6(5),c.Q6J("ngIf",0==o.model.id),c.xp6(1),c.Q6J("ngIf",0!=o.model.id),c.xp6(4),c.Q6J("ngIf",o.formErrorsMsg&&""!=o.formErrorsMsg)}}let te=(()=>{class e{constructor(e,i,t,o){this.carPoolingSrv=e,this.toasterSrv=i,this.router=t,this.cdr=o,this.closeModal=new c.vpe,this.listHasChanged=new c.vpe,this.onDestroy=new r.xQ,this.type="address",this.countryRestrictions=["gr"],this.today=new Date,this.yearRange=(0,n.ug)(50,50),this.isLoading=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=M}ngOnInit(){let e=window.sessionStorage.length>0?window.sessionStorage:window.localStorage;for(let i=0;i<e.length;i++){const t=e.key(i);if(t.includes("default-auth-config")){let i=JSON.parse(e.getItem(t));this.user=i.userData}}!this.model||this.model&&0==this.model.id?(this.model=new b,this.user&&(this.model.odigosId=this.user.sub),(0,n.RA)(this.cdr)):this._getDetailData()}ngOnDestroy(){this.onDestroy.next(null)}_getDetailData(){this.isLoading=!0,(0,n.RA)(this.cdr),this.carPoolingSrv.GetDiadromi(this.model.id).subscribe(e=>{e&&(this.model=e,this.model.imerominiaTaksidiou=this.model.imerominiaTaksidiou?new Date(this.model.imerominiaTaksidiou):null,this.model.ora=this.model.imerominiaTaksidiou),this.isLoading=!1,(0,n.RA)(this.cdr)})}onAkirosiClicked(){this.closeModal.emit()}onSubmit(){if(this.isFormSubmitted=!0,this.formErrorsMsg=null,this.model.imerominiaTaksidiou&&(0,n.Fh)(this.model.imerominiaTaksidiou),this.model.ora){this.model.ora=(0,n.Fh)(this.model.ora);let e=this.model.ora.getHours(),i=this.model.ora.getMinutes(),t=this.model.ora.getSeconds(),o=this.model.ora.getMilliseconds();this.model.imerominiaTaksidiou.setHours(e,i,t,o)}let e;e=0==this.model.id?this.carPoolingSrv.Add(this.model):this.carPoolingSrv.Update(this.model),(0,n.RA)(this.cdr),this.isFormSubmitted&&this.myDiadromiForm.valid?(this.isLoading=!0,(0,n.RA)(this.cdr),e.subscribe(e=>{e&&(this.toasterSrv.showSuccess("","\u0397 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae \u03c3\u03b1\u03c2 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03b8\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1!"),this.closeModal.emit(),this.listHasChanged.emit(!0)),this.isLoading=!1,(0,n.RA)(this.cdr)})):(this.formErrorsMsg=(0,n.CD)(this.myDiadromiForm,this.formDictionaryEnum,""),(0,n.RA)(this.cdr))}onHandleAddressChange(e,i){let t=null,o=e.address_components.find(e=>null!=e.types.find(e=>"locality"==e)),s=e.address_components.find(e=>null!=e.types.find(e=>"administrative_area_level_3"==e));null!=o?t=o.long_name:null!=s&&(t=s.long_name);let a=null,r=e.address_components.find(e=>null!=e.types.find(e=>"postal_code"==e));null!=r&&(a=r.long_name),"pros"==i?(this.model.prosPlirisPerigrafi=e.formatted_address,this.model.poliEos=t,this.model.prosTk=a,this.model.prosLatitude=+e.geometry.location.lat(),this.model.prosLongitude=+e.geometry.location.lng()):"apo"==i&&(this.model.apoPlirisPerigrafi=e.formatted_address,this.model.poliApo=t,this.model.apoTk=a,this.model.apoLatitude=+e.geometry.location.lat(),this.model.apoLongitude=+e.geometry.location.lng()),(0,n.RA)(this.cdr)}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(v),c.Y36(n.MJ),c.Y36(a.F0),c.Y36(c.sBO))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-diadromi-detail"]],viewQuery:function(e,i){if(1&e&&c.Gf(V,5),2&e){let e;c.iGM(e=c.CRH())&&(i.myDiadromiForm=e.first)}},inputs:{model:"model"},outputs:{closeModal:"closeModal",listHasChanged:"listHasChanged"},decls:2,vars:3,consts:[[3,"condition","customClass"],["class","form",4,"ngIf"],[1,"form"],["myDiadromiForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6"],[3,"name","adressType","placeholder","required","autocompleteInput","setAddress"],[1,"validation-msg","text-danger","pt-1",3,"hidden"],[1,"form-group","col-12","col-md-4"],["name","imerominiaTaksidiou","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body","required","",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","ngModel","ngModelChange"],["imerominiaTaksidiouInput","ngModel"],["name","ora","placeholder","\u03a9\u03a9:\u039b\u039b","hourFormat","24","appendTo","body","required","",3,"baseZIndex","timeOnly","showIcon","ngModel","ngModelChange"],["oraInput","ngModel"],["name","theseis","placeholder","1","type","number","min","1","max","20","required","",1,"form-control",3,"ngModel","ngModelChange"],["theseisInput","ngModel"],[1,"form-group","col-12"],["name","scholia","placeholder","\u03c0.\u03c7. \u039c\u03ac\u03c1\u03ba\u03b1 \u03b1\u03c5\u03c4\u03bf\u03ba\u03b9\u03bd\u03ae\u03c4\u03bf\u03c5, stopovers \u03ba\u03c4\u03bb\u03c0","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-buttons","d-flex","flex-wrap"],["type","button",1,"btn","btn-primary","mr-1",3,"click"],["aria-hidden","true",1,"far","fa-save","fa-fw"],[4,"ngIf"],["type","button",1,"btn","btn-warning","text-white",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"]],template:function(e,i){1&e&&(c._UZ(0,"lib-egr-loading",0),c.YNc(1,ie,52,39,"form",1)),2&e&&(c.Q6J("condition",i.isLoading)("customClass","egr-load-small"),c.xp6(1),c.Q6J("ngIf",!i.isLoading))},directives:[n.IE,u.O5,q._Y,q.JL,q.F,G,x.f,q.Q7,q.JJ,q.On,q.qQ,q.Fd,q.wV,q.Fj],encapsulation:2,changeDetection:0}),e})();function oe(e,i){1&e&&(c.TgZ(0,"tr"),c.TgZ(1,"th",11),c._uU(2,"\u0397\u03bc. & \u038f\u03c1\u03b1 \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),c.qZA(),c.TgZ(3,"th",11),c._uU(4,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),c.qZA(),c.TgZ(5,"th",11),c._uU(6,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),c.qZA(),c.TgZ(7,"th",12),c._uU(8,"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u0398\u03ad\u03c3\u03b5\u03b9\u03c2"),c.qZA(),c.TgZ(9,"th",13),c._uU(10,"\xa0"),c.qZA(),c.qZA())}function se(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td",11),c.TgZ(2,"span",14),c._uU(3,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),c.qZA(),c._uU(4),c.ALo(5,"date"),c.ALo(6,"date"),c.qZA(),c.TgZ(7,"td",11),c.TgZ(8,"span",14),c._uU(9,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),c.qZA(),c._uU(10),c.qZA(),c.TgZ(11,"td",11),c.TgZ(12,"span",14),c._uU(13,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),c.qZA(),c._uU(14),c.qZA(),c.TgZ(15,"td",15),c.TgZ(16,"span",14),c._uU(17,"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u0398\u03ad\u03c3\u03b5\u03b9\u03c2"),c.qZA(),c._uU(18),c.qZA(),c.TgZ(19,"td",16),c.TgZ(20,"span",14),c._uU(21,"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"),c.qZA(),c.TgZ(22,"button",17),c.NdJ("click",function(){const i=c.CHM(e).$implicit;return c.oxw(2).onDiadromiRowClicked(i)}),c._UZ(23,"i",18),c.qZA(),c.TgZ(24,"button",19),c.NdJ("click",function(){const i=c.CHM(e).$implicit,t=c.oxw(2);return t.isModalViewOpen=!1,t.isModalDeleteOpen=!0,t.selectedModel=i}),c._UZ(25,"i",20),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=i.$implicit;c.xp6(4),c.AsE(" ",c.xi3(5,5,e.imerominiaTaksidiou,"dd/LL/yyyy"),", ",c.xi3(6,8,e.imerominiaTaksidiou,"shortTime")," "),c.xp6(6),c.hij(" ",e.apoPlirisPerigrafi," "),c.xp6(4),c.hij(" ",e.prosPlirisPerigrafi," "),c.xp6(4),c.hij(" ",e.theseis," ")}}function ae(e,i){if(1&e&&(c.TgZ(0,"p-table",8),c.YNc(1,oe,11,0,"ng-template",9),c.YNc(2,se,26,11,"ng-template",10),c.qZA()),2&e){const e=c.oxw();c.Q6J("value",e.model)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",e.isLoading)("totalRecords",null==e.model?null:e.model.length)}}function ne(e,i){1&e&&(c.TgZ(0,"p"),c._uU(1,"\u03a0\u03c1\u03cc\u03ba\u03b5\u03b9\u03c4\u03b1\u03b9 \u03bd\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03ac\u03c8\u03b5\u03c4\u03b5 \u03c4\u03b7\u03bd \u03ba\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03ae \u03c3\u03b1\u03c2!"),c._UZ(2,"br"),c._uU(3,"\u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5; "),c.qZA())}function re(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"p-footer"),c.TgZ(1,"button",21),c.NdJ("click",function(){return c.CHM(e),c.oxw().onConfirmDeleteClicked()}),c._UZ(2,"span",20),c._uU(3," \u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae"),c.qZA(),c.TgZ(4,"button",22),c.NdJ("click",function(){return c.CHM(e),c.oxw()._closeModals()}),c._UZ(5,"span",23),c._uU(6," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7"),c.qZA(),c.qZA()}}function le(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"app-diadromi-detail",24),c.NdJ("closeModal",function(){return c.CHM(e),c.oxw()._closeModals()})("listHasChanged",function(){c.CHM(e);const i=c.oxw();return i._getListData(i.searchModelToPost)}),c.qZA()}if(2&e){const e=c.oxw();c.Q6J("model",e.selectedModel)}}let de=(()=>{class e{constructor(e,i,t,o){this.carPoolingSrv=e,this.toasterSrv=i,this.router=t,this.cdr=o,this.isModalViewOpen=!1,this.isModalDeleteOpen=!1,this.isLoading=!1,this.modalTitle=""}ngOnInit(){this.searchModelToPost=new T,this.searchModelToPost.onlyMyDiadromes=!0,this.searchModelToPost.start=0,this.searchModelToPost.pageSize=150,this.isLoading=!0,(0,n.RA)(this.cdr),this.carPoolingSrv.Search(this.searchModelToPost).subscribe(e=>{e&&(this.model=e),this.isLoading=!1,(0,n.RA)(this.cdr)})}_getListData(e){this.isLoading=!0,(0,n.RA)(this.cdr),this.carPoolingSrv.Search(e).subscribe(e=>{e&&(this.model=e),this.isLoading=!1,(0,n.RA)(this.cdr)})}_closeModals(){setTimeout(()=>{this.isModalDeleteOpen=!1,this.isModalViewOpen=!1,this.selectedModel=null,(0,n.RA)(this.cdr)})}onBtnAddDiadromiClicked(){this.selectedModel=new b,this.modalTitle="\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u03bc\u03bf\u03c5",this.isModalViewOpen=!0,(0,n.RA)(this.cdr)}onDiadromiRowClicked(e){this.selectedModel=e,this.modalTitle="\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u039c\u03bf\u03c5 No#"+this.selectedModel.id,this.isModalViewOpen=!0,(0,n.RA)(this.cdr)}onConfirmDeleteClicked(){this.carPoolingSrv.Delete(this.selectedModel.id).subscribe(e=>{e?(this.toasterSrv.showWarning("","\u0397 \u03b4\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae \u03b4\u03b9\u03b1\u03b3\u03c1\u03ac\u03c6\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1."),this._getListData(this.searchModelToPost)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03bc\u03b5 \u03c4\u03b7 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u03c3\u03b1\u03c2."),(0,n.RA)(this.cdr)})}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(v),c.Y36(n.MJ),c.Y36(a.F0),c.Y36(c.sBO))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-my-diadromes"]],decls:11,vars:14,consts:[[1,"d-flex","justify-content-end","mb-2"],["type","button",1,"btn","btn-primary","btn-sm","mb-0",3,"click"],["aria-hidden","true",1,"fas","fa-plus","fa-fw"],[3,"condition","customClass"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords",4,"ngIf"],["appendTo","body","resizable","false","modal","true","closeOnEscape","false",3,"header","visible","draggable","closable","visibleChange","onHide"],[4,"ngIf"],[3,"model","closeModal","listHasChanged",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","header"],["pTemplate","body"],[1,"fixed-width-col-100"],[1,"fixed-width-col-60"],[1,"fixed-width-col-120"],[1,"p-column-title"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-120","text-center"],["type","button","aria-label","\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",1,"btn","btn-sm","btn-primary","m-0","mr-1",3,"click"],[1,"far","fa-edit","fa-fw"],["type","button","aria-label","\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae",1,"btn","btn-sm","btn-danger","m-0",3,"click"],[1,"far","fa-trash-alt","fa-fw"],["type","button",1,"btn","btn-primary","btn-sm","m-0","mr-1",3,"click"],["type","button",1,"btn","btn-warning","btn-sm","m-0","text-white",3,"click"],[1,"fas","fa-times","fa-fw"],[3,"model","closeModal","listHasChanged"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"button",1),c.NdJ("click",function(){return i.onBtnAddDiadromiClicked()}),c._UZ(2,"span",2),c._uU(3," \u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u039c\u03bf\u03c5"),c.qZA(),c.qZA(),c._UZ(4,"lib-egr-loading",3),c.YNc(5,ae,3,9,"p-table",4),c.TgZ(6,"p-dialog",5),c.NdJ("visibleChange",function(e){return i.isModalDeleteOpen&&(i.selectedModel=e)})("onHide",function(){return i._closeModals()}),c.YNc(7,ne,4,0,"p",6),c.YNc(8,re,7,0,"p-footer",6),c.qZA(),c.TgZ(9,"p-dialog",5),c.NdJ("visibleChange",function(e){return i.isModalViewOpen=e})("onHide",function(){return i._closeModals()}),c.YNc(10,le,1,1,"app-diadromi-detail",7),c.qZA()),2&e&&(c.xp6(4),c.Q6J("condition",!i.model||i.isLoading)("customClass","egr-load-small"),c.xp6(1),c.Q6J("ngIf",i.model&&!i.isLoading),c.xp6(1),c.Q6J("header","\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u039c\u03bf\u03c5 No#"+(null==i.selectedModel?null:i.selectedModel.id))("visible",i.isModalDeleteOpen&&i.selectedModel)("draggable",!1)("closable",!0),c.xp6(1),c.Q6J("ngIf",i.isModalDeleteOpen&&i.selectedModel),c.xp6(1),c.Q6J("ngIf",i.isModalDeleteOpen&&i.selectedModel),c.xp6(1),c.Q6J("header",i.modalTitle)("visible",i.isModalViewOpen)("draggable",!1)("closable",!0),c.xp6(1),c.Q6J("ngIf",i.isModalViewOpen&&i.selectedModel))},directives:[n.IE,u.O5,B.V,C.iA,A.jx,A.$_,te],pipes:[u.uU],encapsulation:2,changeDetection:0}),e})();var ce=t(29790),pe=t(41886);function he(e,i){1&e&&c._UZ(0,"p-message",4)}function ue(e,i){if(1&e&&(c.TgZ(0,"p-panel",7),c.ALo(1,"translate"),c._UZ(2,"div",8),c.ALo(3,"decodeHtmlString"),c.qZA()),2&e){const e=c.oxw(2);c.Q6J("header",c.lcZ(1,4,null==e.translation?null:e.translation.egwebapps.information))("styleClass","tab-msg mb-3")("toggleable",!0),c.xp6(2),c.Q6J("innerHTML",c.lcZ(3,6,e.tabMsg),c.oJD)}}function me(e,i){1&e&&c._UZ(0,"app-diadromes-list")}function ge(e,i){1&e&&c._UZ(0,"app-my-diadromes")}function fe(e,i){if(1&e){const e=c.EpF();c.TgZ(0,"p-tabView",9),c.NdJ("onChange",function(i){return c.CHM(e),c.oxw(2).onTabChanged(i)}),c.TgZ(1,"p-tabPanel",10),c.YNc(2,me,1,0,"ng-template",11),c.qZA(),c.TgZ(3,"p-tabPanel",12),c.YNc(4,ge,1,0,"ng-template",11),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.Q6J("activeIndex",e.index)}}function Ze(e,i){if(1&e&&(c.ynx(0),c.YNc(1,ue,4,8,"p-panel",5),c.YNc(2,fe,5,1,"p-tabView",6),c.BQk()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.isAuthorized&&e.tabMsg&&""!==e.tabMsg),c.xp6(1),c.Q6J("ngIf",e.isAuthorized)}}const Ae=[{path:"",component:(()=>{class e{constructor(e,i,t,o,s){this.oidcSecuritySrv=e,this.appCacheSrv=i,this.location=t,this.router=o,this.route=s,this.onDestroy=new r.xQ,this.afmNotFound=!1,this.index=0,this.selectedLang="el"}ngOnInit(){this.appCacheSrv.translation$.pipe((0,l.R)(this.onDestroy)).subscribe(e=>{e&&(this.translation=e)}),this.appCacheSrv.selectedLang$.pipe((0,l.R)(this.onDestroy)).subscribe(e=>{e&&(this.selectedLang=e)}),this.oidcSecuritySrv.isAuthenticated$.pipe((0,d.w)(e=>(this.isAuthorized=null!=e&&e.isAuthenticated,this.appCacheSrv.selectedLang$)),(0,d.w)(e=>(e&&(this.selectedLang=e),1==AppConfOptions.multilingual&&"el"!=this.selectedLang&&AppConfOptions.carpooling_tab_info_en&&""!=AppConfOptions.carpooling_tab_info_en?this.tabMsg=AppConfOptions.carpooling_tab_info_en:AppConfOptions.carpooling_tab_info&&""!=AppConfOptions.carpooling_tab_info&&"el"==this.selectedLang&&(this.tabMsg=AppConfOptions.carpooling_tab_info),this.oidcSecuritySrv.userData$)),(0,l.R)(this.onDestroy)).subscribe(e=>{e&&e.userData&&(!e.userData.tin||(0,n.Ew)(e.userData.tin))&&1==AppConfOptions.carpooling_afm_required&&(this.afmNotFound=!0)}),this.index="my-diadromes"===this.route.children[0].snapshot.url[0].path?1:0}ngOnDestroy(){this.onDestroy.next(null)}onTabChanged(e){this.router.navigate(0==e.index?["./list"]:["./my-diadromes"],{relativeTo:this.route})}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(p.J_),c.Y36(h.g),c.Y36(u.Ye),c.Y36(a.F0),c.Y36(a.gz))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-carpooling-layout"]],inputs:{isAuthorized:"isAuthorized"},decls:5,vars:4,consts:[[1,"module-title"],["severity","warn","text","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd.",4,"ngIf"],[3,"afmNotFound"],[4,"ngIf"],["severity","warn","text","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd."],[3,"header","styleClass","toggleable",4,"ngIf"],[3,"activeIndex","onChange",4,"ngIf"],[3,"header","styleClass","toggleable"],[3,"innerHTML"],[3,"activeIndex","onChange"],["header","\u039b\u03af\u03c3\u03c4\u03b1 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ce\u03bd"],["pTemplate","content"],["header","\u039f\u03b9 \u03b4\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ad\u03c2 \u03bc\u03bf\u03c5"]],template:function(e,i){1&e&&(c.TgZ(0,"h3",0),c._uU(1),c.qZA(),c.YNc(2,he,1,0,"p-message",1),c._UZ(3,"app-afmnotfound",2),c.YNc(4,Ze,3,2,"ng-container",3)),2&e&&(c.xp6(1),c.Oqu(null==i.translation?null:i.translation.menu.rantevouMenuItem),c.xp6(1),c.Q6J("ngIf",!i.isAuthorized),c.xp6(1),c.Q6J("afmNotFound",i.afmNotFound),c.xp6(1),c.Q6J("ngIf",!i.afmNotFound))},directives:[u.O5,m.d,g.q,f.s,Z.xf,Z.x4,A.jx,z,de],pipes:[ce.X$,pe.o],encapsulation:2}),e})(),children:[{path:"",pathMatch:"full",redirectTo:"list"},{path:"list",component:z},{path:"my-diadromes",component:de}]}];let Te=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[a.Bz.forChild(Ae)],a.Bz]}),e})(),be=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[v],imports:[[Te,s.m,o.IJ]]}),e})()}}]);