"use strict";(self.webpackChunkegritos_group_eg_web_apps=self.webpackChunkegritos_group_eg_web_apps||[]).push([[627],{15627:function(t,i,e){e.r(i),e.d(i,{ShdeModule:function(){return Ut}});var a=e(29790),s=e(91841),n=e(43645),o=e(88052),r=e(37716);let l=(()=>{class t{intercept(t,i){return t=t.clone({setHeaders:{"Application-Key":"aitiseis-politon"}}),i.handle(t)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();var c=e(54655),d=e(68214),p=e(79765),h=e(46782),g=e(87622),u=e(12622),m=e(38583),f=e(3379),Z=e(24020),A=e(41886);function x(t,i){if(1&t&&(r._UZ(0,"p-message",3),r.ALo(1,"translate")),2&t){const t=r.oxw();r.Q6J("styleClass","mb-2")("text",r.lcZ(1,2,null==t.translation?null:t.translation.egwebapps.egwebappsLoginMesg))}}function b(t,i){if(1&t&&(r.TgZ(0,"p-panel",4),r.ALo(1,"translate"),r._UZ(2,"div",5),r.ALo(3,"decodeHtmlString"),r.qZA()),2&t){const t=r.oxw();r.Q6J("header",r.lcZ(1,4,null==t.translation?null:t.translation.egwebapps.information))("styleClass","tab-msg mb-3")("toggleable",!0),r.xp6(2),r.Q6J("innerHTML",r.lcZ(3,6,t.tabMsg),r.oJD)}}function w(t,i){1&t&&(r.TgZ(0,"div",6),r._UZ(1,"router-outlet"),r.qZA())}let q=(()=>{class t{constructor(t,i,e,a,s,n){this.oidcSecuritySrv=t,this.appCacheSv=i,this.location=e,this.cdr=a,this.router=s,this.route=n,this.onDestroy=new p.xQ,this.index=0,this.selectedLang="el"}ngOnInit(){this.appCacheSv.translation$.pipe((0,h.R)(this.onDestroy)).subscribe(t=>{t&&(this.translation=t,(0,d.RA)(this.cdr))}),this.appCacheSv.selectedLang$.pipe((0,h.R)(this.onDestroy)).subscribe(t=>{t&&(this.selectedLang=t),1==AppConfOptions.multilingual&&"el"!=this.selectedLang&&AppConfOptions.shde_tab_info_en&&""!=AppConfOptions.shde_tab_info_en?this.tabMsg=AppConfOptions.shde_tab_info_en:AppConfOptions.shde_tab_info&&""!=AppConfOptions.shde_tab_info&&"el"==this.selectedLang&&(this.tabMsg=AppConfOptions.shde_tab_info),(0,d.RA)(this.cdr)}),this.oidcSecuritySrv.isAuthenticated$.subscribe(t=>{this.isAuthorized=t})}ngOnDestroy(){this.onDestroy.next(null)}onTabChanged(t){}}return t.\u0275fac=function(i){return new(i||t)(r.Y36(g.J_),r.Y36(u.g),r.Y36(m.Ye),r.Y36(r.sBO),r.Y36(c.F0),r.Y36(c.gz))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-shde-layout"]],inputs:{isAuthorized:"isAuthorized"},decls:3,vars:3,consts:[["severity","warn",3,"styleClass","text",4,"ngIf"],[3,"header","styleClass","toggleable",4,"ngIf"],["class","benefits-container bg-white p-2",4,"ngIf"],["severity","warn",3,"styleClass","text"],[3,"header","styleClass","toggleable"],[3,"innerHTML"],[1,"benefits-container","bg-white","p-2"]],template:function(t,i){1&t&&(r.YNc(0,x,2,4,"p-message",0),r.YNc(1,b,4,8,"p-panel",1),r.YNc(2,w,2,0,"div",2)),2&t&&(r.Q6J("ngIf",!i.isAuthorized),r.xp6(1),r.Q6J("ngIf",i.isAuthorized&&i.tabMsg&&""!=i.tabMsg),r.xp6(1),r.Q6J("ngIf",i.isAuthorized))},directives:[m.O5,f.q,Z.s,c.lC],pipes:[a.X$,A.o],encapsulation:2,changeDetection:0}),t})();class y{constructor(){this.DiadikasiaId=-1,this.DiadikasiaProtypoEggrafoId=-1,this.Description="\u0386\u03bb\u03bb\u03b1 \u0388\u03b3\u03b3\u03c1\u03b1\u03c6\u03b1",this.sinimena=[]}}class T{constructor(){this.Start=0,this.Length=10,this.Order=[],this.Columns=[]}}class v{constructor(){this.IsPublicInUser=!0}}var D=e(88002);let _=(()=>{class t extends d.FD{constructor(t,i){super(t,i),this.http=t,this.exceptionSrv=i,this.apiUrl=AppConfOptions.shde_api+"api/"}getDiadikasiaById(t){return this.http.get(`${this.apiUrl}DiadikasiaData/${t}`).pipe((0,D.U)(t=>t),this.catchHttpErrors())}getAvailableBooks(){return this.http.get(`${this.apiUrl}Relatives/GetAvailableBooks`)}getAvailableDiadikasies(){return this.http.get(`${this.apiUrl}Politis/GetDiadikasiesPolti`)}createAitisiPoliti(t){return this.http.post(`${this.apiUrl}Politis/CreateAitisiPoliti`,t).pipe((0,D.U)(t=>t),this.catchHttpErrors())}ypovoliAitisisPoliti(t){return this.http.get(`${this.apiUrl}Politis/YpovoliAitisisPoliti/${t}`).pipe((0,D.U)(t=>t),this.catchHttpErrors())}akyrosiAitisisPoliti(t){return this.http.get(`${this.apiUrl}Politis/AkyrosiAitisisPoliti/${t}`).pipe((0,D.U)(t=>t),this.catchHttpErrors())}getCommentsPoliti(t){return this.http.post(`${this.apiUrl}Politis/GetCommentsPoliti`,t).pipe((0,D.U)(t=>t),this.catchHttpErrors())}createComment(t){return this.http.post(`${this.apiUrl}Politis/CreateComment`,t).pipe((0,D.U)(t=>t),this.catchHttpErrors())}deleteComment(t){return this.http.post(`${this.apiUrl}Politis/DeleteComment/${t}`,t).pipe((0,D.U)(t=>t),this.catchHttpErrors())}uploadFile(t,i,e){let a;a=e?`${this.apiUrl}Politis/SinimenoUpload?ProtypoEggrafoId=${e}&EggrafoId=${i}`:`${this.apiUrl}Politis/SinimenoUpload?EggrafoId=${i}`;let n=new s.WM;return n.append("Content-Type","multipart/form-data"),n.append("Accept","application/json"),this.http.post(a,t,{headers:n}).pipe((0,D.U)(t=>t),this.catchHttpErrors())}deleteFile(t){let i;return i=`${this.apiUrl}Politis/SinimenoDelete/${t}`,this.http.post(i,t).pipe((0,D.U)(t=>t),this.catchHttpErrors())}getProtypoEggrafoDiadikasia(t){let i=`${this.apiUrl}Politis/GetSinnimenoProtypoDiadikasias/${t}`;return(new s.WM).append("Accept","application/octet-stream"),this.http.get(i,{responseType:"blob"}).pipe(this.catchHttpErrors())}getSinnimeno(t){let i=`${this.apiUrl}Politis/GetSinnimeno/${t}`;return(new s.WM).append("Accept","application/octet-stream"),this.http.get(i,{responseType:"blob"}).pipe(this.catchHttpErrors())}getSinimenaList(t){return this.http.get(`${this.apiUrl}Politis/SinimenaList/${t}`).pipe((0,D.U)(t=>t),this.catchHttpErrors())}getAitisiPoliti(t){return this.http.get(`${this.apiUrl}Politis/GetAitisiPoliti/${t}`).pipe((0,D.U)(t=>t),this.catchHttpErrors())}getMyAitiseis(t){return this.http.post(`${this.apiUrl}Politis/GetMyAitiseis`,t).pipe((0,D.U)(t=>t),this.catchHttpErrors())}}return t.\u0275fac=function(i){return new(i||t)(r.LFG(s.eN),r.LFG(d.Hm))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();var C=e(3679),U=e(88598),L=e(84439),k=e(33013);const I=["searchAitisisForm"];function S(t,i){if(1&t&&(r.TgZ(0,"div",30),r._UZ(1,"i",31),r.TgZ(2,"span",32),r._uU(3),r.ALo(4,"translate"),r.qZA(),r._UZ(5,"i",33),r.TgZ(6,"span"),r._uU(7),r.ALo(8,"translate"),r.qZA(),r.qZA()),2&t){const t=r.oxw(3);r.xp6(3),r.Oqu(r.lcZ(4,2,null==t.translation?null:t.translation.shde.statusProcessing)),r.xp6(4),r.Oqu(r.lcZ(8,4,null==t.translation?null:t.translation.shde.statusSubmitted))}}function M(t,i){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"th",34),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"th",34),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"th",35),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"th",36),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"th",36),r._uU(14),r.ALo(15,"translate"),r.qZA(),r.TgZ(16,"th",34),r._uU(17),r.ALo(18,"translate"),r.qZA(),r.TgZ(19,"th",34),r._uU(20),r.ALo(21,"translate"),r.qZA(),r.TgZ(22,"th",37),r._uU(23,"\xa0"),r.qZA(),r.qZA()),2&t){const t=r.oxw(3);r.xp6(2),r.Oqu(r.lcZ(3,7,null==t.translation?null:t.translation.egwebapps.egrStatus)),r.xp6(3),r.Oqu(r.lcZ(6,9,null==t.translation?null:t.translation.shde.protocolNbr)),r.xp6(3),r.Oqu(r.lcZ(9,11,null==t.translation?null:t.translation.shde.applicationNbr)),r.xp6(3),r.Oqu(r.lcZ(12,13,null==t.translation?null:t.translation.shde.trafficStatus)),r.xp6(3),r.Oqu(r.lcZ(15,15,null==t.translation?null:t.translation.shde.process)),r.xp6(3),r.Oqu(r.lcZ(18,17,null==t.translation?null:t.translation.shde.creationDate)),r.xp6(3),r.Oqu(r.lcZ(21,19,null==t.translation?null:t.translation.shde.protocolDate))}}function O(t,i){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td",38),r.TgZ(2,"span",39),r._uU(3),r.ALo(4,"translate"),r.qZA(),r._UZ(5,"span",40),r.qZA(),r.TgZ(6,"td",41),r.TgZ(7,"span",39),r._uU(8),r.ALo(9,"translate"),r.qZA(),r._uU(10),r.qZA(),r.TgZ(11,"td",42),r.TgZ(12,"span",39),r._uU(13),r.ALo(14,"translate"),r.qZA(),r._uU(15),r.qZA(),r.TgZ(16,"td",36),r.TgZ(17,"span",39),r._uU(18),r.ALo(19,"translate"),r.qZA(),r._uU(20),r.qZA(),r.TgZ(21,"td",36),r.TgZ(22,"span",39),r._uU(23),r.ALo(24,"translate"),r.qZA(),r._uU(25),r.qZA(),r.TgZ(26,"td",41),r.TgZ(27,"span",39),r._uU(28),r.ALo(29,"translate"),r.qZA(),r._uU(30),r.ALo(31,"date"),r.qZA(),r.TgZ(32,"td",41),r.TgZ(33,"span",39),r._uU(34),r.ALo(35,"translate"),r.qZA(),r._uU(36),r.ALo(37,"date"),r.qZA(),r.TgZ(38,"td",43),r.TgZ(39,"a",44),r._UZ(40,"span",45),r.qZA(),r.qZA(),r.qZA()),2&t){const t=i.$implicit,e=r.oxw(3);r.xp6(3),r.Oqu(r.lcZ(4,16,null==e.translation?null:e.translation.egwebapps.egrStatus)),r.xp6(2),r.Q6J("innerHTML",e._getKatastasiIcon(t.AAProtocol,t.Katastasi),r.oJD),r.xp6(3),r.Oqu(r.lcZ(9,18,null==e.translation?null:e.translation.shde.protocolNbr)),r.xp6(2),r.AsE(" ",t.AAProtocol," ",t.Etos?"/ "+t.Etos:""," "),r.xp6(3),r.Oqu(r.lcZ(14,20,null==e.translation?null:e.translation.shde.applicationNbr)),r.xp6(2),r.hij(" ",t.AitisiId," "),r.xp6(3),r.Oqu(r.lcZ(19,22,null==e.translation?null:e.translation.shde.trafficStatus)),r.xp6(2),r.hij(" ",t.WorkflowPerigrafi," "),r.xp6(3),r.Oqu(r.lcZ(24,24,null==e.translation?null:e.translation.shde.process)),r.xp6(2),r.hij(" ",t.Diadikasia," "),r.xp6(3),r.Oqu(r.lcZ(29,26,null==e.translation?null:e.translation.shde.creationDate)),r.xp6(2),r.hij(" ",r.xi3(31,28,t.ImerominiaDimiourgias,"dd/LL/yyyy")," "),r.xp6(4),r.Oqu(r.lcZ(35,31,null==e.translation?null:e.translation.shde.protocolDate)),r.xp6(2),r.hij(" ",r.xi3(37,33,t.ImerominiaProtokollisis,"dd/LL/yyyy")," "),r.xp6(3),r.MGl("routerLink","/shde-app/aitisi/",t.AitisiId,"")}}function E(t,i){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td",46),r.TgZ(2,"strong"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r._uU(5),r.qZA(),r.qZA()),2&t){const t=r.oxw(3);r.xp6(3),r.hij("",r.lcZ(4,2,null==t.translation?null:t.translation.egwebapps.egrTotal),":"),r.xp6(2),r.hij(" ",null==t.aitiseisList.Data?null:t.aitiseisList.Data.length," ")}}function J(t,i){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td",46),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&t){const t=r.oxw(3);r.xp6(2),r.hij(" ",r.lcZ(3,1,null==t.translation?null:t.translation.egwebapps.egrNoResultsFound)," ")}}function N(t,i){if(1&t&&(r.TgZ(0,"p-table",24),r.YNc(1,S,9,6,"ng-template",25),r.YNc(2,M,24,21,"ng-template",26),r.YNc(3,O,41,36,"ng-template",27),r.YNc(4,E,6,4,"ng-template",28),r.YNc(5,J,4,3,"ng-template",29),r.qZA()),2&t){const t=r.oxw(2);r.Q6J("value",t.aitiseisList.Data)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",t.isLoading)("totalRecords",null==t.aitiseisList.Data?null:t.aitiseisList.Data.length)}}const P=function(){return{width:"100%"}};function Y(t,i){if(1&t){const t=r.EpF();r.ynx(0),r.TgZ(1,"div",2),r.TgZ(2,"a",3),r._UZ(3,"span",4),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.TgZ(6,"p-panel",5),r.ALo(7,"translate"),r.TgZ(8,"form",6,7),r.TgZ(10,"div",8),r.TgZ(11,"div",9),r.TgZ(12,"label"),r._uU(13),r.ALo(14,"translate"),r.qZA(),r.TgZ(15,"p-calendar",10),r.NdJ("ngModelChange",function(i){return r.CHM(t),r.oxw().filters.imerominiaApo=i}),r.qZA(),r.qZA(),r.TgZ(16,"div",9),r.TgZ(17,"label"),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.TgZ(20,"p-calendar",11),r.NdJ("ngModelChange",function(i){return r.CHM(t),r.oxw().filters.imerominiaEos=i}),r.qZA(),r.qZA(),r.TgZ(21,"div",9),r.TgZ(22,"label"),r._uU(23),r.ALo(24,"translate"),r.qZA(),r.TgZ(25,"select",12),r.NdJ("ngModelChange",function(i){return r.CHM(t),r.oxw().filters.katastasi=i}),r.TgZ(26,"option",13),r._uU(27),r.ALo(28,"translate"),r.qZA(),r.TgZ(29,"option",14),r._uU(30),r.ALo(31,"translate"),r.qZA(),r.TgZ(32,"option",15),r._uU(33),r.ALo(34,"translate"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(35,"div",9),r.TgZ(36,"label"),r._uU(37),r.ALo(38,"translate"),r.qZA(),r.TgZ(39,"input",16),r.NdJ("ngModelChange",function(i){return r.CHM(t),r.oxw().filters.madDiadikasias=i}),r.qZA(),r.qZA(),r.TgZ(40,"div",9),r.TgZ(41,"label"),r._uU(42),r.ALo(43,"translate"),r.qZA(),r.TgZ(44,"input",17),r.NdJ("ngModelChange",function(i){return r.CHM(t),r.oxw().filters.aaProtocol=i}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(45,"div",18),r.TgZ(46,"button",19),r.NdJ("click",function(){return r.CHM(t),r.oxw().onSearch()}),r._UZ(47,"i",20),r._uU(48),r.ALo(49,"translate"),r.qZA(),r.TgZ(50,"button",21),r.NdJ("click",function(){return r.CHM(t),r.oxw().onClearFilters()}),r._UZ(51,"i",22),r._uU(52),r.ALo(53,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(54,N,6,9,"p-table",23),r.BQk()}if(2&t){const t=r.oxw();r.xp6(4),r.hij(" ",r.lcZ(5,41,null==t.translation?null:t.translation.shde.newApplication),""),r.xp6(2),r.Q6J("header",r.lcZ(7,43,null==t.translation?null:t.translation.egwebapps.egrSearchFilters))("styleClass","mb-3"),r.xp6(7),r.Oqu(r.lcZ(14,45,null==t.translation?null:t.translation.shde.dateFrom)),r.xp6(2),r.Akn(r.DdM(65,P)),r.Q6J("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.yearRange)("showIcon",!0)("showButtonBar",!0)("readonlyInput",!0)("ngModel",t.filters.imerominiaApo),r.xp6(3),r.Oqu(r.lcZ(19,47,null==t.translation?null:t.translation.shde.dateTo)),r.xp6(2),r.Akn(r.DdM(66,P)),r.Q6J("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.yearRange)("showIcon",!0)("showButtonBar",!0)("readonlyInput",!0)("ngModel",t.filters.imerominiaEos),r.xp6(3),r.Oqu(r.lcZ(24,49,null==t.translation?null:t.translation.egwebapps.egrStatus)),r.xp6(2),r.Q6J("ngModel",t.filters.katastasi),r.xp6(2),r.Oqu(r.lcZ(28,51,null==t.translation?null:t.translation.shde.statusNew)),r.xp6(3),r.Oqu(r.lcZ(31,53,null==t.translation?null:t.translation.shde.statusProcessing)),r.xp6(3),r.Oqu(r.lcZ(34,55,null==t.translation?null:t.translation.shde.statusCompleted)),r.xp6(4),r.Oqu(r.lcZ(38,57,null==t.translation?null:t.translation.shde.protocolUID)),r.xp6(2),r.Q6J("ngModel",t.filters.madDiadikasias),r.xp6(3),r.Oqu(r.lcZ(43,59,null==t.translation?null:t.translation.shde.protocolNbr)),r.xp6(2),r.Q6J("ngModel",t.filters.aaProtocol),r.xp6(4),r.hij(" ",r.lcZ(49,61,null==t.translation?null:t.translation.egwebapps.egrSearchBtn)," "),r.xp6(4),r.hij(" ",r.lcZ(53,63,null==t.translation?null:t.translation.egwebapps.egrClearBtn)," "),r.xp6(2),r.Q6J("ngIf",t.aitiseisList&&!t.isLoading)}}let F=(()=>{class t{constructor(t,i,e,a,s){this.toasterSrv=t,this.oidcSecuritySrv=i,this.shdeService=e,this.appCacheSv=a,this.cdr=s,this.filters={},this.yearRange=(0,d.ug)(50,50),this.isLoading=!1,this.isFormSubmitted=!1,this.onDestroy=new p.xQ}ngOnInit(){this.appCacheSv.translation$.pipe((0,h.R)(this.onDestroy)).subscribe(t=>{t&&(this.translation=t,(0,d.RA)(this.cdr))}),this.isLoading=!0,this.request=new T,this.request.Order=[{ColumnName:"DateCreated",Dir:"desc"}],(0,d.RA)(this.cdr),this.shdeService.getMyAitiseis(this.request).subscribe(t=>{t&&(this.aitiseisList=t),this.isLoading=!1,(0,d.RA)(this.cdr)})}ngOnDestroy(){this.onDestroy.next(null)}onSearch(){this.isFormSubmitted=!0,this.formErrorsMsg=null,(0,d.RA)(this.cdr),this.isFormSubmitted&&this.searchAitisisForm.valid&&(this.isLoading=!0,this.request.Columns=this.getDefaultSearchColumns(),(0,d.RA)(this.cdr),this.shdeService.getMyAitiseis(this.request).subscribe(t=>{t&&(this.aitiseisList=t),this.isLoading=!1,(0,d.RA)(this.cdr)}))}onClearFilters(){this.filters={},this.request.Columns=this.getDefaultSearchColumns(),this.onSearch()}_getKatastasiIcon(t,i){return null===t&&1==i?'<i class="fas fa-pencil-alt mr-1" style="color: orangered;"></i>':""!=t&&1!=i?"<i class='fas fa-paper-plane mr-1' style='color: green;'></i>":void 0}getDefaultSearchColumns(){return[this.filters.imerominiaApo|this.filters.imerominiaEos?{ColumnName:"Eis.dHmProtokollisis",Value:(0,d.UW)(this.filters.imerominiaApo)+"~"+(0,d.UW)(this.filters.imerominiaEos),Regex:!1}:null,this.filters.aaProtocol?{ColumnName:"nAA.Search",Value:this.filters.aaProtocol,Regex:!1}:null,this.filters.madDiadikasias?{ColumnName:"AitisiId",Value:this.filters.madDiadikasias,Regex:!1}:null,this.filters.katastasi?{ColumnName:"KatastasiAitisis",Value:this.filters.katastasi,Regex:!1}:null].filter(t=>t)}}return t.\u0275fac=function(i){return new(i||t)(r.Y36(d.MJ),r.Y36(g.J_),r.Y36(_),r.Y36(u.g),r.Y36(r.sBO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-aitiseis-list"]],viewQuery:function(t,i){if(1&t&&r.Gf(I,5),2&t){let t;r.iGM(t=r.CRH())&&(i.searchAitisisForm=t.first)}},decls:2,vars:3,consts:[[3,"condition","customClass"],[4,"ngIf"],[1,"d-flex","justify-content-end"],["routerLink","/shde-app/aitisi/0",1,"btn","btn-primary","btn-sm","mb-1"],["aria-hidden","true",1,"fas","fa-plus"],[3,"header","styleClass"],[1,"form"],["searchAitisisForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-4"],["name","imerominiaApo","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","readonlyInput","ngModel","ngModelChange"],["name","imerominiaEos","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","readonlyInput","ngModel","ngModelChange"],["name","katastasi",1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["name","maddiadikasias","placeholder","1","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","aadiadikasias","placeholder","1","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-buttons","d-flex","flex-wrap"],["type","button",1,"btn","btn-primary","btn-sm","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["type","button",1,"btn","btn-warning","btn-sm","text-white",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[1,"ui-helper-clearfix",2,"text-align","left"],[1,"fas","fa-pencil-alt","mr-1",2,"color","orangered"],[1,"mr-2"],[1,"fas","fa-paper-plane","mr-1",2,"color","green"],[1,"fixed-width-col-100"],[1,"fixed-width-col-80"],[1,"fixed-width-col-170"],[1,"fixed-width-col-40"],[1,"fixed-width-col-100","text-center","katastasi"],[1,"p-column-title"],[3,"innerHTML"],[1,"fixed-width-col-100","text-center"],[1,"fixed-width-col-80","text-center"],[1,"fixed-width-col-40","text-center"],[1,"btn","btn-sm","btn-primary","m-0",3,"routerLink"],["aria-label","\u03a0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae \u0391\u03af\u03c4\u03b7\u03c3\u03b7\u03c2",1,"far","fa-eye"],["colspan","8"]],template:function(t,i){1&t&&(r._UZ(0,"lib-egr-loading",0),r.YNc(1,Y,55,67,"ng-container",1)),2&t&&(r.Q6J("condition",i.isLoading)("customClass","egr-load-small"),r.xp6(1),r.Q6J("ngIf",!i.isLoading))},directives:[d.IE,m.O5,c.yS,Z.s,C._Y,C.JL,C.F,U.f,C.JJ,C.On,C.EJ,C.YN,C.Kr,C.Fj,L.iA,k.jx],pipes:[a.X$,m.uU],encapsulation:2,changeDetection:0}),t})();var Q=e(35746),R=e(86640);function H(t,i){if(1&t){const t=r.EpF();r.TgZ(0,"div",6),r.TgZ(1,"label"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"ng-select",10),r.NdJ("ngModelChange",function(i){return r.CHM(t),r.oxw(2).selectedDiadikasia=i})("change",function(i){return r.CHM(t),r.oxw(2).onDiadikasiaChanged(i)}),r.qZA(),r.qZA()}if(2&t){const t=r.oxw(2);r.xp6(2),r.Oqu(r.lcZ(3,3,null==t.translation?null:t.translation.shde.chooseProcess)),r.xp6(2),r.Q6J("items",t.selectedKatigoria.Diadikasies)("ngModel",t.selectedDiadikasia)}}function $(t,i){if(1&t&&(r.ynx(0),r.TgZ(1,"div",13),r.TgZ(2,"label"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r._UZ(5,"div",14),r.qZA(),r.BQk()),2&t){const t=r.oxw(3);r.xp6(3),r.Oqu(r.lcZ(4,2,null==t.translation?null:t.translation.shde.instructions)),r.xp6(2),r.Q6J("innerHtml",t.selectedDiadikasia.Simeioseis,r.oJD)}}function j(t,i){if(1&t&&(r.TgZ(0,"ul"),r._UZ(1,"li",14),r.qZA()),2&t){const t=i.$implicit;r.xp6(1),r.Q6J("innerHtml",t.Description,r.oJD)}}function K(t,i){if(1&t&&(r.ynx(0),r.TgZ(1,"div",13),r.TgZ(2,"label"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.YNc(5,j,2,1,"ul",15),r.qZA(),r.BQk()),2&t){const t=r.oxw(3);r.xp6(3),r.Oqu(r.lcZ(4,2,null==t.translation?null:t.translation.shde.docTemplates)),r.xp6(2),r.Q6J("ngForOf",t.selectedDiadikasia.ProtypaEggrafa)}}function z(t,i){if(1&t){const t=r.EpF();r.ynx(0),r.YNc(1,$,6,4,"ng-container",9),r.YNc(2,K,6,4,"ng-container",9),r.TgZ(3,"button",11),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).onCreateAitisi()}),r._UZ(4,"span",12),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.BQk()}if(2&t){const t=r.oxw(2);r.xp6(1),r.Q6J("ngIf",t.selectedDiadikasia.Simeioseis),r.xp6(1),r.Q6J("ngIf",t.selectedDiadikasia.ProtypaEggrafa),r.xp6(1),r.Q6J("disabled",t.isLoading),r.xp6(2),r.hij(" ",r.lcZ(6,4,null==t.translation?null:t.translation.shde.createAndContinue)," ")}}function B(t,i){if(1&t){const t=r.EpF();r.TgZ(0,"form",2,3),r.TgZ(2,"h4",4),r._uU(3),r.ALo(4,"translate"),r.qZA(),r._UZ(5,"hr"),r.TgZ(6,"div",5),r.TgZ(7,"div",6),r.TgZ(8,"label"),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.TgZ(11,"ng-select",7),r.NdJ("ngModelChange",function(i){return r.CHM(t),r.oxw().selectedKatigoria=i})("change",function(){return r.CHM(t),r.oxw().onKatigoriaChanged()}),r.qZA(),r.qZA(),r.YNc(12,H,5,5,"div",8),r.qZA(),r.YNc(13,z,7,6,"ng-container",9),r.qZA()}if(2&t){const t=r.oxw();r.xp6(3),r.Oqu(r.lcZ(4,6,null==t.translation?null:t.translation.shde.newApplication)),r.xp6(6),r.Oqu(r.lcZ(10,8,null==t.translation?null:t.translation.shde.chooseCategory)),r.xp6(2),r.Q6J("items",t.katigoriesDiadikasion)("ngModel",t.selectedKatigoria),r.xp6(1),r.Q6J("ngIf",t.selectedKatigoria),r.xp6(1),r.Q6J("ngIf",t.selectedKatigoria&&t.selectedDiadikasia)}}let G=(()=>{class t{constructor(t,i,e,a,s,n,o){this.toasterSrv=t,this.router=i,this.oidcSecuritySrv=e,this.appCacheSv=a,this.shdeService=s,this.cdr=n,this._parent=o,this.closeModal=new r.vpe,this.listHasChanged=new r.vpe,this.onDestroy=new p.xQ,this.isLoading=!1}ngOnInit(){this.appCacheSv.translation$.pipe((0,h.R)(this.onDestroy)).subscribe(t=>{t&&(this.translation=t,(0,d.RA)(this.cdr))}),this.isLoading=!0,(0,d.RA)(this.cdr),this.shdeService.getAvailableDiadikasies().subscribe(t=>{t&&(this.katigoriesDiadikasion=t,this.katigoriesDiadikasion&&1==this.katigoriesDiadikasion.length&&(this.selectedKatigoria=this.katigoriesDiadikasion[0]),this.model={}),this.isLoading=!1,(0,d.RA)(this.cdr)})}ngOnDestroy(){this.onDestroy.next(null)}onKatigoriaChanged(){this.selectedDiadikasia=null,(0,d.RA)(this.cdr)}onDiadikasiaChanged(t){this.model.DiadikasiaId=this.selectedKatigoria?t.Id:null,(0,d.RA)(this.cdr)}onCreateAitisi(){this.isLoading=!0,(0,d.RA)(this.cdr),this.shdeService.createAitisiPoliti(this.model).subscribe(t=>{t&&(this.toasterSrv.showWarning("",this.translation.shde.warningMsg),this.router.navigate([`/shde-app/aitisi/${t.AitisiId}`,{}]))}),this.isLoading=!1,(0,d.RA)(this.cdr)}}return t.\u0275fac=function(i){return new(i||t)(r.Y36(d.MJ),r.Y36(c.F0),r.Y36(g.J_),r.Y36(u.g),r.Y36(_),r.Y36(r.sBO),r.Y36(Q.y))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-aitisi-create"]],outputs:{closeModal:"closeModal",listHasChanged:"listHasChanged"},decls:2,vars:3,consts:[[3,"condition","customClass"],["class","form bg-white",4,"ngIf"],[1,"form","bg-white"],["mAitisiForm","ngForm"],[1,"mb-2"],[1,"row"],[1,"form-group","col-12","col-md-6"],["name","katigoriaDiadikasiasPerigrafi","bindLabel","KatigoriaDiadikasiasPerigrafi",3,"items","ngModel","ngModelChange","change"],["class","form-group col-12 col-md-6",4,"ngIf"],[4,"ngIf"],["name","diadikasia","bindLabel","Titlos",3,"items","ngModel","ngModelChange","change"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["aria-hidden","true",1,"far","fa-save","fa-fw"],[1,"form-group"],[3,"innerHtml"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(r._UZ(0,"lib-egr-loading",0),r.YNc(1,B,14,10,"form",1)),2&t&&(r.Q6J("condition",i.isLoading)("customClass","egr-load-small"),r.xp6(1),r.Q6J("ngIf",!i.isLoading))},directives:[d.IE,m.O5,C._Y,C.JL,C.F,R.w9,C.JJ,C.On,m.sg],pipes:[a.X$],encapsulation:2,changeDetection:0}),t})();var W=e(35758),X=e(25917),V=e(43190),tt=e(47268),it=e(45121);function et(t,i){if(1&t&&(r.TgZ(0,"p",16),r.TgZ(1,"strong"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r._uU(4),r.qZA()),2&t){const t=r.oxw(2);r.xp6(2),r.hij("",r.lcZ(3,2,t.translation.shde.category),":"),r.xp6(2),r.hij(" ",t.selectedKatigoria.KatigoriaDiadikasiasPerigrafi," ")}}function at(t,i){if(1&t&&(r.TgZ(0,"p",16),r.TgZ(1,"strong"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r._uU(4),r.qZA()),2&t){const t=r.oxw(2);r.xp6(2),r.hij("",r.lcZ(3,2,t.translation.shde.process),":"),r.xp6(2),r.hij(" ",t.selectedDiadikasia.Titlos," ")}}function st(t,i){if(1&t&&(r.TgZ(0,"div",21),r.TgZ(1,"label"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r._UZ(4,"div",22),r.qZA()),2&t){const t=r.oxw(2);r.xp6(2),r.Oqu(r.lcZ(3,2,t.translation.shde.instructions)),r.xp6(2),r.Q6J("innerHtml",t.selectedDiadikasia.Simeioseis,r.oJD)}}function nt(t,i){if(1&t&&(r.TgZ(0,"div",30),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&t){const t=r.oxw(3);r.xp6(2),r.Oqu(r.lcZ(3,1,t.translation.shde.requiredDocuments))}}function ot(t,i){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"th"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"th"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA()),2&t){const t=r.oxw(3);r.xp6(2),r.Oqu(r.lcZ(3,2,t.translation.shde.docTemplate)),r.xp6(3),r.Oqu(r.lcZ(6,4,t.translation.shde.files))}}function rt(t,i){if(1&t){const t=r.EpF();r.TgZ(0,"span",36),r.NdJ("click",function(){r.CHM(t);const i=r.oxw().$implicit;return r.oxw(3).onClickEggrafo(i.DiadikasiaProtypoEggrafoId)}),r._UZ(1,"i",37),r.qZA()}}function lt(t,i){if(1&t){const t=r.EpF();r.ynx(0),r.TgZ(1,"div",39),r.TgZ(2,"span",40),r.NdJ("click",function(){r.CHM(t);const i=r.oxw().$implicit;return r.oxw(4).onClickSinimeno(i.DmsId)}),r._UZ(3,"span",41),r.qZA(),r.TgZ(4,"span",42),r.NdJ("click",function(){r.CHM(t);const i=r.oxw().$implicit;return r.oxw(4).onDeleteSinimeno(i.DmsId)}),r._UZ(5,"span",43),r.qZA(),r.qZA(),r.BQk()}}function ct(t,i){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"span",38),r._uU(2),r.qZA(),r.YNc(3,lt,6,0,"ng-container",35),r.qZA()),2&t){const t=i.$implicit,e=r.oxw().$implicit,a=r.oxw(3);r.Gre("sinimeno d-flex align-items-center justify-content-between ",e.sinimena.length>1?"border-bottom":""," p-2"),r.xp6(2),r.AsE("",t.Description,"",t.Extension,""),r.xp6(1),r.Q6J("ngIf",!a.model.AAProtocol)}}function dt(t,i){if(1&t){const t=r.EpF();r.ynx(0),r.TgZ(1,"div",44),r.TgZ(2,"label",45),r._UZ(3,"span",46),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.TgZ(6,"input",47),r.NdJ("change",function(i){r.CHM(t);const e=r.oxw().$implicit;return r.oxw(3)._handleFileInput(i.target.files,e.DiadikasiaProtypoEggrafoId)}),r.qZA(),r.qZA(),r.BQk()}if(2&t){const t=r.oxw().$implicit,i=r.oxw(3);r.xp6(2),r.MGl("for","file-upload-",t.DiadikasiaProtypoEggrafoId,""),r.xp6(2),r.hij(" ",r.lcZ(5,4,i.translation.shde.addFiles)," "),r.xp6(2),r.MGl("name","file-upload-",t.DiadikasiaProtypoEggrafoId,""),r.MGl("id","file-upload-",t.DiadikasiaProtypoEggrafoId,"")}}function pt(t,i){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r.TgZ(2,"span",31),r._uU(3),r.ALo(4,"translate"),r.qZA(),r._uU(5),r.YNc(6,rt,2,0,"span",32),r.qZA(),r.TgZ(7,"td",33),r.TgZ(8,"span",31),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.YNc(11,ct,4,6,"div",34),r.YNc(12,dt,7,6,"ng-container",35),r.qZA(),r.qZA()),2&t){const t=i.$implicit,e=r.oxw(3);r.xp6(3),r.Oqu(r.lcZ(4,6,e.translation.shde.docTemplate)),r.xp6(2),r.hij(" ",t.Description," "),r.xp6(1),r.Q6J("ngIf",-1!=t.DiadikasiaId&&t.ExeiFysikoArxeio),r.xp6(3),r.Oqu(r.lcZ(10,8,e.translation.shde.files)),r.xp6(2),r.Q6J("ngForOf",t.sinimena),r.xp6(1),r.Q6J("ngIf",!e.model.AAProtocol)}}function ht(t,i){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td",48),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&t){const t=r.oxw(3);r.xp6(2),r.hij(" ",r.lcZ(3,1,t.translation.egwebapps.egrNoResultsFound)," ")}}function gt(t,i){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td",48),r.TgZ(2,"strong"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r._uU(5),r.qZA(),r.qZA()),2&t){const t=r.oxw(3);r.xp6(3),r.hij("",r.lcZ(4,2,t.translation.egwebapps.egrTotal),":"),r.xp6(2),r.hij(" ",null==t.updatedEiserxomenaData?null:t.updatedEiserxomenaData.length," ")}}function ut(t,i){if(1&t&&(r.TgZ(0,"div",30),r.TgZ(1,"span"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&t){const t=r.oxw(3);r.xp6(2),r.Oqu(r.lcZ(3,1,t.translation.shde.publishedDocuments))}}function mt(t,i){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"th"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"th"),r._uU(5,"\xa0"),r.qZA(),r.qZA()),2&t){const t=r.oxw(3);r.xp6(2),r.Oqu(r.lcZ(3,1,t.translation.shde.files))}}function ft(t,i){if(1&t){const t=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r.TgZ(4,"span",40),r.NdJ("click",function(){const i=r.CHM(t).$implicit;return r.oxw(3).onClickSinimeno(i.DmsId)}),r._UZ(5,"span",41),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=i.$implicit;r.xp6(2),r.AsE(" ",t.Description,"",t.Extension," ")}}function Zt(t,i){1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td",48),r._uU(2," \u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ad\u03c2. "),r.qZA(),r.qZA())}function At(t,i){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td",48),r.TgZ(2,"strong"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r._uU(5),r.qZA(),r.qZA()),2&t){const t=r.oxw(3);r.xp6(3),r.hij("",r.lcZ(4,2,t.translation.egwebapps.egrTotal),":"),r.xp6(2),r.hij(" ",null==t.ekserxomena?null:t.ekserxomena.length," ")}}function xt(t,i){if(1&t&&(r.TgZ(0,"div",23),r.TgZ(1,"p-table",24),r.YNc(2,nt,4,3,"ng-template",25),r.YNc(3,ot,7,6,"ng-template",26),r.YNc(4,pt,13,10,"ng-template",27),r.YNc(5,ht,4,3,"ng-template",28),r.YNc(6,gt,6,4,"ng-template",29),r.qZA(),r.TgZ(7,"p-table",24),r.YNc(8,ut,4,3,"ng-template",25),r.YNc(9,mt,6,3,"ng-template",26),r.YNc(10,ft,6,2,"ng-template",27),r.YNc(11,Zt,3,0,"ng-template",28),r.YNc(12,At,6,4,"ng-template",29),r.qZA(),r.qZA()),2&t){const t=r.oxw(2);r.xp6(1),r.Q6J("value",t.updatedEiserxomenaData)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",t.isLoading)("totalRecords",null==t.updatedEiserxomenaData?null:t.updatedEiserxomenaData.length)("styleClass","py-3"),r.xp6(6),r.Q6J("value",t.ekserxomena)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",t.isLoading)("totalRecords",null==t.ekserxomena?null:t.ekserxomena.length)("styleClass","py-3")}}function bt(t,i){1&t&&(r.TgZ(0,"div",54),r._uU(1," \u0393\u03b9\u03b1 \u03bd\u03b1 \u03c5\u03c0\u03bf\u03b2\u03ac\u03bb\u03b5\u03c4\u03b5 \u03c4\u03b7\u03bd \u03b1\u03af\u03c4\u03b7\u03c3\u03ae \u03c3\u03b1\u03c2 \u03b8\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b1\u03bd\u03b5\u03b2\u03ac\u03c3\u03b5\u03c4\u03b5 \u03c4\u03bf\u03c5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03bf\u03bd \u03ad\u03bd\u03b1 \u03b1\u03c0\u03bf \u03c4\u03b1 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03b1 \u03b4\u03b9\u03ba\u03b1\u03b9\u03bf\u03bb\u03bf\u03b3\u03b7\u03c4\u03b9\u03ba\u03ac "),r.qZA())}function wt(t,i){if(1&t){const t=r.EpF();r.TgZ(0,"button",55),r.NdJ("click",function(){return r.CHM(t),r.oxw(3).onYpovoli()}),r._UZ(1,"span",56),r._uU(2),r.ALo(3,"translate"),r.qZA()}if(2&t){const t=r.oxw(3);r.xp6(2),r.hij(" ",r.lcZ(3,1,t.translation.egwebapps.egrSubmit)," ")}}function qt(t,i){if(1&t){const t=r.EpF();r.TgZ(0,"div",49),r.YNc(1,bt,2,0,"div",50),r.YNc(2,wt,4,3,"button",51),r.TgZ(3,"button",52),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).onReturn()}),r._UZ(4,"span",53),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA()}if(2&t){const t=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!t.hasOnlyAllaEggrafa&&t.sinimena&&t.sinimena.length<1),r.xp6(1),r.Q6J("ngIf",t.hasOnlyAllaEggrafa||!t.hasOnlyAllaEggrafa&&t.sinimena&&t.sinimena.length>=1),r.xp6(3),r.hij(" ",r.lcZ(6,3,t.translation.egwebapps.egrReturn)," ")}}function yt(t,i){if(1&t&&(r.TgZ(0,"form",12,13),r.TgZ(2,"h4",3),r._uU(3),r.ALo(4,"translate"),r.qZA(),r._UZ(5,"hr"),r.TgZ(6,"div",14),r.TgZ(7,"div",15),r.TgZ(8,"p",16),r.TgZ(9,"strong"),r._uU(10),r.ALo(11,"translate"),r.qZA(),r._uU(12),r.qZA(),r.TgZ(13,"p",16),r.TgZ(14,"strong"),r._uU(15),r.ALo(16,"translate"),r.qZA(),r._uU(17),r.qZA(),r.YNc(18,et,5,4,"p",17),r.YNc(19,at,5,4,"p",17),r.qZA(),r.TgZ(20,"div",15),r.TgZ(21,"p",16),r.TgZ(22,"strong"),r._uU(23),r.ALo(24,"translate"),r.qZA(),r._uU(25),r.ALo(26,"date"),r.qZA(),r.TgZ(27,"p",16),r.TgZ(28,"strong"),r._uU(29),r.ALo(30,"translate"),r.qZA(),r._uU(31),r.ALo(32,"date"),r.qZA(),r.TgZ(33,"p",16),r.TgZ(34,"strong"),r._uU(35),r.ALo(36,"translate"),r.qZA(),r._uU(37),r.qZA(),r.qZA(),r.YNc(38,st,5,4,"div",18),r.YNc(39,xt,13,20,"div",19),r.YNc(40,qt,7,5,"div",20),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(3),r.Oqu(r.lcZ(4,16,t.translation.shde.viewApplication)),r.xp6(7),r.hij("",r.lcZ(11,18,t.translation.egwebapps.egrStatus),":"),r.xp6(2),r.hij(" ",t.model.KatastasiPerigrafi," "),r.xp6(3),r.hij("",r.lcZ(16,20,t.translation.shde.applicationNbr),":"),r.xp6(2),r.hij(" ",t.model.AitisiId," "),r.xp6(1),r.Q6J("ngIf",t.selectedKatigoria),r.xp6(1),r.Q6J("ngIf",t.selectedKatigoria),r.xp6(4),r.hij("",r.lcZ(24,22,t.translation.shde.submissionDate),":"),r.xp6(2),r.hij(" ",r.xi3(26,24,t.model.ImerominiaDimiourgias,"dd/LL/yyyy")," "),r.xp6(4),r.hij("",r.lcZ(30,27,t.translation.shde.protocolDate),":"),r.xp6(2),r.hij(" ",r.xi3(32,29,t.model.ImerominiaProtokollisis,"dd/LL/yyyy")," "),r.xp6(4),r.hij("",r.lcZ(36,32,t.translation.shde.protocolNbr),":"),r.xp6(2),r.hij(" ",t.model.AAProtocol," "),r.xp6(1),r.Q6J("ngIf",t.selectedDiadikasia&&t.selectedDiadikasia.Simeioseis),r.xp6(1),r.Q6J("ngIf",t.updatedEiserxomenaData),r.xp6(1),r.Q6J("ngIf",!t.model.AAProtocol)}}function Tt(t,i){if(1&t){const t=r.EpF();r.ynx(0),r._UZ(1,"i",60),r.TgZ(2,"span",62),r.NdJ("click",function(){r.CHM(t);const i=r.oxw().$implicit;return r.oxw(2).onDeleteComment(i.Id)}),r._UZ(3,"i",63),r.qZA(),r.BQk()}}function vt(t,i){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"div",58),r.TgZ(2,"span",59),r._uU(3),r.qZA(),r._UZ(4,"i",60),r.TgZ(5,"span"),r._uU(6),r.ALo(7,"date"),r.qZA(),r.YNc(8,Tt,4,0,"ng-container",35),r.qZA(),r.TgZ(9,"pre",61),r._uU(10),r.qZA(),r.qZA()),2&t){const t=i.$implicit;r.Gre("comment-body w-75 mb-2 p-2  rounded ",t.isUser?"bg-light":"ml-auto text-right bg-grey",""),r.xp6(1),r.Gre("comment-head d-flex align-items-center ",t.isUser?"":"justify-content-end",""),r.xp6(2),r.Oqu(t.AuthorFullname),r.xp6(3),r.Oqu(r.xi3(7,10,t.DateCreated,"dd/LL/yyyy HH:mm")),r.xp6(2),r.Q6J("ngIf",t.canDelete),r.xp6(2),r.Oqu(t.Keimeno)}}function Dt(t,i){if(1&t&&(r.TgZ(0,"div",57),r.YNc(1,vt,11,13,"div",34),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngForOf",t.comments)}}const _t=[{path:"",component:q,children:[{path:"",pathMatch:"full",redirectTo:"aitiseis"},{path:"aitiseis",component:F},{path:"aitisi/0",component:G},{path:"aitisi/0/:selecteddiadikasiaid",component:G},{path:"aitisi/:id",component:(()=>{class t{constructor(t,i,e,a,s,n,o){this.toasterSrv=t,this.oidcSecuritySrv=i,this.appCacheSv=e,this.shdeSrv=a,this.router=s,this.activatedRoute=n,this.cdr=o,this.closeModal=new r.vpe,this.listHasChanged=new r.vpe,this.commentModalOpen=!1,this.selectedDiadikasia=null,this.hasOnlyAllaEggrafa=!1,this.toCreateComment=new v,this.updatedEiserxomenaData=[],this.sinimena=[],this.eiserxomena=[],this.ekserxomena=[],this.onDestroy=new p.xQ,this.isLoading=!1,this.isCommentsLoading=!1}ngOnInit(){this.appCacheSv.translation$.pipe((0,h.R)(this.onDestroy)).subscribe(t=>{t&&(this.translation=t,(0,d.RA)(this.cdr))}),this.aitisiId=this.activatedRoute.snapshot.params.id;let t={StartIndex:0,Length:200,Filters:[{PropertyName:"EggrafoId",Filter:this.aitisiId}]};this.isLoading=!0,(0,d.RA)(this.cdr),this.oidcSecuritySrv.userData$.subscribe(t=>{t&&(this.userData=t),(0,d.RA)(this.cdr)}),(0,W.D)([this.shdeSrv.getAitisiPoliti(this.aitisiId),this.shdeSrv.getAvailableDiadikasies(),this.shdeSrv.getSinimenaList(this.aitisiId),this.shdeSrv.getCommentsPoliti(t)]).subscribe(t=>{t&&(this.model=t[0]?t[0]:null,this.searchKatigoria=t[1]?t[1]:null,this.sinimena=t[2]?t[2]:null,this.comments=t[3]?this._prepeareComments(t[3]):null,this.searchKatigoria.some(t=>t.Diadikasies.find(t=>t.Id==this.model.DiadikasiaId))&&(this.selectedKatigoria=this.searchKatigoria.find(t=>t.Diadikasies.find(t=>t.Id==this.model.DiadikasiaId)),this.selectedKatigoria.Diadikasies.some(t=>t.Id==this.model.DiadikasiaId)&&(this.selectedDiadikasia=this.selectedKatigoria.Diadikasies.find(t=>t.Id==this.model.DiadikasiaId)),this.sinimena&&(this.eiserxomena=this.sinimena.filter(t=>1==t.SinimenaDirection),this.ekserxomena=this.sinimena.filter(t=>2==t.SinimenaDirection)),this.selectedDiadikasia&&(this.updatedEiserxomenaData=this._createEiserxomenaData(this.selectedDiadikasia.ProtypaEggrafa,this.eiserxomena),this.hasOnlyAllaEggrafa=1==this.selectedDiadikasia.ProtypaEggrafa.length&&-1==this.selectedDiadikasia.ProtypaEggrafa[0].DiadikasiaProtypoEggrafoId))),this.isLoading=!1,(0,d.RA)(this.cdr)})}ngOnDestroy(){this.onDestroy.next(null)}onCreateComment(){this.toCreateComment.EggrafoId=this.aitisiId,this.toCreateComment.Keimeno&&(this.isCommentsLoading=!0,(0,d.RA)(this.cdr),this.shdeSrv.createComment(this.toCreateComment).subscribe(t=>{t?(this.comments.push(t),this.toasterSrv.showSuccess("",this.translation.shde.commentCreated)):this.toasterSrv.showSuccess("",this.translation.shde.commentError),this.commentModalOpen=!1,this.isCommentsLoading=!1,(0,d.RA)(this.cdr)}))}onDeleteComment(t){t&&(this.isCommentsLoading=!0,(0,d.RA)(this.cdr),this.shdeSrv.deleteComment(t).pipe((0,V.w)(t=>{if(t){var i={StartIndex:0,Length:200,Filters:[{PropertyName:"EggrafoId",Filter:this.aitisiId}]};return this.toasterSrv.showSuccess("",this.translation.shde.commentDelete),this.shdeSrv.getCommentsPoliti(i)}return(0,X.of)(!1)})).subscribe(t=>{t?this.comments=this._prepeareComments(t):this.toasterSrv.showError("",this.translation.shde.commentDeleteError),this.isCommentsLoading=!1,(0,d.RA)(this.cdr)}))}onClickEggrafo(t){this.shdeSrv.getProtypoEggrafoDiadikasia(t).subscribe(t=>{t&&(0,tt.F)(t)})}onClickSinimeno(t){this.shdeSrv.getSinnimeno(t).subscribe(t=>{t&&(0,tt.F)(t)})}onDeleteSinimeno(t){this.shdeSrv.deleteFile(t).pipe((0,V.w)(t=>t?(this.toasterSrv.showSuccess("",this.translation.shde.fileDelete),this.shdeSrv.getSinimenaList(this.aitisiId)):(0,X.of)(!1))).subscribe(t=>{t&&(this.sinimena=t,this.updatedEiserxomenaData=this._createEiserxomenaData(this.selectedDiadikasia.ProtypaEggrafa,t)),(0,d.RA)(this.cdr)})}onYpovoli(){this.isLoading=!0,(0,d.RA)(this.cdr),this.shdeSrv.ypovoliAitisisPoliti(this.aitisiId).subscribe(t=>{t&&(this.model=t,this.toasterSrv.showSuccess("",this.translation.shde.successMsg)),this.isLoading=!1,(0,d.RA)(this.cdr)})}onAkyrosi(){this.isLoading=!0,(0,d.RA)(this.cdr),this.shdeSrv.akyrosiAitisisPoliti(this.aitisiId).subscribe(t=>{t&&(this.model=t,this.toasterSrv.showSuccess("",this.translation.shde.cancelMsg)),this.isLoading=!1,(0,d.RA)(this.cdr)})}onReturn(){this.router.navigate(["/shde-app"])}_prepeareComments(t){return t&&t.length>0&&(t.forEach(t=>{if(t.AuthorId&&t.AuthorId==this.userData.sub){t.isUser=!0;let i=Date.now(),e=new Date(t.DateCreated).getTime();t.dateDif=(i-e)/1e3/60/60}else t.isUser=!1}),t[0].AuthorId&&t[0].AuthorId==this.userData.sub&&t[0].dateDif<=4&&(t[0].canDelete=!0),t.sort(function(t,i){let e=new Date(t.DateCreated),a=new Date(i.DateCreated);return Math.floor(e-a)})),(0,d.RA)(this.cdr),t}_createEiserxomenaData(t,i){return t.find(t=>-1==t.DiadikasiaProtypoEggrafoId)?t.forEach(t=>{t.sinimena=[]}):t.push(new y),i.forEach(i=>{let e=t.find(t=>t.DiadikasiaProtypoEggrafoId==i.DiadikasiaProtypoEggrafoId);e?(e.sinimena||(e.sinimena=[]),e.sinimena.push(i)):t.find(t=>-1==t.DiadikasiaProtypoEggrafoId).sinimena.push(i)}),this.filesCount=i.length,(0,d.RA)(this.cdr),t}_handleFileInput(t,i){let e=new FormData;Array.from(t).forEach(t=>{e.append("SinimenaFiles",t,t.name)}),this.shdeSrv.uploadFile(e,this.aitisiId,i).pipe((0,V.w)(t=>this.shdeSrv.getSinimenaList(this.aitisiId))).subscribe(t=>{t&&(this.sinimena=t,this.updatedEiserxomenaData=this._createEiserxomenaData(this.selectedDiadikasia.ProtypaEggrafa,t),this.toasterSrv.showSuccess("",this.translation.shde.fileAdd)),(0,d.RA)(this.cdr)}),(0,d.RA)(this.cdr)}_fileType(t){return 1==t?"<i title='\u03b5\u03b9\u03c3\u03b5\u03c1\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf' class='fa fa-arrow-circle-down eiserxomeno'></i>":2==t?"<i title='\u03b5\u03b9\u03c3\u03b5\u03c1\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf' class='fa fa-arrow-circle-up ekserxomeno'></i>":void 0}_fileExt(t){return"pdf"==(t=t.substring(1))?"<i class='far fa-file-pdf'></i>":"docx"==t||"doc"==t?"<i class='far fa-file-word'></i>":"xls"==t||"xlsx"==t?"<i class='far fa-file-excel'></i>":"txt"==t||"rtf"==t||"dwg"==t||"odt"==t?"<i class='far fa-file-alt'></i>":"zip"==t||"7z"==t||"rar"==t?"<i class='far fa-file-archive'></i>":"png"==t||"jpeg"==t||"jpg"==t?"<i class='far fa-file-image'></i>":"eml"==t?"<i class='far fa-file'></i>":void 0}}return t.\u0275fac=function(i){return new(i||t)(r.Y36(d.MJ),r.Y36(g.J_),r.Y36(u.g),r.Y36(_),r.Y36(c.F0),r.Y36(c.gz),r.Y36(r.sBO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-aitisi-detail"]],outputs:{closeModal:"closeModal",listHasChanged:"listHasChanged"},decls:26,vars:29,consts:[[3,"condition","customClass"],["class","form bg-white",4,"ngIf"],[1,"bg-white","mt-4"],[1,"mb-2"],["class","comments-wrapper w-100",4,"ngIf"],["type","button",1,"btn","btn-primary","mt-3",3,"click"],["aria-hidden","true",1,"far","fa-comment-alt"],["appendTo","body","modal","true",3,"header","visible","draggable","closable","resizable","visibleChange"],[1,"form-group"],[1,"text-uppercase","font-weight-bold"],["name","sxolioPoliti","rows","4",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["aria-hidden","true",1,"far","fa-save","fa-fw"],[1,"form","bg-white"],["mAitisiForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6"],[1,"mb-1"],["class","mb-1",4,"ngIf"],["class","form-group col-12",4,"ngIf"],["class","col-12",4,"ngIf"],["class","col-12 mt-2 d-flex flex-wrap",4,"ngIf"],[1,"form-group","col-12"],[3,"innerHtml"],[1,"col-12"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords","styleClass"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","footer"],[1,"d-flex","align-items-center","justify-content-between"],[1,"p-column-title"],["class","m-0 ml-2 btn btn-primary",3,"click",4,"ngIf"],["id","files-td"],[3,"class",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"m-0","ml-2","btn","btn-primary",3,"click"],[1,"fas","fa-file-download"],[1,"mr-2"],[1,"d-flex"],[1,"m-0","mr-2","btn","btn-primary",3,"click"],["aria-label","\u039a\u03b1\u03c4\u03ad\u03b2\u03b1\u03c3\u03bc\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03bf\u03c5",1,"fas","fa-file-download"],[1,"custom-file-delete","btn","btn-danger","m-0",3,"click"],["aria-label","\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae \u03b1\u03c1\u03c7\u03b5\u03af\u03bf\u03c5",1,"far","fa-trash-alt"],[1,"p-2","text-center"],[1,"download","btn","btn-success","m-0","w-100",3,"for"],["aria-hidden","true",1,"fas","fa-file-upload"],["type","file","multiple","",1,"file-upload",3,"name","id","change"],["colspan","2"],[1,"col-12","mt-2","d-flex","flex-wrap"],["class","alert alert-warning w-100",4,"ngIf"],["class","btn btn-primary mr-1","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-undo"],[1,"alert","alert-warning","w-100"],["type","button",1,"btn","btn-primary","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-paper-plane"],[1,"comments-wrapper","w-100"],[2,"font-size","14px"],[1,"font-weight-bold"],[1,"fas","fa-circle","mx-1",2,"font-size","5px"],[1,"comemnt-content","mt-1"],[1,"btn","btn-danger","m-0","px-2","py-1",3,"click"],[1,"far","fa-trash-alt"]],template:function(t,i){1&t&&(r._UZ(0,"lib-egr-loading",0),r.YNc(1,yt,41,34,"form",1),r.TgZ(2,"div",2),r.TgZ(3,"h4",3),r._uU(4),r.ALo(5,"translate"),r.qZA(),r._UZ(6,"hr"),r._UZ(7,"lib-egr-loading",0),r.YNc(8,Dt,2,1,"div",4),r.TgZ(9,"button",5),r.NdJ("click",function(){return i.commentModalOpen=!0}),r._UZ(10,"span",6),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.qZA(),r.TgZ(13,"p-dialog",7),r.NdJ("visibleChange",function(t){return i.commentModalOpen=t}),r.ALo(14,"translate"),r.TgZ(15,"div",8),r.TgZ(16,"label",9),r._uU(17),r.ALo(18,"translate"),r.qZA(),r.TgZ(19,"textarea",10),r.NdJ("ngModelChange",function(t){return i.toCreateComment.Keimeno=t}),r.ALo(20,"translate"),r._uU(21,"\t\t"),r.qZA(),r.TgZ(22,"button",5),r.NdJ("click",function(){return i.onCreateComment()}),r._UZ(23,"span",11),r._uU(24),r.ALo(25,"translate"),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.Q6J("condition",!i.model||i.isLoading)("customClass","egr-load-small"),r.xp6(1),r.Q6J("ngIf",i.model&&!i.isLoading),r.xp6(3),r.Oqu(r.lcZ(5,17,i.translation.shde.comments)),r.xp6(3),r.Q6J("condition",i.isCommentsLoading)("customClass","egr-load-small"),r.xp6(1),r.Q6J("ngIf",i.comments&&!i.isCommentsLoading),r.xp6(3),r.hij(" ",r.lcZ(12,19,i.translation.shde.addCmment),""),r.xp6(2),r.Q6J("header",r.lcZ(14,21,i.translation.shde.addCmment))("visible",i.commentModalOpen)("draggable",!1)("closable",!0)("resizable",!0),r.xp6(4),r.Oqu(r.lcZ(18,23,i.translation.shde.comments)),r.xp6(2),r.Q6J("placeholder",r.lcZ(20,25,i.translation.shde.comments))("ngModel",i.toCreateComment.Keimeno),r.xp6(5),r.hij(" ",r.lcZ(25,27,i.translation.egwebapps.egrSubmit)," "))},directives:[d.IE,m.O5,it.V,C.Fj,C.JJ,C.On,C._Y,C.JL,C.F,L.iA,k.jx,m.sg],pipes:[a.X$,m.uU],encapsulation:2,changeDetection:0}),t})()}]}];let Ct=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[c.Bz.forChild(_t)],c.Bz]}),t})(),Ut=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[_,{provide:s.TP,useClass:l,multi:!0}],imports:[[Ct,o.m,n.IJ,a.aw.forChild()]]}),t})()}}]);