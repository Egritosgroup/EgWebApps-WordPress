(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{UGYw:function(e,t,i){"use strict";i.r(t),i.d(t,"KliseisModule",(function(){return ci})),i.d(t,"PublicLibLoader",(function(){return di}));var s=i("mrSG"),n=i("fXoL"),o=i("tk/3"),a=i("LRne"),r=i("2Vo4"),c=i("XNiG"),d=i("lJxs"),l=i("JIr8"),h=i("eIep"),p=i("1G5W"),m=i("3Pt+"),u=i("5eHb"),g=i("tyNb"),f=i("ofXK"),y=i("3u8h"),b=i("ZOsW"),S=i("9nqD"),k=i("eO1q"),P=i("QIUk"),v=i("Ji6n"),C=i("/RsI"),A=i("FMpt"),T=i("7CaW"),I=i("LuMj"),R=i("rEr+"),O=i("dPl2"),w=i("zazq"),M=i("7zfz");function x(e,t){1&e&&(n.Rc(0),n.Oc(1,"app-kliseis-unauthorized-pay"),n.Qc())}function E(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",9),n.Tc(1,"button",10),n.ed("click",(function(){n.Gd(e);return n.gd(2).onAddKlisiClicked()})),n.Oc(2,"i",11),n.Rd(3," \u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u039d\u03ad\u03b1\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2 "),n.Sc(),n.Sc()}}function _(e,t){if(1&e){const e=n.Uc();n.Tc(0,"app-kliseis-receipts",12),n.ed("changeTabIndex",(function(){n.Gd(e);return n.gd(2).index=1})),n.Sc()}if(2&e){const e=n.gd(2);n.pd("tabChanged",e.onTbChanged)}}function D(e,t){if(1&e){const e=n.Uc();n.Rc(0),n.Pd(1,E,4,0,"div",3),n.Tc(2,"p-tabView",4),n.ed("onChange",(function(t){n.Gd(e);return n.gd().onTabChanged(t)})),n.Tc(3,"p-tabPanel",5),n.Oc(4,"app-kliseis-debits",6),n.Sc(),n.Tc(5,"p-tabPanel",7),n.Pd(6,_,1,1,"ng-template",8),n.Sc(),n.Sc(),n.Qc()}if(2&e){const e=n.gd();n.Ac(1),n.pd("ngIf",e.onlinePaymentsSettingsCompany&&"1"==e.onlinePaymentsSettingsCompany),n.Ac(1),n.pd("activeIndex",e.index),n.Ac(2),n.pd("isDataChanged",e.isDataChanged)("userInfo",e.userInfo)("onlinePaymentsSettingsCompany",e.onlinePaymentsSettingsCompany)}}function U(e,t){if(1&e){const e=n.Uc();n.Tc(0,"lib-kliseis-add-new",13),n.ed("klisiAdded",(function(t){n.Gd(e);return n.gd()._klisiAdded(t)})),n.Sc()}if(2&e){const e=n.gd();n.pd("userInfo",e.userInfo)("isLoadingPaymentRequest",e.isLoadingPaymentRequest)("relatedCallbackUrl",e.returnUrl)}}const q=["requestBankDataForm"];function K(e,t){1&e&&(n.Tc(0,"div",8),n.Tc(1,"span",9),n.Oc(2,"i",10),n.Sc(),n.Tc(3,"span"),n.Rd(4,"\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bc\u03ad\u03bd\u03b5\u03c4\u03b5, \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03bf\u03cd\u03bc\u03b5 \u03bc\u03b5 \u03c4\u03bf \u0394\u03ae\u03bc\u03bf \u03b3\u03b9\u03b1 \u03bf\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1."),n.Sc(),n.Sc())}function F(e,t){if(1&e&&n.Oc(0,"p-message",11),2&e){const e=n.gd();n.pd("text",e.errorMessageProfile)}}function j(e,t){1&e&&n.Oc(0,"img",17)}function L(e,t){1&e&&n.Oc(0,"img",22),2&e&&n.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa-secure.svg",n.Id)}function N(e,t){1&e&&n.Oc(0,"img",23),2&e&&n.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard-idcheck.svg",n.Id)}function z(e,t){if(1&e&&(n.Rc(0),n.Oc(1,"img",19),n.hd(2,"lowercase"),n.Pd(3,L,1,1,"img",20),n.hd(4,"lowercase"),n.Pd(5,N,1,1,"img",21),n.hd(6,"lowercase"),n.Qc()),2&e){const e=t.$implicit;n.Ac(1),n.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/"+n.id(2,3,e)+".svg",n.Id),n.Ac(2),n.pd("ngIf","visa"==n.id(4,5,e)),n.Ac(2),n.pd("ngIf","mastercard"==n.id(6,7,e))}}function G(e,t){if(1&e&&(n.Rc(0),n.Pd(1,z,7,9,"ng-container",18),n.Qc()),2&e){const e=n.gd(2).$implicit;n.Ac(1),n.pd("ngForOf",e.services)}}function $(e,t){if(1&e&&(n.Rc(0),n.Pd(1,G,2,1,"ng-container",3),n.Qc()),2&e){const e=n.gd().$implicit;n.Ac(1),n.pd("ngIf",e.services&&e.services.length>0)}}const B=function(){return{width:"360px"}};function W(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",13),n.ed("click",(function(){n.Gd(e);const i=t.$implicit;return n.gd(2).onSelectPaymentMethod(i)})),n.Tc(1,"p-card",14),n.Tc(2,"div",15),n.Pd(3,j,1,0,"img",16),n.Pd(4,$,2,1,"ng-container",3),n.Sc(),n.Sc(),n.Sc()}if(2&e){const e=t.$implicit;n.Ac(1),n.Md(n.ud(6,B)),n.pd("header",e.label)("subheader",e.description),n.Ac(2),n.pd("ngIf","IRIS"==e.key),n.Ac(1),n.pd("ngIf","IRIS"!=e.key)}}function H(e,t){if(1&e&&(n.Rc(0),n.Pd(1,W,5,7,"div",12),n.Qc()),2&e){const e=n.gd();n.Ac(1),n.pd("ngForOf",e.onlinePaymentSettings.paymentMethods)}}function V(e,t){1&e&&(n.Tc(0,"div",8),n.Tc(1,"span",9),n.Oc(2,"i",10),n.Sc(),n.Sc())}function Q(e,t){if(1&e&&(n.Rc(0),n.Oc(1,"input",27),n.Qc()),2&e){const e=t.$implicit;n.Ac(1),n.qd("name",e.key),n.qd("value",e.value)}}function J(e,t){if(1&e&&(n.Rc(0),n.Pd(1,Q,2,2,"ng-container",18),n.hd(2,"keyvalue"),n.Oc(3,"input",26),n.Qc()),2&e){const e=n.gd(2);n.Ac(1),n.pd("ngForOf",n.id(2,2,e.paymentResponseDto.postFields)),n.Ac(2),n.qd("value",e.everypayToken)}}function X(e,t){if(1&e&&(n.Tc(0,"form",24),n.Pd(1,J,4,4,"ng-container",3),n.Oc(2,"div",25),n.Sc()),2&e){const e=n.gd();n.qd("action",null==e.paymentResponseDto?null:e.paymentResponseDto.postUrl,n.Id),n.Ac(1),n.pd("ngIf",e.paymentResponseDto)}}function Y(e,t){if(1&e&&n.Oc(0,"form",28),2&e){const e=n.gd();n.qd("action",null==e.paymentResponseDto?null:e.paymentResponseDto.postUrl,n.Id)}}function Z(e,t){if(1&e&&(n.Tc(0,"div"),n.Oc(1,"input",29),n.Sc()),2&e){const e=t.$implicit;n.Ac(1),n.qd("name",e.key),n.qd("value",e.value)}}function ee(e,t){if(1&e&&(n.Rc(0),n.Pd(1,Z,2,2,"div",18),n.Qc()),2&e){const e=n.gd();n.Ac(1),n.pd("ngForOf",e.paymentResponseDto.postFields)}}function te(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",6),n.Tc(1,"button",7),n.ed("click",(function(){n.Gd(e);return n.gd().onInitPaymentRequest()})),n.Oc(2,"i",8),n.Rd(3," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),n.Sc(),n.Sc()}if(2&e){const e=n.gd();n.Ac(1),n.pd("disabled",e.isLoadingCheckout)}}function ie(e,t){1&e&&(n.Tc(0,"div",9),n.Oc(1,"i",10),n.Sc())}function se(e,t){1&e&&(n.Tc(0,"div",11),n.Oc(1,"img",12),n.Oc(2,"img",13),n.Oc(3,"img",14),n.Oc(4,"img",15),n.Oc(5,"img",16),n.Sc()),2&e&&(n.Ac(4),n.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa-secure.svg",n.Id),n.Ac(1),n.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard-idcheck.svg",n.Id))}function ne(e,t){if(1&e){const e=n.Uc();n.Tc(0,"app-payment-methods",17),n.ed("loadingCheckout",(function(t){n.Gd(e);return n.gd().onLoadingCheckoutChanged(t)})),n.Sc()}if(2&e){const e=n.gd();n.pd("user",e.userInfo)("paymentRequestDto",e.paymentRequestDto)("isUnauthorized",e.isUnauthorized)("onlinePaymentSettings",e.onlinePaymentSettings)("isLoadingCheckout",e.isLoadingCheckout)}}function oe(e,t){if(1&e&&(n.Rc(0),n.Tc(1,"p"),n.Rd(2,"\u0393\u03b9\u03b1 \u03c4\u03b7\u03bd \u03bf\u03bb\u03bf\u03ba\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2 \u03c3\u03b1\u03c2, \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b1\u03c0\u03bf\u03b4\u03b5\u03c7\u03b8\u03b5\u03af\u03c4\u03b5 \u03c4\u03bf\u03c5\u03c2 \u03cc\u03c1\u03bf\u03c5\u03c2 \u03c7\u03c1\u03ae\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03b9\u03c3\u03c4\u03bf\u03c3\u03b5\u03bb\u03af\u03b4\u03b1\u03c2."),n.Sc(),n.Tc(3,"p"),n.Tc(4,"a",18),n.Rd(5,"\u0394\u03b9\u03b1\u03b2\u03ac\u03c3\u03c4\u03b5 \u03b5\u03b4\u03ce \u03c4\u03bf\u03c5\u03c2 \u03cc\u03c1\u03bf\u03c5\u03c2 \u03c7\u03c1\u03ae\u03c3\u03b7\u03c2."),n.Sc(),n.Sc(),n.Qc()),2&e){const e=n.gd();n.Ac(4),n.qd("href",e.termsLink,n.Id)}}function ae(e,t){if(1&e){const e=n.Uc();n.Tc(0,"p-footer"),n.Tc(1,"div",19),n.Tc(2,"p-radioButton",20),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().termsValue=t})),n.Sc(),n.Tc(3,"p-radioButton",21),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().termsValue=t})),n.Sc(),n.Sc(),n.Tc(4,"button",22),n.ed("click",(function(){n.Gd(e);return n.gd().onTermsChanged()})),n.Oc(5,"i",23),n.Rd(6," \u03a3\u03c5\u03bd\u03ad\u03c7\u03b5\u03b9\u03b1 "),n.Sc(),n.Sc()}if(2&e){const e=n.gd();n.Ac(2),n.pd("ngModel",e.termsValue),n.Ac(1),n.pd("ngModel",e.termsValue)}}const re=["f"];function ce(e,t){1&e&&(n.Tc(0,"div",2),n.Tc(1,"span",3),n.Oc(2,"i",4),n.Sc(),n.Sc())}function de(e,t){1&e&&(n.Tc(0,"span"),n.Rd(1,"*"),n.Sc())}function le(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",7),n.Tc(1,"div",29),n.Oc(2,"p-message",30),n.Tc(3,"label"),n.Rd(4,"\u0388\u03c4\u03bf\u03c2"),n.Sc(),n.Tc(5,"input",31,32),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(2).etosKlisis=t})),n.Sc(),n.Tc(7,"div",14),n.Rd(8),n.Sc(),n.Sc(),n.Sc()}if(2&e){const e=n.Ed(6),t=n.gd(2);n.Ac(2),n.pd("styleClass","mt-2 mb-1"),n.Ac(3),n.pd("ngModel",t.etosKlisis)("readonly",t.model.hmerominiaEkdosis||t.response),n.Ac(2),n.pd("hidden",!t.isFormSubmitted||!t.etosKlisis||t.isFormSubmitted&&t.etosKlisis&&e.valid),n.Ac(1),n.Td(" \u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 \u03a7\u03a7\u03a7\u03a7 \u03cc\u03c0\u03bf\u03c5 \u03a7 \u03bc\u03cc\u03bd\u03bf \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bc\u03b9\u03ba\u03c1\u03cc\u03c4\u03b5\u03c1\u03bf \u03ae \u03af\u03c3\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf ",t.thisYear,". ")}}function he(e,t){1&e&&n.Oc(0,"p-message",33)}function pe(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",38),n.Tc(1,"label"),n.Rd(2,"Email*"),n.Sc(),n.Tc(3,"input",39,40),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(4).model.email=t})),n.Sc(),n.Tc(5,"div",14),n.Rd(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc()}if(2&e){const e=n.Ed(4),t=n.gd(4);n.pd("ngClass",t.response.hasTilefono?"col-md-12":"col-md-8"),n.Ac(3),n.pd("ngModel",t.model.email)("readonly",t.response.hasEmail&&t.model.email),n.Ac(2),n.pd("hidden",!t.isFormSubmitted||t.isFormSubmitted&&e.valid)}}function me(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",38),n.Tc(1,"label"),n.Rd(2,"\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb.*"),n.Sc(),n.Tc(3,"input",41),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(4).model.tilefono=t})),n.Sc(),n.Tc(4,"div",14),n.Rd(5," *\u03a4\u03bf \u03ba\u03b9\u03bd\u03b7\u03c4\u03cc \u03c4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03ad\u03c7\u03b5\u03b9 10 \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 69\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7. "),n.Sc(),n.Sc()}if(2&e){const e=n.gd(4);n.pd("ngClass",e.response.hasEmail?"col-md-12":"col-md-4"),n.Ac(3),n.pd("ngModel",e.model.tilefono)("readonly",e.response.hasTilefono&&e.model.tilefono),n.Ac(1),n.pd("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.model.tilefono)}}function ue(e,t){if(1&e&&(n.Tc(0,"div",7),n.Pd(1,pe,7,4,"div",37),n.Pd(2,me,6,4,"div",37),n.Sc()),2&e){const e=n.gd(3);n.Ac(1),n.pd("ngIf",!e.response.hasEmail),n.Ac(1),n.pd("ngIf",!e.response.hasTilefono)}}function ge(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",7),n.Tc(1,"div",42),n.Tc(2,"label"),n.Rd(3,"\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7*"),n.Sc(),n.Tc(4,"input",43),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(3).model.address=t})),n.Sc(),n.Tc(5,"div",14),n.Rd(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Tc(7,"div",44),n.Tc(8,"label"),n.Rd(9,"\u03a4.\u039a.*"),n.Sc(),n.Tc(10,"input",45),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(3).model.tk=t})),n.Sc(),n.Tc(11,"div",14),n.Rd(12," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Sc()}if(2&e){const e=n.gd(3);n.Ac(4),n.pd("ngModel",e.model.address)("readonly",e.response.hasDieuthinsi&&e.model.address),n.Ac(1),n.pd("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.model.address),n.Ac(5),n.pd("ngModel",e.model.tk)("readonly",e.response.hasDieuthinsi&&e.model.tk),n.Ac(1),n.pd("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.model.tk)}}function fe(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",7),n.Tc(1,"div",29),n.Tc(2,"label"),n.Rd(3,"\u03a0\u03cc\u03bb\u03b7*"),n.Sc(),n.Tc(4,"input",46),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(3).model.poli=t})),n.Sc(),n.Tc(5,"div",14),n.Rd(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Sc()}if(2&e){const e=n.gd(3);n.Ac(4),n.pd("ngModel",e.model.poli)("readonly",e.response.hasDieuthinsi&&e.model.poli),n.Ac(1),n.pd("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.model.poli)}}function ye(e,t){if(1&e){const e=n.Uc();n.Rc(0),n.Tc(1,"div",7),n.Tc(2,"div",34),n.Tc(3,"label"),n.Rd(4,"\u03a0\u03bf\u03c3\u03cc*"),n.Sc(),n.Tc(5,"input",35,36),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(2).model.poso=t})),n.Sc(),n.Tc(7,"div",14),n.Rd(8," *\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03bc\u03b5 \u03bc\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03cc \u03c0\u03bf\u03c3\u03cc. "),n.Sc(),n.Sc(),n.Sc(),n.Pd(9,ue,3,2,"div",20),n.Pd(10,ge,13,6,"div",20),n.Pd(11,fe,7,3,"div",20),n.Qc()}if(2&e){const e=n.gd(2);n.Ac(5),n.pd("ngModel",e.model.poso)("readonly",0!=e.response.klisiId),n.Ac(2),n.pd("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.model.poso&&e.model.poso>0),n.Ac(2),n.pd("ngIf",!e.response.hasEmail||e.response.hasTilefono),n.Ac(1),n.pd("ngIf",!e.response.hasDieuthinsi),n.Ac(1),n.pd("ngIf",!e.response.hasDieuthinsi)}}function be(e,t){if(1&e){const e=n.Uc();n.Tc(0,"button",47),n.ed("click",(function(){n.Gd(e);return n.gd(2).onAnazitisi()})),n.Oc(1,"i",48),n.Rd(2," \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7 "),n.Sc()}}function Se(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",49),n.Tc(1,"div"),n.Tc(2,"div",50),n.Tc(3,"button",51),n.ed("click",(function(){n.Gd(e);return n.gd(2).onCreatePaymentRequest()})),n.Oc(4,"i",52),n.Rd(5," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),n.Sc(),n.Sc(),n.Tc(6,"div",53),n.Oc(7,"img",54),n.Oc(8,"img",55),n.Oc(9,"img",56),n.Oc(10,"img",57),n.Oc(11,"img",58),n.Sc(),n.Sc(),n.Tc(12,"button",59),n.ed("click",(function(){n.Gd(e);return n.gd(2).onCancelKlisi()})),n.Oc(13,"i",60),n.Rd(14," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 "),n.Sc(),n.Sc()}2&e&&(n.Ac(10),n.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa-secure.svg",n.Id),n.Ac(1),n.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard-idcheck.svg",n.Id))}function ke(e,t){if(1&e&&n.Oc(0,"div",61),2&e){const e=n.gd(2);n.pd("innerHTML",e.formErrorsMsg,n.Hd)}}function Pe(e,t){1&e&&(n.Tc(0,"div",62),n.Tc(1,"span",3),n.Oc(2,"i",63),n.Sc(),n.Sc())}function ve(e,t){if(1&e&&n.Oc(0,"div",61),2&e){const e=n.gd(2);n.pd("innerHTML",e.response.messageResponse,n.Hd)}}function Ce(e,t){1&e&&n.Oc(0,"p-message",64)}const Ae=function(){return{width:"100%"}};function Te(e,t){if(1&e){const e=n.Uc();n.Tc(0,"form",5,6),n.Tc(2,"div",7),n.Tc(3,"div",8),n.Tc(4,"p-checkbox",9,10),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().model.isForeign=t})),n.Sc(),n.Sc(),n.Sc(),n.Tc(6,"div",7),n.Tc(7,"div",11),n.Tc(8,"label"),n.Rd(9,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2*"),n.Sc(),n.Tc(10,"input",12,13),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().model.arithmosKlisis=t})),n.Sc(),n.Tc(12,"div",14),n.Rd(13," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03ad\u03c0\u03bf\u03bd\u03c4\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03bc\u03ad\u03c7\u03c1\u03b9 12 \u03b1\u03c1\u03b9\u03b8\u03bc\u03bf\u03af. "),n.Sc(),n.Sc(),n.Tc(14,"div",11),n.Tc(15,"label"),n.Rd(16,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2*"),n.Sc(),n.Tc(17,"input",15,16),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().model.arithmosKikloforias=t})),n.Sc(),n.Tc(19,"div",14),n.Rd(20," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Sc(),n.Tc(21,"div",7),n.Tc(22,"div",11),n.Tc(23,"label"),n.Rd(24,"\u0397\u03bc. \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2"),n.Pd(25,de,2,0,"span",17),n.Sc(),n.Tc(26,"p-calendar",18),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().model.hmerominiaEkdosis=t})),n.Sc(),n.Sc(),n.Tc(27,"div",11),n.Tc(28,"label"),n.Rd(29,"\u038f\u03c1\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2"),n.Sc(),n.Tc(30,"p-calendar",19),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().model.oraEkdosis=t})),n.Sc(),n.Sc(),n.Sc(),n.Pd(31,le,9,5,"div",20),n.Pd(32,he,1,0,"p-message",21),n.Pd(33,ye,12,6,"ng-container",17),n.Tc(34,"div",22),n.Pd(35,be,3,0,"button",23),n.Sc(),n.Pd(36,Se,15,2,"div",24),n.Oc(37,"app-checkout",25),n.Pd(38,ke,1,1,"div",26),n.Pd(39,Pe,3,0,"div",27),n.Pd(40,ve,1,1,"div",26),n.Pd(41,Ce,1,0,"p-message",28),n.Sc()}if(2&e){const e=n.Ed(11),t=n.Ed(18),i=n.gd();n.Ac(4),n.pd("ngModel",i.model.isForeign)("readonly",i.response),n.Ac(6),n.pd("ngModel",i.model.arithmosKlisis)("readonly",i.response),n.Ac(2),n.pd("hidden",!i.isFormSubmitted||i.isFormSubmitted&&e.valid),n.Ac(5),n.pd("ngModel",i.model.arithmosKikloforias)("readonly",i.response),n.Ac(2),n.pd("hidden",!i.isFormSubmitted||i.isFormSubmitted&&t.valid),n.Ac(6),n.pd("ngIf",!i.showEtos),n.Ac(1),n.Md(n.ud(43,Ae)),n.pd("baseZIndex",9999)("locale",i.locale)("maxDate",i.today)("monthNavigator",!0)("yearNavigator",!0)("yearRange",i.yearRange)("showIcon",!0)("showButtonBar",!0)("showTime",!1)("ngModel",i.model.hmerominiaEkdosis)("required",!i.showEtos)("disabled",i.etosKlisis&&""!=i.etosKlisis||i.response||i.isFormSubmitted),n.Ac(4),n.Md(n.ud(44,Ae)),n.pd("baseZIndex",9999)("locale",i.locale)("timeOnly",!0)("showIcon",!0)("ngModel",i.model.oraEkdosis)("disabled",i.etosKlisis&&""!=i.etosKlisis||i.response||i.isFormSubmitted),n.Ac(1),n.pd("ngIf",i.showEtos),n.Ac(1),n.pd("ngIf",!i.allowsPayment),n.Ac(1),n.pd("ngIf",i.response&&i.response.canPay&&i.allowsPayment),n.Ac(2),n.pd("ngIf",!i.isFormSubmitted||!i.response),n.Ac(1),n.pd("ngIf",i.isFormSubmitted&&i.response&&i.response.canPay&&i.allowsPayment),n.Ac(1),n.pd("userInfo",i.userInfo)("paymentRequestDto",i.paymentRequestDto)("onlinePaymentsSettingsCompany",i.onlinePaymentsSettingsCompany),n.Ac(1),n.pd("ngIf",i.formErrorsMsg&&""!=i.formErrorsMsg),n.Ac(1),n.pd("ngIf",i.isLoadingResponse||i.isLoadingPaymentRequest),n.Ac(1),n.pd("ngIf",i.response&&!i.isLoadingResponse&&i.response.messageResponse&&""!=i.response.messageResponse),n.Ac(1),n.pd("ngIf",i.saveFailed)}}function Ie(e,t){1&e&&(n.Tc(0,"div",5),n.Tc(1,"span",6),n.Oc(2,"i",7),n.Sc(),n.Sc())}function Re(e,t){1&e&&n.Oc(0,"p-message",8)}function Oe(e,t){if(1&e&&n.Oc(0,"p-message",9),2&e){const e=n.gd();n.pd("text",e.errorMsg)("styleClass","mb-2")}}function we(e,t){1&e&&n.Pc(0)}function Me(e,t){if(1&e&&(n.Rc(0),n.Pd(1,we,1,0,"ng-container",20),n.Qc()),2&e){n.gd(2);const e=n.Ed(5);n.Ac(1),n.pd("ngTemplateOutlet",e)}}function xe(e,t){if(1&e){const e=n.Uc();n.Tc(0,"tr"),n.Tc(1,"th",21),n.Tc(2,"p-checkbox",22),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(2).checkAll=t}))("onChange",(function(){n.Gd(e);return n.gd(2).onCheckAllKliseisClicked()})),n.Sc(),n.Sc(),n.Tc(3,"th",23),n.Rd(4,"\xa0"),n.Sc(),n.Tc(5,"th",24),n.Rd(6,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.Sc(),n.Tc(7,"th",25),n.Rd(8,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),n.Sc(),n.Tc(9,"th",24),n.Rd(10,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),n.Sc(),n.Tc(11,"th",26),n.Rd(12,"\u038c\u03c7\u03b7\u03bc\u03b1"),n.Sc(),n.Tc(13,"th",25),n.Rd(14,"\u03a0\u03bf\u03c3\u03cc \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.Sc(),n.Tc(15,"th",25),n.Rd(16,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2*"),n.Sc(),n.Tc(17,"th",24),n.Rd(18,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2"),n.Sc(),n.Sc()}if(2&e){const e=n.gd(2);n.Ac(2),n.pd("binary",!0)("ngModel",e.checkAll)("disabled",!e.checkAllEnabled)}}function Ee(e,t){if(1&e){const e=n.Uc();n.Tc(0,"tr",28),n.Tc(1,"td",33),n.Tc(2,"span",30),n.Rd(3,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),n.Sc(),n.Tc(4,"p-checkbox",22),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().$implicit.isChecked=t}))("onChange",(function(){n.Gd(e);const t=n.gd().$implicit;return n.gd(2).onCheckKlisiClicked(t)})),n.Sc(),n.Sc(),n.Oc(5,"td",34),n.Sc()}if(2&e){const e=n.gd().$implicit;n.pd("ngClass",e.canPay&&e.canCheck?"":"disabled-row"),n.Ac(4),n.pd("binary",!0)("ngModel",e.isChecked)("disabled",!e.canPay||!e.canCheck),n.Ac(1),n.pd("innerHtml",e.cannotPayReason,n.Hd)}}function _e(e,t){if(1&e){const e=n.Uc();n.Tc(0,"td",21),n.Tc(1,"span",30),n.Rd(2,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),n.Sc(),n.Tc(3,"p-checkbox",22),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().$implicit.isChecked=t}))("onChange",(function(){n.Gd(e);const t=n.gd().$implicit;return n.gd(2).onCheckKlisiClicked(t)})),n.Sc(),n.Sc()}if(2&e){const e=n.gd().$implicit;n.Ac(3),n.pd("binary",!0)("ngModel",e.isChecked)("disabled",!e.canPay||!e.canCheck)}}function De(e,t){1&e&&(n.Tc(0,"span"),n.Oc(1,"span",35),n.Sc())}function Ue(e,t){1&e&&(n.Tc(0,"span"),n.Oc(1,"span",36),n.Sc())}function qe(e,t){if(1&e&&(n.Tc(0,"span",37),n.Tc(1,"strong"),n.Rd(2,"\u0395\u03af\u03b4\u03bf\u03c2: "),n.Sc(),n.Rd(3),n.Sc()),2&e){const e=n.gd().$implicit;n.Ac(3),n.Sd(e.eidosOximatos)}}function Ke(e,t){if(1&e&&(n.Tc(0,"span",37),n.Tc(1,"strong"),n.Rd(2,"\u039c\u03ac\u03c1\u03ba\u03b1: "),n.Sc(),n.Rd(3),n.Sc()),2&e){const e=n.gd().$implicit;n.Ac(3),n.Sd(e.markaOximatos)}}function Fe(e,t){if(1&e&&(n.Tc(0,"span",37),n.Tc(1,"strong"),n.Rd(2,"\u03a7\u03c1\u03ce\u03bc\u03b1: "),n.Sc(),n.Rd(3),n.Sc()),2&e){const e=n.gd().$implicit;n.Ac(3),n.Sd(e.xromaOximatos)}}function je(e,t){if(1&e&&(n.Pd(0,Ee,6,5,"tr",27),n.Tc(1,"tr",28),n.Pd(2,_e,4,3,"td",29),n.Tc(3,"td",21),n.Tc(4,"span",30),n.Rd(5,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7"),n.Sc(),n.Pd(6,De,2,0,"span",3),n.Pd(7,Ue,2,0,"span",3),n.Sc(),n.Tc(8,"td",24),n.Tc(9,"span",30),n.Rd(10,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.Sc(),n.Rd(11),n.Sc(),n.Tc(12,"td",25),n.Tc(13,"span",30),n.Rd(14,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),n.Sc(),n.Rd(15),n.hd(16,"date"),n.Sc(),n.Tc(17,"td",24),n.Tc(18,"span",30),n.Rd(19,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),n.Sc(),n.Rd(20),n.Sc(),n.Tc(21,"td",26),n.Tc(22,"span",30),n.Rd(23,"\u038c\u03c7\u03b7\u03bc\u03b1"),n.Sc(),n.Pd(24,qe,4,1,"span",31),n.Pd(25,Ke,4,1,"span",31),n.Pd(26,Fe,4,1,"span",31),n.Sc(),n.Tc(27,"td",32),n.Tc(28,"span",30),n.Rd(29,"\u03a0\u03bf\u03c3\u03cc \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.Sc(),n.Rd(30),n.hd(31,"currency"),n.Sc(),n.Tc(32,"td",32),n.Tc(33,"span",30),n.Rd(34,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2*"),n.Sc(),n.Rd(35),n.hd(36,"currency"),n.Sc(),n.Tc(37,"td",24),n.Tc(38,"span",30),n.Rd(39,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2"),n.Sc(),n.Rd(40),n.Sc(),n.Sc()),2&e){const e=t.$implicit;n.pd("ngIf",e.cannotPayReason&&""!=e.cannotPayReason),n.Ac(1),n.pd("ngClass",e.canPay&&e.canCheck?"":"disabled-row"),n.Ac(1),n.pd("ngIf",!e.cannotPayReason||""==e.cannotPayReason),n.Ac(4),n.pd("ngIf",e.statusId&&1==e.statusId),n.Ac(1),n.pd("ngIf",e.statusId&&5==e.statusId),n.Ac(4),n.Td(" ",e.arithmosKlisis," "),n.Ac(4),n.Ud(" ",n.jd(16,15,e.hmerominiaEkdosis,"dd/MM/yyyy")," ",e.oraEkdosis&&e.hmerominiaEkdosis?"- "+e.oraEkdosis:e.oraEkdosis," "),n.Ac(5),n.Td(" ",e.arithmosKikloforias," "),n.Ac(4),n.pd("ngIf",e.eidosOximatos),n.Ac(1),n.pd("ngIf",e.markaOximatos),n.Ac(1),n.pd("ngIf",e.xromaOximatos),n.Ac(4),n.Td(" ",n.ld(31,18,e.pliroteoPoso,"EUR","symbol","1.2-2")," "),n.Ac(5),n.Td(" ",n.ld(36,23,e.ofeilisPoso,"EUR","symbol","1.2-2")," "),n.Ac(5),n.Td(" ",e.stoixeiaBebaiosis," ")}}const Le=function(e){return[e,"EUR","symbol","1.2-2","el"]};function Ne(e,t){if(1&e&&(n.Tc(0,"tr"),n.Tc(1,"td",38),n.Tc(2,"strong"),n.Rd(3),n.Sc(),n.Sc(),n.Tc(4,"td",39),n.Tc(5,"strong"),n.Rd(6),n.hd(7,"currency"),n.Sc(),n.Sc(),n.Tc(8,"td",39),n.Tc(9,"strong"),n.Rd(10),n.hd(11,"currency"),n.Sc(),n.Sc(),n.Oc(12,"td",24),n.Sc()),2&e){const e=n.gd(2);n.Ac(3),n.Td("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2: ",e.model.length,""),n.Ac(3),n.Sd(n.md(7,3,n.vd(15,Le,e.sumPosoKlisis))),n.Ac(4),n.Sd(n.md(11,9,n.vd(17,Le,e.sumPliroteoPoso)))}}function ze(e,t){1&e&&n.Pc(0)}function Ge(e,t){if(1&e&&(n.Rc(0),n.Pd(1,ze,1,0,"ng-container",20),n.Qc()),2&e){n.gd(2);const e=n.Ed(5);n.Ac(1),n.pd("ngTemplateOutlet",e)}}function $e(e,t){if(1&e&&(n.Rc(0),n.Oc(1,"p-message",10),n.Pd(2,Me,2,1,"ng-container",3),n.Tc(3,"legend",11),n.Tc(4,"span",12),n.Oc(5,"i",13),n.Rd(6," \u0391\u03a0\u039b\u0397\u03a1\u03a9\u03a4\u0397"),n.Sc(),n.Tc(7,"span",12),n.Oc(8,"i",14),n.Rd(9," \u039a\u0391\u03a4\u0391\u03a7\u03a9\u03a1\u0397\u03a3\u0397 \u0391\u03a0\u039f WEB"),n.Sc(),n.Sc(),n.Tc(10,"p-table",15),n.Pd(11,xe,19,3,"ng-template",16),n.Pd(12,je,41,28,"ng-template",17),n.Pd(13,Ne,13,19,"ng-template",18),n.Sc(),n.Tc(14,"p",19),n.Tc(15,"small"),n.Tc(16,"em"),n.Rd(17,"* \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u03a0\u03c1\u03bf\u03c3\u03b1\u03c5\u03be\u03ae\u03c3\u03b5\u03b9\u03c2 \u03ba\u03b1\u03b9 \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u039a\u03c1\u03b1\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2"),n.Sc(),n.Sc(),n.Sc(),n.Pd(18,Ge,2,1,"ng-container",3),n.Qc()),2&e){const e=n.gd();n.Ac(1),n.pd("styleClass","my-2"),n.Ac(1),n.pd("ngIf",e.checkedKliseisTotal&&e.checkedKliseisTotal>0),n.Ac(8),n.pd("value",e.model)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("resetPageOnSort",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",e.model.length)("loading",e.isLoading),n.Ac(8),n.pd("ngIf",e.checkedKliseisTotal&&e.checkedKliseisTotal>0)}}function Be(e,t){if(1&e&&(n.Tc(0,"div",40),n.Tc(1,"div"),n.Tc(2,"p"),n.Rd(3,"\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 "),n.Tc(4,"span",41),n.Rd(5),n.Sc(),n.Sc(),n.Tc(6,"p",42),n.Rd(7,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: "),n.Tc(8,"span",41),n.Rd(9),n.hd(10,"currency"),n.Sc(),n.Sc(),n.Sc(),n.Oc(11,"app-checkout",43),n.Sc()),2&e){const e=n.gd();n.Ac(5),n.Ud("",e.checkedKliseisTotal," ",1===e.checkedKliseisTotal?"\u03ba\u03bb\u03ae\u03c3\u03b7":"\u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2",""),n.Ac(4),n.Sd(n.ld(10,6,e.sumPliromis,"\u20ac","symbol","1.2")),n.Ac(2),n.pd("userInfo",e.userInfo)("onlinePaymentsSettingsCompany",e.onlinePaymentsSettingsCompany)("klisis",e.checkedKliseis)}}function We(e,t){1&e&&n.Oc(0,"p-message",4),2&e&&n.pd("styleClass","mb-2")}function He(e,t){if(1&e&&n.Oc(0,"p-message",5),2&e){const e=n.gd();n.pd("severity",e.bankStatusMessageClass)("text",e.bankStatusMessage)("styleClass","mb-2")}}function Ve(e,t){1&e&&(n.Tc(0,"div",6),n.Tc(1,"span",7),n.Oc(2,"i",8),n.Sc(),n.Sc())}function Qe(e,t){1&e&&(n.Tc(0,"tr"),n.Tc(1,"th",17),n.Rd(2,"\xa0"),n.Sc(),n.Tc(3,"th",18),n.Rd(4,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.Sc(),n.Tc(5,"th",19),n.Rd(6,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),n.Sc(),n.Tc(7,"th",18),n.Rd(8,"\u039f\u03b4\u03cc\u03c2 - \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2"),n.Sc(),n.Tc(9,"th",18),n.Rd(10,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),n.Sc(),n.Tc(11,"th",19),n.Rd(12,"\u038c\u03c7\u03b7\u03bc\u03b1"),n.Sc(),n.Tc(13,"th",20),n.Rd(14,"\u03a0\u03bf\u03c3\u03cc"),n.Sc(),n.Tc(15,"th",18),n.Rd(16,"\u039f\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1"),n.Sc(),n.Sc())}function Je(e,t){1&e&&(n.Tc(0,"span"),n.Oc(1,"i",11),n.Sc())}function Xe(e,t){1&e&&(n.Tc(0,"span"),n.Oc(1,"i",12),n.Sc())}function Ye(e,t){if(1&e&&(n.Tc(0,"span",25),n.Tc(1,"strong"),n.Rd(2,"\u0395\u03af\u03b4\u03bf\u03c2: "),n.Sc(),n.Rd(3),n.Sc()),2&e){const e=n.gd().$implicit;n.Ac(3),n.Sd(e.eidosOximatos)}}function Ze(e,t){if(1&e&&(n.Tc(0,"span",25),n.Tc(1,"strong"),n.Rd(2,"\u039c\u03ac\u03c1\u03ba\u03b1: "),n.Sc(),n.Rd(3),n.Sc()),2&e){const e=n.gd().$implicit;n.Ac(3),n.Sd(e.markaOximatos)}}function et(e,t){if(1&e&&(n.Tc(0,"span",25),n.Tc(1,"strong"),n.Rd(2,"\u03a7\u03c1\u03ce\u03bc\u03b1: "),n.Sc(),n.Rd(3),n.Sc()),2&e){const e=n.gd().$implicit;n.Ac(3),n.Sd(e.xromaOximatos)}}function tt(e,t){if(1&e&&(n.Tc(0,"span"),n.Tc(1,"strong"),n.Rd(2,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2:"),n.Sc(),n.Rd(3),n.Sc()),2&e){const e=n.gd().$implicit;n.Ac(3),n.Td(" ",e.stoixeiaBebaiosis,"")}}function it(e,t){if(1&e&&(n.Tc(0,"span"),n.Oc(1,"br"),n.Tc(2,"strong"),n.Rd(3,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2:"),n.Sc(),n.Rd(4),n.Sc()),2&e){const e=n.gd().$implicit;n.Ac(4),n.Td(" ",e.stoixeiaApodeiksis,"")}}function st(e,t){if(1&e&&(n.Tc(0,"tr"),n.Tc(1,"td",21),n.Tc(2,"span",22),n.Rd(3,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7"),n.Sc(),n.Pd(4,Je,2,0,"span",3),n.Pd(5,Xe,2,0,"span",3),n.Sc(),n.Tc(6,"td",18),n.Tc(7,"span",22),n.Rd(8,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.Sc(),n.Rd(9),n.Sc(),n.Tc(10,"td",19),n.Tc(11,"span",22),n.Rd(12,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),n.Sc(),n.Rd(13),n.hd(14,"date"),n.Sc(),n.Tc(15,"td",18),n.Tc(16,"span",22),n.Rd(17,"\u039f\u03b4\u03cc\u03c2 - \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2"),n.Sc(),n.Rd(18),n.Sc(),n.Tc(19,"td",18),n.Tc(20,"span",22),n.Rd(21,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),n.Sc(),n.Rd(22),n.Sc(),n.Tc(23,"td",19),n.Tc(24,"span",22),n.Rd(25,"\u038c\u03c7\u03b7\u03bc\u03b1"),n.Sc(),n.Pd(26,Ye,4,1,"span",23),n.Pd(27,Ze,4,1,"span",23),n.Pd(28,et,4,1,"span",23),n.Sc(),n.Tc(29,"td",24),n.Tc(30,"span",22),n.Rd(31,"\u03a0\u03bf\u03c3\u03cc"),n.Sc(),n.Rd(32),n.hd(33,"currency"),n.Sc(),n.Tc(34,"td",18),n.Tc(35,"span",22),n.Rd(36,"\u039f\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1"),n.Sc(),n.Pd(37,tt,4,1,"span",3),n.Pd(38,it,5,1,"span",3),n.Sc(),n.Sc()),2&e){const e=t.$implicit;n.Ac(4),n.pd("ngIf",e.statusId&&2==e.statusId),n.Ac(1),n.pd("ngIf",e.statusId&&6==e.statusId),n.Ac(4),n.Td(" ",e.arithmosKlisis," "),n.Ac(4),n.Ud(" ",n.jd(14,15,e.hmerominiaEkdosis,"dd/MM/yyyy")," ",e.oraEkdosis&&e.hmerominiaEkdosis?"- "+e.oraEkdosis:e.oraEkdosis," "),n.Ac(5),n.Vd(" ",e.odosPerigrafi," ",e.odosPerigrafi&&e.odosArithmos?"-":""," ",e.odosArithmos," "),n.Ac(4),n.Td(" ",e.arithmosKikloforias," "),n.Ac(4),n.pd("ngIf",e.eidosOximatos),n.Ac(1),n.pd("ngIf",e.markaOximatos),n.Ac(1),n.pd("ngIf",e.xromaOximatos),n.Ac(4),n.Td(" ",n.ld(33,18,e.pliroteoPoso,"EUR","symbol","1.2-2")," "),n.Ac(5),n.pd("ngIf",e.stoixeiaBebaiosis),n.Ac(1),n.pd("ngIf",e.stoixeiaApodeiksis)}}function nt(e,t){if(1&e&&(n.Tc(0,"tr"),n.Tc(1,"td",26),n.Tc(2,"strong"),n.Rd(3),n.hd(4,"currency"),n.Sc(),n.Sc(),n.Sc()),2&e){const e=n.gd(2);n.Ac(3),n.Td("\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc: ",n.md(4,1,n.vd(7,Le,e.sumPliroteoPoso)),"")}}function ot(e,t){if(1&e&&(n.Rc(0),n.Tc(1,"legend",9),n.Tc(2,"span",10),n.Oc(3,"i",11),n.Rd(4," \u0395\u039e\u039f\u03a6\u039b\u0397\u03a3\u0397 \u03a3\u03a4\u039f \u0394\u0397\u039c\u039f"),n.Sc(),n.Tc(5,"span",10),n.Oc(6,"i",12),n.Rd(7," \u0395\u039e\u039f\u03a6\u039b\u0397\u03a3\u0397 WEB"),n.Sc(),n.Sc(),n.Tc(8,"p"),n.Rd(9,"\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u039a\u03bb\u03ae\u03c3\u03b5\u03c9\u03bd: "),n.Tc(10,"strong"),n.Rd(11),n.Sc(),n.Sc(),n.Tc(12,"p-table",13),n.Pd(13,Qe,17,0,"ng-template",14),n.Pd(14,st,39,23,"ng-template",15),n.Pd(15,nt,5,9,"ng-template",16),n.Sc(),n.Qc()),2&e){const e=n.gd();n.Ac(11),n.Sd(e.model.length),n.Ac(1),n.pd("value",e.model)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",e.model.length)}}const at=["klisiAnazitisi"],rt=["klisiPayUnauthorized"];function ct(e,t){if(1&e&&n.Oc(0,"p-message",5),2&e){const e=n.gd();n.pd("severity",e.bankStatusMessageClass)("text",e.bankStatusMessage)("styleClass","mb-2")}}function dt(e,t){if(1&e&&(n.Tc(0,"a",6),n.Oc(1,"i",7),n.Rd(2," \u0395\u03c0\u03b9\u03c3\u03c4\u03c1\u03bf\u03c6\u03ae"),n.Sc()),2&e){const e=n.gd();n.qd("href",e.callbackUrl,n.Id)}}function lt(e,t){if(1&e&&n.Oc(0,"div",30),2&e){const e=n.gd(2);n.pd("innerHTML",e.formErrorsMsg,n.Hd)}}function ht(e,t){1&e&&(n.Tc(0,"div",31),n.Tc(1,"span",32),n.Oc(2,"i",33),n.Sc(),n.Sc())}function pt(e,t){if(1&e&&(n.Tc(0,"div"),n.Rd(1),n.Sc()),2&e){const e=n.gd(3);n.Dc("alert alert-",e.requestMsgClass," text-white"),n.Ac(1),n.Td(" ",e.requestMsg," ")}}function mt(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",10),n.Tc(1,"div",20),n.Tc(2,"label"),n.Rd(3,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1*"),n.Sc(),n.Tc(4,"input",48,49),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(4).model.debtorName=t})),n.Sc(),n.Tc(6,"div",17),n.Rd(7," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Tc(8,"div",20),n.Tc(9,"label"),n.Rd(10,"\u0391.\u03a6.\u039c.*"),n.Sc(),n.Tc(11,"input",50,51),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(4).model.tin=t})),n.Sc(),n.Tc(13,"div",17),n.Rd(14," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2 \u03b1\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u0391.\u03a6.\u039c. "),n.Sc(),n.Sc(),n.Sc()}if(2&e){const e=n.Ed(5),t=n.Ed(12),i=n.gd(4);n.Ac(4),n.pd("ngModel",i.model.debtorName),n.Ac(2),n.pd("hidden",!i.isFormPaySubmitted||i.isFormPaySubmitted&&e.valid),n.Ac(5),n.pd("ngModel",i.model.tin),n.Ac(2),n.pd("hidden",!i.isFormPaySubmitted||i.isFormPaySubmitted&&t.valid)}}function ut(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",53),n.Tc(1,"label"),n.Rd(2,"Email*"),n.Sc(),n.Tc(3,"input",54,55),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(5).model.email=t})),n.Sc(),n.Tc(5,"div",17),n.Rd(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc()}if(2&e){const e=n.Ed(4),t=n.gd(5);n.pd("ngClass",t.response.hasTilefono?"col-md-12":"col-md-6"),n.Ac(3),n.pd("ngModel",t.model.email),n.Ac(2),n.pd("hidden",!t.isFormPaySubmitted||t.isFormPaySubmitted&&e.valid)}}function gt(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",53),n.Tc(1,"label"),n.Rd(2,"\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf*"),n.Sc(),n.Tc(3,"input",56,57),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(5).model.tilefono=t})),n.Sc(),n.Tc(5,"div",17),n.Rd(6," *\u03a4\u03bf \u03ba\u03b9\u03bd\u03b7\u03c4\u03cc \u03c4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03ad\u03c7\u03b5\u03b9 10 \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 69\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7. "),n.Sc(),n.Sc()}if(2&e){const e=n.Ed(4),t=n.gd(5);n.pd("ngClass",t.response.hasEmail?"col-md-12":"col-md-6"),n.Ac(3),n.pd("ngModel",t.model.tilefono),n.Ac(2),n.pd("hidden",!t.isFormPaySubmitted||t.isFormPaySubmitted&&e.valid)}}function ft(e,t){if(1&e&&(n.Tc(0,"div",10),n.Pd(1,ut,7,3,"div",52),n.Pd(2,gt,7,3,"div",52),n.Sc()),2&e){const e=n.gd(4);n.Ac(1),n.pd("ngIf",!e.response.hasEmail),n.Ac(1),n.pd("ngIf",!e.response.hasTilefono)}}function yt(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",10),n.Tc(1,"div",58),n.Tc(2,"label"),n.Rd(3,"\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7*"),n.Sc(),n.Tc(4,"input",59,60),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(4).model.address=t})),n.Sc(),n.Tc(6,"div",17),n.Rd(7," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Tc(8,"div",61),n.Tc(9,"label"),n.Rd(10,"\u03a4.\u039a.*"),n.Sc(),n.Tc(11,"input",62,63),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(4).model.tk=t})),n.Sc(),n.Tc(13,"div",17),n.Rd(14," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Tc(15,"div",20),n.Tc(16,"label"),n.Rd(17,"\u03a0\u03cc\u03bb\u03b7*"),n.Sc(),n.Tc(18,"input",64,65),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(4).model.poli=t})),n.Sc(),n.Tc(20,"div",17),n.Rd(21," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Tc(22,"div",14),n.Tc(23,"label"),n.Rd(24,"\u03a7\u03ce\u03c1\u03b1*"),n.Sc(),n.Tc(25,"ng-select",66,67),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(4).model.countryId=t})),n.Sc(),n.Tc(27,"div",17),n.Rd(28," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Sc()}if(2&e){const e=n.Ed(5),t=n.Ed(12),i=n.Ed(19),s=n.gd(4);n.Ac(4),n.pd("ngModel",s.model.address),n.Ac(2),n.pd("hidden",!s.isFormPaySubmitted||s.isFormPaySubmitted&&e.valid),n.Ac(5),n.pd("ngModel",s.model.tk),n.Ac(2),n.pd("hidden",!s.isFormPaySubmitted||s.isFormPaySubmitted&&t.valid),n.Ac(5),n.pd("ngModel",s.model.poli),n.Ac(2),n.pd("hidden",!s.isFormPaySubmitted||s.isFormPaySubmitted&&i.valid),n.Ac(5),n.pd("items",s.countriesList)("virtualScroll",!0)("searchable",!0)("ngModel",s.model.countryId),n.Ac(2),n.pd("hidden",!s.isFormPaySubmitted||s.isFormPaySubmitted&&s.model.countryId)}}function bt(e,t){if(1&e&&n.Oc(0,"div",30),2&e){const e=n.gd(4);n.pd("innerHTML",e.formErrorsMsgPay,n.Hd)}}function St(e,t){if(1&e){const e=n.Uc();n.Tc(0,"form",36,37),n.Pd(2,mt,15,4,"div",38),n.Pd(3,ft,3,2,"div",38),n.Pd(4,yt,29,11,"div",38),n.Tc(5,"div",39),n.Tc(6,"button",40),n.ed("click",(function(){n.Gd(e);return n.gd(3).onCreatePaymentRequest()})),n.Oc(7,"i",41),n.Rd(8," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),n.Sc(),n.Tc(9,"div",42),n.Oc(10,"img",43),n.Oc(11,"img",44),n.Oc(12,"img",45),n.Oc(13,"img",46),n.Oc(14,"img",47),n.Sc(),n.Sc(),n.Pd(15,bt,1,1,"div",28),n.Sc()}if(2&e){const e=n.gd(3);n.Ac(2),n.pd("ngIf",!e.response.hasOfeileti&&e.response.isOfeiletisPay),n.Ac(1),n.pd("ngIf",!e.response.hasEmail||!e.response.hasTilefono),n.Ac(1),n.pd("ngIf",!e.response.hasDieuthinsi),n.Ac(9),n.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa-secure.svg",n.Id),n.Ac(1),n.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard-idcheck.svg",n.Id),n.Ac(1),n.pd("ngIf",e.formErrorsMsgPay&&""!=e.formErrorsMsgPay)}}function kt(e,t){if(1&e&&(n.Rc(0),n.Pd(1,pt,2,4,"div",34),n.Pd(2,St,16,6,"form",35),n.Qc()),2&e){const e=n.gd(2);n.Ac(1),n.pd("ngIf",e.requestMsg&&""!=e.requestMsg),n.Ac(1),n.pd("ngIf",e.response.canPay)}}function Pt(e,t){if(1&e){const e=n.Uc();n.Rc(0),n.Tc(1,"form",8,9),n.Tc(3,"div",10),n.Tc(4,"div",11),n.Tc(5,"p-checkbox",12,13),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().model.isForeign=t})),n.Sc(),n.Sc(),n.Tc(7,"div",14),n.Tc(8,"label"),n.Rd(9,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2*"),n.Sc(),n.Tc(10,"input",15,16),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().model.arithmosKlisis=t})),n.Sc(),n.Tc(12,"div",17),n.Rd(13," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03ad\u03c0\u03bf\u03bd\u03c4\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03bc\u03ad\u03c7\u03c1\u03b9 12 \u03b1\u03c1\u03b9\u03b8\u03bc\u03bf\u03af. "),n.Sc(),n.Sc(),n.Tc(14,"div",14),n.Tc(15,"label"),n.Rd(16,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2*"),n.Sc(),n.Tc(17,"input",18,19),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().model.arithmosKikloforias=t})),n.Sc(),n.Tc(19,"div",17),n.Rd(20," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Tc(21,"div",20),n.Tc(22,"label"),n.Rd(23,"\u0388\u03c4\u03bf\u03c2 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2*"),n.Sc(),n.Tc(24,"input",21,22),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().model.etos=t})),n.Sc(),n.Tc(26,"div",17),n.Rd(27),n.Sc(),n.Sc(),n.Sc(),n.Tc(28,"div",23),n.Tc(29,"button",24),n.ed("click",(function(){n.Gd(e);return n.gd().onCheckKlisi()})),n.Oc(30,"i",25),n.Rd(31," \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7"),n.Sc(),n.Tc(32,"button",26),n.ed("click",(function(){n.Gd(e);return n.gd().onCancel()})),n.Oc(33,"i",27),n.Rd(34," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7"),n.Sc(),n.Sc(),n.Pd(35,lt,1,1,"div",28),n.Sc(),n.Pd(36,ht,3,0,"div",29),n.Pd(37,kt,3,2,"ng-container",3),n.Qc()}if(2&e){const e=n.Ed(11),t=n.Ed(18),i=n.Ed(25),s=n.gd();n.Ac(5),n.pd("ngModel",s.model.isForeign)("disabled",s.response&&s.response.canPay),n.Ac(5),n.pd("ngModel",s.model.arithmosKlisis)("disabled",s.response&&s.response.canPay),n.Ac(2),n.pd("hidden",!s.isFormSubmitted||s.response||s.isFormSubmitted&&e.valid),n.Ac(5),n.pd("ngModel",s.model.arithmosKikloforias)("disabled",s.response&&s.response.canPay),n.Ac(2),n.pd("hidden",!s.isFormSubmitted||s.response||s.isFormSubmitted&&t.valid),n.Ac(5),n.pd("ngModel",s.model.etos)("disabled",s.response&&s.response.canPay),n.Ac(2),n.pd("hidden",!s.isFormSubmitted||s.response||s.isFormSubmitted&&i.valid),n.Ac(1),n.Td(" \u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf & \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 \u03a7\u03a7\u03a7\u03a7 \u03cc\u03c0\u03bf\u03c5 \u03a7 \u03bc\u03cc\u03bd\u03bf \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bc\u03b9\u03ba\u03c1\u03cc\u03c4\u03b5\u03c1\u03bf \u03ae \u03af\u03c3\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf ",s.thisYear,". "),n.Ac(8),n.pd("ngIf",s.formErrorsMsg&&""!=s.formErrorsMsg),n.Ac(1),n.pd("ngIf",s.isLoading),n.Ac(1),n.pd("ngIf",s.response&&!s.isLoading)}}const vt={firstDayOfWeek:1,dayNames:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf"],dayNamesShort:["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5\u03c4","\u03a4\u03b5\u03c4","\u03a4\u03c1","\u03a0\u03b5\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03b1\u03b2"],dayNamesMin:["\u039a","\u0394","\u03a4","\u03a4","\u03a0","\u03a0","\u03a3"],monthNames:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],monthNamesShort:["\u0399\u03b1\u03bd","\u03a6\u03b5\u03b2","\u039c\u03ac\u03c1","\u0391\u03c0\u03c1","\u039c\u03ac\u03b9","\u0399\u03bf\u03cd","\u0399\u03bf\u03cd","\u0391\u03cd\u03b3","\u03a3\u03b5\u03c0","\u039f\u03ba\u03c4","\u039d\u03bf\u03ad","\u0394\u03b5\u03ba"],today:"\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1",clear:"\u039a\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"},Ct=`${(new Date).getFullYear()-50}:${(new Date).getFullYear()+50}`;function At(e){return e.setHours(e.getHours()-e.getTimezoneOffset()/60),e}function Tt(e){try{e.detectChanges()}catch(t){}}function It(e,t,i){let s="";const n=[],o=e.control;return Object.keys(o.controls).forEach(e=>{const t=o.get(e);t instanceof m.d&&n.push(...function e(t){const i=[];return Object.keys(t.controls).forEach(s=>{const n=t.get(s);n instanceof m.d&&i.push(...e(n));const o=n.errors;o&&Object.keys(o).forEach(e=>{i.push({control:s,error:e,value:o[e]})})}),i}(t));const i=t.errors;i&&Object.keys(i).forEach(t=>{n.push({control:e,error:t,value:i[t]})})}),!(!n&&!i)&&(s="<ul>",n.forEach(e=>{let i,n=e.control.split("-")[0];"required"==e.error?i="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"minlength"==e.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"maxlength"==e.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03ad\u03b3\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"afmvalidator"==e.error&&(i="\u039f \u0391.\u03a6.\u039c. \u03b4\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9"),s+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+t[n]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+i+"</li>"}),s+=i,s+="</ul>",s)}function Rt(e){let t=new RegExp("^[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7]{2}[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7 ][0-9]{4}$"),i=new RegExp("^[\u0394\u039f\u039a][0-9]{4}$");return!(!t.test(e)&&!i.test(e))}function Ot(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toUpperCase()).replace("A","\u0391")).replace("B","\u0392")).replace("E","\u0395")).replace("H","\u0397")).replace("I","\u0399")).replace("K","\u039a")).replace("M","\u039c")).replace("N","\u039d")).replace("O","\u039f")).replace("P","\u03a1")).replace("T","\u03a4")).replace("X","\u03a7")).replace("Y","\u03a5")).replace("Z","\u0396")}function wt(e){return e&&""!=e.trim().toString()&&(e=function(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toUpperCase()).replace(new RegExp("\u0393","g"),"")).replace(new RegExp("\u0394","g"),"")).replace(new RegExp("\u0398","g"),"")).replace(new RegExp("\u039b","g"),"")).replace(new RegExp("\u039e","g"),"")).replace(new RegExp("\u03a0","g"),"")).replace(new RegExp("\u03a3","g"),"")).replace(new RegExp("\u03a6","g"),"")).replace(new RegExp("\u03a8","g"),"")).replace(new RegExp("\u03a9","g"),"")).replace(new RegExp("C","g"),"")).replace(new RegExp("D","g"),"")).replace(new RegExp("F","g"),"")).replace(new RegExp("G","g"),"")).replace(new RegExp("J","g"),"")).replace(new RegExp("L","g"),"")).replace(new RegExp("Q","g"),"")).replace(new RegExp("R","g"),"")).replace(new RegExp("S","g"),"")).replace(new RegExp("U","g"),"")).replace(new RegExp("V","g"),"")).replace(new RegExp("W","g"),"")}(e)),e}function Mt(e,t){let i="";if(e.error instanceof Error&&e.error&&e.error.message||void 0!==e.error&&e.error&&e.error.message)i=""+e.error.message;else switch(e.status){case 400:i=e.error;break;case 403:i="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. \n";break;case 401:i="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. \n",setTimeout(()=>window.location.reload(),1e3);break;default:i=`\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1 \u03bc\u03b5 \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc ${e.status}, \u03ba\u03b1\u03b9 \u03c0\u03b5\u03c1\u03b9\u03b5\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf: ${void 0!==e.body?e.body.error:void 0!==e.message?e.message:""}`}return console.log("ERRORING: ",e),t.showError("\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1",""+i),Object(a.a)(!1)}class xt{constructor(e){this.toastrSrv=e}show(e,t,i){t&&this.toastrSrv[i](t,e,{progressBar:!0,onActivateTick:!0})}showError(e,t){this.show(e,t,"error")}showInfo(e,t){this.show(e,t,"info")}showSuccess(e,t){this.show(e,t,"success")}showWarning(e,t){this.show(e,t,"warning")}}xt.\u0275fac=function(e){return new(e||xt)(n.bd(u.b))},xt.\u0275prov=Object(n.Jc)({factory:function(){return new xt(Object(n.bd)(u.b))},token:xt,providedIn:"root"}),xt.ctorParameters=()=>[{type:u.b}];class Et{constructor(e){this.toasterSrv=e,this.catchBadResponse=e=>{let t="";if(e.error instanceof Error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else if(void 0!==e.error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else switch(e.status){case 403:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error "+e.status;break;case 401:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n "+e.status;break;default:t=`Backend returned code ${e.status}, body was: ${void 0!==e.body?e.body.error:void 0!==e.message?e.message:""}`}return this.toasterSrv.showError("",""+t),Object(a.a)(!1)}}}Et.\u0275fac=function(e){return new(e||Et)(n.bd(xt))},Et.\u0275prov=Object(n.Jc)({factory:function(){return new Et(Object(n.bd)(xt))},token:Et,providedIn:"root"}),Et.ctorParameters=()=>[{type:xt}];class _t extends class{constructor(e,t,i){this.http=e,this.exceptionService=t,this.toasterSrv=i,this.getBaseUrl=()=>this.baseUrl,AppConfOptions&&AppConfOptions.kliseis_api?(this.baseUrl=AppConfOptions.kliseis_api,this.financeUrl=AppConfOptions.epayments_api):(this.baseUrl="/",this.financeUrl=AppConfOptions.financeApi),this.baseUrl+="api",this.financeUrl+="api"}}{constructor(e,t,i){super(i,e,t),this.exceptionSrv=e,this.toasterSrv=t,this.http=i,this.kliseisUrl=this.baseUrl+"/KliseisWeb",this.kliseisFinanceUrl=this.baseUrl+"/Finance"}getKliseis(e){return this.http.get(`${this.kliseisUrl}/GetKliseisWebByAfm/${e}`).pipe(Object(d.a)(e=>e),Object(l.a)(e=>Mt(e,this.toasterSrv)))}getKliseisPayed(e){return this.http.get(`${this.kliseisUrl}/GetKliseisPayedWebByAfm/${e}`).pipe(Object(d.a)(e=>e),Object(l.a)(e=>Mt(e,this.toasterSrv)))}getKlisiById(e){return this.http.get(`${this.kliseisUrl}/GetById/${e}`).pipe(Object(d.a)(e=>e),Object(l.a)(e=>Mt(e,this.toasterSrv)))}getStoixeiaKlisisForWebPliromi(e){return this.http.post(this.kliseisUrl+"/GetStoixeiaKlisisForWebPliromi/",e).pipe(Object(d.a)(e=>e),Object(l.a)(e=>Mt(e,this.toasterSrv)))}getStoixeiaKlisisForWebPliromiEtos(e){return this.http.post(this.kliseisUrl+"/GetStoixeiaKlisisForWebPliromiEtos/",e).pipe(Object(d.a)(e=>e),Object(l.a)(e=>Mt(e,this.toasterSrv)))}createKlisiWebAsync(e){const t=this.kliseisUrl+"/CreateKlisiWebAsync";return this.http.post(t,e).pipe(Object(d.a)(e=>e),Object(l.a)(e=>Mt(e,this.toasterSrv)))}markKlisiWebExoflisi(e){const t=this.kliseisUrl+"/MarkKlisiWebExoflisi";return this.http.post(t,e).pipe(Object(d.a)(e=>e),Object(l.a)(e=>Mt(e,this.toasterSrv)))}addPaymentRequest(e){const t=this.financeUrl+"/Banks/AddPaymentRequest";return this.http.post(t,e).pipe(Object(d.a)(e=>e),Object(l.a)(e=>Mt(e,this.toasterSrv)))}getFinancePaymentCallback(e){return this.http.get(`${this.kliseisUrl}/GetFinancePaymentCallback?btId=${e.btId}&returnUrl=${e.returnUrl}&status=${e.status}&messagecode=${e.messagecode}`).pipe(Object(d.a)(e=>e),Object(l.a)(e=>Mt(e,this.toasterSrv)))}fillPaymentRequestDtoNonAuthorized(e){const t=this.kliseisFinanceUrl+"/FillPaymentRequestDtoNonAuthorized";return this.http.post(t,e).pipe(Object(d.a)(e=>e),Object(l.a)(e=>Mt(e,this.toasterSrv)))}fillPaymentRequestAuthorized(e){const t=this.kliseisFinanceUrl+"/FillPaymentRequestDtoAuthorized";return this.http.post(t,e).pipe(Object(d.a)(e=>e),Object(l.a)(e=>Mt(e,this.toasterSrv)))}getPaymentSettings(){let e=this.baseUrl+"/oikonomiki/GetPaymentSettings";return this.paymentSettings?Object(a.a)(this.paymentSettings):this.http.get(e).pipe(Object(d.a)(e=>(this.paymentSettings=e,e)),Object(l.a)(e=>Mt(e,this.toasterSrv)))}getPluginCustomerOptions(){const e=this.baseUrl+"/Configurations"+"/GetPluginCustomerSpecificOptions";return this.http.get(e).pipe(Object(d.a)(e=>e),Object(l.a)(e=>Mt(e,this.toasterSrv)))}}_t.\u0275fac=function(e){return new(e||_t)(n.bd(Et),n.bd(xt),n.bd(o.b))},_t.\u0275prov=Object(n.Jc)({factory:function(){return new _t(Object(n.bd)(Et),Object(n.bd)(xt),Object(n.bd)(o.b))},token:_t,providedIn:"root"}),_t.ctorParameters=()=>[{type:Et},{type:xt},{type:o.b}];class Dt{constructor(e){this.http=e,this.isAuthorizedSubject=new r.a(null),this.isAuthorized$=this.isAuthorizedSubject.asObservable(),this.userInfoSubject=new r.a(null),this.userInfo$=this.userInfoSubject.asObservable(),this.applicationOptionsSubject=new r.a(null),this.applicationOptions$=this.applicationOptionsSubject.asObservable(),this.customerSpecificOptionsSubject=new r.a(null),this.customerSpecificOptions$=this.customerSpecificOptionsSubject.asObservable(),this.pluginCustomerSpecificOptionsSubject=new r.a(null),this.pluginCustomerSpecificOptions$=this.pluginCustomerSpecificOptionsSubject.asObservable(),AppConfOptions&&AppConfOptions.kliseis_api?this.baseUrl=AppConfOptions.kliseis_api:this.baseUrl="/",this.baseUrl+="api",this.egOnInit()}egOnInit(){this.isAuthorized$.subscribe(e=>{this.isAuthorized=e}),this.userInfo$.subscribe(e=>{this.userInfo=e}),this.applicationOptions$.subscribe(e=>{this.applicationOptions=e}),this.customerSpecificOptions$.subscribe(e=>{this.customerSpecificOptions=e}),this.pluginCustomerSpecificOptions$.subscribe(e=>{this.pluginCustomerSpecificOptions=e})}initIsAuthorized(){if(!this.isAuthorized){let e;for(let t=0;t<window.localStorage.length;t++){const i=window.localStorage.key(t);"_isAuthorized"===i.slice(0,13)&&(e=JSON.parse(window.localStorage.getItem(i)),this.isAuthorizedSubject.next(e))}}}initUserInfo(){if(!this.userInfo){let e=null;for(let t=0;t<window.localStorage.length;t++){const i=window.localStorage.key(t);"userData"===i.slice(0,8)&&(e=JSON.parse(window.localStorage.getItem(i)),this.userInfoSubject.next({email:e.email,username:e.given_name,tin:e.tin,family_name:e.family_name,given_name:e.given_name,fathers_name:e.fathers_name,mothers_name:e.mothers_name,name:e.name,address_city:e.address_city,address_country_code:e.address_country_code,address_zip:e.address_zip,address:e.address,adt:e.adt,phone_number:e.phone_number}))}}}iniApplicationOptions(){if(!this.applicationOptions){const e=this.baseUrl+"/Configurations/GetAllOptions";this.http.get(e).subscribe(e=>{e&&this.applicationOptionsSubject.next(e)})}}initCustomerSpecificOptions(){if(!this.customerSpecificOptions){const e=this.baseUrl+"/Configurations/GetCustomerSpecificOptions";this.http.get(e).subscribe(e=>{e&&this.customerSpecificOptionsSubject.next(e)})}}initPluginCustomerSpecificOptions(){if(!this.pluginCustomerSpecificOptions){const e=this.baseUrl+"/Configurations/GetPluginCustomerSpecificOptions";this.http.get(e).subscribe(e=>{e&&this.pluginCustomerSpecificOptionsSubject.next(e)})}}}Dt.\u0275fac=function(e){return new(e||Dt)(n.bd(o.b))},Dt.\u0275prov=Object(n.Jc)({factory:function(){return new Dt(Object(n.bd)(o.b))},token:Dt,providedIn:"root"}),Dt.ctorParameters=()=>[{type:o.b}];class Ut{constructor(e,t,i,s,n,o,a){this.kliseisNgSrv=e,this.pluginCacheSrv=t,this.toasterSrv=i,this._http=s,this.router=n,this.route=o,this.cdr=a,this.onDestroy=new c.a,this.paymentResponseDto=null,this.countriesList=[],this.index=0,this.isAddingKlisi=!1,this.isDataChanged=!1,this.isAuthorized=!1,this.isLoadingPaymentRequest=!1,this.applicationUrl="",this.kliseisApiUrl="",this.financeApiUrl="",this.returnUrl="",this.onTbChanged=!1,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.kliseisApiUrl=AppConfOptions.kliseis_api,this.financeApiUrl=AppConfOptions.epayments_api,this.returnUrl=encodeURI(this.applicationUrl+"/kliseis/receipts")):(this.applicationUrl=AppConfOptions.applicationUrl,this.kliseisApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi,this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts"))}ngOnInit(){this.pluginCacheSrv.initIsAuthorized(),this.pluginCacheSrv.initUserInfo(),this.pluginCacheSrv.isAuthorized$.pipe(Object(h.a)(e=>(this.isAuthorized=e||!1,this.isAuthorized?(this.router.url.includes("receipts")?this.onTabChanged({index:1}):this.onTabChanged({index:0}),this.pluginCacheSrv.userInfo$):Object(a.a)(!1))),Object(h.a)(e=>e?(this.userInfo=e,"undefined"!=typeof AuthConfOptions?this._http.get(AuthConfOptions.stsServer+"/api/general/GetCountries"):this._http.get("http://auth.dev.egritosgroup.gr/api/general/GetCountries")):Object(a.a)(!1)),Object(h.a)(e=>e?(this.countriesList=e,this.userInfo.address_country_code&&""!=this.userInfo.address_country_code&&(this.userInfo.address_country_num=this.countriesList.find(e=>e.Alpha2Code==this.userInfo.address_country_code).NumericCode.toString()),this.kliseisNgSrv.getPluginCustomerOptions()):Object(a.a)(!1)),Object(p.a)(this.onDestroy)).subscribe(e=>{if(e){let t=e;t.configurationOptions&&t.configurationOptions.length&&t.configurationOptions.some(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id)&&(this.onlinePaymentsSettingsCompany=t.configurationOptions.find(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id).value)}Tt(this.cdr)}),this.router.events.pipe(Object(p.a)(this.onDestroy)).subscribe(e=>{if(e&&e instanceof g.c){let t=e.url;this.isAuthorized&&(t.includes("receipts")?this.index=1:this.index=0)}})}ngOnDestroy(){this.onDestroy.next()}ngAfterViewInit(){this.router.url.includes("receipts")?this.index=1:this.index=0,Tt(this.cdr)}onTabChanged(e){0==e.index?this.router.navigate(["./debits"],{relativeTo:this.route}):(this.onTbChanged=!0,Tt(this.cdr),this.router.navigate(["./receipts"],{relativeTo:this.route,preserveQueryParams:!0}))}onAddKlisiClicked(){this.isAddingKlisi=!0,Tt(this.cdr)}_klisiAdded(e){this.isDataChanged=!0,this.isAddingKlisi=!1,Tt(this.cdr)}}Ut.\u0275fac=function(e){return new(e||Ut)(n.Nc(_t),n.Nc(Dt),n.Nc(xt),n.Nc(o.b),n.Nc(g.d),n.Nc(g.a),n.Nc(n.k))},Ut.\u0275cmp=n.Hc({type:Ut,selectors:[["lib-kliseis-ng"]],decls:4,vars:6,consts:[[4,"ngIf"],["header","\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u039d\u03ad\u03b1\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange"],[3,"userInfo","isLoadingPaymentRequest","relatedCallbackUrl","klisiAdded",4,"ngIf"],["class","d-flex justify-content-end mb-1",4,"ngIf"],[3,"activeIndex","onChange"],["header","\u0391\u03c0\u03bb\u03ae\u03c1\u03c9\u03c4\u03b5\u03c2 \u039a\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2"],[3,"isDataChanged","userInfo","onlinePaymentsSettingsCompany"],["header","\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd \u039a\u03bb\u03ae\u03c3\u03b5\u03c9\u03bd"],["pTemplate","content"],[1,"d-flex","justify-content-end","mb-1"],["type","button",1,"btn","btn-sm","btn-info",3,"click"],["aria-hidden","true",1,"fas","fa-plus","fa-fw"],[3,"tabChanged","changeTabIndex"],[3,"userInfo","isLoadingPaymentRequest","relatedCallbackUrl","klisiAdded"]],template:function(e,t){1&e&&(n.Pd(0,x,2,0,"ng-container",0),n.Pd(1,D,7,5,"ng-container",0),n.Tc(2,"p-dialog",1),n.ed("visibleChange",(function(e){return t.isAddingKlisi=e})),n.Pd(3,U,1,3,"lib-kliseis-add-new",2),n.Sc()),2&e&&(n.pd("ngIf",!t.isAuthorized),n.Ac(1),n.pd("ngIf",t.isAuthorized&&t.userInfo),n.Ac(1),n.pd("visible",t.isAddingKlisi)("draggable",!1)("closable",!0),n.Ac(1),n.pd("ngIf",t.isAddingKlisi&&t.userInfo))},directives:function(){return[f.p,C.a,ei,O.b,O.a,Jt,M.f,Xt,Qt]},encapsulation:2,changeDetection:0}),Ut.ctorParameters=()=>[{type:_t},{type:Dt},{type:xt},{type:o.b},{type:g.d},{type:g.a},{type:n.k}];class qt{constructor(e,t){this.oidcSecuritySrv=e,this.router=t}canActivate(e,t){return this.oidcSecuritySrv.getIsAuthorized().pipe(Object(d.a)(e=>!!e))}}qt.\u0275fac=function(e){return new(e||qt)(n.bd(w.c),n.bd(g.d))},qt.\u0275prov=n.Jc({token:qt,factory:qt.\u0275fac}),qt.ctorParameters=()=>[{type:w.c},{type:g.d}];var Kt,Ft,jt,Lt;!function(e){e[e.apliroti=1]="apliroti",e[e.exoflimeni=2]="exoflimeni",e[e.akiri=3]="akiri",e[e.diagrafiDS=4]="diagrafiDS",e[e.apoWeb=5]="apoWeb",e[e.exoflisiWeb=6]="exoflisiWeb"}(Kt||(Kt={}));class Nt{constructor(){this.arithmosKlisis=null,this.hmerominiaEkdosis=null,this.arithmosKikloforias=null,this.oraEkdosis=null,this.poso=null,this.etos=null,this.isAuthorized=!0,this.debtorName=null,this.tin=null,this.email=null,this.tilefono=null,this.address=null,this.tk=null,this.poli=null,this.isForeign=!1,this.cardholderName=null}}class zt{constructor(){this.bankTransactionId=null,this.tin=null,this.adt=null,this.debtorName=null,this.address_city=null,this.address_country_code=null,this.address_zip=null,this.address=null,this.email=null,this.phone_number=null}}class Gt{constructor(){this.remittanceInfo=null,this.amount=null,this.debtorName=null,this.tin=null,this.description=null}}class $t{constructor(){this.remittanceInfo=null,this.eponimia=null,this.tinRelated=null,this.billingAddress=null,this.billingAddressZip=null,this.billingAddressCity=null,this.billingAddressCountryCode=null,this.billingAddressState=null,this.userEmail=null,this.userPhone=null,this.userHomePhone=null,this.userWorkPhone=null,this.cardholderName=null,this.relatedCallbackUrl=null,this.paymentMethodKey=null}}class Bt{constructor(){this.btId=null,this.returnUrl=null,this.status=null,this.messagecode=null}}!function(e){e[e.Ok=1]="Ok",e[e.Error=2]="Error",e[e.Warning=3]="Warning",e[e.UndefinedError=4]="UndefinedError"}(Ft||(Ft={})),function(e){e.arithmosKlisis="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2",e.arithmosKikloforias="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2",e.poso="\u03a0\u03bf\u03c3\u03cc",e.etosKlisis="\u0388\u03c4\u03bf\u03c2 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2",e.email="Email",e.tilefono="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf",e.address="\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7",e.tk="\u03a4.\u039a.",e.poli="\u03a0\u03cc\u03bb\u03b7",e.hmerominiaEkdosis="\u0397\u03bc. \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2",e.debtorName="\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1",e.tin="\u0391.\u03a6.\u039c.",e.egsCountry="\u03a7\u03ce\u03c1\u03b1",e.cardHolderName="\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2"}(jt||(jt={})),function(e){e.billAddrState="\u03a0\u03b5\u03c1\u03b9\u03c6\u03ad\u03c1\u03b5\u03b9\u03b1",e.cardholderName="\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2",e.mobilePhone="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf"}(Lt||(Lt={}));class Wt{constructor(e,t,i){this.kliseisNgSrv=e,this.toasterSrv=t,this.cdr=i,this.isUnauthorized=!1,this.loadingCheckout=new n.x,this.onDestroy=new c.a,this.requestBankData=!1,this.errorMessageProfile=null,this.isFormSubmitted=!1,this.formDictionaryEnum=Lt}ngOnChanges(e){e&&e.onlinePaymentSettings&&(this.onlinePaymentSettings=e.onlinePaymentSettings.currentValue,this.onlinePaymentSettings&&this.onlinePaymentSettings.paymentMethods&&(this.pancretaPaymentMethod=this.onlinePaymentSettings.paymentMethods.find(e=>"STPGGRAA"==e.key),document.getElementById("script_1_pancreta")||this.pancretaPaymentMethod&&this._loadPancretaScripts(this.pancretaPaymentMethod),this.ethnikiPaymentMethod=this.onlinePaymentSettings.paymentMethods.find(e=>"ETHNGRAA"==e.key),document.getElementById("script_1_ethniki")||this.ethnikiPaymentMethod&&this.ethnikiPaymentMethod.parameters&&this._loadEthnikiScripts(this.ethnikiPaymentMethod)),Tt(this.cdr)),e&&e.paymentRequestDto&&(this.isUnauthorized?(this.unauthorizedPaymentRequestDto=e.paymentRequestDto.currentValue,this.paymentRequestDto=void 0,this.unauthorizedPaymentRequestDto&&this._checkPaymentRequest()):(this.paymentRequestDto=e.paymentRequestDto.currentValue,this.paymentRequestDto&&this._checkPaymentRequest()),Tt(this.cdr))}onSelectPaymentMethod(e){this.selectedPaymentMethod=e||this.onlinePaymentSettings.paymentMethods.filter(e=>e.key==this.onlinePaymentSettings.defaultPaymentMethodKey)[0],this.paymentRequestDto&&(this.paymentRequestDto.paymentMethodKey=this.paymentRequestDto?this.selectedPaymentMethod.key:null),this.unauthorizedPaymentRequestDto&&(this.unauthorizedPaymentRequestDto.paymentMethodKey=this.unauthorizedPaymentRequestDto?this.selectedPaymentMethod.key:null),this.paymentRequestDto||this.unauthorizedPaymentRequestDto?(this.showMethods=!1,Tt(this.cdr),this._submitPayment()):(this.showMethods=!1,Tt(this.cdr))}onEthnikiPaymentRequestSucceded(e){this.paymentResponseDto=e;let t=document.getElementById("ethnikiPaymentBtn");t.setAttribute("data-amount",e.postFields.amount),t.setAttribute("data-reference",e.postFields.reference),t.setAttribute("data-sc-key",this.ethnikiPaymentMethod.parameters.publicKey),setTimeout(()=>{t.click()}),SimplifyCommerce.hostedPayments(t=>{if(t){var i="data"in t;if("close"in t&&1==t.close){let t=document.createElement("input");t.setAttribute("name","PaymentStatus"),t.setAttribute("value","CLOSED"),t.setAttribute("type","text"),t.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(t);let i=document.createElement("input");i.setAttribute("name","Reference"),i.setAttribute("value",e.postFields.reference),i.setAttribute("type","text"),i.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(i),setTimeout(()=>{this._submiToOikonomiki()})}else if(i){let i=t;for(var s in i)if(i.hasOwnProperty(s)&&"data"==s)for(var n in i.data)i.data.hasOwnProperty(n)&&"object"==typeof i.data[n]&&delete i.data[n];("ErrorCode"in i||"declineReason"in i)&&(i.Reference=e.postFields.reference);for(let e of Object.keys(i))if("object"==typeof i[e])for(let t of Object.keys(i[e])){let s=i[e][t],n=document.createElement("input");n.setAttribute("name",t),n.setAttribute("value",s),n.setAttribute("type","text"),n.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(n)}else{let t=i[e],s=document.createElement("input");s.setAttribute("name",e),s.setAttribute("value",t),s.setAttribute("type","text"),s.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(s)}this.loadingCheckout.emit(!1),setTimeout(()=>{this._submiToOikonomiki()})}}},{operation:"create.payment",scKey:this.ethnikiPaymentMethod.parameters.publicKey,color:"#204969",currency:"EUR",amount:e.postFields.amount,reference:e.postFields.reference,masterpass:e.postFields.masterpass})}onPancretaPaymentRequestSucceded(e){this.paymentResponseDto=e,Tt(this.cdr);let t=document.createElement("script");t.id="script_2_pancreta",document.body.appendChild(t),document.getElementById("script_2_pancreta").innerHTML='var everypay = Everypay("'+this.pancretaPaymentMethod.parameters.publicKey+'", { locale: "el" });',this.loadingCheckout.emit(!1),setTimeout(()=>{let t=document.createElement("script");t.id="script_3_pancreta",document.body.appendChild(t),document.getElementById("script_3_pancreta").innerHTML=`everypay.button("#everypay-btn-container", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"amount": ${e.postFields.amount},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"locale": "el",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"on_token_received": function(token, showError, hideForm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (token) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_token").value = token;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_form").submit();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\tdocument.getElementById("everypay-btn-container").querySelectorAll("button")[0].click();`})}_checkPaymentRequest(){this.selectedPaymentMethod||(this.onlinePaymentSettings&&this.onlinePaymentSettings.defaultPaymentMethodKey?this.selectedPaymentMethod=this.onlinePaymentSettings.paymentMethods.filter(e=>e.key==this.onlinePaymentSettings.defaultPaymentMethodKey)[0]:this.onlinePaymentSettings&&1==this.onlinePaymentSettings.paymentMethods.length&&(this.selectedPaymentMethod=this.onlinePaymentSettings.paymentMethods[0])),(this.paymentRequestDto||this.unauthorizedPaymentRequestDto)&&this.selectedPaymentMethod?(this.paymentRequestDto?this.paymentRequestDto.paymentMethodKey=this.selectedPaymentMethod.key:this.unauthorizedPaymentRequestDto&&(this.unauthorizedPaymentRequestDto.paymentMethodKey=this.selectedPaymentMethod.key),this.onSelectPaymentMethod(this.selectedPaymentMethod)):(this.paymentRequestDto||this.unauthorizedPaymentRequestDto)&&this.onlinePaymentSettings&&!this.selectedPaymentMethod&&setTimeout(()=>{this.showMethods=!0,this.isLoadingPaymentResponse=!1,Tt(this.cdr)})}_postBankForm(e){if("ETHNGRAA"==this.selectedPaymentMethod.key&&null!=this.selectedPaymentMethod.parameters)this.onEthnikiPaymentRequestSucceded(e);else if("STPGGRAA"==this.selectedPaymentMethod.key)this.onPancretaPaymentRequestSucceded(e);else{var t=Object.keys(e.postFields).map((function(t){return{key:t,value:e.postFields[t]}}));e.postFields=t,this.paymentResponseDto=e,Tt(this.cdr),this.loadingCheckout.emit(!1),setTimeout(()=>{document.querySelector("#bankPaymentForm").submit(),this.isLoadingPaymentResponse=!1,Tt(this.cdr)})}}_submiToOikonomiki(){document.querySelector("#ethniki_form").submit()}_loadEthnikiScripts(e){return new Promise((t,i)=>{const s=document.createElement("script");s.id="script_1_ethniki",s.src=e.parameters.javaScriptSource,s.onload=t,document.body.appendChild(s)})}_loadPancretaScripts(e){return new Promise((t,i)=>{const s=document.createElement("script");s.id="script_1_pancreta",s.src=e.parameters.javaScriptSource,s.onload=t,document.body.appendChild(s)})}_submitPayment(){this.paymentRequestDto?this.kliseisNgSrv.addPaymentRequest(this.paymentRequestDto).subscribe(e=>{if(e){let t=e;this.paymentResponseDto=t.model,t.statusCode==Ft.Ok?t.model.getUrl&&""!=t.model.getUrl?t.model.getUrl&&""!=t.model.getUrl&&window.open(t.model.getUrl,"_self"):this._postBankForm(t.model):t.statusCode==Ft.Error&&"DEBTOR_ADDRESS_REQUIRED"==t.messageId&&(this.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",this.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb."))}this.isLoadingPaymentResponse=!1,Tt(this.cdr)}):this.unauthorizedPaymentRequestDto&&this.kliseisNgSrv.fillPaymentRequestDtoNonAuthorized(this.unauthorizedPaymentRequestDto).subscribe(e=>{if(e){let t=e;t.statusCode&&t.statusCode==Ft.Ok&&t.model?t.model.getUrl&&""!=t.model.getUrl?t.model.getUrl&&""!=t.model.getUrl&&window.open(t.model.getUrl,"_self"):this._postBankForm(t.model):t.statusCode&&t.statusCode==Ft.Error&&"DEBTOR_ADDRESS_REQUIRED"==t.messageId?(this.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",this.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.")):this.toasterSrv.showError("",t.message)}})}_closePaymentMethods(){setTimeout(()=>{this.showMethods=!1,Tt(this.cdr)})}}Wt.\u0275fac=function(e){return new(e||Wt)(n.Nc(_t),n.Nc(xt),n.Nc(n.k))},Wt.\u0275cmp=n.Hc({type:Wt,selectors:[["app-payment-methods"]],viewQuery:function(e,t){var i;(1&e&&n.Wd(q,!0),2&e)&&(n.Dd(i=n.fd())&&(t.requestBankDataForm=i.first))},inputs:{isUnauthorized:"isUnauthorized",onlinePaymentSettings:"onlinePaymentSettings",paymentRequestDto:"paymentRequestDto",user:"user",countriesList:"countriesList",isLoadingCheckout:"isLoadingCheckout"},outputs:{loadingCheckout:"loadingCheckout"},features:[n.yc],decls:11,vars:11,consts:[["class","bg-white","style","width: 100%; height: 100px; text-align: center;",4,"ngIf"],["severity","error",3,"text",4,"ngIf"],["header","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03a4\u03c1\u03cc\u03c0\u03bf \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange","onHide"],[4,"ngIf"],["id","everypay_form","method","post",3,"action",4,"ngIf"],["id","ethniki_form","method","post",3,"action",4,"ngIf"],["id","ethnikiPaymentBtn","data-name","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae",1,"d-none"],["id","bankPaymentForm","method","POST",1,"d-none",3,"action"],[1,"bg-white",2,"width","100%","height","100px","text-align","center"],[1,"d-flex","justify-content-center","align-items-center","w-100",2,"height","70%"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],["severity","error",3,"text"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["styleClass","p-card-shadow m-1 payment-card",3,"header","subheader"],[1,"text-center"],["alt","Iris","src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/iris.jpg",4,"ngIf"],["alt","Iris","src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/iris.jpg"],[4,"ngFor","ngForOf"],["alt","service","height","40",3,"src"],["alt","visa-secure","width","40",3,"src",4,"ngIf"],["alt","mastercard-id-check","width","40",3,"src",4,"ngIf"],["alt","visa-secure","width","40",3,"src"],["alt","mastercard-id-check","width","40",3,"src"],["id","everypay_form","method","post",3,"action"],["id","everypay-btn-container",1,"d-none"],["name","everypay_token","id","everypay_token","type","text",1,"d-none",3,"value"],["type","text",1,"d-none",3,"name","value"],["id","ethniki_form","method","post",3,"action"],["type","text",3,"name","value"]],template:function(e,t){1&e&&(n.Pd(0,K,5,0,"div",0),n.Pd(1,F,1,1,"p-message",1),n.Tc(2,"p-dialog",2),n.ed("visibleChange",(function(e){return t.showMethods=e}))("onHide",(function(){return t.showMethods=!1,t.loadingCheckout.emit(!1)})),n.Pd(3,H,2,1,"ng-container",3),n.Pd(4,V,3,0,"div",0),n.Sc(),n.Pd(5,X,3,2,"form",4),n.Pd(6,Y,1,1,"form",5),n.Tc(7,"button",6),n.Rd(8," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\n"),n.Sc(),n.Tc(9,"form",7),n.Pd(10,ee,2,1,"ng-container",3),n.Sc()),2&e&&(n.pd("ngIf",t.isLoadingPaymentResponse),n.Ac(1),n.pd("ngIf",t.errorMessageProfile&&""!=t.errorMessageProfile),n.Ac(1),n.pd("visible",t.showMethods)("draggable",!1)("closable",!0),n.Ac(1),n.pd("ngIf",t.onlinePaymentSettings),n.Ac(1),n.pd("ngIf",!t.onlinePaymentSettings),n.Ac(1),n.pd("ngIf",t.pancretaPaymentMethod),n.Ac(1),n.pd("ngIf",t.ethnikiPaymentMethod),n.Ac(3),n.qd("action",null==t.paymentResponseDto?null:t.paymentResponseDto.postUrl,n.Id),n.Ac(1),n.pd("ngIf",t.paymentResponseDto))},directives:[f.p,C.a,m.v,m.l,m.m,A.b,f.o,P.a],pipes:[f.m,f.i],encapsulation:2,changeDetection:0}),Wt.ctorParameters=()=>[{type:_t},{type:xt},{type:n.k}],Wt.propDecorators={requestBankDataForm:[{type:n.mb,args:["requestBankDataForm",{static:!1}]}],paymentRequestDto:[{type:n.G}],user:[{type:n.G}],countriesList:[{type:n.G}],onlinePaymentSettings:[{type:n.G}],isUnauthorized:[{type:n.G}],isLoadingCheckout:[{type:n.G}],loadingCheckout:[{type:n.S}]};class Ht{constructor(e,t,i){this.kliseisNgSrv=e,this.toasterSrv=t,this.cdr=i,this.isUnauthorized=!1,this.onDestroy=new c.a,this.applicationUrl="",this.kliseisApiUrl="",this.financeApiUrl="",this.returnUrl="",this.termsLink="",this.showTermsModal=!1,this.termsValue="true",this.kliseisRemittanceInfos=[],this.initPaymentMethods=!1,this.isLoadingCheckout=!1}ngOnInit(){"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.kliseisApiUrl=AppConfOptions.kliseis_api,this.financeApiUrl=AppConfOptions.epayments_api,this.returnUrl=encodeURI(this.applicationUrl+"/kliseis/receipts"),AppConfOptions.oroi_xrisis_link&&""!=AppConfOptions.oroi_xrisis_link&&(this.termsLink=AppConfOptions.oroi_xrisis_link)):(this.applicationUrl=AppConfOptions.applicationUrl,this.kliseisApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi,this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts")),this.kliseisNgSrv.getPaymentSettings().pipe(Object(p.a)(this.onDestroy)).subscribe(e=>{e&&(this.onlinePaymentSettings=e,this.onlinePaymentSettings.paymentMethods.length&&this.onlinePaymentSettings.paymentMethods.forEach(e=>{if(e.services&&e.services.length>0)for(let t=0;t<e.services.length;t++)e.services[t]=e.services[t].toLowerCase()})),Tt(this.cdr)})}ngOnChanges(e){e&&e.paymentRequestDto&&(this.paymentRequestDto=e.paymentRequestDto.currentValue,this.paymentRequestDto&&(this.initPaymentMethods=!1,this.onInitPaymentRequest()),Tt(this.cdr))}ngOnDestroy(){this.onDestroy.next()}onTermsChanged(){this.showTermsModal=!1,Tt(this.cdr),"false"==this.termsValue?(this.isLoadingCheckout=!1,Tt(this.cdr)):((this.paymentRequestDto||this.klisis&&this.klisis.length)&&(this.initPaymentMethods=!0,Tt(this.cdr)),this.onCreatePaymentRequest())}onInitPaymentRequest(){this.termsLink&&""!=this.termsLink?(this.showTermsModal=!0,Tt(this.cdr)):this.onCreatePaymentRequest()}onCreatePaymentRequest(){if(this.isLoadingCheckout=!0,this.initPaymentMethods=!0,Tt(this.cdr),this.klisis&&this.klisis.length&&this.userInfo){let e;this.kliseisRemittanceInfos=[],this.paymentRequestDto=void 0,Tt(this.cdr);for(let t of this.klisis)this.kliseisRemittanceInfos=[...this.kliseisRemittanceInfos,this._createRemittanceInfo(t)];if(e={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.returnUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:"",entries:[]},this.onlinePaymentsSettingsCompany&&"1"==this.onlinePaymentsSettingsCompany||!this.onlinePaymentsSettingsCompany)this.kliseisNgSrv.fillPaymentRequestAuthorized(this.kliseisRemittanceInfos).subscribe(t=>{if(t){for(let i=0;i<t.length;i++){const s=t[i];if(s.amount&&s.amount>0){let t={remittanceInfo:s.remittanceInfo,amount:s.amount,debtorName:this.userInfo.given_name+" "+this.userInfo.family_name,tin:this.userInfo.tin,description:this._createDescription(this.klisis[i])};e.entries.push(t)}}this.paymentRequestDto=e,Tt(this.cdr)}});else{for(let t of this.klisis){let i={remittanceInfo:t.remittanceInfo,amount:t.ofeilisPoso,debtorName:this.userInfo.given_name+" "+this.userInfo.family_name,tin:this.userInfo.tin,description:this._createDescription(t)};e.entries.push(i)}this.paymentRequestDto=e,Tt(this.cdr)}}}onLoadingCheckoutChanged(e){this.isLoadingCheckout=e,this.isLoadingCheckout||(this.paymentRequestDto=void 0),Tt(this.cdr)}_createRemittanceInfo(e){return e.remittanceInfo}_createDescription(e){let t="";return t="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2: "+e.arithmosKlisis.toString()+", \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2: "+e.arithmosKikloforias+", \u0397\u03bc\u03b5\u03c1/\u03bd\u03b9\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2: "+e.hmerominiaEkdosis,t}}Ht.\u0275fac=function(e){return new(e||Ht)(n.Nc(_t),n.Nc(xt),n.Nc(n.k))},Ht.\u0275cmp=n.Hc({type:Ht,selectors:[["app-checkout"]],viewQuery:function(e,t){var i;(1&e&&n.Wd(Wt,!0),2&e)&&(n.Dd(i=n.fd())&&(t.paymentMethodsComp=i.first))},inputs:{isUnauthorized:"isUnauthorized",paymentRequestDto:"paymentRequestDto",userInfo:"userInfo",klisis:"klisis",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany"},features:[n.yc],decls:7,vars:9,consts:[["class","d-flex flex-wrap align-items-center justify-content-center",4,"ngIf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["class","d-flex align-items-center justify-content-between",4,"ngIf"],[3,"user","paymentRequestDto","isUnauthorized","onlinePaymentSettings","isLoadingCheckout","loadingCheckout",4,"ngIf"],["header","\u038c\u03c1\u03bf\u03b9 \u03a7\u03c1\u03ae\u03c3\u03b7\u03c2 \u0397\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03a5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange"],[4,"ngIf"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center"],["id","btnPayDebits","type","button",1,"paymentBtn","btn","btn-warning","px-4","font-weight-bold","text-white",2,"width","175px",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-money-check","fa-fw"],[1,"d-flex","justify-content-center","align-items-center"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],[1,"d-flex","align-items-center","justify-content-between"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa.svg","alt","visa","height","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard.svg","alt","mastercard","height","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/maestro.svg","alt","maestro","height","40",1,"mr-1"],["alt","visa-secure","width","40",1,"mr-1",3,"src"],["alt","mastercard-id-check","width","40",3,"src"],[3,"user","paymentRequestDto","isUnauthorized","onlinePaymentSettings","isLoadingCheckout","loadingCheckout"],["target","_blank",3,"href"],[1,"radios-container","mr-1"],["name","termsradio","value","true","label","\u0391\u03c0\u03bf\u03b4\u03bf\u03c7\u03ae",3,"ngModel","ngModelChange"],["name","termsradio","value","false","label","\u0391\u03c0\u03cc\u03c1\u03c1\u03b9\u03c8\u03b7",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-success","m-0","ml-auto",3,"click"],[1,"fas","fa-long-arrow-alt-right","fa-fw"]],template:function(e,t){1&e&&(n.Pd(0,te,4,1,"div",0),n.Pd(1,ie,2,0,"div",1),n.Pd(2,se,6,2,"div",2),n.Pd(3,ne,1,5,"app-payment-methods",3),n.Tc(4,"p-dialog",4),n.ed("visibleChange",(function(e){return t.showTermsModal=e})),n.Pd(5,oe,6,1,"ng-container",5),n.Pd(6,ae,7,2,"p-footer",5),n.Sc()),2&e&&(n.pd("ngIf",!t.paymentRequestDto&&t.klisis),n.Ac(1),n.pd("ngIf",t.isLoadingCheckout),n.Ac(1),n.pd("ngIf",!t.paymentRequestDto&&t.klisis),n.Ac(1),n.pd("ngIf",t.initPaymentMethods),n.Ac(1),n.pd("visible",t.showTermsModal)("draggable",!1)("closable",!1),n.Ac(1),n.pd("ngIf",t.showTermsModal),n.Ac(1),n.pd("ngIf",t.showTermsModal))},directives:[f.p,C.a,Wt,M.b,I.a,m.k,m.n],encapsulation:2}),Ht.ctorParameters=()=>[{type:_t},{type:xt},{type:n.k}],Ht.propDecorators={paymentMethodsComp:[{type:n.mb,args:[Wt,{static:!1}]}],userInfo:[{type:n.G}],paymentRequestDto:[{type:n.G}],klisis:[{type:n.G}],isUnauthorized:[{type:n.G}],onlinePaymentsSettingsCompany:[{type:n.G}]};class Vt{constructor(){this.validator=this.afmValidator()}validate(e){return this.validator(e)}afmValidator(){return e=>{if(e&&e.value){if(!function(e){if(!e||e.length<9)return!1;if("000000000"==e)return!0;e=e.split("").reverse().join("");for(var t=0,i=1;i<=8;i++)if(t+=+e.charAt(i)<<i,isNaN(t))return!1;return t%11%10==+e.charAt(0)}(e.value))return{afmvalidator:{valid:!1}}}return null}}}Vt.\u0275fac=function(e){return new(e||Vt)},Vt.\u0275dir=n.Ic({type:Vt,selectors:[["","validateAfm",""]],features:[n.zc([{provide:m.h,useExisting:Vt,multi:!0}])]}),Vt.ctorParameters=()=>[];class Qt{constructor(e,t,i,s){this.kliseisNgSrv=e,this.pluginCacheSrv=t,this.toasterSrv=i,this.cdr=s,this.klisiAdded=new n.x,this.paymentRequestDto=void 0,this.onDestroy=new c.a,this.initPaymentMethods=!1,this.allowsPayment=!0,this.today=new Date,this.thisYear=this.today.getFullYear(),this.locale=vt,this.yearRange=Ct,this.isLoading=!1,this.isLoadingResponse=!1,this.isFormSubmitted=!1,this.saveFailed=!1,this.showEtos=!1,this.isFormValid=!0,this.formDictionaryEnum=jt}ngOnChanges(e){e&&e.isLoadingPaymentRequest&&(this.isLoadingPaymentRequest=e.isLoadingPaymentRequest.currentValue,Tt(this.cdr))}ngOnInit(){this.model=new Nt,this.model.address=this.userInfo.address?this.userInfo.address:null,this.model.poli=this.userInfo.address_city?this.userInfo.address_city:null,this.model.tk=this.userInfo.address_zip?this.userInfo.address_zip:null,this.model.tilefono=this.userInfo.phone_number?this.userInfo.phone_number:null,this.model.email=this.userInfo.email?this.userInfo.email:null,Tt(this.cdr),this.pluginCacheSrv.initPluginCustomerSpecificOptions(),this.pluginCacheSrv.pluginCustomerSpecificOptions$.pipe(Object(p.a)(this.onDestroy)).subscribe(e=>{e&&(e.configurationOptions.some(e=>"PluginCustomerSpecificOptions:EtosKlisis"==e.id)&&(this.showEtos="true"==e.configurationOptions.find(e=>"PluginCustomerSpecificOptions:EtosKlisis"==e.id).value.toLocaleLowerCase()),e.configurationOptions.some(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id)&&(this.onlinePaymentsSettingsCompany=e.configurationOptions.find(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id).value)),Tt(this.cdr)})}ngOnDestroy(){this.onDestroy.next()}onAnazitisi(){this.isFormSubmitted=!0,this.response=null,this.isFormValid=!0,this.formErrors=null,this.formErrorsMsg="";let e,t="";if(!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias?(e=Ot(this.model.arithmosKikloforias),e=wt(e).toUpperCase(),""!=e&&0==Rt(e)?(this.toasterSrv.showWarning("","\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000)"),this.isFormValid=!1):this.model.arithmosKikloforias&&this.model.arithmosKikloforias!=e&&(this.isFormValid=!0)):this.isFormValid=!0,(!this.etosKlisis&&!this.model.hmerominiaEkdosis||this.model.hmerominiaEkdosis>new Date)&&(this.isFormValid=!1),this.etosKlisis&&+this.etosKlisis<=+this.thisYear?this.model.hmerominiaEkdosis=new Date(this.etosKlisis+"-01-01"):this.etosKlisis&&+this.etosKlisis>+this.thisYear&&(t="<li>\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf "+this.thisYear+".</li>"),Tt(this.cdr),this.isFormSubmitted&&this.isFormValid)this.isLoadingResponse=!0,this.model.etos=+this.model.hmerominiaEkdosis.getFullYear(),this.model.arithmosKikloforias&&e&&this.model.arithmosKikloforias!=e&&(this.model.arithmosKikloforias=e),Tt(this.cdr),this.kliseisNgSrv.getStoixeiaKlisisForWebPliromiEtos(this.model).subscribe(e=>{e?(this.response=e,this.response&&this.response.poso&&0!=this.response.klisiId&&(this.model.poso=this.response.poso),this.response&&this.response.canPay&&0==this.response.klisiId&&"1"!=this.onlinePaymentsSettingsCompany?(this.allowsPayment=!1,this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03b3\u03ba\u03b5\u03ba\u03c1\u03b9\u03bc\u03ad\u03bd\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2.")):this.allowsPayment=!0):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03bc\u03b5 \u03c4\u03b7\u03bd \u03ba\u03bb\u03ae\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b1\u03bd\u03b1\u03b6\u03b7\u03c4\u03ae\u03c3\u03b1\u03c4\u03b5."),this.isLoadingResponse=!1,Tt(this.cdr)});else{if(this.formErrors=It(this.f,this.formDictionaryEnum,""),this.formErrors||!this.isFormValid){if(this.formErrorsMsg="<ul>",this.formErrors&&this.formErrors.forEach(e=>{let t;"required"==e.error?t="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==e.error&&(t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),this.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+this.formDictionaryEnum[e.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+t+"</li>"}),this.etosKlisis||this.model.hmerominiaEkdosis||(this.formErrorsMsg+="<li>\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03b5\u03af\u03c4\u03b5 \u03c4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03c4\u03b5 \u03c4\u03b7\u03bd \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2.</li>"),!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias){let t=Ot(this.model.arithmosKikloforias);t=wt(e).toUpperCase(),""!=t&&0==Rt(t)&&(this.formErrorsMsg+="<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000).</li>")}this.formErrorsMsg+=t,this.formErrorsMsg+="<ul>"}Tt(this.cdr)}}onCancelKlisi(){this.isFormSubmitted=!1,this.paymentRequestDto=void 0,Tt(this.cdr),this.response?(this.response=null,Tt(this.cdr)):this.klisiAdded.emit(null)}onCreatePaymentRequest(){let e;this.initPaymentMethods=!0,this.isLoadingResponse=!0,Tt(this.cdr),e={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:this.userInfo.address_city?this.userInfo.address_city:this.model.poli,billingAddressCountryCode:this.userInfo.address_country_code?this.userInfo.address_country_code:"GR",billingAddressZip:this.userInfo.address_zip?this.userInfo.address_zip:this.model.tk,billingAddress:this.userInfo.address?this.userInfo.address:this.model.address,userEmail:this.userInfo.email?this.userInfo.email:this.model.email,userPhone:this.userInfo.phone_number?this.userInfo.phone_number:this.model.tilefono,paymentMethodKey:"",entries:[]};let t=new Gt;if(t.tin=this.userInfo.tin,t.amount=this.model.poso,t.debtorName=this.userInfo.given_name+" "+this.userInfo.family_name,t.description="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2: "+this.model.arithmosKlisis.toString()+", \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2: "+this.model.arithmosKikloforias+", \u0397\u03bc\u03b5\u03c1/\u03bd\u03b9\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2: "+At(this.model.hmerominiaEkdosis),Tt(this.cdr),this.response&&0==this.response.klisiId){this.saveFailed=!1;let i=this.model.oraEkdosis?this.model.oraEkdosis.getHours()+":"+this.model.oraEkdosis.getMinutes():null;this.createKlisi={hmerominiaEkdosis:At(this.model.hmerominiaEkdosis),oraEkdosis:i?i.toString():null,arithmosKikloforias:this.model.arithmosKikloforias,arithmosKlisis:this.model.arithmosKlisis,pliroteoPoso:this.model.poso,eponimia:this.userInfo.given_name+" "+this.userInfo.family_name,eponimo:this.userInfo.family_name,patronimo:this.userInfo.fathers_name,mitronimo:this.userInfo.mothers_name,onoma:this.userInfo.given_name,afm:this.userInfo.tin,odos:this.userInfo.address?this.userInfo.address:this.model.address,poli:this.userInfo.address_city?this.userInfo.address_city:this.model.poli,tk:this.userInfo.address_zip?this.userInfo.address_zip:this.model.tk,adt:this.userInfo.adt,tilefono:this.userInfo.phone_number?this.userInfo.phone_number:this.model.tilefono,email:this.userInfo.email?this.userInfo.email:this.model.email},this.kliseisNgSrv.createKlisiWebAsync(this.createKlisi).subscribe(i=>{i?(t.remittanceInfo=i.remittanceInfo,e.entries=[],e.entries.push(t),this.paymentRequestDto=e,Tt(this.cdr)):(this.saveFailed=!0,Tt(this.cdr)),this.isLoadingResponse=!1,Tt(this.cdr)})}else 0!=this.response.klisiId&&(t.remittanceInfo=this.response.remittanceInfo,e.entries=[],e.entries.push(t),this.isLoadingResponse=!1,this.paymentRequestDto=e,Tt(this.cdr))}_getErrorReason(){return this.model.hmerominiaEkdosis>=new Date?"\u0397 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03ba\u03b1\u03b9 \u03b7 \u03ce\u03c1\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c0\u03c1\u03bf\u03b3\u03b5\u03bd\u03ad\u03c3\u03c4\u03b5\u03c1\u03b5\u03c2.":this.model.arithmosKikloforias?this.model.arithmosKlisis?this.model.poso<=0?"\u03a4\u03bf \u03c0\u03bf\u03c3\u03cc \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf.":"":"\u039f \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2 \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2.":"\u039f \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2."}}Qt.\u0275fac=function(e){return new(e||Qt)(n.Nc(_t),n.Nc(Dt),n.Nc(xt),n.Nc(n.k))},Qt.\u0275cmp=n.Hc({type:Qt,selectors:[["lib-kliseis-add-new"]],viewQuery:function(e,t){var i;(1&e&&(n.Wd(Wt,!0),n.Wd(re,!0)),2&e)&&(n.Dd(i=n.fd())&&(t.paymentMethodsComp=i.first),n.Dd(i=n.fd())&&(t.f=i.first))},inputs:{isLoadingPaymentRequest:"isLoadingPaymentRequest",userInfo:"userInfo",relatedCallbackUrl:"relatedCallbackUrl"},outputs:{klisiAdded:"klisiAdded"},features:[n.yc],decls:2,vars:2,consts:[["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],["class","form",4,"ngIf"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"form"],["f","ngForm"],[1,"row"],[1,"form-group","col-12","d-inline-flex","align-items-start"],["name","isForeign","value","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","label","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","binary","true",3,"ngModel","readonly","ngModelChange"],["isForeign","ngModel"],[1,"form-group","col-12","col-sm-6"],["name","arithmosKlisis","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2","type","text","pattern","([0-9]{1,12})","maxlength","12","autocomplete","off","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["arithmosKlisisInput","ngModel"],[1,"text-danger","pt-1",3,"hidden"],["name","arithmosKikloforias","placeholder","\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2","type","text","autocomplete","off","required","",1,"form-control",2,"text-transform","uppercase",3,"ngModel","readonly","ngModelChange"],["arithmosKikloforiasInput","ngModel"],[4,"ngIf"],["name","hmerominiaEkdosis","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body",3,"baseZIndex","locale","maxDate","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","showTime","ngModel","required","disabled","ngModelChange"],["name","oraEkdosis","placeholder","\u03a9\u03a9:\u039b\u039b","hourFormat","24","appendTo","body",3,"baseZIndex","locale","timeOnly","showIcon","ngModel","disabled","ngModelChange"],["class","row",4,"ngIf"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03b3\u03ba\u03b5\u03ba\u03c1\u03b9\u03bc\u03ad\u03bd\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2.",4,"ngIf"],[1,"form-actions","row","justify-content-center","pb-0"],["class","btn btn-primary btn-sm mr-1","type","button",3,"click",4,"ngIf"],["class","d-flex w-100 align-items-start justify-content-between",4,"ngIf"],[3,"userInfo","paymentRequestDto","onlinePaymentsSettingsCompany"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["class","bg-white","style","width: 100%; height: 50px;",4,"ngIf"],["severity","warn","text","\u0397 \u03b1\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2 \u03b1\u03c0\u03ad\u03c4\u03c5\u03c7\u03b5.",4,"ngIf"],[1,"col-12"],["severity","warn","text","\u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03bc\u03b7 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1\u03c2 \u03c3\u03c5\u03bc\u03c0\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7\u03c2 \u03b1\u03ba\u03c1\u03b9\u03b2\u03bf\u03cd\u03c2 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1\u03c2 & \u03ce\u03c1\u03b1\u03c2 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03c4\u03b5 \u03c4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2.",3,"styleClass"],["name","etosKlisis","placeholder","\u0388\u03c4\u03bf\u03c2","type","text","pattern","([0-9]{4})$",1,"form-control",3,"ngModel","readonly","ngModelChange"],["etosKlisisInput","ngModel"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03b3\u03ba\u03b5\u03ba\u03c1\u03b9\u03bc\u03ad\u03bd\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2."],[1,"form-group","col-12"],["name","poso","placeholder","0,01","type","text","currencyMask","","lang","el-GR","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["posoInput","ngModel"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["name","email","placeholder","Email","type","email","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["emailInput","ngModel"],["name","tilefono","placeholder","69XXXXXXXX","type","text","pattern","^69([0-9]{8})$","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],[1,"col-12","col-md-8"],["name","address","placeholder","\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7","type","text","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],[1,"col-12","col-md-4"],["name","tk","placeholder","\u03a4.\u039a.","type","text","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["name","poli","placeholder","\u03a0\u03cc\u03bb\u03b7","type","text","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["type","button",1,"btn","btn-primary","btn-sm","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],[1,"d-flex","w-100","align-items-start","justify-content-between"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center"],["id","btnPayDebits","type","button",1,"btn","btn-warning","px-4","font-weight-bold","text-white",2,"width","175px",3,"click"],["aria-hidden","true",1,"fas","fa-money-check","fa-fw"],[1,"d-flex","align-items-center","justify-content-between"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa.svg","alt","visa","height","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard.svg","alt","mastercard","\u03a6","","height","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/maestro.svg","alt","maestro","height","40",1,"mr-1"],["alt","visa-secure","width","40",1,"mr-1",3,"src"],["alt","mastercard-id-check","width","40",3,"src"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"bg-white",2,"width","100%","height","50px"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],["severity","warn","text","\u0397 \u03b1\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2 \u03b1\u03c0\u03ad\u03c4\u03c5\u03c7\u03b5."]],template:function(e,t){1&e&&(n.Pd(0,ce,3,0,"div",0),n.Pd(1,Te,42,45,"form",1)),2&e&&(n.pd("ngIf",!t.model||t.isLoading),n.Ac(1),n.pd("ngIf",t.model&&!t.isLoading))},directives:[f.p,m.v,m.l,m.m,v.a,m.k,m.n,m.b,m.q,m.f,m.s,k.a,Ht,A.b,S.b,f.n],encapsulation:2,changeDetection:0}),Qt.ctorParameters=()=>[{type:_t},{type:Dt},{type:xt},{type:n.k}],Qt.propDecorators={paymentMethodsComp:[{type:n.mb,args:[Wt,{static:!1}]}],f:[{type:n.mb,args:["f"]}],userInfo:[{type:n.G}],isLoadingPaymentRequest:[{type:n.G}],relatedCallbackUrl:[{type:n.G}],klisiAdded:[{type:n.S}]};class Jt{constructor(e,t,i){this.kliseisNgSrv=e,this.toasterSrv=t,this.cdr=i,this.model=[],this.checkedKliseis=[],this.checkAll=!1,this.checkAllEnabled=!0,this.isLoading=!0,this.errorMsg=null,this.isLoadingSimplifyModal=!1,this.isLoadingPaymentSettings=!1,this.isUserDataValid=!0,this.sumPliromis=0,this.sumPliroteoPoso=0,this.sumPosoKlisis=0,this.checkedKliseisTotal=0}ngOnInit(){this._loadData()}_loadData(){this.isLoading=!0,this.errorMsg=null,Tt(this.cdr),this.kliseisNgSrv.getKliseis(this.userInfo.tin).subscribe(e=>{e?(this.model=e,this.model.forEach(e=>{e.cannotPayReason=e.cannotPayReason?e.cannotPayReason:"",e.canCheck=!0,e.afm=e.afm?e.afm:this.userInfo.tin,this.checkAllEnabled=this.model.filter(e=>!e.canPay).length!=this.model.length,this.sumPosoKlisis+=e.pliroteoPoso,this.sumPliroteoPoso+=e.ofeilisPoso?e.ofeilisPoso:0,e.afm!=this.userInfo.tin&&(e.cannotPayReason+="<br/>\u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03c3\u03b5 \u0391.\u03a6.\u039c. \u03b4\u03b9\u03b1\u03c6\u03bf\u03c1\u03b5\u03c4\u03b9\u03ba\u03cc \u03b1\u03c0\u03cc \u03c4\u03bf \u03b4\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2, \u03c3\u03b5 \u03c7\u03c1\u03bf\u03bd\u03b9\u03ba\u03ae \u03c3\u03c4\u03b9\u03b3\u03bc\u03ae \u03cc\u03c0\u03bf\u03c5 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c3\u03c4\u03b5 \u03c9\u03c2 \u03ba\u03ac\u03c4\u03bf\u03c7\u03bf\u03c2 \u03c4\u03bf\u03c5 \u03bf\u03c7\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2.")})):this.errorMsg="\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd \u03c3\u03b1\u03c2.",this.isLoading=!1,Tt(this.cdr)})}_calculatePosa(){this.sumPliromis=0,this.checkedKliseisTotal=0,this.checkedKliseis=[],this.checkedKliseisTotal=this.model.filter(e=>e.isChecked).length,this.checkedKliseis=this.model.filter(e=>e.isChecked),this.model.filter(e=>e.isChecked).forEach(e=>{this.sumPliromis+=e.ofeilisPoso?e.ofeilisPoso:0}),Tt(this.cdr)}onCheckAllKliseisClicked(){this.checkAll=!!this.checkAll,this.model.forEach(e=>{this.checkAll?e.isChecked=!(e.afm!=this.userInfo.tin||!e.canPay):e.isChecked=!1}),Tt(this.cdr),this._calculatePosa()}onCheckKlisiClicked(e){let t;t=this.model.some(e=>e.isChecked)?this.model.find(e=>e.isChecked).afm:null,t?(t=e.afm,this.model.forEach(e=>{e.afm!=t?e.canCheck=!1:e.canCheck=!0})):this.model.forEach(e=>{e.canCheck=!0}),Tt(this.cdr),this._calculatePosa()}isLoadingSimplifyModalChanged(e){this.isLoadingSimplifyModal=e,Tt(this.cdr)}isLoadingPaymentSettingsChanged(e){this.isLoadingPaymentSettings=e,Tt(this.cdr)}isUserDataValidChanged(e){this.isUserDataValid=e,Tt(this.cdr)}}Jt.\u0275fac=function(e){return new(e||Jt)(n.Nc(_t),n.Nc(xt),n.Nc(n.k))},Jt.\u0275cmp=n.Hc({type:Jt,selectors:[["app-kliseis-debits"]],viewQuery:function(e,t){var i;(1&e&&n.Wd(Wt,!0),2&e)&&(n.Dd(i=n.fd())&&(t.paymentMethodsComp=i.first))},inputs:{isDataChanged:"isDataChanged",userInfo:"userInfo",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany"},decls:6,vars:4,consts:[["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2.",4,"ngIf"],["severity","error",3,"text","styleClass",4,"ngIf"],[4,"ngIf"],["selectedDebits",""],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2."],["severity","error",3,"text","styleClass"],["severity","warn","text","\u0398\u03b1 \u03b8\u03ad\u03bb\u03b1\u03bc\u03b5 \u03bd\u03b1 \u03c3\u03b1\u03c2 \u03b5\u03bd\u03b7\u03bc\u03b5\u03c1\u03ce\u03c3\u03bf\u03c5\u03bc\u03b5 \u03c0\u03c9\u03c2 \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03b5\u03be\u03bf\u03c6\u03bb\u03ae\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1\u03c5\u03c4\u03cc\u03c7\u03c1\u03bf\u03bd\u03b1 \u03bc\u03cc\u03bd\u03bf \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c0\u03bf\u03c5 \u03ad\u03c7\u03bf\u03c5\u03bd \u03c7\u03c1\u03b5\u03c9\u03b8\u03b5\u03af \u03c3\u03c4\u03bf \u03af\u03b4\u03b9\u03bf \u0391.\u03a6.\u039c.",3,"styleClass"],[1,"d-flex","flex-wrap","mb-1",2,"font-size","14px"],[1,"mr-1"],[1,"fas","fa-stop-circle","fa-fw","apliroti"],[1,"fas","fa-stop-circle","fa-fw","kataxorisi_web"],["tableStyleClass","kliseis-debits-table",3,"value","autoLayout","responsive","scrollable","lazy","paginator","resetPageOnSort","alwaysShowPaginator","rows","totalRecords","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"mb-2"],[4,"ngTemplateOutlet"],[1,"fixed-width-col-40","text-center"],[3,"binary","ngModel","disabled","ngModelChange","onChange"],[1,"fixed-width-col-40"],[1,"fixed-width-col-120"],[1,"fixed-width-col-100"],[1,"fixed-width-col-150"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["class","fixed-width-col-40 text-center",4,"ngIf"],[1,"p-column-title"],["class","d-block",4,"ngIf"],[1,"fixed-width-col-100","text-right"],["rowspan","2",1,"fixed-width-col-40","text-center"],["colspan","8",3,"innerHtml"],["aria-label","\u0391\u03c0\u03bb\u03ae\u03c1\u03c9\u03c4\u03b7",1,"fas","fa-stop-circle","fa-fw","apliroti"],["aria-label","\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u03b1\u03c0\u03cc WEB",1,"fas","fa-stop-circle","fa-fw","kataxorisi_web"],[1,"d-block"],["colspan","6",1,"fixed-width-col-570"],["colspan","1",1,"fixed-width-col-100","text-right"],[1,"debits-info","d-flex","flex-wrap","justify-content-around","w-100","align-items-center","pb-1","mb-1","border-bottom","border-light"],[1,"totalPoso"],[1,"text-right"],[3,"userInfo","onlinePaymentsSettingsCompany","klisis"]],template:function(e,t){1&e&&(n.Pd(0,Ie,3,0,"div",0),n.Pd(1,Re,1,0,"p-message",1),n.Pd(2,Oe,1,2,"p-message",2),n.Pd(3,$e,19,14,"ng-container",3),n.Pd(4,Be,12,11,"ng-template",null,4,n.Qd)),2&e&&(n.pd("ngIf",!t.model||t.isLoading),n.Ac(1),n.pd("ngIf",t.model&&0===t.model.length&&!t.isLoading&&(!t.errorMsg||""==t.errorMsg)),n.Ac(1),n.pd("ngIf",t.errorMsg&&""!=t.errorMsg&&!t.isLoading),n.Ac(1),n.pd("ngIf",t.model&&t.model.length>0&&!t.isLoading))},directives:[f.p,A.b,R.d,M.f,f.u,v.a,m.k,m.n,f.n,Ht],pipes:[f.f,f.d],encapsulation:2,changeDetection:0}),Jt.ctorParameters=()=>[{type:_t},{type:xt},{type:n.k}],Jt.propDecorators={paymentMethodsComp:[{type:n.mb,args:[Wt,{static:!1}]}],isDataChanged:[{type:n.G}],userInfo:[{type:n.G}],onlinePaymentsSettingsCompany:[{type:n.G}]};class Xt{constructor(e,t,i,s,o,a){this.kliseisNgSrv=e,this.pluginCacheSrv=t,this.route=i,this.router=s,this._http=o,this.cdr=a,this.changeTabIndex=new n.x,this.model=[],this.checkAll=!1,this.sumPliroteoPoso=0,this.applicationUrl="",this.kliseisApiUrl="",this.financeApiUrl="",this.isLoading=!0,this.onDestroy=new c.a,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.kliseisApiUrl=AppConfOptions.kliseis_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.kliseisApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}ngOnInit(){this.pluginCacheSrv.userInfo$.pipe(Object(p.a)(this.onDestroy)).subscribe(e=>{e&&(this.userInfo=e),Tt(this.cdr)}),this._getBankMessages().pipe(Object(h.a)(e=>e?(this.oikonomikiBankMessages=e,this.pluginCacheSrv.userInfo$.pipe(Object(p.a)(this.onDestroy))):Object(a.a)(!1)),Object(h.a)(e=>e?(this.userInfo=e,this.route.queryParams.pipe(Object(p.a)(this.onDestroy))):Object(a.a)(!1))).subscribe(e=>{if(e){let t=e;if(this.bankMessage=t.messagecode,this.btid=t.btId,this.bankMessage)if(this.changeTabIndex.emit(1),this.bankStatusMessage=this.oikonomikiBankMessages[this.bankMessage],"TRANSACTION_COMPLETED"==this.bankMessage){if(this.bankStatusMessageClass="success",this.btid){let e=new zt;e.address=this.userInfo.address,e.address_city=this.userInfo.address_city,e.address_country_code=this.userInfo.address_country_code,e.address_zip=this.userInfo.address_zip,e.adt=this.userInfo.adt,e.debtorName=this.userInfo.given_name+" "+this.userInfo.family_name,e.email=this.userInfo.email,e.phone_number=this.userInfo.phone_number,e.tin=this.userInfo.tin,e.bankTransactionId=this.btid,this.kliseisNgSrv.markKlisiWebExoflisi(e).subscribe(()=>{this._loadData()})}}else this.bankStatusMessageClass="error",this._loadData();else this._loadData();Tt(this.cdr)}})}ngOnChanges(e){e&&e.tabChanged&&(this.bankStatusMessage=void 0,Tt(this.cdr))}ngOnDestroy(){this.onDestroy.next()}_loadData(){this.isLoading=!0,Tt(this.cdr),this.kliseisNgSrv.getKliseisPayed(this.userInfo.tin).subscribe(e=>{e&&(this.model=e,this.model.forEach(e=>this.sumPliroteoPoso+=e.pliroteoPoso),this.model=this.model.sort((function(e,t){return e.hmerominiaEkdosis!=t.hmerominiaEkdosis?new Date(t.hmerominiaEkdosis).getTime()-new Date(e.hmerominiaEkdosis).getTime():+t.arithmosKlisis-+e.arithmosKlisis}))),this.isLoading=!1,Tt(this.cdr)})}_getBankMessages(){let e=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(e)}}Xt.\u0275fac=function(e){return new(e||Xt)(n.Nc(_t),n.Nc(Dt),n.Nc(g.a),n.Nc(g.d),n.Nc(o.b),n.Nc(n.k))},Xt.\u0275cmp=n.Hc({type:Xt,selectors:[["app-kliseis-receipts"]],inputs:{tabChanged:"tabChanged"},outputs:{changeTabIndex:"changeTabIndex"},features:[n.yc],decls:4,vars:4,consts:[["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2.",3,"styleClass",4,"ngIf"],[3,"severity","text","styleClass",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2.",3,"styleClass"],[3,"severity","text","styleClass"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"d-flex","flex-wrap","mb-1",2,"font-size","14px"],[1,"mr-1"],[1,"fas","fa-stop-circle","fa-fw","exoflimeni"],[1,"fas","fa-stop-circle","fa-fw","exoflisi_web"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"fixed-width-col-40"],[1,"fixed-width-col-120"],[1,"fixed-width-col-150"],[1,"fixed-width-col-100"],[1,"fixed-width-col-40","text-center"],[1,"p-column-title"],["class","d-block",4,"ngIf"],[1,"fixed-width-col-100","text-right"],[1,"d-block"],["colspan","8",1,"text-right"]],template:function(e,t){1&e&&(n.Pd(0,We,1,1,"p-message",0),n.Pd(1,He,1,3,"p-message",1),n.Pd(2,Ve,3,0,"div",2),n.Pd(3,ot,16,10,"ng-container",3)),2&e&&(n.pd("ngIf",t.model&&0===t.model.length&&!t.isLoading),n.Ac(1),n.pd("ngIf",t.bankStatusMessage&&""!=t.bankStatusMessage),n.Ac(1),n.pd("ngIf",!t.model||t.isLoading),n.Ac(1),n.pd("ngIf",t.model&&t.model.length>0&&!t.isLoading))},directives:[f.p,A.b,R.d,M.f],pipes:[f.f,f.d],encapsulation:2,changeDetection:0}),Xt.ctorParameters=()=>[{type:_t},{type:Dt},{type:g.a},{type:g.d},{type:o.b},{type:n.k}],Xt.propDecorators={tabChanged:[{type:n.G}],changeTabIndex:[{type:n.S}]};const Yt=[{path:"",component:Ut,children:[{path:"debits",component:Jt,canActivate:[qt]},{path:"receipts",component:Xt,canActivate:[qt]}]}];class Zt{}Zt.\u0275mod=n.Lc({type:Zt}),Zt.\u0275inj=n.Kc({factory:function(e){return new(e||Zt)},imports:[[g.g.forChild(Yt)],g.g]}),("undefined"==typeof ngJitMode||ngJitMode)&&n.Jd(Zt,{imports:function(){return[g.g]},exports:function(){return[g.g]}});class ei{constructor(e,t,i,s,n,o){this.kliseisNgSrv=e,this.toasterSrv=t,this.route=i,this.router=s,this._http=n,this.cdr=o,this.model=new Nt,this.countriesList=[],this.onDestroy=new c.a,this.isLoading=!1,this.requestMsg="",this.requestMsgClass="info",this.isFormSubmitted=!1,this.isFormPaySubmitted=!1,this.initPaymentMethods=!1,this.isLoadingPaymentResponse=!1,this.showCardHolderName=!1,this.oikonomikiBankMessages={CODE_HAS_NO_BALANCE:"\u039f \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2 \u03ad\u03c7\u03b5\u03b9 \u03bc\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03cc \u03c5\u03c0\u03cc\u03bb\u03bf\u03b9\u03c0\u03bf",CODE_NOT_FOUND:"\u039f \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2 \u03b4\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b5",DEBTOR_ADDRESS_REQUIRED:"\u0394\u03b5\u03bd \u03ad\u03c7\u03bf\u03c5\u03bd \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03c9\u03b8\u03b5\u03af \u03c4\u03b1 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2",DEBTOR_NOT_UNIQUE:"\u039f \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c4\u03b7\u03c2 \u03b4\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03c4\u03b1\u03c5\u03c4\u03bf\u03c0\u03bf\u03b9\u03b7\u03b8\u03b5\u03af \u03bc\u03bf\u03bd\u03b1\u03b4\u03b9\u03ba\u03ac \u03bc\u03b5 \u03b2\u03ac\u03c3\u03b7 \u03c4\u03bf \u0391\u03a6\u039c",DEBTOR_TIN_REQUIRED:"\u0391\u03c0\u03b1\u03b9\u03c4\u03b5\u03af\u03c4\u03b1\u03b9 \u0391\u03a6\u039c",HASH_MISMATCH:"\u0391\u03b4\u03c5\u03bd\u03b1\u03bc\u03af\u03b1 \u03b5\u03c0\u03b1\u03bb\u03ae\u03b8\u03b5\u03c5\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2",INVALID_CULTURE:"\u0386\u03b3\u03bd\u03c9\u03c3\u03c4\u03b7 \u03ba\u03c9\u03b4\u03b9\u03ba\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7 \u03b3\u03bb\u03ce\u03c3\u03c3\u03b1\u03c2",OK:"",SETTLEMENT_PENDING:"\u0397 \u03c7\u03c1\u03ad\u03c9\u03c3\u03b7 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c3\u03b5 \u03b5\u03ba\u03ba\u03c1\u03b5\u03bc\u03cc\u03c4\u03b7\u03c4\u03b1",TICKET_NOT_ISSUED:"\u0394\u03b5\u03bd \u03b5\u03ba\u03b4\u03cc\u03b8\u03b7\u03ba\u03b5 Ticket",TRANSACTION_CANCELED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b1\u03ba\u03c5\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u03b1\u03c0\u03bf \u03c4\u03bf \u03c7\u03c1\u03ae\u03c3\u03c4\u03b7.",TRANSACTION_COMPLETED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1.",TRANSACTION_ERROR:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b4\u03b5\u03bd \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5",TRANSACTION_REJECTED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b1\u03c0\u03bf\u03c1\u03c1\u03af\u03c6\u03b8\u03b7\u03ba\u03b5 \u03b1\u03c0\u03bf \u03c4\u03b7\u03bd \u03c4\u03c1\u03ac\u03c0\u03b5\u03b6\u03b1",UNKNOWN_ERROR:"\u0386\u03b3\u03bd\u03c9\u03c3\u03c4\u03bf \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1"},this.today=new Date,this.thisYear=this.today.getFullYear(),this.isFormValid=!0,this.formDictionaryEnum=jt}ngOnInit(){AppConfOptions.applicationUrl&&AppConfOptions.applicationUrl.includes("localhost")?(this.financeApi=AppConfOptions.financeApi,this.callbackUrl=AppConfOptions.applicationUrl+"/plugin"):(this.financeApi=AppConfOptions.epayments_api,this.callbackUrl=AuthConfOptions.application_url+"/kliseis"),this._http.get("https://auth.dev.egritosgroup.gr/api/general/GetCountries").pipe(Object(h.a)(e=>e?(this.countriesList=e,this.kliseisNgSrv.getPaymentSettings()):Object(a.a)(!1)),Object(h.a)(e=>e?(this.onlinePaymentSettings=e,this.route.queryParams):Object(a.a)(!1)),Object(h.a)(e=>{if(e){let t=e;if(t.messagecode&&"TRANSACTION_COMPLETED"==t.messagecode){this.bankStatusMessage=this.oikonomikiBankMessages[t.messagecode];let e=new Bt;return e.btId=t.btId,e.returnUrl=this.callbackUrl,e.status=t.status,e.messagecode=t.messagecode,Tt(this.cdr),this.kliseisNgSrv.getFinancePaymentCallback(e)}return this.bankStatusMessage=this.oikonomikiBankMessages[t.messagecode],this.bankStatusMessageClass="fail",Tt(this.cdr),Object(a.a)(!1)}return Object(a.a)(!1)}),Object(p.a)(this.onDestroy)).subscribe(e=>{this.bankStatusMessageClass=e?"success":"error",Tt(this.cdr)})}ngOnDestroy(){this.onDestroy.next()}onCheckKlisi(){this.isFormSubmitted=!0,this.isFormValid=!0,this.formErrorsMsg="",this.requestMsg="";let e,t="";if(!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias?(e=Ot(this.model.arithmosKikloforias),e=wt(e).toUpperCase(),""!=e&&0==Rt(e)?(this.toasterSrv.showWarning("","\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000)"),this.isFormValid=!1):this.model.arithmosKikloforias&&this.model.arithmosKikloforias!=e&&(this.isFormValid=!0)):this.isFormValid=!0,this.model.etos&&+this.model.etos>+this.thisYear&&(this.isFormValid=!1,t="<li>\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf "+this.thisYear+".</li>"),Tt(this.cdr),this.isFormSubmitted&&this.klisiAnazitisi.valid&&this.isFormValid)this.isLoading=!0,this.response=null,this.requestMsg="",this.model.isAuthorized=!1,this.model.arithmosKikloforias&&e&&this.model.arithmosKikloforias!=e&&(this.model.arithmosKikloforias=e),Tt(this.cdr),this.kliseisNgSrv.getStoixeiaKlisisForWebPliromiEtos(this.model).subscribe(e=>{e?(this.response=e,this.response.canPay?(this.toasterSrv.showInfo("",this.response.messageResponse),this.requestMsg=this.response.messageResponse):(this.toasterSrv.showWarning("",this.response.messageResponse),this.requestMsg=this.response.messageResponse,this.requestMsgClass="warning")):(this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1."),this.requestMsg="\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1.",this.requestMsgClass="error"),this.isLoading=!1,Tt(this.cdr)});else{let i="";if(i+=t,!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias){let t=Ot(this.model.arithmosKikloforias);t=wt(e).toUpperCase(),""!=t&&0==Rt(t)&&(i+="<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000).</li>")}this.formErrors=It(this.klisiAnazitisi,this.formDictionaryEnum,i),Tt(this.cdr)}}onCancel(){this.model=new Nt,this.response=null,this.isFormSubmitted=!1,this.isFormPaySubmitted=!1,this.formErrors=null,this.formErrorsMsg=null,this.requestMsg="",Tt(this.cdr)}onCreatePaymentRequest(){this.isFormPaySubmitted=!0,this.isFormSubmitted=!1,this.formErrorsMsgPay="",this.formErrorsPay=null;let e=new $t;Tt(this.cdr),this.isFormPaySubmitted&&this.klisiPayUnauthorized.valid?(e.remittanceInfo=this.response.remittanceInfo,e.relatedCallbackUrl=this.callbackUrl,this.response.hasDieuthinsi||(e.billingAddress=this.model.address,e.billingAddressZip=this.model.tk,e.billingAddressCity=this.model.poli,e.billingAddressCountryCode=this.model.countryId,e.userPhone=this.model.tilefono),e.userEmail=this.response.hasEmail?null:this.model.email,e.eponimia=this.model.debtorName?this.model.debtorName:null,e.tinRelated=this.model.tin?this.model.tin:null,e.paymentMethodKey="",e.cardholderName=this.model.cardholderName,this.initPaymentMethods=!0,this.isLoadingPaymentResponse=!0,this.kliseisUnauthorizedRequest=e,Tt(this.cdr)):(this.formErrorsMsgPay="",this.formErrorsPay=It(this.klisiPayUnauthorized,this.formDictionaryEnum,""),Tt(this.cdr))}}ei.\u0275fac=function(e){return new(e||ei)(n.Nc(_t),n.Nc(xt),n.Nc(g.a),n.Nc(g.d),n.Nc(o.b),n.Nc(n.k))},ei.\u0275cmp=n.Hc({type:ei,selectors:[["app-kliseis-unauthorized-pay"]],viewQuery:function(e,t){var i;(1&e&&(n.Wd(at,!0),n.Wd(rt,!0),n.Wd(Wt,!0)),2&e)&&(n.Dd(i=n.fd())&&(t.klisiAnazitisi=i.first),n.Dd(i=n.fd())&&(t.klisiPayUnauthorized=i.first),n.Dd(i=n.fd())&&(t.paymentMethodsComp=i.first))},decls:5,vars:5,consts:[[3,"severity","text","styleClass",4,"ngIf"],[1,"w-100","text-center","mb-0","mt-2"],["class","btn btn-primary btn-sm",3,"href",4,"ngIf"],[4,"ngIf"],[3,"paymentRequestDto","isUnauthorized"],[3,"severity","text","styleClass"],[1,"btn","btn-primary","btn-sm",3,"href"],["aria-hidden","true",1,"fas","fa-undo","fa-fw"],[1,"form"],["klisiAnazitisi","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6","d-inline-flex","align-items-center"],["name","isForeign","value","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","label","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","binary","true",3,"ngModel","disabled","ngModelChange"],["isForeign","ngModel"],[1,"form-group","col-12","col-md-6"],["name","arithmosKlisis","type","text","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2","pattern","([0-9]{1,12})","maxlength","12","autocomplete","off","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["arithmosKlisisInput","ngModel"],[1,"text-danger","pt-1",3,"hidden"],["name","arithmosKikloforias","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2","type","text","autocomplete","off","required","",1,"form-control",2,"text-transform","uppercase",3,"ngModel","disabled","ngModelChange"],["arithmosKikloforiasInput","ngModel"],[1,"col-12","col-md-6"],["name","etosKlisis","type","text","placeholder","\u0388\u03c4\u03bf\u03c2","pattern","([0-9]{4})","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["etosKlisisInput","ngModel"],[1,"form-actions","row","justify-content-center","pb-0"],["type","button",1,"btn","btn-primary","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["type","button",1,"btn","btn-warning",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["class","bg-white","style","width: 100%; height: 100px",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"bg-white",2,"width","100%","height","100px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[3,"class",4,"ngIf"],["class","form mt-2",4,"ngIf"],[1,"form","mt-2"],["klisiPayUnauthorized","ngForm"],["class","row",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","mx-auto","mt-2",2,"width","350px"],["id","btnPayDebits","type","button",1,"btn","btn-warning","px-4","font-weight-bold","text-white","m-auto",2,"width","175px",3,"click"],["aria-hidden","true",1,"fas","fa-money-check","fa-fw"],[1,"d-flex","align-items-center","justify-content-between"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa.svg","alt","visa","height","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard.svg","alt","mastercard","\u03a6","","height","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/maestro.svg","alt","maestro","height","40",1,"mr-1"],["alt","visa-secure","width","40",1,"mr-1",3,"src"],["alt","mastercard-id-check","width","40",3,"src"],["name","debtorName","type","text","placeholder","\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1","required","",1,"form-control",3,"ngModel","ngModelChange"],["debtorNameInput","ngModel"],["name","tin","type","text","placeholder","\u0391.\u03a6.\u039c.","validateAfm","","required","",1,"form-control",3,"ngModel","ngModelChange"],["tinInput","ngModel"],["class","col-12",3,"ngClass",4,"ngIf"],[1,"col-12",3,"ngClass"],["name","email","type","email","placeholder","Email","required","",1,"form-control",3,"ngModel","ngModelChange"],["emailInput","ngModel"],["name","tilefono","type","text","placeholder","69XXXXXXXX","pattern","^69([0-9]{8})$","required","",1,"form-control",3,"ngModel","ngModelChange"],["tilefonoInput","ngModel"],[1,"col-12","col-md-9"],["name","address","type","text","placeholder","\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7","required","",1,"form-control",3,"ngModel","ngModelChange"],["addressInput","ngModel"],[1,"col-12","col-md-3"],["name","tk","type","text","placeholder","\u03a4.\u039a.","required","",1,"form-control",3,"ngModel","ngModelChange"],["tkInput","ngModel"],["name","poli","type","text","placeholder","\u03a0\u03cc\u03bb\u03b7","required","",1,"form-control",3,"ngModel","ngModelChange"],["poliInput","ngModel"],["name","egsCountry","bindLabel","Perigrafi","bindValue","Id","appendTo","body","required","",3,"items","virtualScroll","searchable","ngModel","ngModelChange"],["egsCountry","ngModel"]],template:function(e,t){1&e&&(n.Pd(0,ct,1,3,"p-message",0),n.Tc(1,"div",1),n.Pd(2,dt,3,1,"a",2),n.Sc(),n.Pd(3,Pt,38,15,"ng-container",3),n.Oc(4,"app-checkout",4)),2&e&&(n.pd("ngIf",t.bankStatusMessage&&""!=t.bankStatusMessage),n.Ac(2),n.pd("ngIf",t.bankStatusMessage&&""!=t.bankStatusMessage),n.Ac(1),n.pd("ngIf",!t.bankStatusMessage),n.Ac(1),n.pd("paymentRequestDto",t.kliseisUnauthorizedRequest)("isUnauthorized",!0))},directives:[f.p,Ht,A.b,m.v,m.l,m.m,v.a,m.k,m.n,m.b,m.q,m.f,m.s,Vt,f.n,b.a],encapsulation:2,changeDetection:0}),ei.ctorParameters=()=>[{type:_t},{type:xt},{type:g.a},{type:g.d},{type:o.b},{type:n.k}],ei.propDecorators={klisiAnazitisi:[{type:n.mb,args:["klisiAnazitisi"]}],klisiPayUnauthorized:[{type:n.mb,args:["klisiPayUnauthorized"]}],paymentMethodsComp:[{type:n.mb,args:[Wt,{static:!1}]}]};const ti={align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."};class ii{}ii.\u0275mod=n.Lc({type:ii}),ii.\u0275inj=n.Kc({factory:function(e){return new(e||ii)},providers:[qt,{provide:S.a,useValue:ti}],imports:[[f.c,m.e,Zt,y.c,O.c,k.b,R.e,v.b,C.b,A.a,T.b,P.b,I.b,S.c,b.c],b.c]}),("undefined"==typeof ngJitMode||ngJitMode)&&n.Jd(ii,{declarations:function(){return[Ut,Jt,Xt,ei,Qt,Vt,Wt,Ht]},imports:function(){return[f.c,m.e,Zt,y.c,O.c,k.b,R.e,v.b,C.b,A.a,T.b,P.b,I.b,S.c,b.c]},exports:function(){return[Ut,Jt,Xt,ei,Qt,Vt,b.c]}});var si=i("1kSV"),ni=i("PCNd");let oi=class{constructor(e,t){this.oidcSecuritySrv=e,this.router=t,this.onDestroy=new c.a}ngOnInit(){this.oidcSecuritySrv.getIsAuthorized().subscribe(e=>{this.isAuthorized=e,this.isAuthorized?(AppConfOptions&&AppConfOptions.kliseis_debits_tab_info&&""!=AppConfOptions.kliseis_debits_tab_info&&this.router.url.includes("debits")&&(this.tabMsg=AppConfOptions.kliseis_debits_tab_info),AppConfOptions&&AppConfOptions.kliseis_receipts_tab_info&&""!=AppConfOptions.kliseis_receipts_tab_info&&this.router.url.includes("receipts")&&(this.tabMsg=AppConfOptions.kliseis_receipts_tab_info)):AppConfOptions&&AppConfOptions.kliseis_unauthorized_info&&""!=AppConfOptions.kliseis_unauthorized_info&&(this.tabMsg=AppConfOptions.kliseis_unauthorized_info)}),this.router.events.pipe(Object(p.a)(this.onDestroy)).subscribe(e=>{if(e&&e instanceof g.c){let t=e.url;this.isAuthorized&&(t.includes("receipts")?AppConfOptions&&AppConfOptions.kliseis_receipts_tab_info&&""!=AppConfOptions.kliseis_receipts_tab_info&&(this.tabMsg=AppConfOptions.kliseis_receipts_tab_info):AppConfOptions&&AppConfOptions.kliseis_debits_tab_info&&""!=AppConfOptions.kliseis_debits_tab_info&&(this.tabMsg=AppConfOptions.kliseis_debits_tab_info))}})}ngOnDestroy(){this.onDestroy.next()}};oi.ctorParameters=()=>[{type:w.c},{type:g.d}],oi=Object(s.b)([Object(n.n)({selector:"app-kliseis",template:'<p-panel *ngIf="tabMsg"\r\n\t\t\theader="\u03a0\u03bb\u03b7\u03c1\u03bf\u03c6\u03bf\u03c1\u03af\u03b5\u03c2"\r\n\t\t\t[styleClass]="\'tab-msg mb-3\'"\r\n\t\t\t[toggleable]="true">\r\n\t<div [innerHTML]="tabMsg | decodeHtmlString"></div>\r\n</p-panel>\r\n\r\n<lib-kliseis-ng></lib-kliseis-ng>\r\n'}),Object(s.c)("design:paramtypes",[w.c,g.d])],oi);const ai=[{path:"",component:oi,children:[{path:"",loadChildren:()=>Promise.resolve().then(i.bind(null,"UGYw")).then(e=>e.PublicLibLoader)}]}];let ri=class{};ri=Object(s.b)([Object(n.L)({imports:[g.g.forChild(ai)],exports:[g.g]})],ri);let ci=class{};ci=Object(s.b)([Object(n.L)({declarations:[oi],imports:[ni.a,ri,si.d,ii]})],ci);let di=class{};di=Object(s.b)([Object(n.L)({imports:[ii]})],di)}}]);