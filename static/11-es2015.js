(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{MX7W:function(t,e,r){"use strict";r.r(e),e.default='<div *ngIf="!receipts || isLoading"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 300px">\r\n\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n</div>\r\n\r\n<div class="d-flex w-100 justify-content-center"\r\n\t  *ngIf="receiptsMessage">\r\n\t<p class="alert alert-warning mt-2 p-1">\r\n\t\t{{ receiptsMessage }}\r\n\t</p>\r\n</div>\r\n\r\n<ng-container *ngIf="receipts && !isLoading">\r\n\t<div *ngIf=\'receipts.entries && receipts.entries.length\'\r\n\t\t  class="receipts-info">\r\n\t\t<div *ngIf="bankStatusMessage"\r\n\t\t\t  class="bank-msg {{ bankStatusMessageClass }}">\r\n\t\t\t<button (click)=\'btnBankStatusMessageClicked()\'\r\n\t\t\t\t\t  class="close-bank-msg"><i class="fas fa-times"\r\n\t\t\t\t\taria-hidden="true"></i></button>\r\n\t\t\t{{ bankStatusMessage }}\r\n\t\t</div>\r\n\r\n\t\t<div class="searchFilters">\r\n\t\t\t<h4>\u03a6\u03af\u03bb\u03c4\u03c1\u03b1 \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7\u03c2</h4>\r\n\t\t\t<form class="form">\r\n\t\t\t\t<div class="row">\r\n\t\t\t\t\t<div class="form-group col-12 col-sm-6">\r\n\t\t\t\t\t\t<label for="hmerominiaApodiksisRange">\u0395\u03cd\u03c1\u03bf\u03c2 \u0397\u03bc. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2:</label>\r\n\t\t\t\t\t\t<p-calendar [locale]="locale"\r\n\t\t\t\t\t\t\t\t\t\tdateFormat="dd/mm/yy"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder="\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7"\r\n\t\t\t\t\t\t\t\t\t\t[monthNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearRange]="yearRange"\r\n\t\t\t\t\t\t\t\t\t\tname="hmerominiaApodiksisRange"\r\n\t\t\t\t\t\t\t\t\t\t[style]="{ width: \'100%\' }"\r\n\t\t\t\t\t\t\t\t\t\t[showIcon]="true"\r\n\t\t\t\t\t\t\t\t\t\t[showTime]="false"\r\n\t\t\t\t\t\t\t\t\t\tselectionMode="range"\r\n\t\t\t\t\t\t\t\t\t\t[readonlyInput]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="hmerominiaApodiksisRange">\r\n\t\t\t\t\t\t</p-calendar>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="form-group col-12 col-sm-6">\r\n\t\t\t\t\t\t<label for="exchangeDatepicker">\u0395\u03cd\u03c1\u03bf\u03c2 \u0397\u03bc. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2:</label>\r\n\t\t\t\t\t\t<p-calendar [locale]="locale"\r\n\t\t\t\t\t\t\t\t\t\tdateFormat="dd/mm/yy"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder="\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7"\r\n\t\t\t\t\t\t\t\t\t\t[monthNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearRange]="yearRange"\r\n\t\t\t\t\t\t\t\t\t\tname="hmerominiaSinallagisRange"\r\n\t\t\t\t\t\t\t\t\t\t[style]="{ width: \'100%\' }"\r\n\t\t\t\t\t\t\t\t\t\t[showIcon]="true"\r\n\t\t\t\t\t\t\t\t\t\t[showTime]="false"\r\n\t\t\t\t\t\t\t\t\t\tselectionMode="range"\r\n\t\t\t\t\t\t\t\t\t\t[readonlyInput]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="hmerominiaSinallagisRange">\r\n\t\t\t\t\t\t</p-calendar>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="row">\r\n\t\t\t\t\t<div class="form-group col-12 col-sm-6">\r\n\t\t\t\t\t\t<label for="recType">\u03a4\u03c1\u03cc\u03c0\u03bf\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2:</label>\r\n\t\t\t\t\t\t<ng-select [items]="tropoiPliromis"\r\n\t\t\t\t\t\t\t\t\t  bindLabel="perigrafi"\r\n\t\t\t\t\t\t\t\t\t  bindValue="id"\r\n\t\t\t\t\t\t\t\t\t  name="recType"\r\n\t\t\t\t\t\t\t\t\t  [(ngModel)]="receiptType"\r\n\t\t\t\t\t\t\t\t\t  [searchable]="false"\r\n\t\t\t\t\t\t\t\t\t  [clearable]="false">\r\n\t\t\t\t\t\t</ng-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class="form-buttons d-flex flex-wrap">\r\n\t\t\t\t\t<button (click)="btnApplyFiltersClicked()"\r\n\t\t\t\t\t\t\t  type="button"\r\n\t\t\t\t\t\t\t  class="btn btn-primary mr-1"><i class="fas fa-search fa-fw"\r\n\t\t\t\t\t\t\taria-hidden="true"></i> \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7</button>\r\n\t\t\t\t\t<button (click)="btnCleanFiltersClicked()"\r\n\t\t\t\t\t\t\t  type="button"\r\n\t\t\t\t\t\t\t  class="btn btn-warning"><i class="fas fa-times fa-fw"\r\n\t\t\t\t\t\t\taria-hidden="true"></i> \u039a\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\r\n\t\t<legend class="d-flex flex-wrap mb-1"\r\n\t\t\t\t  style="font-size: 14px;">\r\n\t\t\t<span class="mr-1"><i class="fas fa-desktop fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03bc\u03ad\u03c3\u03c9 \u03c4\u03bf\u03c5 Online \u03a3\u03c5\u03c3\u03c4\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</span>\r\n\t\t\t<span class="mr-1"><i class="far fa-building fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf</span>\r\n\t\t</legend>\r\n\r\n\t\t<p><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0391\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03c9\u03bd: {{orderedReceiptsFiltered?.length }}</strong></p>\r\n\r\n\t\t<p-table [value]="orderedReceiptsFiltered"\r\n\t\t\t\t\t[autoLayout]="true"\r\n\t\t\t\t\t[responsive]="true"\r\n\t\t\t\t\t[scrollable]="true"\r\n\t\t\t\t\t[lazy]="false"\r\n\t\t\t\t\t[paginator]="true"\r\n\t\t\t\t\t[alwaysShowPaginator]="false"\r\n\t\t\t\t\t[rows]="10"\r\n\t\t\t\t\t[totalRecords]="orderedReceiptsFiltered.length"\r\n\t\t\t\t\t[loading]="isLoading">\r\n\t\t\t<ng-template pTemplate="header">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th class="fixed-width-col-40">\u0395\u03af\u03b4\u03bf\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0391\u03c1. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0397\u03bc. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0391\u03c1. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0397\u03bc. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-150">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u03a0\u03bf\u03c3\u03cc</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="body"\r\n\t\t\t\t\t\t\t let-dto\r\n\t\t\t\t\t\t\t let-rowIndex="rowIndex">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0395\u03af\u03b4\u03bf\u03c2</span>\r\n\t\t\t\t\t\t<i class="{{ dto.icon }}"\r\n\t\t\t\t\t\t\taria-hidden="true"></i>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0391\u03c1. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.receiptIncrNr }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0397\u03bc. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.receiptDateCreated | date:\'dd/LL/yyyy\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0391\u03c1. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.bankTxnPaymentRef }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0397\u03bc. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.bankTxnDateCreated | date:\'dd/LL/yyyy\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-150">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae</span>\r\n\t\t\t\t\t\t{{ dto.description }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60 text-right">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a0\u03bf\u03c3\u03cc</span>\r\n\t\t\t\t\t\t{{ dto.paymentTotal | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60 text-center">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</span>\r\n\t\t\t\t\t\t<a *ngIf=\'dto.receiptId && dto.bankTxnUid\'\r\n\t\t\t\t\t\t\thref="{{ receiptsUrlBase }}api/PersistedDebits/GetPaymentFile/{{ dto.bankTxnUid }}"\r\n\t\t\t\t\t\t\ttarget="_blank"\r\n\t\t\t\t\t\t\trel="noopener"><i class="far fa-file-pdf"\r\n\t\t\t\t\t\t\t\taria-hidden="true"></i></a>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="footer">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="fixed-width-col-430 text-right"\r\n\t\t\t\t\t\t colspan="6">\r\n\t\t\t\t\t\t<strong>\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-120"\r\n\t\t\t\t\t\t colspan="2">\r\n\t\t\t\t\t\t<strong>{{ totalPoso | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="emptymessage">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td colspan="8">\r\n\t\t\t\t\t\t\u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2 \u03bc\u03b5 \u03c4\u03b1 \u03ba\u03c1\u03b9\u03c4\u03ae\u03c1\u03b9\u03b1 \u03c0\u03bf\u03c5 \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9.\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t</p-table>\r\n\t\t<p class="mt-1"><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0391\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03c9\u03bd: {{orderedReceiptsFiltered?.length }}</strong></p>\r\n\r\n\t\t<legend class="d-flex flex-wrap mt-1 mb-1"\r\n\t\t\t\t  style="font-size: 14px;">\r\n\t\t\t<span class="mr-1"><i class="fas fa-desktop fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03bc\u03ad\u03c3\u03c9 \u03c4\u03bf\u03c5 Online \u03a3\u03c5\u03c3\u03c4\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</span>\r\n\t\t\t<span class="mr-1"><i class="far fa-building fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf</span>\r\n\t\t</legend>\r\n\t</div>\r\n</ng-container>\r\n'},QXyn:function(t,e,r){"use strict";r.r(e),e.default='<div *ngIf="!isAuthorized"\r\n\t  class="screen-msg">\r\n\t<p class="alert alert-warning w-100 text-center p-1">\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd</p>\r\n</div>\r\n\r\n<p-tabView *ngIf="isAuthorized"\r\n\t\t\t  [activeIndex]="index"\r\n\t\t\t  (onChange)="onTabChanged($event)">\r\n\t<p-tabPanel header="\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ad\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd">\r\n\t\t<app-debits></app-debits>\r\n\t</p-tabPanel>\r\n\t<p-tabPanel header="\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd">\r\n\t\t<app-receipts></app-receipts>\r\n\t</p-tabPanel>\r\n</p-tabView>\r\n'},SYTK:function(t,e,r){"use strict";r.r(e),e.default='<div *ngIf="!debits || isLoading"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 300px">\r\n\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n</div>\r\n\r\n<div class="d-flex w-100 justify-content-center"\r\n\t  *ngIf="debitsMessage">\r\n\t<p class="alert alert-warning mt-2 p-1">\r\n\t\t{{ debitsMessage }}\r\n\t</p>\r\n</div>\r\n\r\n<div class="d-flex w-100 justify-content-center"\r\n\t  *ngIf="debitsMessage">\r\n\t<p class="screen-msg mt-2 p-1">\r\n\t\t{{ errorMessageProfile }}\r\n\t</p>\r\n</div>\r\n\r\n<div *ngIf="debits && !isLoading">\r\n\t\x3c!-- Epilegmenes Ofeiles --\x3e\r\n\t<ng-container *ngIf="debits.entries && debits.entries.length">\r\n\t\t<div *ngIf="calculatedChecked.countChecked > 0"\r\n\t\t\t  class="debits-info d-flex flex-wrap justify-content-between">\r\n\t\t\t<div class="debits-info_left">\r\n\t\t\t\t<p>\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 <span class="totalPoso">{{ calculatedChecked.countChecked }}\r\n\t\t\t\t\t\t{{ calculatedChecked.countText }}</span></p>\r\n\t\t\t\t<p class="text-right">\u039a\u03b1\u03b8\u03b1\u03c1\u03cc \u03c3\u03cd\u03bd\u03bf\u03bb\u03bf: <span\r\n\t\t\t\t\t\t\tclass="totalPoso">{{ calculatedChecked.checkedKatharo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p class="text-right">\u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u03b5\u03c0\u03b9\u03b2\u03b1\u03c1\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2: <span\r\n\t\t\t\t\t\t\tclass="totalPoso">{{ calculatedChecked.checkedEpivarinseis | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p class="text-right">\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: <span id="sumTotalToBank"\r\n\t\t\t\t\t\t\tclass="totalPoso">{{ calculatedChecked.checkedSum | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</span></p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="debits-info_mid d-flex align-items-center justify-content-center">\r\n\t\t\t\t<button id="btnPayDebits"\r\n\t\t\t\t\t\t  class="btn btn-primary mb-0"\r\n\t\t\t\t\t\t  (click)="btnPayWebDebitsClicked()"><i class="fas fa-money-check fa-fw"\r\n\t\t\t\t\t\taria-hidden="true"></i> \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="debits-info_right d-flex align-items-center justify-content-between">\r\n\t\t\t\t<img src="{{ assetsUrl }}images/Visa.jpg"\r\n\t\t\t\t\t  alt="Visa"\r\n\t\t\t\t\t  width="40" />\r\n\t\t\t\t<img src="{{ assetsUrl }}images/Mastercard.jpg"\r\n\t\t\t\t\t  alt="Mastercard"\r\n\t\t\t\t\t  width="40" />\r\n\t\t\t\t<img src="{{ assetsUrl }}images/Maestro.jpg"\r\n\t\t\t\t\t  alt="Maestro"\r\n\t\t\t\t\t  width="40" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf="calculatedChecked.countChecked == 0 && debits.entries"\r\n\t\t\t  class="py-3 d-flex align-items-center justify-content-center">\r\n\t\t\t<p class="text-center m-0">\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03b5\u03c2 \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ad\u03c2 \u03c4\u03b9\u03c2 \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2 \u03c0\u03bf\u03c5\r\n\t\t\t\t\u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03b5\u03be\u03bf\u03c6\u03bb\u03ae\u03c3\u03b5\u03c4\u03b5 \u03b1\u03c0\u03cc \u03c4\u03b7\u03bd \u03c0\u03b1\u03c1\u03b1\u03ba\u03ac\u03c4\u03c9 \u03bb\u03af\u03c3\u03c4\u03b1.</p>\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf="isNonPersistedEnabled">\r\n\t\t\t<label>\u0395\u03af\u03b4\u03bf\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2: </label>\r\n\t\t\t<select (change)=\'onSelectedPersistedTypeChanged($event)\'\r\n\t\t\t\t\t  name="perstType"\r\n\t\t\t\t\t  id="perstType"\r\n\t\t\t\t\t  #perstType>\r\n\t\t\t\t<option value="all"\r\n\t\t\t\t\t\t  selected>\u038c\u03bb\u03b5\u03c2</option>\r\n\t\t\t\t<option value="1">\u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b5\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2</option>\r\n\t\t\t\t<option value="2">\u039c\u03b7 \u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b5\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2</option>\r\n\t\t\t</select>\r\n\t\t</div>\r\n\r\n\t\t<legend *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t  class="iconTooltips d-flex flex-wrap my-2"\r\n\t\t\t\t  style="font-size: 14px;">\r\n\t\t\t<span class="mr-1"><i class="far fa-dot-circle fa-fw"></i> \u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae</span>\r\n\t\t\t<span class="mr-1"><i class="fas fa-dot-circle fa-fw"></i> \u039c\u03b7 \u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae</span>\r\n\t\t</legend>\r\n\r\n\t\t<p><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: {{ filteredDebits.entries?.length }}</strong></p>\r\n\t\t<p-table [value]="filteredDebits.entries"\r\n\t\t\t\t\t[autoLayout]="true"\r\n\t\t\t\t\t[responsive]="true"\r\n\t\t\t\t\t[scrollable]="true"\r\n\t\t\t\t\t[lazy]="false"\r\n\t\t\t\t\t[paginator]="true"\r\n\t\t\t\t\t[alwaysShowPaginator]="false"\r\n\t\t\t\t\t[rows]="10"\r\n\t\t\t\t\t[totalRecords]="filteredDebits.entries.length"\r\n\t\t\t\t\t[loading]="isLoading">\r\n\t\t\t<ng-template pTemplate="header">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<p-checkbox [binary]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="isAllDebitsChecked"\r\n\t\t\t\t\t\t\t\t\t\t(onChange)="onAllDebitsSelected()"></p-checkbox>\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-40">&nbsp;</th>\r\n\t\t\t\t\t<th class="fixed-width-col-40">AA</th>\r\n\t\t\t\t\t<th class="fixed-width-col-120">\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a7\u03c1\u03b7\u03bc\u03b1\u03c4\u03b9\u03ba\u03bf\u03cd \u039a\u03b1\u03c4\u03b1\u03bb\u03cc\u03b3\u03bf\u03c5</th>\r\n\t\t\t\t\t<th class="fixed-width-col-120">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u03a7\u03c1\u03ad\u03c9\u03c3\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u039a\u03b1\u03b8\u03b1\u03c1\u03cc \u03a0\u03bf\u03c3\u03cc</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u0395\u03c0\u03b9\u03b2\u03b1\u03c1\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2*</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="body"\r\n\t\t\t\t\t\t\t let-dto\r\n\t\t\t\t\t\t\t let-rowIndex="rowIndex">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae</span>\r\n\t\t\t\t\t\t<p-checkbox [binary]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="dto.isChecked"\r\n\t\t\t\t\t\t\t\t\t\t(onChange)="_calculateTotalAmounts()"></p-checkbox>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-40">\r\n\t\t\t\t\t\t<span class="ui-column-title">&nbsp;</span>\r\n\t\t\t\t\t\t<i class="fa-fw"\r\n\t\t\t\t\t\t\t[ngClass]="dto.isBebaiomeno ? \'far fa-dot-circle\' : \'fas fa-dot-circle\'"\r\n\t\t\t\t\t\t\taria-hidden="true"></i>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-40">\r\n\t\t\t\t\t\t<span class="ui-column-title">AA</span>\r\n\t\t\t\t\t\t{{ rowIndex + 1 }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-120">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a7\u03c1\u03b7\u03bc\u03b1\u03c4\u03b9\u03ba\u03bf\u03cd \u039a\u03b1\u03c4\u03b1\u03bb\u03cc\u03b3\u03bf\u03c5</span>\r\n\t\t\t\t\t\t{{ dto.aaEggrafis }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-120">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u03a7\u03c1\u03ad\u03c9\u03c3\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.perigrafi }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.hmerominiaLixis | date:\'dd/LL/yyyy\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u039a\u03b1\u03b8\u03b1\u03c1\u03cc \u03a0\u03bf\u03c3\u03cc</span>\r\n\t\t\t\t\t\t{{ dto.currentKatharoPoso | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u0395\u03c0\u03b9\u03b2\u03b1\u03c1\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.currentProsafksisi + dto.currentKrathseis | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf</span>\r\n\t\t\t\t\t\t{{ dto.currentSynolo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="footer">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td *ngIf="!isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-420 text-right"\r\n\t\t\t\t\t\t colspan="5">\r\n\t\t\t\t\t\t<strong>\u03a3\u03cd\u03bd\u03bf\u03bb\u03b1:</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-460 text-right"\r\n\t\t\t\t\t\t colspan="6">\r\n\t\t\t\t\t\t<strong>\u03a3\u03cd\u03bd\u03bf\u03bb\u03b1:</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right"\r\n\t\t\t\t\t\t colspan="1">\r\n\t\t\t\t\t\t<strong>{{ totalCurrentKatharo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right"\r\n\t\t\t\t\t\t colspan="1">\r\n\t\t\t\t\t\t<strong>{{ totalCurrentProsafksisi | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right"\r\n\t\t\t\t\t\t colspan="1">\r\n\t\t\t\t\t\t<strong>{{ totalcurrentSynolo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t</p-table>\r\n\t\t<p class="mt-1"><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: {{ filteredDebits.entries?.length }}</strong></p>\r\n\t\t<p><em>* \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u03a0\u03c1\u03bf\u03c3\u03b1\u03c5\u03be\u03ae\u03c3\u03b5\u03b9\u03c2 \u03ba\u03b1\u03b9 \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u039a\u03c1\u03b1\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2</em></p>\r\n\t</ng-container>\r\n\r\n\t<div *ngIf=\'paymentResponseDto\'>\r\n\t\t<form id="bankPaymentForm"\r\n\t\t\t\tmethod="POST"\r\n\t\t\t\taction="{{paymentResponseDto.postUlr}}"\r\n\t\t\t\tclass="hidden">\r\n\t\t\t<div *ngFor=\'let postField of paymentResponseDto.postFields; let i = index\'>\r\n\t\t\t\t{{postField.key}} : <input type="text"\r\n\t\t\t\t\t\t name="{{ postField.key }}"\r\n\t\t\t\t\t\t value="{{ postField.value }}" />\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n</div>\r\n'},kpNr:function(t,e,r){"use strict";r.r(e);var n=r("8Y7J"),s=r("G0yt"),i=r("iInd"),a=r("SVse"),o=r("2aIP"),l=r("XNiG"),c=function(t,e,r,n){var s,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},d=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(t){return t&&t.__esModule?t:{default:t}};let h=class{constructor(t,e,r,n){this.oidcSecuritySrv=t,this.location=e,this.router=r,this.route=n,this.onDestroy=new l.a,this.index=0}ngOnInit(){this.oidcSecuritySrv.getIsAuthorized().subscribe(t=>{this.isAuthorized=t}),"receipts"===this.route.children[0].snapshot.url[0].path?this.index=1:this.index=0}ngOnDestroy(){this.onDestroy.next()}onTabChanged(t){0==t.index?this.router.navigate(["./debits"],{relativeTo:this.route}):this.router.navigate(["./receipts"],{relativeTo:this.route})}};h.ctorParameters=()=>[{type:o.d},{type:a.Location},{type:i.d},{type:i.a}],c([Object(n.Input)(),d("design:type",Boolean)],h.prototype,"isAuthorized",void 0),h=c([Object(n.Component)({selector:"app-epayments-layout",template:p(r("QXyn")).default}),d("design:paramtypes",[o.d,a.Location,i.d,i.a])],h);var f=r("IheW"),u=r("wd/R"),g=r("LRne"),b=r("z6cu"),m=r("eIep"),y=r("1G5W"),w=r("/rUF"),x=r("iFvM"),k=function(t,e,r,n){var s,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},v=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let R=class{constructor(t){this.http=t,this.apiUrl=AppConfOptions.epayments_api+"api/"}getDebitsByTin(t){let e=`${this.apiUrl}PersistedDebits/getbytin/?Tin=${t.tin}`;return this.http.get(e)}addPaymentRequest(t){let e=this.apiUrl+"Banks/AddPaymentRequest";return this.http.post(e,t)}getPaymentsByTin(t){let e=`${this.apiUrl}PersistedDebits/GetPaymentInfos/?Tin=${t.tin}&Year=${t.year}`;return this.http.get(e)}};R.ctorParameters=()=>[{type:f.HttpClient}],R=k([Object(n.Injectable)(),v("design:paramtypes",[f.HttpClient])],R);var O=function(t,e,r,n){var s,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},C=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},D=function(t){return t&&t.__esModule?t:{default:t}};let P=class{constructor(t,e,r,n,s,i){this.oidcSecuritySrv=t,this.epaymentsSrv=e,this.toasterSrv=r,this.cdr=n,this.route=s,this._http=i,this.onDestroy=new l.a,this.totalPoso=0,this.receiptsUrlBase=AppConfOptions.epayments_api,this.receiptType="all",this.isLoading=!0,this.hmerominiaApodiksisRange=null,this.hmerominiaSinallagisRange=null,this.today=new Date,this.locale=x.c,this.yearRange=x.f,this.tropoiPliromis=[{id:"all",perigrafi:"\u038c\u03bb\u03bf\u03b9"},{id:"municipality",perigrafi:"\u03a4\u03b1\u03bc\u03b5\u03af\u03bf \u0394\u03ae\u03bc\u03bf\u03c5"},{id:"bank",perigrafi:"Online"}]}ngOnInit(){this.isLoading=!0;let t=AppConfOptions.epayments_api+"api/Banks/BankMessages";this._http.get(t).pipe(Object(m.a)(t=>t?(this.oikonomikiBankMessages=t,this.oidcSecuritySrv.getUserData().pipe(Object(y.a)(this.onDestroy))):Object(g.a)(!1)),Object(m.a)(t=>t?(this.user=t,this.route.queryParams.pipe(Object(y.a)(this.onDestroy))):Object(g.a)(!1))).subscribe(t=>{if(t){let e=t.messagecode;e&&(this.bankStatusMessage=this.oikonomikiBankMessages[e],this.bankStatusMessageClass="TRANSACTION_COMPLETED"==e?"success":"fail"),Object(x.b)(this.cdr),this._initReceiptsByTin()}else this.toasterSrv.showError("","\u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac..."),this.isLoading=!1,Object(x.b)(this.cdr)})}ngOnDestroy(){this.onDestroy.next()}_initReceiptsByTin(){this.isLoading=!0;let t=new Date,e={tin:this.user.tin,year:t.getFullYear()};this.epaymentsSrv.getPaymentsByTin(e).subscribe(t=>{t&&(this.receipts=t,this.totalPoso=0,this.receipts.entries&&this.receipts.entries.length>0&&this.receipts.entries.forEach(t=>{this.totalPoso+=t.receiptAmount}),!this.receipts.statusCode||2!=this.receipts.statusCode&&3!=this.receipts.statusCode?1==this.receipts.statusCode&&0==this.receipts.entries.length?(this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03b9\u03c2 \u03b5\u03af\u03c3\u03c0\u03c1\u03b1\u03be\u03b7\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2."),this.receiptsMessage="\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03b9\u03c2 \u03b5\u03af\u03c3\u03c0\u03c1\u03b1\u03be\u03b7\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2."):this._fillOrderedReceipts(this.receipts):this.receipts.responseMetadata.metadata.hasOwnProperty("REV_DEPTOR_NOT_FOUND")?(this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03b9\u03c2 \u03b5\u03af\u03c3\u03c0\u03c1\u03b1\u03be\u03b7\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2."),this.receiptsMessage="\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03b9\u03c2 \u03b5\u03af\u03c3\u03c0\u03c1\u03b1\u03be\u03b7\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2."):this.receipts.responseMetadata.metadata.hasOwnProperty("REV_MULTIPLE_DEPTORS_FOUND")&&(this.toasterSrv.showError("error","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd."),this.receiptsMessage="\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd.")),this.isLoading=!1,Object(x.b)(this.cdr)})}btnApplyFiltersClicked(){this.isLoading=!0,this.orderedReceiptsFiltered=Object(x.a)(this.orderedReceipts),this.hmerominiaApodiksisRange&&(this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter(t=>!!u.utc(t.receiptDateCreated).isBetween(u.utc(this.hmerominiaApodiksisRange[0]),u.utc(this.hmerominiaApodiksisRange[1]).add(1,"day")))),this.hmerominiaSinallagisRange&&(this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter(t=>!!u(t.bankTxnDateCreated).isBetween(u(this.hmerominiaSinallagisRange[0]),u(this.hmerominiaSinallagisRange[1]).add(1,"day")))),Object(x.b)(this.cdr),this._filterByType()}btnCleanFiltersClicked(){this.orderedReceiptsFiltered=Object(x.a)(this.orderedReceipts),this.hmerominiaApodiksisRange=null,this.hmerominiaSinallagisRange=null,this.receiptType,Object(x.b)(this.cdr)}_filterByType(){"bank"==this.receiptType?this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter(t=>0!=t.isOnline):"municipality"==this.receiptType&&(this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter(t=>1!=t.isOnline)),this.isLoading=!1,Object(x.b)(this.cdr)}btnBankStatusMessageClicked(){this.bankStatusMessage=null,this._initReceiptsByTin()}_fillOrderedReceipts(t=null){null==t&&(t=this.receipts);let e=this.receipts.entries.filter(t=>null===t.receiptDateCreated),r=this.receipts.entries.filter(t=>null!=t.receiptDateCreated);this.orderedReceipts=r.sort((function(t,e){if(e.receiptDateCreated!==t.receiptDateCreated)return e.receiptDateCreated>t.receiptDateCreated;return parseInt(e.receiptIncrNr.split("/").pop())>parseInt(t.receiptIncrNr.split("/").pop())})),0!=e.length&&e.forEach(t=>{this.orderedReceipts.unshift(t)}),this.orderedReceipts.forEach(t=>{0==t.isOnline?t.icon="far fa-building":t.icon="fas fa-desktop",null==t.bankTxnDescr?t.description=t.receiptDescr:t.description=t.bankTxnDescr,null==t.bankTxnPaymentTotal?t.paymentTotal=t.receiptAmount:t.paymentTotal=t.bankTxnPaymentTotal,null!=t.receiptId&&null!=t.bankTxnUid?t.link='<a href="'+AppConfOptions.epayments_api+"/api/PersistedDebits/GetPaymentFile/"+t.bankTxnUid+'" target="_blank"><i class="far fa-file-pdf"></i></a>':t.link=""}),this.orderedReceiptsFiltered=Object(x.a)(this.orderedReceipts),Object(x.b)(this.cdr)}handleError(t){return console.log(t.message),console.log(t.error),Object(b.a)(t.message)}};P.ctorParameters=()=>[{type:o.d},{type:R},{type:w.a},{type:n.ChangeDetectorRef},{type:i.a},{type:f.HttpClient}],O([Object(n.Input)(),C("design:type",Boolean)],P.prototype,"isAuthorized",void 0),P=O([Object(n.Component)({selector:"app-receipts",template:D(r("MX7W")).default,changeDetection:n.ChangeDetectionStrategy.OnPush}),C("design:paramtypes",[o.d,R,w.a,n.ChangeDetectorRef,i.a,f.HttpClient])],P);var T,j=r("Sy1n");!function(t){t[t.Ok=1]="Ok",t[t.Error=2]="Error",t[t.Warning=3]="Warning",t[t.UndefinedError=4]="UndefinedError"}(T||(T={}));var S=function(t,e,r,n){var s,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},I=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_=function(t){return t&&t.__esModule?t:{default:t}};let M=class{constructor(t,e,r,n,s){this.toasterSrv=t,this.oidcSecuritySrv=e,this.epaymentsSrv=r,this.cdr=n,this._parent=s,this.debitsMessage=null,this.calculatedChecked={countChecked:0,countText:"\u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2",checkedSum:0,checkedKatharo:0,checkedProsafksisis:0},this.isAllDebitsChecked=!1,this.errorMessageProfile=null,this.isLoading=!0,this.onDestroy=new l.a}ngOnInit(){this.assetsUrl=this._parent.assetsUrl,this.isNonPersistedEnabled=AppConfOptions.show_non_persisted_debits,this.oidcSecuritySrv.getUserData().pipe(Object(y.a)(this.onDestroy)).subscribe(t=>{t&&(this.user=t,this._initDebitsByTin()),this.isLoading=!1,Object(x.b)(this.cdr)})}ngOnDestroy(){this.onDestroy.next()}btnPayWebDebitsClicked(){let t=this.debits.entries.filter(t=>t.isChecked),e={tinRelated:this.user.tin,relatedCallbackUrl:AuthConfOptions.redirect_url+"/epayments/receipts",entries:[],billingAddressCity:this.user.address_city,billingAddressCountryCode:this.user.address_country_code,billingAddressZip:this.user.address_zip,billingAddress:this.user.address};for(let r of t.filter(t=>t.isChecked)){let t={remittanceInfo:this._createRemittanceInfo(r),amount:r.currentSynolo,debtorName:r.eponymia,tin:this.user.tin,description:r.perigrafi};e.entries.push(t)}Object(x.b)(this.cdr),this.epaymentsSrv.addPaymentRequest(e).subscribe(t=>{if(t){let e=t;e.statusCode==T.Ok?this._postBankForm(e.model):e.statusCode==T.Error&&"DEBTOR_ADDRESS_REQUIRED"==e.messageId&&(this.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",this.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb."))}Object(x.b)(this.cdr)})}onAllDebitsSelected(){this.debits.entries.forEach(t=>{t.isChecked=this.isAllDebitsChecked}),Object(x.b)(this.cdr),this._calculateTotalAmounts()}btnRefreshReceiptsClicked(){this._initDebitsByTin()}onSelectedPersistedTypeChanged(t){let e=+t.target.value;this.filteredDebits=JSON.parse(JSON.stringify(this.debits));const r=JSON.parse(JSON.stringify(this.debits));this.filteredDebits.entries=1===e?r.entries.filter(t=>!0===t.isBebaiomeno):2===e?r.entries.filter(t=>!1===t.isBebaiomeno):r.entries,this._fillDebitsTable(this.filteredDebits)}_initDebitsByTin(){this.isLoading=!0;let t={tin:this.user.tin};this.epaymentsSrv.getDebitsByTin(t).subscribe(t=>{t?(t.entries&&t.entries.length,this.debits=t,this.filteredDebits=t,Object(x.b)(this.cdr),this._fillDebitsTable(this.debits)):(this.debitsMessage=t.message,this.isLoading=!1,Object(x.b)(this.cdr),this.toasterSrv.showError("",t.message))})}_handleError(t){return Object(b.a)(t.message)}_postBankForm(t){var e=Object.keys(t.postFields).map((function(e){return{key:e,value:t.postFields[e]}}));t.postFields=e,this.paymentResponseDto=t,setTimeout((function(){document.getElementById("bankPaymentForm").submit()}),50),Object(x.b)(this.cdr)}_fillDebitsTable(t){if(2==t.statusCode)return this.toasterSrv.showWarning("","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd."),void(this.debitsMessage="\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd.");if(4==t.statusCode)return this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03ae\u03c4\u03b1\u03bd \u03b4\u03c5\u03bd\u03b1\u03c4\u03ae \u03b7 \u03c6\u03cc\u03c1\u03c4\u03c9\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b2\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd \u03c3\u03b1\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1."),void(this.debitsMessage="\u0394\u03b5\u03bd \u03ae\u03c4\u03b1\u03bd \u03b4\u03c5\u03bd\u03b1\u03c4\u03ae \u03b7 \u03c6\u03cc\u03c1\u03c4\u03c9\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b2\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd \u03c3\u03b1\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1.");0===t.entries.length&&(this.debitsMessage="\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b3\u03b9\u03b1 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae \u03bc\u03ad\u03c3\u03c9 \u03c4\u03bf\u03c5 online \u03c3\u03c5\u03c3\u03c4\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2."),!1===this.isNonPersistedEnabled&&(t.entries=t.entries.filter(t=>!0===t.isBebaiomeno)),t.entries.forEach(t=>{t.isChecked=!1});let e=t.entries.map(t=>t.currentKatharoPoso);this.totalCurrentKatharo=e.reduce((t,e)=>t+e,0);let r=t.entries.map(t=>t.currentProsafksisi),n=t.entries.map(t=>t.currentKrathseis);this.totalCurrentProsafksisi=r.reduce((t,e)=>t+e,0)+n.reduce((t,e)=>t+e,0);let s=t.entries.map(t=>t.currentSynolo);this.totalcurrentSynolo=s.reduce((t,e)=>t+e,0),t.entries.sort((function(t,e){return Date.parse(t.hmerominiaLixis)/1e3-Date.parse(e.hmerominiaLixis)/1e3})),this.isLoading=!1,Object(x.b)(this.cdr)}_calculateTotalAmounts(){let t=0,e=0,r=0,n=0,s="\u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2";this.debits.entries.forEach(s=>{s.isChecked&&(n++,t+=s.currentSynolo,e+=s.currentKatharoPoso,r+=s.currentProsafksisi+s.currentKrathseis)}),s=1==n?"\u03bf\u03c6\u03b5\u03b9\u03bb\u03ae":"\u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2",this.calculatedChecked={countChecked:n,countText:s,checkedSum:t,checkedKatharo:e,checkedEpivarinseis:r},Object(x.b)(this.cdr)}_createRemittanceInfo(t){return t.remittanceInfo}};M.ctorParameters=()=>[{type:w.a},{type:o.d},{type:R},{type:n.ChangeDetectorRef},{type:j.a}],S([Object(n.Input)(),I("design:type",Boolean)],M.prototype,"isAuthorized",void 0),M=S([Object(n.Component)({selector:"app-debits",template:_(r("SYTK")).default,changeDetection:n.ChangeDetectionStrategy.OnPush}),I("design:paramtypes",[w.a,o.d,R,n.ChangeDetectorRef,j.a])],M);const A=[{path:"",component:h,children:[{path:"",pathMatch:"full",redirectTo:"debits"},{path:"debits",component:M},{path:"receipts",component:P}]}];let E=class{};E=function(t,e,r,n){var s,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([Object(n.NgModule)({imports:[i.e.forChild(A)],exports:[i.e]})],E);var F=r("PCNd");r.d(e,"EpaymentsModule",(function(){return L}));let L=class{};L=function(t,e,r,n){var s,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,r,a):s(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}([Object(n.NgModule)({imports:[E,F.a,s.d],declarations:[h,M,P],providers:[R]})],L)}}]);