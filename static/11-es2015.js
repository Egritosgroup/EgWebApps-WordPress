(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{HNmh:function(t,e,c){var i,n,o;!function(r){if("object"==typeof t.exports){var s=r(null,e);void 0!==s&&(t.exports=s)}else n=[c,e],void 0===(o="function"==typeof(i=r)?i.apply(e,n):i)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=void 0;e.default=[[["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc.","\u03b1\u03c0\u03cc\u03b3.","\u03b2\u03c1\u03ac\u03b4\u03c5"],c,["\u03c4\u03bf \u03c0\u03c1\u03c9\u03af","\u03c4\u03bf \u03bc\u03b5\u03c3\u03b7\u03bc\u03ad\u03c1\u03b9","\u03c4\u03bf \u03b1\u03c0\u03cc\u03b3\u03b5\u03c5\u03bc\u03b1","\u03c4\u03bf \u03b2\u03c1\u03ac\u03b4\u03c5"]],[["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc.","\u03b1\u03c0\u03cc\u03b3.","\u03b2\u03c1\u03ac\u03b4\u03c5"],c,["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc\u03ad\u03c1\u03b9","\u03b1\u03c0\u03cc\u03b3\u03b5\u03c5\u03bc\u03b1","\u03b2\u03c1\u03ac\u03b4\u03c5"]],[["04:00","12:00"],["12:00","17:00"],["17:00","20:00"],["20:00","04:00"]]]})},wMrW:function(t,e,c){"use strict";c.r(e),c.d(e,"NotificationsModule",function(){return W});var i,n=c("1kSV"),o=c("PCNd"),r=c("fXoL"),s=c("tyNb"),a=c("4krO"),l=c("oXA7"),p=c("zPkR"),u=c("tk/3"),d=c("rdQv"),f=c("VZwH"),b=c("3Pt+"),h=c("5eHb"),g=c("ofXK"),y=c("yh7E"),m=c.n(y),v=c("HNmh"),w=c.n(v),T=c("ZOsW"),S=c("7LiV"),I=c("7zfz");function E(t,e){if(1&t&&(r.kc(0),r.hc(1,"i"),r.jc()),2&t){const t=r.yc(2).$implicit;r.Tb(1),r.Wb("fa-2x ",t.GroupIcon,"")}}function O(t,e){if(1&t&&(r.gd(0,E,2,3,"ng-container",4),r.mc(1,"div",5),r.mc(2,"h4"),r.id(3),r.lc(),r.mc(4,"span"),r.id(5),r.lc(),r.lc(),r.mc(6,"div",6),r.hc(7,"i",7),r.lc()),2&t){const t=r.yc().$implicit,e=r.yc();r.Hc("ngIf",t.GroupIcon),r.Tb(3),r.jd(t.Perigrafi),r.Tb(2),r.jd(e.calcEnabledTypes(t.SubscriberEnabledTypes))}}function N(t,e){if(1&t&&(r.mc(0,"span",12),r.id(1),r.lc()),2&t){const t=r.yc(2).$implicit;r.Tb(1),r.kd(" ",t.ExtraInfoForSubscribers,"")}}function k(t,e){if(1&t){const t=r.nc();r.mc(0,"div",13),r.mc(1,"label",14),r.id(2),r.lc(),r.mc(3,"input",15),r.wc("change",function(e){r.Zc(t);const c=r.yc(2).$implicit;return r.yc().onInputChange(e,c,c.SupportedTypes)}),r.lc(),r.hc(4,"label",16),r.lc()}if(2&t){const t=r.yc(2).$implicit;r.Tb(1),r.Jc("for","",t.NotificationGroupId,"-all"),r.Tb(1),r.kd("",0==t.SubscriberEnabledTypes?"\u0395\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7":"\u0391\u03c0\u03b5\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7"," \u038c\u03bb\u03c9\u03bd"),r.Tb(1),r.Jc("id","",t.NotificationGroupId,"-all"),r.Hc("checked",0!=t.SubscriberEnabledTypes),r.Tb(1),r.Jc("for","",t.NotificationGroupId,"-all")}}function $(t,e){if(1&t){const t=r.nc();r.kc(0),r.mc(1,"div",17),r.hc(2,"label",18),r.mc(3,"input",15),r.wc("change",function(e){r.Zc(t);const c=r.yc().$implicit,i=r.yc(2).$implicit;return r.yc().onInputChange(e,i,c.Value)}),r.lc(),r.hc(4,"label",16),r.lc(),r.jc()}if(2&t){const t=r.yc().$implicit,e=r.yc(2).$implicit,c=r.yc();r.Tb(2),r.Kc("for","",e.NotificationGroupId,"-",t.Value,""),r.Hc("innerHTML",t.Metadata.Description+t.DisplayText,r.ad),r.Tb(1),r.Kc("id","",e.NotificationGroupId,"-",t.Value,""),r.Hc("checked",c.calcIfChecked(e,t.Value)),r.Tb(1),r.Kc("for","",e.NotificationGroupId,"-",t.Value,"")}}function j(t,e){if(1&t&&(r.kc(0),r.gd(1,$,5,8,"ng-container",4),r.jc()),2&t){const t=e.$implicit,c=r.yc(2).$implicit,i=r.yc();r.Tb(1),r.Hc("ngIf",i.isSupportedType(c.SupportedTypes,t.Value))}}function x(t,e){if(1&t&&(r.mc(0,"div",8),r.gd(1,N,2,1,"span",9),r.mc(2,"div"),r.mc(3,"b",10),r.id(4,"\u03a0\u03c9\u03c2 \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03bb\u03b1\u03bc\u03b2\u03ac\u03bd\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ad\u03c2 \u03c4\u03b9\u03c2 \u03b5\u03b9\u03b4\u03bf\u03c0\u03bf\u03b9\u03ae\u03c3\u03b5\u03b9\u03c2"),r.lc(),r.gd(5,k,5,5,"div",11),r.lc(),r.gd(6,j,2,1,"ng-container",1),r.lc()),2&t){const t=r.yc().$implicit,e=r.yc();r.Tb(1),r.Hc("ngIf",t.ExtraInfoForSubscribers),r.Tb(1),r.Vb(t.CanUnSubscribe?"has-switch":""),r.Tb(3),r.Hc("ngIf",t.CanUnSubscribe),r.Tb(1),r.Hc("ngForOf",e.notificationEnumTypeValues)}}function G(t,e){1&t&&(r.mc(0,"p-accordionTab"),r.gd(1,O,8,3,"ng-template",2),r.gd(2,x,7,5,"ng-template",3),r.lc())}class H{constructor(t){this.toastr=t}show(t,e,c){e&&this.toastr[c](e,t,{progressBar:!0,onActivateTick:!0})}showError(t,e){this.show(t,e,"error")}showInfo(t,e){this.show(t,e,"info")}showSuccess(t,e){this.show(t,e,"success")}showWarning(t,e){this.show(t,e,"warning")}}H.\u0275fac=function(t){return new(t||H)(r.tc(h.b))},H.\u0275prov=Object(r.cc)({factory:function(){return new H(Object(r.tc)(h.b))},token:H,providedIn:"root"}),H.ctorParameters=()=>[{type:h.b}];class C{constructor(t){this.toasterSrv=t,this.catchBadResponse=t=>{let e="";if(t.error instanceof Error)e=`\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ${t.message}`;else if(void 0!==t.error)e=`\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ${t.message}`;else switch(t.status){case 403:e=`\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error ${t.status}`;break;case 401:e=`\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n ${t.status}`;break;default:e=`Backend returned code ${t.status}, body was: ${void 0!==t.body?t.body.error:void 0!==t.message?t.message:""}`}return this.toasterSrv.showError("",`${e}`),Object(a.a)(!1)}}}C.\u0275fac=function(t){return new(t||C)(r.tc(H))},C.\u0275prov=Object(r.cc)({factory:function(){return new C(Object(r.tc)(H))},token:C,providedIn:"root"}),C.ctorParameters=()=>[{type:H}];class M extends class{constructor(t,e){this.http=t,this.exceptionSrv=e,this.getBaseUrl=()=>this.baseUrl,this.baseUrl+="api","undefined"!=typeof AppConfOptions&&AppConfOptions.notifications_api?this.baseUrl=AppConfOptions.notifications_api:this.baseUrl="/",this.baseUrl+="api/"}}{constructor(t,e,c){super(c,t),this.exceptionSrv=t,this.toasterSrv=e,this.http=c}GetAllNotificationsTypes(t){let e=`${this.baseUrl}Notifications/GetAllNotificationsTypes/${t}`;return this.http.get(e)}GetMySubscriptions(){let t=`${this.baseUrl}Notifications/GetMySubscriptions`;return this.http.get(t)}UpdateSubscriptionPoliti(t){let e=`${this.baseUrl}Notifications/UpdateSubscriptionPoliti`;return this.http.post(e,t).pipe(Object(d.a)(t=>t),Object(f.a)(t=>function(t,e){let c="";if(t.error instanceof Error&&t.error&&t.error.Message||void 0!==t.error&&t.error&&t.error.Message)c=`${t.error.Message}`;else switch(t.status){case 400:c=t.error;break;case 403:c="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. \n";break;case 401:c="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. \n",setTimeout(()=>window.location.reload(),1e3);break;default:c=`\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1 \u03bc\u03b5 \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc ${t.status}, \u03ba\u03b1\u03b9 \u03c0\u03b5\u03c1\u03b9\u03b5\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf: ${void 0!==t.body?t.body.error:void 0!==t.Message?t.Message:""}`}return console.log("ERRORING: ",t),e.showError("\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1",`${c}`),Object(a.a)(!1)}(t,this.toasterSrv)))}}M.\u0275fac=function(t){return new(t||M)(r.tc(C),r.tc(H),r.tc(u.b))},M.\u0275prov=Object(r.cc)({factory:function(){return new M(Object(r.tc)(C),Object(r.tc)(H),Object(r.tc)(u.b))},token:M,providedIn:"root"}),M.ctorParameters=()=>[{type:C},{type:H},{type:u.b}];class P{constructor(t,e,c,i){this.notificationsNgSrv=t,this.toasterSrv=e,this.router=c,this.route=i,this.model=[],this.onDestroy=new l.a,this.index=0,this.isLoading=!0}ngOnInit(){}ngOnDestroy(){this.onDestroy.next()}_loadData(){}onTabChanged(t){}}P.\u0275fac=function(t){return new(t||P)(r.gc(M),r.gc(H),r.gc(s.d),r.gc(s.a))},P.\u0275cmp=r.ac({type:P,selectors:[["lib-notifications-ng"]],decls:2,vars:0,template:function(t,e){1&t&&(r.hc(0,"lib-registration"),r.hc(1,"router-outlet"))},directives:function(){return[U,s.h]},encapsulation:2}),P.ctorParameters=()=>[{type:M},{type:H},{type:s.d},{type:s.a}],function(t){t[t.Email=1]="Email",t[t.Sms=2]="Sms",t[t.Paper=4]="Paper"}(i||(i={}));class V{}class A{constructor(t){this.notificationsNgSrv=t,this.onDestroy=new l.a}ngOnInit(){Object(p.a)([this.notificationsNgSrv.GetMySubscriptions(),this.notificationsNgSrv.GetAllNotificationsTypes("NotificationType")]).subscribe(t=>{t&&(this.model=t[0],this.notificationEnumTypeValues=t[1])})}ngOnDestroy(){this.onDestroy.next}toggleArrow(t){let e=t.originalEvent.srcElement.id,c=document.getElementById(e).getElementsByClassName("arrow")[0];c.children[0].classList.contains("fa-caret-down")?c.children[0].className="fas fa-caret-up fa-2x":c.children[0].className="fas fa-caret-down fa-2x"}isSupportedType(t,e){return!!(t&e)}onInputChange(t,e,c){var i=new V;i.NotificationGroupId=e.NotificationGroupId,i.SubscriberEnabledTypes=e.SubscriberEnabledTypes,e.SubscriberEnabledTypes&c?i.SubscriberEnabledTypes&=~c:i.SubscriberEnabledTypes|=c,this.notificationsNgSrv.UpdateSubscriptionPoliti(i).subscribe(c=>{c?e.SubscriberEnabledTypes=i.SubscriberEnabledTypes:t.target.checked=!0})}calcEnabledTypes(t){var e="";for(let c=0;c<this.notificationEnumTypeValues.length;c++){const i=this.notificationEnumTypeValues[c];t&i.Value&&(e+=(e.length>0?", ":"")+i.DisplayText)}return e}calcIfChecked(t,e){return t.SubscriberEnabledTypes&e}}A.\u0275fac=function(t){return new(t||A)(r.gc(M))},A.\u0275cmp=r.ac({type:A,selectors:[["lib-mailing-lists"]],decls:2,vars:2,consts:[["expandIcon","","collapseIcon","",3,"multiple","onOpen","onClose"],[4,"ngFor","ngForOf"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"notgroup-title"],[1,"arrow"],[1,"fas","fa-caret-down","fa-2x"],[1,"card","card-body"],["class","extra-info",4,"ngIf"],[1,"descr"],["class","switch all",4,"ngIf"],[1,"extra-info"],[1,"switch","all"],[1,"label",3,"for"],["type","checkbox",1,"input",3,"id","checked","change"],[1,"slider",3,"for"],[1,"switch"],[1,"label",3,"for","innerHTML"]],template:function(t,e){1&t&&(r.mc(0,"p-accordion",0),r.wc("onOpen",function(t){return e.toggleArrow(t)})("onClose",function(t){return e.toggleArrow(t)}),r.gd(1,G,3,0,"p-accordionTab",1),r.lc()),2&t&&(r.Hc("multiple",!0),r.Tb(1),r.Hc("ngForOf",e.model))},directives:[S.a,g.o,S.c,I.j,g.p],encapsulation:2}),A.ctorParameters=()=>[{type:M}];class U{constructor(){}ngOnInit(){}}U.\u0275fac=function(t){return new(t||U)},U.\u0275cmp=r.ac({type:U,selectors:[["lib-registration"]],decls:1,vars:0,template:function(t,e){1&t&&r.hc(0,"lib-mailing-lists")},directives:[A],encapsulation:2}),U.ctorParameters=()=>[];const D=[{path:"",component:P,pathMatch:"full"},{path:"Notifications",component:P,pathMatch:"full"}];class z{}z.\u0275fac=function(t){return new(t||z)},z.\u0275mod=r.ec({type:z}),z.\u0275inj=r.dc({imports:[[s.g.forChild(D)],s.g]}),Object(g.H)(m.a,"el",w.a);const B=[S.b];class F{}F.\u0275fac=function(t){return new(t||F)},F.\u0275mod=r.ec({type:F}),F.\u0275inj=r.dc({providers:[{provide:r.G,useValue:"el"}],imports:[[g.c,b.g,z,T.c,...B,h.a.forRoot()]]});var L=c("zazq");function R(t,e){1&t&&(r.kc(0),r.mc(1,"div",1),r.hc(2,"lib-notifications-ng"),r.lc(),r.jc())}class J{constructor(t){this.oidcSecuritySrv=t}ngOnInit(){this.oidcSecuritySrv.isAuthenticated$.subscribe(t=>{this.isAuthorized=t})}}J.\u0275fac=function(t){return new(t||J)(r.gc(L.e))},J.\u0275cmp=r.ac({type:J,selectors:[["app-notifications"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"notifications-container","bg-white",2,"padding","30px"]],template:function(t,e){1&t&&r.gd(0,R,3,0,"ng-container",0),2&t&&r.Hc("ngIf",e.isAuthorized)},directives:[g.p,P],encapsulation:2});const _=[{path:"",component:J}];class K{}K.\u0275fac=function(t){return new(t||K)},K.\u0275mod=r.ec({type:K}),K.\u0275inj=r.dc({imports:[[s.g.forChild(_)],s.g]});class W{}W.\u0275fac=function(t){return new(t||W)},W.\u0275mod=r.ec({type:W}),W.\u0275inj=r.dc({imports:[[o.a,K,n.d,F]]})}}]);