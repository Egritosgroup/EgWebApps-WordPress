"use strict";(self.webpackChunkegritos_group_eg_web_apps=self.webpackChunkegritos_group_eg_web_apps||[]).push([[480],{1480:(Oe,D,r)=>{r.r(D),r.d(D,{CarPoolingModule:()=>Me});var Y=r(4864),$=r(5265),c=r(2100),n=r(3228),b=r(5657),_=r(3616),I=r(7368),e=r(4496),L=r(2116),S=r(9161),m=r(1368),f=r(7564),M=r(1123),x=r(6328),O=r(1148);class y{constructor(){this.imerominiaTaksidiouApo=null,this.imerominiaTaksidiouEos=null,this.poliApo=null,this.poliEos=null,this.start=0,this.pageSize=10,this.onlyMyDiadromes=!1}}class k{constructor(){this.id=0,this.imerominiaTaksidiou=null,this.theseis=null,this.apoLatitude=null,this.apoLongitude=null,this.apoPlirisPerigrafi=null,this.apoTk=null,this.poliApo=null,this.prosLatitude=null,this.prosLongitude=null,this.prosPlirisPerigrafi=null,this.prosTk=null,this.poliEos=null,this.scholia=null,this.odigosId=null,this.ora=null}}var E=function(u){return u.diadromiApo="\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd \u0391\u03c0\u03cc",u.imerominiaTaksidiou="\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd",u.apoPlirisPerigrafi="\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1",u.prosPlirisPerigrafi="\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2",u.ora="\u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2",u.theseis="\u0398\u03ad\u03c3\u03b5\u03b9\u03c2",u}(E||{}),C=r(4704),p=r(9144),H=r(7048);let h=(()=>{class u{constructor(t,o){this.http=t,this.toasterSrv=o,this.apiUrl=AppConfOptions.carpooling_api+"api/"}getAllDiadromes(){return this.http.get(`${this.apiUrl}diadromes/GetAll`).pipe((0,C.k)(t=>t),(0,p.a)(t=>(0,n.Og)(t,this.toasterSrv)))}search(t){return this.http.post(`${this.apiUrl}diadromes/Search`,t).pipe((0,C.k)(o=>o),(0,p.a)(o=>(0,n.Og)(o,this.toasterSrv)))}add(t){return this.http.post(`${this.apiUrl}diadromes/Add`,t).pipe((0,C.k)(o=>o),(0,p.a)(o=>(0,n.Og)(o,this.toasterSrv)))}update(t){return this.http.put(`${this.apiUrl}diadromes/Update/${t.id}`,t).pipe((0,C.k)(o=>o),(0,p.a)(o=>(0,n.Og)(o,this.toasterSrv)))}getDiadromi(t){return this.http.get(`${this.apiUrl}diadromes/`+t).pipe((0,C.k)(o=>o),(0,p.a)(o=>(0,n.Og)(o,this.toasterSrv)))}getAvailablePoleisMeDiadomes(t){return this.http.get(`${this.apiUrl}diadromes/GetAvailablePoleisMeDiadomes/${t}`).pipe((0,C.k)(o=>o),(0,p.a)(o=>(0,n.Og)(o,this.toasterSrv)))}delete(t){return this.http.delete(`${this.apiUrl}diadromes/${t}`).pipe((0,C.k)(o=>o),(0,p.a)(o=>(0,n.Og)(o,this.toasterSrv)))}static#e=this.\u0275fac=function(o){return new(o||u)(e.CoB(H.KK),e.CoB(n.y6))};static#t=this.\u0275prov=e.wxM({token:u,factory:u.\u0275fac})}return u})();var d=r(6504),N=r(120),w=r(8552),F=r(5544);function V(u,l){if(1&u&&(e.I0R(0,"pre",19),e.OEk(1),e.C$Y()),2&u){const t=e.GaO(2);e.yG2(),e.cNF(t.model.scholia)}}function U(u,l){1&u&&(e.I0R(0,"span",20),e.OEk(1,"-"),e.C$Y())}function j(u,l){if(1&u&&(e.SAx(0),e.I0R(1,"div",2)(2,"a",3),e.wR5(3,"span",4),e.OEk(4," \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1"),e.C$Y()(),e.I0R(5,"div",5)(6,"div",6)(7,"span",7),e.wR5(8,"i",8),e.OEk(9," \u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd:"),e.C$Y(),e.I0R(10,"span",9),e.OEk(11),e.wVc(12,"date"),e.C$Y()(),e.I0R(13,"div",6)(14,"span",7),e.wR5(15,"i",10),e.OEk(16," \u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2:"),e.C$Y(),e.I0R(17,"span",9),e.OEk(18),e.wVc(19,"date"),e.C$Y()(),e.I0R(20,"div",6)(21,"span",7),e.wR5(22,"i",11),e.OEk(23," \u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1:"),e.C$Y(),e.I0R(24,"span",9),e.OEk(25),e.C$Y()(),e.I0R(26,"div",6)(27,"span",7),e.wR5(28,"i",11),e.OEk(29," \u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2:"),e.C$Y(),e.I0R(30,"span",9),e.OEk(31),e.C$Y()(),e.I0R(32,"div",6)(33,"span",7),e.wR5(34,"i",12),e.OEk(35," \u039f\u03b4\u03b7\u03b3\u03cc\u03c2:"),e.C$Y(),e.I0R(36,"span",9),e.OEk(37),e.C$Y()(),e.I0R(38,"div",6)(39,"span",7),e.wR5(40,"i",13),e.OEk(41," \u0398\u03ad\u03c3\u03b5\u03b9\u03c2:"),e.C$Y(),e.I0R(42,"span",9),e.OEk(43),e.C$Y()(),e.I0R(44,"div",6)(45,"span",7),e.wR5(46,"i",14),e.OEk(47," \u03a3\u03c7\u03cc\u03bb\u03b9\u03b1:"),e.C$Y(),e.I0R(48,"span",9),e.yuY(49,V,2,1,"pre",15)(50,U,2,0,"span",16),e.C$Y()()(),e.I0R(51,"a",17),e.wR5(52,"span",18),e.OEk(53," \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc\u03c2 \u03ba\u03cc\u03c3\u03c4\u03bf\u03c5\u03c2 \u03c4\u03bf\u03c5 \u03c4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),e.C$Y(),e.k70()),2&u){const t=e.GaO();e.yG2(2),e.u6R("href","mailto:",t.model.odigos.email,"?Subject=\u0395\u03c1\u03ce\u03c4\u03b7\u03c3\u03b7 \u03b3\u03b9\u03b1 \u03c4\u03b7 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae \u039d\u03bf# ",t.model.id,"",e.K6U),e.yG2(9),e.cNF(e.kDX(12,12,t.model.imerominiaTaksidiou)),e.yG2(7),e.cNF(e.g7$(19,14,t.model.imerominiaTaksidiou,"shortTime")),e.yG2(7),e.cNF(t.model.apoPlirisPerigrafi),e.yG2(6),e.cNF(t.model.prosPlirisPerigrafi),e.yG2(6),e.cNF(t.model.odigos.fullName),e.yG2(6),e.cNF(t.model.theseis),e.yG2(6),e.E7m("ngIf",t.model.scholia),e.yG2(),e.E7m("ngIf",!t.model.scholia),e.yG2(),e.u6R("href","https://www.viamichelin.com/web/Routes?departure=",t.model.apoPlirisPerigrafi,"&arrival=",t.model.prosPlirisPerigrafi,"",e.K6U)}}let z=(()=>{class u{constructor(t){this.carPoolingSrv=t,this.dir=void 0}ngOnInit(){this._getDirection()}_getDirection(){this.dir={origin:{lat:this.model.apoLatitude,lng:this.model.apoLongitude},destination:{lat:this.model.prosLatitude,lng:this.model.prosLongitude}}}static#e=this.\u0275fac=function(o){return new(o||u)(e.GI1(h))};static#t=this.\u0275cmp=e.In1({type:u,selectors:[["app-diadromi-view"]],inputs:{model:"model"},decls:2,vars:3,consts:[[3,"condition","customClass"],[4,"ngIf"],[1,"d-flex","justify-content-end","mb-1"],[1,"btn","btn-primary","btn-sm","m-0",3,"href"],["aria-hidden","true",1,"far","fa-envelope"],[1,"d-flex","flex-column"],[1,"d-flex","align-items-center"],[1,"diadromi-details-list__left"],["aria-hidden","true",1,"far","fa-calendar-alt","fa-fw"],[1,"diadromi-details-list__right"],["aria-hidden","true",1,"fas","fa-clock","fa-fw"],["aria-hidden","true",1,"fas","fa-map-marker-alt","fa-fw"],["aria-hidden","true",1,"fas","fa-car","fa-fw"],["aria-hidden","true",1,"fas","fa-user-circle","fa-fw"],["aria-hidden","true",1,"fas","fa-comments","fa-fw"],["cols","70","rows","3","disabled","",4,"ngIf"],["disabled","",4,"ngIf"],["target","_blank","rel","noopener nofollow","id","cost_calc",1,"btn","btn-primary","btn-sm","ms-0","mt-3",3,"href"],["aria-hidden","true",1,"fas","fa-euro-sign"],["cols","70","rows","3","disabled",""],["disabled",""]],template:function(o,i){1&o&&(e.wR5(0,"eg-loading",0),e.yuY(1,j,54,17,"ng-container",1)),2&o&&(e.E7m("condition",!i.model)("customClass","egr-load-small"),e.yG2(),e.E7m("ngIf",i.model))},dependencies:[m.u_,n.uU,m.y],encapsulation:2})}return u})();const J=["searchDiadromesForm"];function K(u,l){if(1&u&&e.wR5(0,"div",21),2&u){const t=e.GaO();e.E7m("innerHTML",t.formErrorsMsg,e.E3n)}}function q(u,l){1&u&&(e.I0R(0,"tr")(1,"th",27),e.OEk(2,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),e.C$Y(),e.I0R(3,"th",28),e.OEk(4,"\u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2"),e.C$Y(),e.I0R(5,"th",27),e.OEk(6,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),e.C$Y(),e.I0R(7,"th",27),e.OEk(8,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),e.C$Y(),e.I0R(9,"th",28),e.OEk(10,"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u0398\u03ad\u03c3\u03b5\u03b9\u03c2"),e.C$Y(),e.I0R(11,"th",29),e.OEk(12,"\u039f\u03b4\u03b7\u03b3\u03cc\u03c2"),e.C$Y()())}function Q(u,l){if(1&u){const t=e.KQA();e.I0R(0,"tr")(1,"td",30)(2,"span",31),e.OEk(3,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),e.C$Y(),e.I0R(4,"button",32),e.qCj("click",function(){const s=e.usT(t).$implicit,a=e.GaO(2);return a.diadromiModalOpen=!0,e.CGJ(a.selectedModel=s)}),e.wR5(5,"span",33),e.OEk(6),e.wVc(7,"date"),e.C$Y()(),e.I0R(8,"td",28)(9,"span",31),e.OEk(10,"\u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2"),e.C$Y(),e.OEk(11),e.wVc(12,"date"),e.C$Y(),e.I0R(13,"td",27)(14,"span",31),e.OEk(15,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),e.C$Y(),e.OEk(16),e.C$Y(),e.I0R(17,"td",27)(18,"span",31),e.OEk(19,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),e.C$Y(),e.OEk(20),e.C$Y(),e.I0R(21,"td",34)(22,"span",31),e.OEk(23,"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u0398\u03ad\u03c3\u03b5\u03b9\u03c2"),e.C$Y(),e.OEk(24),e.C$Y(),e.I0R(25,"td",29)(26,"span",31),e.OEk(27,"\u039f\u03b4\u03b7\u03b3\u03cc\u03c2"),e.C$Y(),e.OEk(28),e.C$Y()()}if(2&u){const t=l.$implicit;e.yG2(6),e.oRS(" ",e.g7$(7,6,t.imerominiaTaksidiou,"dd/LL/yyyy")," "),e.yG2(5),e.oRS(" ",e.g7$(12,9,t.imerominiaTaksidiou,"shortTime")," "),e.yG2(5),e.oRS(" ",t.apoPlirisPerigrafi," "),e.yG2(4),e.oRS(" ",t.prosPlirisPerigrafi," "),e.yG2(4),e.oRS(" ",t.theseis," "),e.yG2(4),e.oRS(" ",t.odigos.fullName," ")}}function W(u,l){if(1&u&&(e.I0R(0,"tr")(1,"td",35)(2,"strong"),e.OEk(3,"\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2:"),e.C$Y(),e.OEk(4),e.C$Y()()),2&u){const t=e.GaO(2);e.yG2(4),e.oRS(" ",t.modelCopy.length," ")}}function Z(u,l){1&u&&(e.I0R(0,"tr")(1,"td",35),e.OEk(2," \u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03b4\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ad\u03c2 \u03bc\u03b5 \u03c4\u03b1 \u03ba\u03c1\u03b9\u03c4\u03ae\u03c1\u03b9\u03b1 \u03c0\u03bf\u03c5 \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9. "),e.C$Y()())}function X(u,l){if(1&u&&(e.I0R(0,"p-table",22),e.yuY(1,q,13,0,"ng-template",23)(2,Q,29,12,"ng-template",24)(3,W,5,1,"ng-template",25)(4,Z,3,0,"ng-template",26),e.C$Y()),2&u){const t=e.GaO();e.E7m("value",t.modelCopy)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",t.isLoading)("totalRecords",null==t.modelCopy?null:t.modelCopy.length)}}function ee(u,l){if(1&u&&(e.I0R(0,"div",36),e.wR5(1,"app-diadromi-view",37),e.C$Y()),2&u){const t=e.GaO();e.yG2(),e.E7m("model",t.selectedModel)}}const T=()=>({width:"100%"});let v=(()=>{class u{constructor(t,o,i){this.carPoolingSrv=t,this.toasterSrv=o,this.cdr=i,this.diathesimesPoleisApo=[],this.diathesimesPoleisEos=[],this.isLoading=!1,this.today=new Date,this.yearRange=(0,n.sj)(50,50),this.diadromiModalOpen=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=E}ngOnInit(){this.searchModel=new y,this.isLoading=!0,(0,n.Er)(this.cdr),this.carPoolingSrv.getAvailablePoleisMeDiadomes(!0).subscribe(t=>{if(t){this.diathesimesPoleis=t;let o=this.diathesimesPoleis.filter(s=>s.poliApo);for(let s=0;s<o.length;s++)this.diathesimesPoleisApo=[...this.diathesimesPoleisApo,{id:s,perigrafi:o[s].poliApo.toString()}];let i=this.diathesimesPoleis.filter(s=>s.poliEos);for(let s=0;s<i.length;s++)this.diathesimesPoleisEos=[...this.diathesimesPoleisEos,{id:s,perigrafi:i[s].poliEos.toString()}]}this.isLoading=!1,(0,n.Er)(this.cdr)}),this.carPoolingSrv.search(this.searchModel).subscribe(t=>{t&&(this.model=t,this.modelCopy=(0,n.O0)(this.model),this.modelCopy.sort(function(o,i){return o.imerominiaTaksidiou>i.imerominiaTaksidiou?-1:o.imerominiaTaksidiou<i.imerominiaTaksidiou?1:0})),this.isLoading=!1,(0,n.Er)(this.cdr)})}onSearch(){this.isFormSubmitted=!0,this.formErrorsMsg=null;let t=new y;t.imerominiaTaksidiouApo=this.searchModel.imerominiaTaksidiouApo,t.imerominiaTaksidiouEos=this.searchModel.imerominiaTaksidiouEos,this.diathesimesPoleisApo.some(o=>+o.id==+this.searchModel.poliApo)&&(t.poliApo=this.diathesimesPoleisApo.filter(o=>+o.id==+this.searchModel.poliApo)[0].perigrafi),this.diathesimesPoleisEos.some(o=>+o.id==+this.searchModel.poliEos)&&(t.poliEos=this.diathesimesPoleisEos.filter(o=>+o.id==+this.searchModel.poliEos)[0].perigrafi),(0,n.Er)(this.cdr),this.isFormSubmitted&&this.searchDiadromesForm.valid?(this.isLoading=!0,(0,n.Er)(this.cdr),this.carPoolingSrv.search(t).subscribe(o=>{o&&(this.modelCopy=o),this.isLoading=!1,(0,n.Er)(this.cdr)})):(this.formErrorsMsg=(0,n.SG)(this.searchDiadromesForm,this.formDictionaryEnum,""),(0,n.Er)(this.cdr)),this.isLoading=!1,(0,n.Er)(this.cdr)}onClearFilters(){this.modelCopy=(0,n.O0)(this.model),this.searchModel.imerominiaTaksidiouApo=null,this.searchModel.imerominiaTaksidiouEos=null,this.searchModel.poliApo=null,this.searchModel.poliEos=null,this.isFormSubmitted=!1,this.formErrorsMsg=null,(0,n.Er)(this.cdr)}onAfetiriaSelected(){let t=[];t=this.searchModel.poliApo?this.diathesimesPoleis.filter(o=>o.poliApo==this.searchModel.poliApo):this.diathesimesPoleis,this.diathesimesPoleisEos=t.map(o=>o.poliEos),this.diathesimesPoleisEos=this.diathesimesPoleisEos.filter(function(o,i,s){return s.indexOf(o)===i}),(0,n.Er)(this.cdr)}onProorismosSelected(){let t=[];t=this.searchModel.poliEos?this.diathesimesPoleis.filter(o=>o.poliEos==this.searchModel.poliEos):this.diathesimesPoleis,this.diathesimesPoleisApo=t.map(o=>o.poliApo),this.diathesimesPoleisApo=this.diathesimesPoleisApo.filter(function(o,i,s){return s.indexOf(o)===i}),(0,n.Er)(this.cdr)}static#e=this.\u0275fac=function(o){return new(o||u)(e.GI1(h),e.GI1(n.y6),e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:u,selectors:[["app-diadromes-list"]],viewQuery:function(o,i){if(1&o&&e.CC$(J,5),2&o){let s;e.wto(s=e.Gqi())&&(i.searchDiadromesForm=s.first)}},decls:36,vars:50,consts:[[3,"condition","customClass"],["header","\u03a6\u03af\u03bb\u03c4\u03c1\u03b1 \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7\u03c2",3,"styleClass"],[1,"form"],["searchDiadromesForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["name","diadromiApo","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body","required","",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","readonlyInput","touchUI","ngModel","ngModelChange"],["imerominiaTaksidiouApoInput","ngModel"],[1,"validation-msg","text-danger","pt-1",3,"hidden"],["name","diadromiEos","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","readonlyInput","touchUI","ngModel","ngModelChange"],["name","poliApo","bindLabel","perigrafi","bindValue","id",1,"ontop-select",3,"appendTo","searchable","clearable","items","ngModel","disabled","ngModelChange"],["name","poliEos","bindLabel","perigrafi","bindValue","id",1,"ontop-select",3,"appendTo","searchable","clearable","items","ngModel","disabled","ngModelChange"],[1,"form-buttons","d-flex","flex-wrap"],["type","button",1,"btn","btn-primary","btn-sm","me-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["type","button",1,"btn","btn-warning","btn-sm","text-white",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords",4,"ngIf"],[3,"title","isOpen","size","isOpenChange"],["class","modal-body",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[1,"fixed-width-col-100"],[1,"fixed-width-col-60"],[1,"fixed-width-col-150"],[1,"fixed-width-col-100","text-center"],[1,"p-column-title"],["type","button",1,"btn","btn-sm","btn-primary","m-0",3,"click"],["aria-hidden","true",1,"far","fa-eye"],[1,"fixed-width-col-60","text-center"],["colspan","6"],[1,"modal-body"],[3,"model"]],template:function(o,i){if(1&o&&(e.wR5(0,"eg-loading",0),e.I0R(1,"p-panel",1)(2,"form",2,3)(4,"div",4)(5,"div",5)(6,"label"),e.OEk(7,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd \u0391\u03c0\u03cc*"),e.C$Y(),e.I0R(8,"p-calendar",6,7),e.iHE("ngModelChange",function(a){return e.kNx(i.searchModel.imerominiaTaksidiouApo,a)||(i.searchModel.imerominiaTaksidiouApo=a),a}),e.C$Y(),e.I0R(10,"div",8),e.OEk(11," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),e.C$Y()(),e.I0R(12,"div",5)(13,"label"),e.OEk(14,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd \u0388\u03c9\u03c2"),e.C$Y(),e.I0R(15,"p-calendar",9),e.iHE("ngModelChange",function(a){return e.kNx(i.searchModel.imerominiaTaksidiouEos,a)||(i.searchModel.imerominiaTaksidiouEos=a),a}),e.C$Y()()(),e.I0R(16,"div",4)(17,"div",5)(18,"label"),e.OEk(19,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),e.C$Y(),e.I0R(20,"ng-select",10),e.iHE("ngModelChange",function(a){return e.kNx(i.searchModel.poliApo,a)||(i.searchModel.poliApo=a),a}),e.C$Y()(),e.I0R(21,"div",5)(22,"label"),e.OEk(23,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),e.C$Y(),e.I0R(24,"ng-select",11),e.iHE("ngModelChange",function(a){return e.kNx(i.searchModel.poliEos,a)||(i.searchModel.poliEos=a),a}),e.C$Y()()(),e.I0R(25,"div",12)(26,"button",13),e.qCj("click",function(){return i.onSearch()}),e.wR5(27,"i",14),e.OEk(28," \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7 "),e.C$Y(),e.I0R(29,"button",15),e.qCj("click",function(){return i.onClearFilters()}),e.wR5(30,"i",16),e.OEk(31," \u039a\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2 "),e.C$Y()(),e.yuY(32,K,1,1,"div",17),e.C$Y()(),e.yuY(33,X,5,9,"p-table",18),e.I0R(34,"eg-modal",19),e.iHE("isOpenChange",function(a){return e.kNx(i.diadromiModalOpen,a)||(i.diadromiModalOpen=a),a}),e.yuY(35,ee,2,1,"div",20),e.C$Y()),2&o){const s=e.Gew(9);e.E7m("condition",i.isLoading)("customClass","egr-load-small"),e.yG2(),e.E7m("styleClass","mb-3"),e.yG2(7),e.m_g(e.q4q(48,T)),e.E7m("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",i.yearRange)("showIcon",!0)("showButtonBar",!0)("readonlyInput",!0)("touchUI",!0),e.OKB("ngModel",i.searchModel.imerominiaTaksidiouApo),e.yG2(2),e.E7m("hidden",!i.isFormSubmitted||i.isFormSubmitted&&s.valid),e.yG2(5),e.m_g(e.q4q(49,T)),e.E7m("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",i.yearRange)("showIcon",!0)("showButtonBar",!0)("readonlyInput",!0)("touchUI",!0),e.OKB("ngModel",i.searchModel.imerominiaTaksidiouEos),e.yG2(5),e.E7m("appendTo","body")("searchable",!0)("clearable",!0)("items",i.diathesimesPoleisApo),e.OKB("ngModel",i.searchModel.poliApo),e.E7m("disabled",0===i.diathesimesPoleisApo.length),e.yG2(4),e.E7m("appendTo","body")("searchable",!0)("clearable",!0)("items",i.diathesimesPoleisEos),e.OKB("ngModel",i.searchModel.poliEos),e.E7m("disabled",0===i.diathesimesPoleisEos.length),e.yG2(8),e.E7m("ngIf",i.formErrorsMsg&&""!==i.formErrorsMsg),e.yG2(),e.E7m("ngIf",i.modelCopy&&!i.isLoading),e.yG2(),e.E7m("title","\u039a\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03b7\u03bc\u03ad\u03bd\u03b7 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae No#"+(null==i.selectedModel?null:i.selectedModel.id)),e.OKB("isOpen",i.diadromiModalOpen),e.E7m("size","xl"),e.yG2(),e.E7m("ngIf",i.diadromiModalOpen)}},dependencies:[m.u_,d.sz,d.ue,d.u,d.eJ,d._G,d.SC,n.QB,N.UT,n.uU,w.oJ,f.U3,F.Yf,O.s,z,m.y],encapsulation:2,changeDetection:0})}return u})();var te=r(3856);const ie=["autocompleteItem"];let oe=(()=>{class u{constructor(){this.setAddress=new e._w7}ngAfterViewInit(){this.getPlaceAutocomplete()}getPlaceAutocomplete(){const t=new google.maps.places.Autocomplete(this.autocompleteItem.nativeElement,{componentRestrictions:{country:"GR"},types:[this.adressType]});t.addListener("place_changed",()=>{const o=t.getPlace();this.invokeEvent(o)})}invokeEvent(t){this.setAddress.emit(t)}static#e=this.\u0275fac=function(o){return new(o||u)};static#t=this.\u0275cmp=e.In1({type:u,selectors:[["AutocompleteComponent"]],viewQuery:function(o,i){if(1&o&&e.CC$(ie,5),2&o){let s;e.wto(s=e.Gqi())&&(i.autocompleteItem=s.first)}},inputs:{adressType:"adressType",name:"name",placeholder:"placeholder",required:"required",autocompleteInput:"autocompleteInput"},outputs:{setAddress:"setAddress"},decls:2,vars:3,consts:[["type","text","autocomplete","off",1,"form-control",3,"placeholder","required","ngModel","keydown.enter","ngModelChange"],["autocompleteItem",""]],template:function(o,i){1&o&&(e.I0R(0,"input",0,1),e.qCj("keydown.enter",function(a){return a.preventDefault()}),e.iHE("ngModelChange",function(a){return e.kNx(i.autocompleteInput,a)||(i.autocompleteInput=a),a}),e.C$Y()),2&o&&(e.E7m("placeholder",i.placeholder)("required",i.required),e.OKB("ngModel",i.autocompleteInput))},dependencies:[d.ot,d.ue,d.eJ,d._G],encapsulation:2})}return u})();const ue=["myDiadromiForm"];function se(u,l){1&u&&(e.I0R(0,"span"),e.OEk(1,"\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7"),e.C$Y())}function ae(u,l){1&u&&(e.I0R(0,"span"),e.OEk(1,"\u0395\u03bd\u03b7\u03bc\u03ad\u03c1\u03c9\u03c3\u03b7"),e.C$Y())}function ne(u,l){if(1&u&&e.wR5(0,"div",24),2&u){const t=e.GaO(2);e.E7m("innerHTML",t.formErrorsMsg,e.E3n)}}const R=()=>({width:"100%"});function re(u,l){if(1&u){const t=e.KQA();e.I0R(0,"form",2,3)(2,"div",4)(3,"div",5)(4,"label"),e.OEk(5,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1*"),e.C$Y(),e.I0R(6,"AutocompleteComponent",6),e.qCj("setAddress",function(i){e.usT(t);const s=e.GaO();return e.CGJ(s.onHandleAddressChange(i,"apo"))}),e.C$Y(),e.I0R(7,"div",7),e.OEk(8," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),e.C$Y()(),e.I0R(9,"div",5)(10,"label"),e.OEk(11,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2*"),e.C$Y(),e.I0R(12,"AutocompleteComponent",6),e.qCj("setAddress",function(i){e.usT(t);const s=e.GaO();return e.CGJ(s.onHandleAddressChange(i,"pros"))}),e.C$Y(),e.I0R(13,"div",7),e.OEk(14," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),e.C$Y()()(),e.I0R(15,"div",4)(16,"div",8)(17,"label"),e.OEk(18,"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd*"),e.C$Y(),e.I0R(19,"p-calendar",9,10),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.model.imerominiaTaksidiou,i)||(s.model.imerominiaTaksidiou=i),e.CGJ(i)}),e.C$Y(),e.I0R(21,"div",7),e.OEk(22," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),e.C$Y()(),e.I0R(23,"div",8)(24,"label"),e.OEk(25,"\u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2*"),e.C$Y(),e.I0R(26,"p-calendar",11,12),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.model.ora,i)||(s.model.ora=i),e.CGJ(i)}),e.C$Y(),e.I0R(28,"div",7),e.OEk(29," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),e.C$Y()(),e.I0R(30,"div",8)(31,"label"),e.OEk(32,"\u0398\u03ad\u03c3\u03b5\u03b9\u03c2*"),e.C$Y(),e.I0R(33,"input",13,14),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.model.theseis,i)||(s.model.theseis=i),e.CGJ(i)}),e.C$Y(),e.I0R(35,"div",7),e.OEk(36," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),e.C$Y()()(),e.I0R(37,"div",4)(38,"div",15)(39,"label"),e.OEk(40,"\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1"),e.C$Y(),e.I0R(41,"textarea",16),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.model.scholia,i)||(s.model.scholia=i),e.CGJ(i)}),e.OEk(42,"\t\t\t"),e.C$Y()()(),e.I0R(43,"div",17)(44,"button",18),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.onSubmit())}),e.wR5(45,"i",19),e.yuY(46,se,2,0,"span",20)(47,ae,2,0,"span",20),e.C$Y(),e.I0R(48,"button",21),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.onAkirosiClicked())}),e.wR5(49,"i",22),e.OEk(50," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 "),e.C$Y()(),e.yuY(51,ne,1,1,"div",23),e.C$Y()}if(2&u){const t=e.Gew(20),o=e.Gew(27),i=e.Gew(34),s=e.GaO();e.yG2(6),e.E7m("name","apoPlirisPerigrafi")("adressType","address")("placeholder","\u03c0.\u03c7. \u0391\u03b8\u03ae\u03bd\u03b1")("required",!0)("autocompleteInput",s.model.apoPlirisPerigrafi),e.yG2(),e.E7m("hidden",!s.isFormSubmitted||s.isFormSubmitted&&s.model.apoPlirisPerigrafi),e.yG2(5),e.E7m("name","prosPlirisPerigrafi")("adressType","address")("placeholder","\u03c0.\u03c7. \u039a\u03c1\u03ad\u03bf\u03bd\u03c4\u03bf\u03c2 25, \u0391\u03b8\u03ae\u03bd\u03b1")("required",!0)("autocompleteInput",s.model.prosPlirisPerigrafi),e.yG2(),e.E7m("hidden",!s.isFormSubmitted||s.isFormSubmitted&&s.model.prosPlirisPerigrafi),e.yG2(6),e.m_g(e.q4q(38,R)),e.E7m("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",s.yearRange)("showIcon",!0)("showButtonBar",!0)("touchUI",!0),e.OKB("ngModel",s.model.imerominiaTaksidiou),e.yG2(2),e.E7m("hidden",!s.isFormSubmitted||s.isFormSubmitted&&t.valid),e.yG2(5),e.m_g(e.q4q(39,R)),e.E7m("baseZIndex",9999)("timeOnly",!0)("showIcon",!0),e.OKB("ngModel",s.model.ora),e.yG2(2),e.E7m("hidden",!s.isFormSubmitted||s.isFormSubmitted&&o.valid),e.yG2(5),e.OKB("ngModel",s.model.theseis),e.yG2(2),e.E7m("hidden",!s.isFormSubmitted||s.isFormSubmitted&&i.valid),e.yG2(6),e.OKB("ngModel",s.model.scholia),e.yG2(5),e.E7m("ngIf",0===s.model.id),e.yG2(),e.E7m("ngIf",0!==s.model.id),e.yG2(4),e.E7m("ngIf",s.formErrorsMsg&&""!==s.formErrorsMsg)}}let le=(()=>{class u{constructor(t,o,i,s){this.carPoolingSrv=t,this.toasterSrv=o,this.router=i,this.cdr=s,this.closeModal=new e._w7,this.listHasChanged=new e._w7,this.onDestroy=new b.E,this.type="address",this.countryRestrictions=["gr"],this.today=new Date,this.yearRange=(0,n.sj)(50,50),this.isLoading=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=E}ngOnInit(){let t=window.sessionStorage.length>0?window.sessionStorage:window.localStorage;for(let o=0;o<t.length;o++){const i=t.key(o);if(i.includes("default-auth-config")){let s=JSON.parse(t.getItem(i));this.user=s.userData}}!this.model||this.model&&0==this.model.id?(this.model=new k,this.user&&(this.model.odigosId=this.user.sub),(0,n.Er)(this.cdr)):this._getDetailData()}ngOnDestroy(){this.onDestroy.next(null)}_getDetailData(){this.isLoading=!0,(0,n.Er)(this.cdr),this.carPoolingSrv.getDiadromi(this.model.id).subscribe(t=>{t&&(this.model=t,this.model.imerominiaTaksidiou=this.model.imerominiaTaksidiou?new Date(this.model.imerominiaTaksidiou):null,this.model.ora=this.model.imerominiaTaksidiou),this.isLoading=!1,(0,n.Er)(this.cdr)})}onAkirosiClicked(){this.closeModal.emit()}onSubmit(){if(this.isFormSubmitted=!0,this.formErrorsMsg=null,this.model.imerominiaTaksidiou&&(0,n.M5)(this.model.imerominiaTaksidiou),this.model.ora){this.model.ora=(0,n.M5)(this.model.ora);let o=this.model.ora.getHours(),i=this.model.ora.getMinutes(),s=this.model.ora.getSeconds(),a=this.model.ora.getMilliseconds();this.model.imerominiaTaksidiou.setHours(o,i,s,a)}let t=this.carPoolingSrv.update(this.model);0==this.model.id&&(t=this.carPoolingSrv.add(this.model)),(0,n.Er)(this.cdr),this.isFormSubmitted&&this.myDiadromiForm.valid?(this.isLoading=!0,(0,n.Er)(this.cdr),t.subscribe(o=>{o&&(this.toasterSrv.showSuccess("","\u0397 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae \u03c3\u03b1\u03c2 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03b8\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1!"),this.closeModal.emit(),this.listHasChanged.emit(!0)),this.isLoading=!1,(0,n.Er)(this.cdr)})):(this.formErrorsMsg=(0,n.SG)(this.myDiadromiForm,this.formDictionaryEnum,""),(0,n.Er)(this.cdr))}onHandleAddressChange(t,o){let i=null,s=t.address_components.find(B=>null!=B.types.find(g=>"locality"==g)),a=t.address_components.find(B=>null!=B.types.find(g=>"administrative_area_level_3"==g));null!=s?i=s.long_name:null!=a&&(i=a.long_name);let A=null,P=t.address_components.find(B=>null!=B.types.find(g=>"postal_code"==g));null!=P&&(A=P.long_name),"pros"==o?(this.model.prosPlirisPerigrafi=t.formatted_address,this.model.poliEos=i,this.model.prosTk=A,this.model.prosLatitude=+t.geometry.location.lat(),this.model.prosLongitude=+t.geometry.location.lng()):"apo"==o&&(this.model.apoPlirisPerigrafi=t.formatted_address,this.model.poliApo=i,this.model.apoTk=A,this.model.apoLatitude=+t.geometry.location.lat(),this.model.apoLongitude=+t.geometry.location.lng()),(0,n.Er)(this.cdr)}static#e=this.\u0275fac=function(o){return new(o||u)(e.GI1(h),e.GI1(n.y6),e.GI1(c.E5),e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:u,selectors:[["app-diadromi-detail"]],viewQuery:function(o,i){if(1&o&&e.CC$(ue,5),2&o){let s;e.wto(s=e.Gqi())&&(i.myDiadromiForm=s.first)}},inputs:{model:"model"},outputs:{closeModal:"closeModal",listHasChanged:"listHasChanged"},decls:2,vars:3,consts:[[3,"condition","customClass"],["class","form",4,"ngIf"],[1,"form"],["myDiadromiForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6"],[3,"name","adressType","placeholder","required","autocompleteInput","setAddress"],[1,"validation-msg","text-danger","pt-1",3,"hidden"],[1,"form-group","col-12","col-md-4"],["name","imerominiaTaksidiou","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body","required","",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","touchUI","ngModel","ngModelChange"],["imerominiaTaksidiouInput","ngModel"],["name","ora","placeholder","\u03a9\u03a9:\u039b\u039b","hourFormat","24","appendTo","body","required","",3,"baseZIndex","timeOnly","showIcon","ngModel","ngModelChange"],["oraInput","ngModel"],["name","theseis","placeholder","1","type","number","min","1","max","20","required","",1,"form-control",3,"ngModel","ngModelChange"],["theseisInput","ngModel"],[1,"form-group","col-12"],["name","scholia","placeholder","\u03c0.\u03c7. \u039c\u03ac\u03c1\u03ba\u03b1 \u03b1\u03c5\u03c4\u03bf\u03ba\u03b9\u03bd\u03ae\u03c4\u03bf\u03c5, stopovers \u03ba\u03c4\u03bb\u03c0","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-buttons","d-flex","flex-wrap"],["type","button",1,"btn","btn-primary","me-1",3,"click"],["aria-hidden","true",1,"far","fa-save","fa-fw"],[4,"ngIf"],["type","button",1,"btn","btn-warning","text-white",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"]],template:function(o,i){1&o&&(e.wR5(0,"eg-loading",0),e.yuY(1,re,52,40,"form",1)),2&o&&(e.E7m("condition",i.isLoading)("customClass","egr-load-small"),e.yG2(),e.E7m("ngIf",!i.isLoading))},dependencies:[m.u_,d.sz,d.ot,d.O4,d.ue,d.u,d.eJ,d.Gu,d._t,d._G,d.SC,oe,n.uU,F.Yf],encapsulation:2,changeDetection:0})}return u})();function de(u,l){1&u&&(e.I0R(0,"tr")(1,"th",11),e.OEk(2,"\u0397\u03bc. & \u038f\u03c1\u03b1 \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),e.C$Y(),e.I0R(3,"th",11),e.OEk(4,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),e.C$Y(),e.I0R(5,"th",11),e.OEk(6,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),e.C$Y(),e.I0R(7,"th",12),e.OEk(8,"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u0398\u03ad\u03c3\u03b5\u03b9\u03c2"),e.C$Y(),e.I0R(9,"th",13),e.OEk(10,"\xa0"),e.C$Y()())}function me(u,l){if(1&u){const t=e.KQA();e.I0R(0,"tr")(1,"td",11)(2,"span",14),e.OEk(3,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),e.C$Y(),e.OEk(4),e.wVc(5,"date"),e.wVc(6,"date"),e.C$Y(),e.I0R(7,"td",11)(8,"span",14),e.OEk(9,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),e.C$Y(),e.OEk(10),e.C$Y(),e.I0R(11,"td",11)(12,"span",14),e.OEk(13,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),e.C$Y(),e.OEk(14),e.C$Y(),e.I0R(15,"td",15)(16,"span",14),e.OEk(17,"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u0398\u03ad\u03c3\u03b5\u03b9\u03c2"),e.C$Y(),e.OEk(18),e.C$Y(),e.I0R(19,"td",16)(20,"span",14),e.OEk(21,"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"),e.C$Y(),e.I0R(22,"button",17),e.qCj("click",function(){const s=e.usT(t).$implicit,a=e.GaO(2);return e.CGJ(a.onDiadromiRowClicked(s))}),e.wR5(23,"i",18),e.C$Y(),e.I0R(24,"button",19),e.qCj("click",function(){const s=e.usT(t).$implicit,a=e.GaO(2);return a.isModalViewOpen=!1,a.isModalDeleteOpen=!0,e.CGJ(a.selectedModel=s)}),e.wR5(25,"i",20),e.C$Y()()()}if(2&u){const t=l.$implicit;e.yG2(4),e.CAO(" ",e.g7$(5,5,t.imerominiaTaksidiou,"dd/LL/yyyy"),", ",e.g7$(6,8,t.imerominiaTaksidiou,"shortTime")," "),e.yG2(6),e.oRS(" ",t.apoPlirisPerigrafi," "),e.yG2(4),e.oRS(" ",t.prosPlirisPerigrafi," "),e.yG2(4),e.oRS(" ",t.theseis," ")}}function Ce(u,l){if(1&u&&(e.I0R(0,"p-table",8),e.yuY(1,de,11,0,"ng-template",9)(2,me,26,11,"ng-template",10),e.C$Y()),2&u){const t=e.GaO();e.E7m("value",t.model)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",t.isLoading)("totalRecords",null==t.model?null:t.model.length)}}function pe(u,l){1&u&&(e.I0R(0,"p"),e.OEk(1,"\u03a0\u03c1\u03cc\u03ba\u03b5\u03b9\u03c4\u03b1\u03b9 \u03bd\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03ac\u03c8\u03b5\u03c4\u03b5 \u03c4\u03b7\u03bd \u03ba\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03ae \u03c3\u03b1\u03c2!"),e.wR5(2,"br"),e.OEk(3,"\u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5; "),e.C$Y())}function ce(u,l){if(1&u){const t=e.KQA();e.I0R(0,"p-footer")(1,"button",21),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.onConfirmDeleteClicked())}),e.wR5(2,"span",20),e.OEk(3," \u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae"),e.C$Y(),e.I0R(4,"button",22),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i._closeModals())}),e.wR5(5,"span",23),e.OEk(6," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7"),e.C$Y()()}}function he(u,l){if(1&u){const t=e.KQA();e.I0R(0,"app-diadromi-detail",24),e.qCj("closeModal",function(){e.usT(t);const i=e.GaO();return e.CGJ(i._closeModals())})("listHasChanged",function(){e.usT(t);const i=e.GaO();return e.CGJ(i._getListData(i.searchModelToPost))}),e.C$Y()}if(2&u){const t=e.GaO();e.E7m("model",t.selectedModel)}}let G=(()=>{class u{constructor(t,o,i,s){this.carPoolingSrv=t,this.toasterSrv=o,this.router=i,this.cdr=s,this.isModalViewOpen=!1,this.isModalDeleteOpen=!1,this.isLoading=!1,this.modalTitle=""}ngOnInit(){this.searchModelToPost=new y,this.searchModelToPost.onlyMyDiadromes=!0,this.searchModelToPost.start=0,this.searchModelToPost.pageSize=150,this.isLoading=!0,(0,n.Er)(this.cdr),this.carPoolingSrv.search(this.searchModelToPost).subscribe(t=>{t&&(this.model=t),this.isLoading=!1,(0,n.Er)(this.cdr)})}_getListData(t){this.isLoading=!0,(0,n.Er)(this.cdr),this.carPoolingSrv.search(t).subscribe(o=>{o&&(this.model=o),this.isLoading=!1,(0,n.Er)(this.cdr)})}_closeModals(){setTimeout(()=>{this.isModalDeleteOpen=!1,this.isModalViewOpen=!1,this.selectedModel=null,(0,n.Er)(this.cdr)})}onBtnAddDiadromiClicked(){this.selectedModel=new k,this.modalTitle="\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u03bc\u03bf\u03c5",this.isModalViewOpen=!0,(0,n.Er)(this.cdr)}onDiadromiRowClicked(t){this.selectedModel=t,this.modalTitle="\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u039c\u03bf\u03c5 No#"+this.selectedModel.id,this.isModalViewOpen=!0,(0,n.Er)(this.cdr)}onConfirmDeleteClicked(){this.carPoolingSrv.delete(this.selectedModel.id).subscribe(t=>{t?(this.toasterSrv.showWarning("","\u0397 \u03b4\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae \u03b4\u03b9\u03b1\u03b3\u03c1\u03ac\u03c6\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1."),this._getListData(this.searchModelToPost)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03bc\u03b5 \u03c4\u03b7 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u03c3\u03b1\u03c2."),(0,n.Er)(this.cdr)})}static#e=this.\u0275fac=function(o){return new(o||u)(e.GI1(h),e.GI1(n.y6),e.GI1(c.E5),e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:u,selectors:[["app-my-diadromes"]],decls:11,vars:14,consts:[[1,"d-flex","justify-content-end","mb-2"],["type","button",1,"btn","btn-primary","btn-sm","mb-0",3,"click"],["aria-hidden","true",1,"fas","fa-plus","fa-fw"],[3,"condition","customClass"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords",4,"ngIf"],["appendTo","body","resizable","false","modal","true","closeOnEscape","false",3,"header","visible","draggable","closable","visibleChange","onHide"],[4,"ngIf"],[3,"model","closeModal","listHasChanged",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","header"],["pTemplate","body"],[1,"fixed-width-col-100"],[1,"fixed-width-col-60"],[1,"fixed-width-col-120"],[1,"p-column-title"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-120","text-center"],["type","button","aria-label","\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",1,"btn","btn-sm","btn-primary","m-0","me-1",3,"click"],[1,"far","fa-edit","fa-fw"],["type","button","aria-label","\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae",1,"btn","btn-sm","btn-danger","m-0",3,"click"],[1,"far","fa-trash-alt","fa-fw"],["type","button",1,"btn","btn-primary","btn-sm","m-0","me-1",3,"click"],["type","button",1,"btn","btn-warning","btn-sm","m-0","text-white",3,"click"],[1,"fas","fa-times","fa-fw"],[3,"model","closeModal","listHasChanged"]],template:function(o,i){1&o&&(e.I0R(0,"div",0)(1,"button",1),e.qCj("click",function(){return i.onBtnAddDiadromiClicked()}),e.wR5(2,"span",2),e.OEk(3," \u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u039c\u03bf\u03c5"),e.C$Y()(),e.wR5(4,"eg-loading",3),e.yuY(5,Ce,3,9,"p-table",4),e.I0R(6,"p-dialog",5),e.iHE("visibleChange",function(a){return i.isModalDeleteOpen&&(e.kNx(i.selectedModel,a)||(i.selectedModel=a)),a}),e.qCj("onHide",function(){return i._closeModals()}),e.yuY(7,pe,4,0,"p",6)(8,ce,7,0,"p-footer",6),e.C$Y(),e.I0R(9,"p-dialog",5),e.iHE("visibleChange",function(a){return e.kNx(i.isModalViewOpen,a)||(i.isModalViewOpen=a),a}),e.qCj("onHide",function(){return i._closeModals()}),e.yuY(10,he,1,1,"app-diadromi-detail",7),e.C$Y()),2&o&&(e.yG2(4),e.E7m("condition",!i.model||i.isLoading)("customClass","egr-load-small"),e.yG2(),e.E7m("ngIf",i.model&&!i.isLoading),e.yG2(),e.E7m("header","\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u039c\u03bf\u03c5 No#"+(null==i.selectedModel?null:i.selectedModel.id)),e.OKB("visible",i.isModalDeleteOpen&&i.selectedModel),e.E7m("draggable",!1)("closable",!0),e.yG2(),e.E7m("ngIf",i.isModalDeleteOpen&&i.selectedModel),e.yG2(),e.E7m("ngIf",i.isModalDeleteOpen&&i.selectedModel),e.yG2(),e.E7m("header",i.modalTitle),e.OKB("visible",i.isModalViewOpen),e.E7m("draggable",!1)("closable",!0),e.yG2(),e.E7m("ngIf",i.isModalViewOpen&&i.selectedModel))},dependencies:[m.u_,n.uU,w.oJ,f.Go,f.U3,te.C,le,m.y],encapsulation:2,changeDetection:0})}return u})();var Be=r(2656),ge=r(6230);function fe(u,l){1&u&&e.wR5(0,"p-message",3)}function _e(u,l){if(1&u&&(e.I0R(0,"p-panel",6),e.wVc(1,"translate"),e.wR5(2,"div",7),e.wVc(3,"decodeHtmlString"),e.C$Y()),2&u){const t=e.GaO(2);e.E7m("header",e.kDX(1,4,null==t.translation?null:t.translation.egwebapps.information))("styleClass","tab-msg mb-3")("toggleable",!0),e.yG2(2),e.E7m("innerHTML",e.kDX(3,6,t.tabMsg),e.E3n)}}function ye(u,l){1&u&&e.wR5(0,"app-diadromes-list")}function Ee(u,l){1&u&&e.wR5(0,"app-my-diadromes")}function Ae(u,l){if(1&u){const t=e.KQA();e.I0R(0,"p-tabView",8),e.qCj("onChange",function(i){e.usT(t);const s=e.GaO(2);return e.CGJ(s.onTabChanged(i))}),e.I0R(1,"p-tabPanel",9),e.yuY(2,ye,1,0,"ng-template",10),e.C$Y(),e.I0R(3,"p-tabPanel",11),e.yuY(4,Ee,1,0,"ng-template",10),e.C$Y()()}if(2&u){const t=e.GaO(2);e.E7m("activeIndex",t.index)}}function De(u,l){if(1&u&&(e.SAx(0),e.yuY(1,_e,4,8,"p-panel",4)(2,Ae,5,1,"p-tabView",5),e.k70()),2&u){const t=e.GaO();e.yG2(),e.E7m("ngIf",t.isAuthorized&&t.tabMsg&&""!==t.tabMsg),e.yG2(),e.E7m("ngIf",t.isAuthorized)}}const be=[{path:"",component:(()=>{class u{constructor(t,o,i,s,a){this.oidcSecuritySrv=t,this.appCacheSrv=o,this.location=i,this.router=s,this.route=a,this.onDestroy=new b.E,this.afmNotFound=!1,this.index=0,this.selectedLang="el"}ngOnInit(){this.appCacheSrv.translation$.pipe((0,_.a)(this.onDestroy)).subscribe(t=>{t&&(this.translation=t)}),this.appCacheSrv.selectedLang$.pipe((0,_.a)(this.onDestroy)).subscribe(t=>{t&&(this.selectedLang=t)}),this.oidcSecuritySrv.isAuthenticated$.pipe((0,I.G)(t=>(this.isAuthorized=null!=t&&t.isAuthenticated,this.appCacheSrv.selectedLang$)),(0,I.G)(t=>(t&&(this.selectedLang=t),1==AppConfOptions.multilingual&&"el"!=this.selectedLang&&AppConfOptions.carpooling_tab_info_en&&""!=AppConfOptions.carpooling_tab_info_en?this.tabMsg=AppConfOptions.carpooling_tab_info_en:AppConfOptions.carpooling_tab_info&&""!=AppConfOptions.carpooling_tab_info&&"el"==this.selectedLang&&(this.tabMsg=AppConfOptions.carpooling_tab_info),this.appCacheSrv.user$)),(0,_.a)(this.onDestroy)).subscribe(t=>{this.afmNotFound=!1,t&&(0,n.w1)(t.tin)&&AppConfOptions.carpooling_afm_required&&(this.afmNotFound=!0)}),this.index="my-diadromes"===this.route.children[0].snapshot.url[0].path?1:0}ngOnDestroy(){this.onDestroy.next(null)}onTabChanged(t){this.router.navigate(0==t.index?["./list"]:["./my-diadromes"],{relativeTo:this.route})}static#e=this.\u0275fac=function(o){return new(o||u)(e.GI1(L.Bf),e.GI1(S.i),e.GI1(m.oB),e.GI1(c.E5),e.GI1(c.gV))};static#t=this.\u0275cmp=e.In1({type:u,selectors:[["app-carpooling-layout"]],inputs:{isAuthorized:"isAuthorized"},decls:4,vars:3,consts:[[1,"module-title"],["severity","warn","text","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd.",4,"ngIf"],[4,"ngIf"],["severity","warn","text","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd."],[3,"header","styleClass","toggleable",4,"ngIf"],[3,"activeIndex","onChange",4,"ngIf"],[3,"header","styleClass","toggleable"],[3,"innerHTML"],[3,"activeIndex","onChange"],["header","\u039b\u03af\u03c3\u03c4\u03b1 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ce\u03bd"],["pTemplate","content"],["header","\u039f\u03b9 \u03b4\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ad\u03c2 \u03bc\u03bf\u03c5"]],template:function(o,i){1&o&&(e.I0R(0,"h3",0),e.OEk(1),e.C$Y(),e.yuY(2,fe,1,0,"p-message",1)(3,De,3,2,"ng-container",2)),2&o&&(e.yG2(),e.cNF(null==i.translation?null:i.translation.menu.rantevouMenuItem),e.yG2(),e.E7m("ngIf",!i.isAuthorized),e.yG2(),e.E7m("ngIf",!i.afmNotFound))},dependencies:[m.u_,f.U3,M.DX,M.Gk,x.S,O.s,v,G,Be.m,ge.sD],encapsulation:2})}return u})(),children:[{path:"",pathMatch:"full",redirectTo:"list"},{path:"list",component:v},{path:"my-diadromes",component:G}]}];let Ie=(()=>{class u{static#e=this.\u0275fac=function(o){return new(o||u)};static#t=this.\u0275mod=e.a4G({type:u});static#i=this.\u0275inj=e.s3X({imports:[c.qQ.forChild(be),c.qQ]})}return u})(),Me=(()=>{class u{static#e=this.\u0275fac=function(o){return new(o||u)};static#t=this.\u0275mod=e.a4G({type:u});static#i=this.\u0275inj=e.s3X({providers:[h],imports:[Ie,$.k,Y.IB]})}return u})()}}]);