(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{kpNr:function(t,e,s){"use strict";s.r(e),s.d(e,"EpaymentsModule",(function(){return S}));var n=s("mrSG"),r=s("fXoL"),i=s("1kSV"),a=s("PCNd"),o=s("tk/3"),l=s("zazq"),d=s("XNiG"),c=s("LRne"),p=s("eIep"),h=s("Sy1n"),g=s("/rUF"),b=s("iFvM"),m=s("AEAu");let u=class{constructor(t,e,s,n,r,i){this.toasterSrv=t,this.oidcSecuritySrv=e,this.epaymentsSrv=s,this.cdr=n,this._http=r,this._parent=i,this.countriesList=[],this.onDoPaymentSubject=new d.a,this.isMobile=!1,this.debitsMessage=null,this.calculatedChecked={countChecked:0,countText:"\u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2",checkedSum:0,checkedKatharo:0,checkedProsafksisis:0},this.isAllDebitsChecked=!1,this.isLoading=!0,this.eidosDebit=[{value:0,perigrafi:"\u038c\u03bb\u03b5\u03c2"},{value:1,perigrafi:"\u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b5\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2"},{value:2,perigrafi:"\u039c\u03b7 \u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b5\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2"}],this.selectedEidosId=0,this.onDestroy=new d.a}ngOnInit(){this.isMobile=this._parent.isMobile,this.isNonPersistedEnabled=AppConfOptions.show_non_persisted_debits,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.epayments_api&&(this.financeApiUrl=Object(b.h)(AppConfOptions.epayments_api));let t=Object(b.h)(AuthConfOptions.stsServer);t+="/api/general/GetCountries",this._http.get(t).pipe(Object(p.a)(t=>t?(this.countriesList=t,this.oidcSecuritySrv.getUserData()):Object(c.a)(!1))).subscribe(t=>{t&&(this.user=t,this.user.address_country_code&&""!=this.user.address_country_code&&(this.user.address_country_num=this.countriesList.find(t=>t.Alpha2Code==this.user.address_country_code).NumericCode.toString()),this._initDebitsByTin()),Object(b.d)(this.cdr)})}ngOnDestroy(){this.onDestroy.next()}onCreatePaymentRequest(t){console.log("onCreatePaymentRequest",t),this.paymentRequestDto=void 0,Object(b.d)(this.cdr);let e=this.debits.entries.filter(t=>t.isChecked);if(e&&e.length){let s={tinRelated:this.user.tin,relatedCallbackUrl:AppConfOptions.application_url+"/epayments/receipts",billingAddressCity:this.user.address_city,billingAddressCountryCode:this.user.address_country_code,billingAddressZip:this.user.address_zip,billingAddress:this.user.address,userEmail:this.user.email,userPhone:this.user.phone_number,paymentMethodKey:t.key,entries:[]};"PIRBGRAA"===t.key&&(s.billingAddressCountryCode=null);for(let t of e.filter(t=>t.isChecked)){let e={remittanceInfo:this._createRemittanceInfo(t),amount:t.currentSynolo,debtorName:t.eponymia,tin:this.user.tin,description:t.perigrafi,metadata:t.metadata};s.entries.push(e)}this.paymentRequestDto=s,Object(b.d)(this.cdr),this.epaymentsSrv.addPaymentRequest(this.paymentRequestDto).subscribe(t=>{if(t){let e=t;this.paymentResponseDto=e.model,this.onDoPaymentSubject.next(this.paymentResponseDto)}else this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2.")})}}onAllDebitsSelected(){this.debits.entries.forEach(t=>{t.isChecked=this.isAllDebitsChecked}),Object(b.d)(this.cdr),this._calculateTotalAmounts()}onSelectedPersistedTypeChanged(t){this.selectedEidosId=+t.target.value,this.filteredDebits=JSON.parse(JSON.stringify(this.debits));const e=JSON.parse(JSON.stringify(this.debits));1===this.selectedEidosId?this.filteredDebits.entries=e.entries.filter(t=>!0===t.isBebaiomeno):2===this.selectedEidosId?this.filteredDebits.entries=e.entries.filter(t=>!1===t.isBebaiomeno):this.filteredDebits.entries=e.entries,Object(b.d)(this.cdr),this._fillDebitsTable(this.filteredDebits)}_initDebitsByTin(){this.isLoading=!0;let t={tin:this.user.tin};this.epaymentsSrv.getBankMessages().pipe(Object(p.a)(e=>(this.bankMessages=e,this.epaymentsSrv.getDebitsByTin(t)))).subscribe(t=>{t&&(t.entries&&t.entries.length>=0?(this.debits=t,this.filteredDebits=t,this._fillDebitsTable(this.debits)):(t.message||t.messageId)&&(this.debitsMessage=this.bankMessages[t.messageId]?this.bankMessages[t.messageId]:t.message,this.toasterSrv.showError("",t.message)),this.isLoading=!1)})}_fillDebitsTable(t){if(this.isLoading=!0,Object(b.d)(this.cdr),2==t.statusCode)return this.toasterSrv.showWarning("","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd."),void(this.debitsMessage="\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd.");if(4==t.statusCode)return this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03ae\u03c4\u03b1\u03bd \u03b4\u03c5\u03bd\u03b1\u03c4\u03ae \u03b7 \u03c6\u03cc\u03c1\u03c4\u03c9\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b2\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd \u03c3\u03b1\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1."),void(this.debitsMessage="\u0394\u03b5\u03bd \u03ae\u03c4\u03b1\u03bd \u03b4\u03c5\u03bd\u03b1\u03c4\u03ae \u03b7 \u03c6\u03cc\u03c1\u03c4\u03c9\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b2\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd \u03c3\u03b1\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1.");0===t.entries.length&&(this.debitsMessage="\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b3\u03b9\u03b1 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae \u03bc\u03ad\u03c3\u03c9 \u03c4\u03bf\u03c5 online \u03c3\u03c5\u03c3\u03c4\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2."),!1===this.isNonPersistedEnabled&&(t.entries=t.entries.filter(t=>!0===t.isBebaiomeno)),t.entries.forEach(t=>{t.isChecked=!1});let e=t.entries.map(t=>t.currentKatharoPoso);this.totalCurrentKatharo=e.reduce((t,e)=>t+e,0);let s=t.entries.map(t=>t.currentProsafksisi),n=t.entries.map(t=>t.currentKrathseis);this.totalCurrentProsafksisi=s.reduce((t,e)=>t+e,0)+n.reduce((t,e)=>t+e,0);let r=t.entries.map(t=>t.currentSynolo);this.totalcurrentSynolo=r.reduce((t,e)=>t+e,0),t.entries.sort((function(t,e){return Date.parse(t.hmerominiaLixis)/1e3-Date.parse(e.hmerominiaLixis)/1e3})),this.isLoading=!1,Object(b.d)(this.cdr)}_calculateTotalAmounts(){let t=0,e=0,s=0,n=0,r="\u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2";this.debits.entries.forEach(r=>{r.isChecked&&(n++,t+=r.currentSynolo,e+=r.currentKatharoPoso,s+=r.currentProsafksisi+r.currentKrathseis)}),r=1==n?"\u03bf\u03c6\u03b5\u03b9\u03bb\u03ae":"\u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2",this.calculatedChecked={countChecked:n,countText:r,checkedSum:t,checkedKatharo:e,checkedEpivarinseis:s}}_createRemittanceInfo(t){return t.remittanceInfo}};u.ctorParameters=()=>[{type:g.a},{type:l.c},{type:m.a},{type:r.k},{type:o.b},{type:h.a}],u.propDecorators={isAuthorized:[{type:r.G}]},u=Object(n.b)([Object(r.n)({selector:"app-debits",template:'<div *ngIf="isLoading"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 300px">\r\n\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n</div>\r\n\r\n\x3c!-- <div *ngIf="isLoadingSimplifyModal"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 100px; text-align: center;">\r\n\t<span class="d-flex justify-content-center align-items-center w-100"\r\n\t\t\tstyle="height: 70%;">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n\t<span>\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bc\u03ad\u03bd\u03b5\u03c4\u03b5, \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03bf\u03cd\u03bc\u03b5 \u03bc\u03b5 \u03c4\u03b7\u03bd \u03c4\u03c1\u03ac\u03c0\u03b5\u03b6\u03b1 \u03b3\u03b9\u03b1 \u03c4\u03b7 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03c3\u03b1\u03c2.</span>\r\n</div> --\x3e\r\n\r\n<p-message *ngIf="debitsMessage"\r\n\t\t\t  severity="warn"\r\n\t\t\t  [text]="debitsMessage"\r\n\t\t\t  [styleClass]="\'mt-2\'">\r\n</p-message>\r\n\r\n<div *ngIf="debits && !isLoading">\r\n\t<p-message *ngIf="calculatedChecked.countChecked == 0 && debits.entries"\r\n\t\t\t\t  severity="warn"\r\n\t\t\t\t  text="\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03b5\u03c2 \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c4\u03b9\u03c2 \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2 \u03c0\u03bf\u03c5 \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03b5\u03be\u03bf\u03c6\u03bb\u03ae\u03c3\u03b5\u03c4\u03b5 \u03b1\u03c0\u03cc \u03c4\u03b7\u03bd \u03c0\u03b1\u03c1\u03b1\u03ba\u03ac\u03c4\u03c9 \u03bb\u03af\u03c3\u03c4\u03b1."\r\n\t\t\t\t  [styleClass]="\'mt-2\'">\r\n\t</p-message>\r\n\r\n\t<ng-container *ngIf="debits.entries && debits.entries.length">\r\n\t\t<div *ngIf="calculatedChecked.countChecked > 0"\r\n\t\t\t  class="debits-info__selected-debits">\r\n\t\t\t<ng-container *ngTemplateOutlet="selectedDebits"></ng-container>\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf="isNonPersistedEnabled">\r\n\t\t\t<label>\u0395\u03af\u03b4\u03bf\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2</label>\r\n\t\t\t<ng-select [items]="eidosDebit"\r\n\t\t\t\t\t\t  bindLabel="perigrafi"\r\n\t\t\t\t\t\t  bindValue="value"\r\n\t\t\t\t\t\t  name="perstType"\r\n\t\t\t\t\t\t  [(ngModel)]="selectedEidosId"\r\n\t\t\t\t\t\t  (ngModelChange)="onSelectedPersistedTypeChanged($event)"\r\n\t\t\t\t\t\t  [clearable]="false">\r\n\t\t\t</ng-select>\r\n\t\t</div>\r\n\r\n\t\t<legend *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t  class="iconTooltips d-flex flex-wrap mt-4 mb-2"\r\n\t\t\t\t  style="font-size: 14px;">\r\n\t\t\t<span class="mr-1"><i class="far fa-dot-circle fa-fw"></i> \u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae</span>\r\n\t\t\t<span class="mr-1"><i class="fas fa-dot-circle fa-fw"></i> \u039c\u03b7 \u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae</span>\r\n\t\t</legend>\r\n\r\n\t\t<p class="mt-2 mb-1"><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: {{ filteredDebits.entries?.length }}</strong></p>\r\n\t\t<p-table [value]="filteredDebits.entries"\r\n\t\t\t\t\t[autoLayout]="true"\r\n\t\t\t\t\t[responsive]="true"\r\n\t\t\t\t\t[scrollable]="true"\r\n\t\t\t\t\t[lazy]="false"\r\n\t\t\t\t\t[paginator]="true"\r\n\t\t\t\t\t[alwaysShowPaginator]="false"\r\n\t\t\t\t\t[rows]="10"\r\n\t\t\t\t\t[totalRecords]="filteredDebits.entries.length"\r\n\t\t\t\t\t[loading]="isLoading">\r\n\t\t\t<ng-template pTemplate="header">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<p-checkbox [binary]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="isAllDebitsChecked"\r\n\t\t\t\t\t\t\t\t\t\t(onChange)="onAllDebitsSelected()"></p-checkbox>\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-40">&nbsp;</th>\r\n\t\t\t\t\t<th class="fixed-width-col-40">AA</th>\r\n\t\t\t\t\t<th class="fixed-width-col-120">\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a7\u03c1\u03b7\u03bc\u03b1\u03c4\u03b9\u03ba\u03bf\u03cd \u039a\u03b1\u03c4\u03b1\u03bb\u03cc\u03b3\u03bf\u03c5</th>\r\n\t\t\t\t\t<th class="fixed-width-col-170">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u03a7\u03c1\u03ad\u03c9\u03c3\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u039a\u03b1\u03b8\u03b1\u03c1\u03cc \u03a0\u03bf\u03c3\u03cc</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u0395\u03c0\u03b9\u03b2\u03b1\u03c1\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2*</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="body"\r\n\t\t\t\t\t\t\t let-dto\r\n\t\t\t\t\t\t\t let-rowIndex="rowIndex">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<span class="p-column-title">\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae</span>\r\n\t\t\t\t\t\t<p-checkbox [binary]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="dto.isChecked"\r\n\t\t\t\t\t\t\t\t\t\t(onChange)="_calculateTotalAmounts()">\r\n\t\t\t\t\t\t</p-checkbox>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<span class="p-column-title">&nbsp;</span>\r\n\t\t\t\t\t\t<i class="fa-fw"\r\n\t\t\t\t\t\t\t[ngClass]="dto.isBebaiomeno ? \'far fa-dot-circle\' : \'fas fa-dot-circle\'"\r\n\t\t\t\t\t\t\taria-hidden="true"></i>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-40">\r\n\t\t\t\t\t\t<span class="p-column-title">AA</span>\r\n\t\t\t\t\t\t{{ rowIndex + 1 }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-120">\r\n\t\t\t\t\t\t<span class="p-column-title">\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a7\u03c1\u03b7\u03bc\u03b1\u03c4\u03b9\u03ba\u03bf\u03cd \u039a\u03b1\u03c4\u03b1\u03bb\u03cc\u03b3\u03bf\u03c5</span>\r\n\t\t\t\t\t\t{{ dto.aaEggrafis }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-170">\r\n\t\t\t\t\t\t<span class="p-column-title">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u03a7\u03c1\u03ad\u03c9\u03c3\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.perigrafi }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100">\r\n\t\t\t\t\t\t<span class="p-column-title">\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.hmerominiaLixis | date:\'dd/LL/yyyy\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t\t<span class="p-column-title">\u039a\u03b1\u03b8\u03b1\u03c1\u03cc \u03a0\u03bf\u03c3\u03cc</span>\r\n\t\t\t\t\t\t{{ dto.currentKatharoPoso | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t\t<span class="p-column-title">\u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u0395\u03c0\u03b9\u03b2\u03b1\u03c1\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.currentProsafksisi + dto.currentKrathseis | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t\t<span class="p-column-title">\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf</span>\r\n\t\t\t\t\t\t{{ dto.currentSynolo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="footer">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td *ngIf="!isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-470 text-right"\r\n\t\t\t\t\t\t colspan="5">\r\n\t\t\t\t\t\t<strong>\u03a3\u03cd\u03bd\u03bf\u03bb\u03b1:</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-510 text-right"\r\n\t\t\t\t\t\t colspan="6">\r\n\t\t\t\t\t\t<strong>\u03a3\u03cd\u03bd\u03bf\u03bb\u03b1:</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right"\r\n\t\t\t\t\t\t colspan="1">\r\n\t\t\t\t\t\t<strong>{{ totalCurrentKatharo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right"\r\n\t\t\t\t\t\t colspan="1">\r\n\t\t\t\t\t\t<strong>{{ totalCurrentProsafksisi | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right"\r\n\t\t\t\t\t\t colspan="1">\r\n\t\t\t\t\t\t<strong>{{ totalcurrentSynolo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t</p-table>\r\n\t\t<p class="mt-1"><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: {{ filteredDebits.entries?.length }}</strong></p>\r\n\t\t<p><small><em>* \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u03a0\u03c1\u03bf\u03c3\u03b1\u03c5\u03be\u03ae\u03c3\u03b5\u03b9\u03c2 \u03ba\u03b1\u03b9 \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u039a\u03c1\u03b1\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2</em></small></p>\r\n\t</ng-container>\r\n</div>\r\n\r\n<ng-template #selectedDebits>\r\n\t<div class="debits-info d-flex flex-wrap justify-content-around w-100 align-items-center mb-1">\r\n\t\t<div>\r\n\t\t\t<p class="mb-0">\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 <span class="totalPoso">{{ calculatedChecked.countChecked }}\r\n\t\t\t\t\t{{ calculatedChecked.countChecked == 1 ? \'\u03bf\u03c6\u03b5\u03b9\u03bb\u03ae\' : \'\u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2\' }}</span></p>\r\n\t\t\t<p class="mb-0">\u039a\u03b1\u03b8\u03b1\u03c1\u03cc \u03c3\u03cd\u03bd\u03bf\u03bb\u03bf: <span\r\n\t\t\t\t\t\tclass="totalPoso">{{ calculatedChecked.checkedKatharo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</span>\r\n\t\t\t</p>\r\n\t\t\t<p class="mb-0">\u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u03b5\u03c0\u03b9\u03b2\u03b1\u03c1\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2: <span\r\n\t\t\t\t\t\tclass="totalPoso">{{ calculatedChecked.checkedEpivarinseis | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</span></p>\r\n\t\t\t<p class="mb-0">\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: <span id="sumTotalToBank"\r\n\t\t\t\t\t\tclass="totalPoso">{{ calculatedChecked.checkedSum | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</span></p>\r\n\t\t</div>\r\n\r\n\t\t<app-checkout [isPaymentFormValid]="true"\r\n\t\t\t\t\t\t  [doPaymentSubscription]="onDoPaymentSubject.asObservable()"\r\n\t\t\t\t\t\t  [finApiUrl]="financeApiUrl"\r\n\t\t\t\t\t\t  [buttonText]="\'\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\'"\r\n\t\t\t\t\t\t  (onPayBtnClick)="onCreatePaymentRequest($event)">\r\n\t\t</app-checkout>\r\n\t</div>\r\n</ng-template>\r\n',changeDetection:r.j.Default}),Object(n.c)("design:paramtypes",[g.a,l.c,m.a,r.k,o.b,h.a])],u);var f=s("tyNb"),y=s("ofXK");let x=class{constructor(t,e,s,n){this.oidcSecuritySrv=t,this.location=e,this.router=s,this.route=n,this.onDestroy=new d.a,this.index=0,this.onTbChanged=!1}ngOnInit(){this.oidcSecuritySrv.getIsAuthorized().subscribe(t=>{this.isAuthorized=t,AppConfOptions&&AppConfOptions.epayments_debits_tab_info&&""!=AppConfOptions.epayments_debits_tab_info&&this.router.url.includes("debits")&&(this.tabMsg=AppConfOptions.epayments_debits_tab_info),AppConfOptions&&AppConfOptions.epayments_receipts_tab_info&&""!=AppConfOptions.epayments_receipts_tab_info&&this.router.url.includes("receipts")&&(this.tabMsg=AppConfOptions.epayments_receipts_tab_info)}),"receipts"===this.route.children[0].snapshot.url[0].path?this.index=1:this.index=0}ngOnDestroy(){this.onDestroy.next()}onTabChanged(t){0==t.index?(this.router.navigate(["./debits"],{relativeTo:this.route}),AppConfOptions&&AppConfOptions.epayments_debits_tab_info&&""!=AppConfOptions.epayments_debits_tab_info&&(this.tabMsg=AppConfOptions.epayments_debits_tab_info)):(this.router.navigate(["./receipts"],{relativeTo:this.route}),this.onTbChanged=!0,AppConfOptions&&AppConfOptions.epayments_receipts_tab_info&&""!=AppConfOptions.epayments_receipts_tab_info&&(this.tabMsg=AppConfOptions.epayments_receipts_tab_info))}};x.ctorParameters=()=>[{type:l.c},{type:y.k},{type:f.d},{type:f.a}],x.propDecorators={isAuthorized:[{type:r.G}]},x=Object(n.b)([Object(r.n)({selector:"app-epayments-layout",template:'<p-message *ngIf="!isAuthorized"\r\n\t\t\t  severity="warn"\r\n\t\t\t  text="\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd.">\r\n</p-message>\r\n\r\n<p-panel *ngIf="tabMsg"\r\n\t\t\theader="\u03a0\u03bb\u03b7\u03c1\u03bf\u03c6\u03bf\u03c1\u03af\u03b5\u03c2"\r\n\t\t\t[styleClass]="\'tab-msg mb-3\'"\r\n\t\t\t[toggleable]="true">\r\n\t<div [innerHTML]="tabMsg | decodeHtmlString"></div>\r\n</p-panel>\r\n\r\n<p-tabView *ngIf="isAuthorized"\r\n\t\t\t  [activeIndex]="index"\r\n\t\t\t  (onChange)="onTabChanged($event)">\r\n\t<p-tabPanel header="\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ad\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd">\r\n\t\t<app-debits></app-debits>\r\n\t</p-tabPanel>\r\n\t<p-tabPanel header="\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd">\r\n\t\t<ng-template pTemplate="content">\r\n\t\t\t<app-receipts [tabChanged]="onTbChanged"></app-receipts>\r\n\t\t</ng-template>\r\n\t</p-tabPanel>\r\n</p-tabView>\r\n'}),Object(n.c)("design:paramtypes",[l.c,y.k,f.d,f.a])],x);var k=s("wd/R"),C=s("z6cu"),w=s("1G5W");let O=class{constructor(t,e,s,n,r){this.oidcSecuritySrv=t,this.epaymentsSrv=e,this.toasterSrv=s,this.cdr=n,this.route=r,this.onDestroy=new d.a,this.totalPoso=0,this.bankStatusMessageClass=void 0,this.receiptsUrlBase=AppConfOptions.epayments_api,this.receiptType="all",this.isLoading=!0,this.hmerominiaApodiksisRange=null,this.hmerominiaSinallagisRange=null,this.today=new Date,this.locale=b.e,this.yearRange=b.i,this.tropoiPliromis=[{id:"all",perigrafi:"\u038c\u03bb\u03bf\u03b9"},{id:"municipality",perigrafi:"\u03a4\u03b1\u03bc\u03b5\u03af\u03bf \u0394\u03ae\u03bc\u03bf\u03c5"},{id:"bank",perigrafi:"Online"}]}ngOnInit(){this.isLoading=!0,this.epaymentsSrv.getPaymentSettings().subscribe(t=>this.paymentsSettings=t),this.epaymentsSrv.getBankMessages().pipe(Object(p.a)(t=>t?(this.oikonomikiBankMessages=t,this.oidcSecuritySrv.getUserData().pipe(Object(w.a)(this.onDestroy))):Object(c.a)(!1)),Object(p.a)(t=>t?(this.user=t,this.route.queryParams.pipe(Object(w.a)(this.onDestroy))):Object(c.a)(!1))).subscribe(t=>{if(t){let e=t;if(e.messagecode||e.paymentStatus){let t;t=e.messagecode?e.messagecode:e.paymentStatus,this.bankStatusMessage=this.oikonomikiBankMessages[t],this.bankStatusMessageClass="TRANSACTION_COMPLETED"==t||"APPROVED"==t?"success":"error"}Object(b.d)(this.cdr),this._initReceiptsByTin()}else this.toasterSrv.showError("","\u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac..."),this.isLoading=!1,Object(b.d)(this.cdr)})}ngOnChanges(t){t&&t.tabChanged&&(this.bankStatusMessage=void 0,Object(b.d)(this.cdr))}ngOnDestroy(){this.onDestroy.next()}_initReceiptsByTin(){this.isLoading=!0;let t=new Date,e={tin:this.user.tin,year:t.getFullYear()};this.epaymentsSrv.getPaymentsByTin(e).subscribe(t=>{t&&(this.receipts=t,this.totalPoso=0,this.receipts.entries&&this.receipts.entries.length>0&&this.receipts.entries.forEach(t=>{this.totalPoso+=t.receiptAmount}),!this.receipts.statusCode||2!=this.receipts.statusCode&&3!=this.receipts.statusCode?1==this.receipts.statusCode&&0==this.receipts.entries.length?this.receiptsMessage="\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03b9\u03c2 \u03b5\u03af\u03c3\u03c0\u03c1\u03b1\u03be\u03b7\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2.":this._fillOrderedReceipts(this.receipts):this.receipts.responseMetadata.metadata.hasOwnProperty("REV_DEPTOR_NOT_FOUND")?(this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03b9\u03c2 \u03b5\u03af\u03c3\u03c0\u03c1\u03b1\u03be\u03b7\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2."),this.receiptsMessage="\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03b9\u03c2 \u03b5\u03af\u03c3\u03c0\u03c1\u03b1\u03be\u03b7\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2."):this.receipts.responseMetadata.metadata.hasOwnProperty("REV_MULTIPLE_DEPTORS_FOUND")&&(this.toasterSrv.showError("error","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd."),this.receiptsMessage="\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd.")),this.isLoading=!1,Object(b.d)(this.cdr)})}btnApplyFiltersClicked(){this.isLoading=!0,this.orderedReceiptsFiltered=Object(b.c)(this.orderedReceipts),this.hmerominiaApodiksisRange&&(this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter(t=>!!k.utc(t.receiptDateCreated).isBetween(k.utc(this.hmerominiaApodiksisRange[0]),k.utc(this.hmerominiaApodiksisRange[1]).add(1,"day")))),this.hmerominiaSinallagisRange&&(this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter(t=>!!k(t.bankTxnDateCreated).isBetween(k(this.hmerominiaSinallagisRange[0]),k(this.hmerominiaSinallagisRange[1]).add(1,"day")))),Object(b.d)(this.cdr),this._filterByType()}btnCleanFiltersClicked(){this.orderedReceiptsFiltered=Object(b.c)(this.orderedReceipts),this.hmerominiaApodiksisRange=null,this.hmerominiaSinallagisRange=null,this.receiptType,Object(b.d)(this.cdr)}_filterByType(){"bank"==this.receiptType?this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter(t=>0!=t.isOnline):"municipality"==this.receiptType&&(this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter(t=>1!=t.isOnline)),this.isLoading=!1,Object(b.d)(this.cdr)}btnBankStatusMessageClicked(){this.bankStatusMessage=null,this._initReceiptsByTin()}_fillOrderedReceipts(t=null){null==t&&(t=this.receipts);let e=this.receipts.entries.filter(t=>null===t.receiptDateCreated),s=this.receipts.entries.filter(t=>null!=t.receiptDateCreated);this.orderedReceipts=s.sort((function(t,e){if(e.receiptDateCreated!==t.receiptDateCreated)return e.receiptDateCreated>t.receiptDateCreated;return parseInt(e.receiptIncrNr.split("/").pop())>parseInt(t.receiptIncrNr.split("/").pop())})),0!=e.length&&e.forEach(t=>{this.orderedReceipts.unshift(t)}),this.orderedReceipts.forEach(t=>{0==t.isOnline?t.icon="far fa-building":t.icon="fas fa-desktop",null==t.bankTxnDescr?t.description=t.receiptDescr:t.description=t.bankTxnDescr,null==t.bankTxnPaymentTotal?t.paymentTotal=t.receiptAmount:t.paymentTotal=t.bankTxnPaymentTotal,null!=t.receiptId&&null!=t.bankTxnUid?t.link='<a href="'+AppConfOptions.epayments_api+"/api/PersistedDebits/GetPaymentFile/"+t.bankTxnUid+'" target="_blank"><i class="far fa-file-pdf"></i></a>':t.link=""}),this.orderedReceiptsFiltered=Object(b.c)(this.orderedReceipts),Object(b.d)(this.cdr)}handleError(t){return console.log(t.message),console.log(t.error),Object(C.a)(t.message)}};O.ctorParameters=()=>[{type:l.c},{type:m.a},{type:g.a},{type:r.k},{type:f.a}],O.propDecorators={tabChanged:[{type:r.G}]},O=Object(n.b)([Object(r.n)({selector:"app-receipts",template:'<div *ngIf="!receipts || isLoading"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 300px">\r\n\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n</div>\r\n\r\n<p-message *ngIf="receiptsMessage && receiptsMessage != \'\'"\r\n\t\t\t  severity="warn"\r\n\t\t\t  [text]="receiptsMessage">\r\n</p-message>\r\n\r\n<p-message *ngIf="!isLoading && bankStatusMessage && bankStatusMessage != \'\'"\r\n\t\t\t  [severity]="bankStatusMessageClass"\r\n\t\t\t  [text]="bankStatusMessage"\r\n\t\t\t  [styleClass]="\'mb-2\'">\r\n</p-message>\r\n\r\n<ng-container *ngIf="receipts && !isLoading">\r\n\t<div *ngIf="receipts.entries && receipts.entries.length"\r\n\t\t  class="receipts-info">\r\n\t\t<p-panel header="\u03a6\u03af\u03bb\u03c4\u03c1\u03b1 \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7\u03c2"\r\n\t\t\t\t\t[styleClass]="\'mb-3\'">\r\n\t\t\t<form class="form">\r\n\t\t\t\t<div class="row">\r\n\t\t\t\t\t<div class="form-group col-12 col-sm-6 col-md-4">\r\n\t\t\t\t\t\t<label for="hmerominiaApodiksisRange">\u0395\u03cd\u03c1\u03bf\u03c2 \u0397\u03bc. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</label>\r\n\t\t\t\t\t\t<p-calendar name="hmerominiaApodiksisRange"\r\n\t\t\t\t\t\t\t\t\t\tdateFormat="dd/mm/yy"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder="\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7"\r\n\t\t\t\t\t\t\t\t\t\tselectionMode="range"\r\n\t\t\t\t\t\t\t\t\t\t[locale]="locale"\r\n\t\t\t\t\t\t\t\t\t\t[monthNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearRange]="yearRange"\r\n\t\t\t\t\t\t\t\t\t\t[style]="{ width: \'100%\' }"\r\n\t\t\t\t\t\t\t\t\t\t[showIcon]="true"\r\n\t\t\t\t\t\t\t\t\t\t[showTime]="false"\r\n\t\t\t\t\t\t\t\t\t\t[readonlyInput]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="hmerominiaApodiksisRange">\r\n\t\t\t\t\t\t</p-calendar>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="form-group col-12 col-sm-6 col-md-4">\r\n\t\t\t\t\t\t<label for="exchangeDatepicker">\u0395\u03cd\u03c1\u03bf\u03c2 \u0397\u03bc. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</label>\r\n\t\t\t\t\t\t<p-calendar name="hmerominiaSinallagisRange"\r\n\t\t\t\t\t\t\t\t\t\tdateFormat="dd/mm/yy"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder="\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7"\r\n\t\t\t\t\t\t\t\t\t\tselectionMode="range"\r\n\t\t\t\t\t\t\t\t\t\t[locale]="locale"\r\n\t\t\t\t\t\t\t\t\t\t[monthNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearRange]="yearRange"\r\n\t\t\t\t\t\t\t\t\t\t[style]="{ width: \'100%\' }"\r\n\t\t\t\t\t\t\t\t\t\t[showIcon]="true"\r\n\t\t\t\t\t\t\t\t\t\t[showTime]="false"\r\n\t\t\t\t\t\t\t\t\t\t[readonlyInput]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="hmerominiaSinallagisRange">\r\n\t\t\t\t\t\t</p-calendar>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="form-group col-12 col-sm-6 col-md-4">\r\n\t\t\t\t\t\t<label for="recType">\u03a4\u03c1\u03cc\u03c0\u03bf\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</label>\r\n\t\t\t\t\t\t<ng-select name="recType"\r\n\t\t\t\t\t\t\t\t\t  bindLabel="perigrafi"\r\n\t\t\t\t\t\t\t\t\t  bindValue="id"\r\n\t\t\t\t\t\t\t\t\t  [items]="tropoiPliromis"\r\n\t\t\t\t\t\t\t\t\t  [(ngModel)]="receiptType"\r\n\t\t\t\t\t\t\t\t\t  [searchable]="false"\r\n\t\t\t\t\t\t\t\t\t  [clearable]="false">\r\n\t\t\t\t\t\t</ng-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class="form-buttons d-flex flex-wrap">\r\n\t\t\t\t\t<button class="btn btn-primary btn-sm mr-1"\r\n\t\t\t\t\t\t\t  type="button"\r\n\t\t\t\t\t\t\t  (click)="btnApplyFiltersClicked()"><i class="fas fa-search fa-fw"\r\n\t\t\t\t\t\t\taria-hidden="true"></i> \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button class="btn btn-warning btn-sm text-white"\r\n\t\t\t\t\t\t\t  type="button"\r\n\t\t\t\t\t\t\t  (click)="btnCleanFiltersClicked()"><i class="fas fa-times fa-fw"\r\n\t\t\t\t\t\t\taria-hidden="true"></i> \u039a\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</p-panel>\r\n\r\n\t\t<legend class="d-flex flex-wrap mb-1"\r\n\t\t\t\t  style="font-size: 14px;">\r\n\t\t\t<span class="mr-1"><i class="fas fa-desktop fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03bc\u03ad\u03c3\u03c9 \u03c4\u03bf\u03c5 Online \u03a3\u03c5\u03c3\u03c4\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</span>\r\n\t\t\t<span class="mr-1"><i class="far fa-building fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf</span>\r\n\t\t</legend>\r\n\r\n\t\t<p><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0391\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03c9\u03bd: {{orderedReceiptsFiltered?.length }}</strong></p>\r\n\r\n\t\t<p-table [value]="orderedReceiptsFiltered"\r\n\t\t\t\t\t[autoLayout]="true"\r\n\t\t\t\t\t[responsive]="true"\r\n\t\t\t\t\t[scrollable]="true"\r\n\t\t\t\t\t[lazy]="false"\r\n\t\t\t\t\t[paginator]="true"\r\n\t\t\t\t\t[alwaysShowPaginator]="false"\r\n\t\t\t\t\t[rows]="10"\r\n\t\t\t\t\t[totalRecords]="orderedReceiptsFiltered.length"\r\n\t\t\t\t\t[loading]="isLoading">\r\n\t\t\t<ng-template pTemplate="header">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th class="fixed-width-col-40">\u0395\u03af\u03b4\u03bf\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0391\u03c1. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0397\u03bc. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0391\u03c1. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0397\u03bc. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-150">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u03a0\u03bf\u03c3\u03cc</th>\r\n\t\t\t\t\t<th *ngIf="!paymentsSettings?.isProviderThirdParty"\r\n\t\t\t\t\t\t class="fixed-width-col-60">\u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="body"\r\n\t\t\t\t\t\t\t let-dto\r\n\t\t\t\t\t\t\t let-rowIndex="rowIndex">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<span class="p-column-title">\u0395\u03af\u03b4\u03bf\u03c2</span>\r\n\t\t\t\t\t\t<i class="{{ dto.icon }}"\r\n\t\t\t\t\t\t\taria-hidden="true"></i>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="p-column-title">\u0391\u03c1. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.receiptIncrNr }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="p-column-title">\u0397\u03bc. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.receiptDateCreated | date:\'dd/LL/yyyy\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="p-column-title">\u0391\u03c1. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.bankTxnPaymentRef }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="p-column-title">\u0397\u03bc. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.bankTxnDateCreated | date:\'dd/LL/yyyy\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-150">\r\n\t\t\t\t\t\t<span class="p-column-title">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae</span>\r\n\t\t\t\t\t\t{{ dto.description }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60 text-right">\r\n\t\t\t\t\t\t<span class="p-column-title">\u03a0\u03bf\u03c3\u03cc</span>\r\n\t\t\t\t\t\t{{ dto.paymentTotal | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td *ngIf="!paymentsSettings?.isProviderThirdParty"\r\n\t\t\t\t\t\t class="fixed-width-col-60 text-center">\r\n\t\t\t\t\t\t<span class="p-column-title">\u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</span>\r\n\t\t\t\t\t\t<a *ngIf=\'dto.receiptId && dto.bankTxnUid\'\r\n\t\t\t\t\t\t\thref="{{ receiptsUrlBase }}api/PersistedDebits/GetPaymentFile/{{ dto.bankTxnUid }}"\r\n\t\t\t\t\t\t\ttarget="_blank"\r\n\t\t\t\t\t\t\taria-label="\u03a3\u03cd\u03bd\u03b4\u03b5\u03c3\u03bc\u03bf\u03c2 \u03b3\u03b9\u03b1 \u0391\u03c1\u03c7\u03b5\u03af\u03bf \u0395\u03ba\u03c4\u03cd\u03c0\u03c9\u03c3\u03b7\u03c2"\r\n\t\t\t\t\t\t\trel="noopener">\r\n\t\t\t\t\t\t\t<i class="far fa-file-pdf"\r\n\t\t\t\t\t\t\t\taria-hidden="true"></i>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="footer">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="fixed-width-col-430 text-right"\r\n\t\t\t\t\t\t colspan="6">\r\n\t\t\t\t\t\t<strong>\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-120"\r\n\t\t\t\t\t\t [attr.colspan]="paymentsSettings?.isProviderThirdParty ? 1 : 2">\r\n\t\t\t\t\t\t<strong>{{ totalPoso | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="emptymessage">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td [attr.colspan]="paymentsSettings?.isProviderThirdParty ? 7 : 8">\r\n\t\t\t\t\t\t\u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2 \u03bc\u03b5 \u03c4\u03b1 \u03ba\u03c1\u03b9\u03c4\u03ae\u03c1\u03b9\u03b1 \u03c0\u03bf\u03c5 \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9.\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t</p-table>\r\n\t\t<p class="mt-1"><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0391\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03c9\u03bd: {{orderedReceiptsFiltered?.length }}</strong></p>\r\n\r\n\t\t<legend class="d-flex flex-wrap mt-1 mb-1"\r\n\t\t\t\t  style="font-size: 14px;">\r\n\t\t\t<span class="mr-1"><i class="fas fa-desktop fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03bc\u03ad\u03c3\u03c9 \u03c4\u03bf\u03c5 Online \u03a3\u03c5\u03c3\u03c4\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</span>\r\n\t\t\t<span class="mr-1"><i class="far fa-building fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf</span>\r\n\t\t</legend>\r\n\t</div>\r\n</ng-container>\r\n',changeDetection:r.j.OnPush}),Object(n.c)("design:paramtypes",[l.c,m.a,g.a,r.k,f.a])],O);const v=[{path:"",component:x,children:[{path:"",pathMatch:"full",redirectTo:"debits"},{path:"debits",component:u},{path:"receipts",component:O}]}];let _=class{};_=Object(n.b)([Object(r.L)({imports:[f.g.forChild(v)],exports:[f.g]})],_);let S=class{};S=Object(n.b)([Object(r.L)({imports:[_,a.a,i.d],declarations:[x,u,O],providers:[m.a]})],S)}}]);