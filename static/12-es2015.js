(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{C7T5:function(i,e){i.exports=function(i){return new Promise((e,s)=>{let o=new FileReader,n=i.target.files;if(n.length>1)s(new DOMException("Only one file can be uploaded at a time"));else{o.onerror=()=>{o.abort(),s(new DOMException("Problem parsing input file."))};let i=n[0];o.onload=s=>{const n=new Uint8Array(s.target.result);let a=[];n.map(i=>{a.push(i.toString(16))});const c=a.join("").toUpperCase();let l=o.result.split(",")[1];i.base64=l,i.binaryFileType=t(c),e(i)},o.readAsDataURL(i)}})};const t=i=>{switch(i){case"89504E47":return"image/png";case"47494638":return"image/gif";case"25504446":return"application/pdf";case"FFD8FFDB":case"FFD8FFE0":return"image/jpeg";case"504B0304":return"application/zip";default:return"Unknown filetype"}}},QHsS:function(i,e,t){"use strict";t.r(e),t.d(e,"KatastimataModule",function(){return fe}),t.d(e,"PublicLibLoader",function(){return ue});var s=t("tk/3"),o=t("fXoL"),n=t("4krO"),a=t("X/DG"),c=t("oXA7"),l=t("zPkR"),r=t("1q39"),d=t("rdQv"),p=t("VZwH"),m=t("bk9D"),h=t("5eHb"),f=t("3Pt+"),u=t("tyNb"),g=t("ofXK"),y=t("3u8h"),b=t("ZOsW"),k=t("9nqD"),I=t("QIUk"),C=t("Ji6n"),P=t("/RsI"),v=t("FMpt"),D=t("7CaW"),S=t("rEr+"),x=t("dPl2"),w=t("jhN1"),O=t("7zfz");function T(i,e){1&i&&o.hc(0,"p-message",4)}function A(i,e){if(1&i&&(o.mc(0,"p",15),o.mc(1,"strong"),o.id(2,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1 \u0395\u03c0\u03b9\u03c7\u03b5\u03af\u03c1\u03b7\u03c3\u03b7\u03c2:"),o.lc(),o.id(3),o.lc()),2&i){const i=o.yc(3);o.Tb(3),o.kd("\xa0",i.epixeirisiInfo.eponimia," ")}}function R(i,e){if(1&i){const i=o.nc();o.mc(0,"button",16),o.wc("click",function(){o.Zc(i);return o.yc(3).onCreateNewDilosiClicked()}),o.hc(1,"span",17),o.id(2," \u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 "),o.lc()}}function M(i,e){if(1&i&&(o.mc(0,"div",12),o.gd(1,A,4,1,"p",13),o.gd(2,R,3,0,"button",14),o.lc()),2&i){const i=o.yc(2);o.Tb(1),o.Hc("ngIf",i.epixeirisiInfo),o.Tb(1),o.Hc("ngIf",i.diloseisInfoResponse&&i.diloseisInfoResponse.length>0)}}function j(i,e){if(1&i){const i=o.nc();o.mc(0,"app-katastimata-receipts",18),o.wc("reloadData",function(){o.Zc(i);return o.yc(2)._loadData()}),o.lc()}if(2&i){const i=o.yc(2);o.Hc("diloseisReceipts",i.model)("userInfo",i.userInfo)("isLoading",i.isLoading)("diloseisInfoResponse",i.diloseisInfoResponse)}}function F(i,e){1&i&&o.hc(0,"p-message",19)}function U(i,e){if(1&i){const i=o.nc();o.mc(0,"app-katastimata-saved",20),o.wc("reloadData",function(){o.Zc(i);return o.yc(2)._loadData()}),o.lc()}if(2&i){const i=o.yc(2);o.Hc("dilosiInfoSaved",i.diloseisInfoSaved)("userInfo",i.userInfo)("isLoading",i.isLoading)("diloseisInfoResponse",i.diloseisInfoResponse)("onlinePaymentsSettingsCompany",i.onlinePaymentsSettingsCompany)("epixeirisiInfo",i.epixeirisiInfo)("applicationUrl",i.applicationUrl)}}function E(i,e){if(1&i){const i=o.nc();o.kc(0),o.gd(1,M,3,2,"div",5),o.mc(2,"p-tabView",6),o.wc("onChange",function(e){o.Zc(i);return o.yc().onTabChanged(e)}),o.mc(3,"p-tabPanel",7),o.gd(4,j,1,4,"app-katastimata-receipts",8),o.lc(),o.mc(5,"p-tabPanel",9),o.gd(6,F,1,0,"p-message",10),o.gd(7,U,1,7,"app-katastimata-saved",11),o.lc(),o.lc(),o.jc()}if(2&i){const i=o.yc();o.Tb(1),o.Hc("ngIf",i.epixeirisiInfo||i.diloseisInfoResponse&&i.diloseisInfoResponse.length>0),o.Tb(1),o.Hc("activeIndex",i.index),o.Tb(2),o.Hc("ngIf",i.model),o.Tb(2),o.Hc("ngIf",!i.diloseisInfoSaved||i.diloseisInfoSaved&&0==i.diloseisInfoSaved.length||!i.onlinePaymentsSettingsCompany),o.Tb(1),o.Hc("ngIf",i.diloseisInfoSaved&&i.diloseisInfoSaved.length&&null!=i.onlinePaymentsSettingsCompany)}}function H(i,e){if(1&i){const i=o.nc();o.mc(0,"app-katastimata-create-dilosi",21),o.wc("updateSaved",function(e){o.Zc(i);return o.yc().onReloadSaved(e)}),o.lc()}if(2&i){const i=o.yc();o.Hc("diloseisInfoResponse",i.diloseisInfoResponse)("dilosi",null)("onlinePaymentsSettingsCompany",i.onlinePaymentsSettingsCompany)("epixeirisiInfo",i.epixeirisiInfo)("applicationUrl",i.applicationUrl)}}const _=function(){return{minWidth:"60vw"}},L=["dimotikosForosForm"];function N(i,e){if(1&i){const i=o.nc();o.mc(0,"div",19),o.mc(1,"label"),o.id(2,"\u03a0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc*"),o.lc(),o.mc(3,"ng-select",20,21),o.wc("ngModelChange",function(e){o.Zc(i);return o.yc(2).selectedPososto=e}),o.lc(),o.mc(5,"div",9),o.id(6," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),o.lc(),o.lc()}if(2&i){const i=o.yc(2);o.Tb(3),o.Hc("items",i.pososta)("searchable",!0)("clearable",!1)("ngModel",i.selectedPososto),o.Tb(2),o.Hc("hidden",!i.isFormSubmitted||"1"==i.onlinePaymentsSettingsCompany||i.isFormSubmitted&&"1"!=i.onlinePaymentsSettingsCompany&&i.selectedPososto&&""!=i.selectedPososto)}}function W(i,e){1&i&&(o.mc(0,"span"),o.id(1,"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd"),o.lc())}function z(i,e){1&i&&(o.mc(0,"span"),o.id(1,"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1\u03c2 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd"),o.lc())}function B(i,e){if(1&i&&(o.mc(0,"div",26),o.mc(1,"a",27),o.zc(2,"async"),o.zc(3,"securePlg"),o.hc(4,"i",28),o.lc(),o.mc(5,"strong"),o.id(6),o.lc(),o.id(7),o.mc(8,"small"),o.hc(9,"i",29),o.id(10),o.zc(11,"date"),o.lc(),o.lc()),2&i){const i=e.$implicit,t=o.yc(3);o.Tb(1),o.Ic("download",i.fileName),o.Hc("href",o.Ac(2,5,o.Ac(3,7,t.katastimataApiUrl+"/api/DocDms/DownloadFile/"+i.dmsId)),o.bd),o.Tb(5),o.jd(i.perigrafi),o.Tb(1),o.kd(" (",i.fileName,")\xa0 "),o.Tb(3),o.kd(" ",o.Bc(11,9,i.creationTime,"dd/MM/yyyy"),"")}}function $(i,e){if(1&i){const i=o.nc();o.kc(0),o.mc(1,"div",22),o.mc(2,"h5"),o.id(3,"\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u0391\u03c1\u03c7\u03b5\u03af\u03b1"),o.lc(),o.mc(4,"button",23),o.wc("click",function(){o.Zc(i);const e=o.yc(2);return e.toggleEditFiles=!e.toggleEditFiles}),o.hc(5,"i",24),o.gd(6,W,2,0,"span",2),o.gd(7,z,2,0,"span",2),o.lc(),o.lc(),o.gd(8,B,12,12,"div",25),o.jc()}if(2&i){const i=o.yc(2);o.Tb(6),o.Hc("ngIf",!i.toggleEditFiles),o.Tb(1),o.Hc("ngIf",i.toggleEditFiles),o.Tb(1),o.Hc("ngForOf",i.dilosiFiles)}}function q(i,e){1&i&&o.hc(0,"p-message",37)}function Z(i,e){if(1&i){const i=o.nc();o.kc(0),o.gd(1,q,1,0,"p-message",30),o.mc(2,"div",5),o.mc(3,"div",31),o.mc(4,"label",32),o.id(5,"\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)*"),o.lc(),o.mc(6,"input",33,34),o.wc("ngModelChange",function(e){o.Zc(i);return o.yc(2).periodikiDilosiFPA=e})("change",function(e){o.Zc(i);return o.yc(2).onFileChange(e,"periodikiDilosiFPA")}),o.lc(),o.mc(8,"div",9),o.id(9," *\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),o.lc(),o.lc(),o.mc(10,"div",31),o.mc(11,"label",35),o.id(12,"\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf (\u03a0.\u03c7. \u0399\u03c3\u03bf\u03b6\u03cd\u03b3\u03b9\u03bf)"),o.lc(),o.mc(13,"input",36),o.wc("ngModelChange",function(e){o.Zc(i);return o.yc(2).extraFile=e})("change",function(e){o.Zc(i);return o.yc(2).onFileChange(e,"extraFile")}),o.lc(),o.lc(),o.lc(),o.jc()}if(2&i){const i=o.yc(2);o.Tb(1),o.Hc("ngIf",i.toggleEditFiles),o.Tb(5),o.Hc("ngModel",i.periodikiDilosiFPA)("required",!i.dilosiFiles||i.dilosiFiles&&0==i.dilosiFiles.length),o.Tb(2),o.Hc("hidden",!i.isFormSubmitted||i.isFormSubmitted&&i.uploadedFiles&&i.uploadedFiles.periodikiDilosiFPA),o.Tb(5),o.Hc("ngModel",i.extraFile)}}function V(i,e){1&i&&(o.mc(0,"span"),o.hc(1,"span",38),o.id(2," \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc\u03c2 \u03a0\u03bf\u03c3\u03ce\u03bd"),o.lc())}function Y(i,e){1&i&&(o.mc(0,"span"),o.hc(1,"span",39),o.id(2," \u03a5\u03c0\u03bf\u03b2\u03bf\u03bb\u03ae"),o.lc())}function K(i,e){if(1&i&&o.hc(0,"div",40),2&i){const i=o.yc(2);o.Hc("innerHTML",i.formErrorsMsg,o.ad)}}function G(i,e){if(1&i){const i=o.nc();o.mc(0,"form",3,4),o.mc(2,"div",5),o.mc(3,"div",6),o.mc(4,"label"),o.id(5,"\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2*"),o.lc(),o.mc(6,"ng-select",7,8),o.wc("ngModelChange",function(e){o.Zc(i);return o.yc().dilosiCopy.dilosiId=e})("change",function(e){o.Zc(i);const t=o.yc();return t.onSelectedDilosiChanged(e),t.isFormDirty=!0}),o.lc(),o.mc(8,"div",9),o.id(9," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),o.lc(),o.lc(),o.mc(10,"div",6),o.mc(11,"label"),o.id(12,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),o.lc(),o.hc(13,"input",10),o.zc(14,"date"),o.lc(),o.mc(15,"div",11),o.mc(16,"p-checkbox",12),o.wc("ngModelChange",function(e){o.Zc(i);return o.yc().dilosiCopy.isMideniki=e})("ngModelChange",function(){o.Zc(i);return o.yc().onIsMidenikiChanged()}),o.lc(),o.lc(),o.lc(),o.mc(17,"div",5),o.gd(18,N,7,5,"div",13),o.mc(19,"div",14),o.mc(20,"label"),o.id(21,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc*"),o.lc(),o.mc(22,"input",15,16),o.wc("ngModelChange",function(e){o.Zc(i);return o.yc().dilosiCopy.ypokeimenoPoso=e})("ngModelChange",function(){o.Zc(i);return o.yc().isFormDirty=!0}),o.lc(),o.mc(24,"div",9),o.id(25," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),o.lc(),o.lc(),o.lc(),o.gd(26,$,9,3,"ng-container",2),o.gd(27,Z,14,5,"ng-container",2),o.hc(28,"hr"),o.mc(29,"button",17),o.wc("click",function(){o.Zc(i);return o.yc().onSubmit()}),o.gd(30,V,3,0,"span",2),o.gd(31,Y,3,0,"span",2),o.lc(),o.gd(32,K,1,1,"div",18),o.lc()}if(2&i){const i=o.Xc(7),e=o.Xc(23),t=o.yc();o.Tb(6),o.Hc("items",t.diloseisInfoResponse)("searchable",!0)("clearable",!1)("ngModel",t.dilosiCopy.dilosiId),o.Tb(2),o.Hc("hidden",!t.isFormSubmitted||t.isFormSubmitted&&i.valid),o.Tb(5),o.Hc("value",o.Bc(14,17,t.dilosiCopy.hmeromiaLixisDilosis,"dd/MM/yyyy")),o.Tb(3),o.Hc("ngModel",t.dilosiCopy.isMideniki),o.Tb(2),o.Hc("ngIf","1"!=t.onlinePaymentsSettingsCompany),o.Tb(1),o.Hc("ngClass","1"==t.onlinePaymentsSettingsCompany?"":"col-md-6"),o.Tb(3),o.Hc("ngModel",t.dilosiCopy.ypokeimenoPoso)("disabled",t.dilosiCopy.isMideniki),o.Tb(2),o.Hc("hidden",!t.isFormSubmitted||t.isFormSubmitted&&e.valid),o.Tb(2),o.Hc("ngIf",t.dilosiFiles&&t.dilosiFiles.length),o.Tb(1),o.Hc("ngIf",t.toggleEditFiles||!t.dilosiFiles||t.dilosiFiles&&0==t.dilosiFiles.length),o.Tb(3),o.Hc("ngIf",!t.dilosiCopy.isMideniki),o.Tb(1),o.Hc("ngIf",t.dilosiCopy.isMideniki),o.Tb(1),o.Hc("ngIf",t.formErrorsMsg&&""!=t.formErrorsMsg)}}function X(i,e){1&i&&(o.mc(0,"div",41),o.mc(1,"span",42),o.hc(2,"i",43),o.lc(),o.lc())}function J(i,e){1&i&&(o.mc(0,"p",47),o.mc(1,"span",48),o.id(2,"\u03a4\u03b1\u03c5\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2 \u0394\u0399\u0391\u03a3:"),o.lc(),o.lc())}function Q(i,e){1&i&&(o.mc(0,"p",47),o.mc(1,"span",48),o.id(2,"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u039b\u03ae\u03be\u03b7\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2:"),o.lc(),o.lc())}function ii(i,e){if(1&i&&(o.mc(0,"p",47),o.mc(1,"span",50),o.id(2),o.lc(),o.lc()),2&i){const i=o.yc(2);o.Tb(2),o.jd(i.kodikosPliromis)}}function ei(i,e){if(1&i&&(o.mc(0,"p",47),o.mc(1,"span",50),o.id(2),o.zc(3,"date"),o.lc(),o.lc()),2&i){const i=o.yc(2);o.Tb(2),o.jd(o.Bc(3,1,i.dilosiWebPaymentInfo.hmeromiaLixisPliromis,"dd/MM/yyyy"))}}function ti(i,e){if(1&i){const i=o.nc();o.mc(0,"a",54),o.wc("click",function(e){o.Zc(i);return o.yc(2).onOpenEktiposi(e)}),o.hc(1,"span",55),o.id(2," \u0395\u03ba\u03c4\u03cd\u03c0\u03c9\u03c3\u03b7 "),o.lc()}if(2&i){const i=o.yc(2);o.Yb("disabled",!!i.isFormDirty||null),o.Hc("href",i.katastimataApiUrl+"/ViewReports/ReportDilosiTautotitaPliromisDias/"+i.dilosiWebPaymentInfo.dilosiId,o.bd)}}const si=function(i){return[i,"\u20ac","symbol","1.2","el"]};function oi(i,e){if(1&i){const i=o.nc();o.kc(0),o.mc(1,"h4",44),o.id(2,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03bf\u03cd"),o.lc(),o.mc(3,"div",45),o.mc(4,"div",46),o.mc(5,"div"),o.mc(6,"p",47),o.mc(7,"span",48),o.id(8,"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),o.lc(),o.lc(),o.mc(9,"p",47),o.mc(10,"span",48),o.id(11,"\u03a0\u03bf\u03c3\u03cc \u03a4\u03ad\u03bb\u03bf\u03c5\u03c2:"),o.lc(),o.lc(),o.mc(12,"p",47),o.mc(13,"span",48),o.id(14,"\u039c\u03ae\u03bd\u03b5\u03c2 \u039a\u03b1\u03b8\u03c5\u03c3\u03c4\u03ad\u03c1\u03b7\u03c3\u03b7\u03c2:"),o.lc(),o.lc(),o.mc(15,"p",47),o.mc(16,"span",48),o.id(17,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03c1\u03bf\u03c3\u03c4\u03af\u03bc\u03bf\u03c5:"),o.lc(),o.lc(),o.mc(18,"p",47),o.mc(19,"span",48),o.id(20,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),o.lc(),o.lc(),o.gd(21,J,3,0,"p",49),o.gd(22,Q,3,0,"p",49),o.lc(),o.mc(23,"div"),o.mc(24,"p",47),o.mc(25,"span",50),o.id(26),o.lc(),o.lc(),o.mc(27,"p",47),o.mc(28,"span",50),o.id(29),o.zc(30,"currency"),o.lc(),o.lc(),o.mc(31,"p",47),o.mc(32,"span",50),o.id(33),o.lc(),o.lc(),o.mc(34,"p",47),o.mc(35,"span",50),o.id(36),o.zc(37,"currency"),o.lc(),o.lc(),o.mc(38,"p",47),o.mc(39,"span",50),o.id(40),o.zc(41,"currency"),o.lc(),o.lc(),o.gd(42,ii,3,1,"p",49),o.gd(43,ei,4,4,"p",49),o.lc(),o.lc(),o.mc(44,"div",51),o.gd(45,ti,3,3,"a",52),o.mc(46,"app-checkout",53),o.wc("onPayBtnClick",function(e){o.Zc(i);return o.yc().onCreatePaymentRequest(e)}),o.lc(),o.lc(),o.lc(),o.jc()}if(2&i){const i=o.yc();o.Tb(21),o.Hc("ngIf",i.kodikosPliromis),o.Tb(1),o.Hc("ngIf",i.kodikosPliromis),o.Tb(4),o.jd(i.dilosiWebPaymentInfo.paymentCaption),o.Tb(3),o.jd(o.Ec(30,14,o.Oc(32,si,i.dilosiWebPaymentInfo.telosPoso))),o.Tb(4),o.jd(i.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines),o.Tb(3),o.jd(o.Ec(37,20,o.Oc(34,si,i.dilosiWebPaymentInfo.prostimoPoso))),o.Tb(4),o.jd(o.Ec(41,26,o.Oc(36,si,i.dilosiWebPaymentInfo.paymentAmount))),o.Tb(2),o.Hc("ngIf",i.kodikosPliromis),o.Tb(1),o.Hc("ngIf",i.kodikosPliromis),o.Tb(2),o.Hc("ngIf",i.kodikosPliromis&&""!=i.kodikosPliromis),o.Tb(1),o.Hc("isPaymentFormValid",!i.isFormDirty)("doPaymentSubscription",i.onDoPaymentSubject.asObservable())("finApiUrl",i.financeApiUrl)("buttonText","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae")}}function ni(i,e){1&i&&o.hc(0,"p-message",5)}function ai(i,e){1&i&&o.hc(0,"p-message",6),2&i&&o.Hc("styleClass","mt-1")}function ci(i,e){if(1&i&&o.hc(0,"p-message",7),2&i){const i=o.yc();o.Hc("severity",i.bankStatusMessageClass)("text",i.bankStatusMessage)("styleClass","my-1")}}function li(i,e){1&i&&(o.mc(0,"div",8),o.mc(1,"span",9),o.hc(2,"i",10),o.lc(),o.lc())}function ri(i,e){1&i&&(o.mc(0,"tr"),o.mc(1,"th",16),o.id(2,"\u0391/\u0391"),o.lc(),o.mc(3,"th",17),o.id(4,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),o.lc(),o.mc(5,"th",18),o.id(6,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),o.lc(),o.mc(7,"th",19),o.id(8,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),o.lc(),o.mc(9,"th",20),o.id(10,"\u03a4\u03ad\u03bb\u03bf\u03c2"),o.lc(),o.mc(11,"th",20),o.id(12,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),o.lc(),o.mc(13,"th",20),o.id(14,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf"),o.lc(),o.mc(15,"th",19),o.id(16,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),o.lc(),o.lc())}function di(i,e){1&i&&o.hc(0,"i",26)}function pi(i,e){if(1&i&&(o.mc(0,"tr"),o.mc(1,"td",16),o.mc(2,"span",21),o.id(3,"\u0391/\u0391"),o.lc(),o.id(4),o.lc(),o.mc(5,"td",17),o.mc(6,"span",21),o.id(7,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),o.lc(),o.id(8),o.lc(),o.mc(9,"td",22),o.mc(10,"span",21),o.id(11,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),o.lc(),o.gd(12,di,1,0,"i",23),o.lc(),o.mc(13,"td",24),o.mc(14,"span",21),o.id(15,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),o.lc(),o.id(16),o.zc(17,"currency"),o.lc(),o.mc(18,"td",25),o.mc(19,"span",21),o.id(20,"\u03a4\u03ad\u03bb\u03bf\u03c2"),o.lc(),o.id(21),o.zc(22,"currency"),o.lc(),o.mc(23,"td",25),o.mc(24,"span",21),o.id(25,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),o.lc(),o.id(26),o.zc(27,"currency"),o.lc(),o.mc(28,"td",25),o.mc(29,"span",21),o.id(30,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf"),o.lc(),o.id(31),o.zc(32,"currency"),o.lc(),o.mc(33,"td",19),o.mc(34,"span",21),o.id(35,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),o.lc(),o.id(36),o.lc(),o.lc()),2&i){const i=e.$implicit,t=e.rowIndex;o.Tb(4),o.kd(" ",t+1," "),o.Tb(4),o.kd(" ",i.dilosiCaption," "),o.Tb(4),o.Hc("ngIf",i.midenikiDilosi),o.Tb(4),o.kd(" ",o.Dc(17,8,i.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),o.Tb(5),o.kd(" ",o.Dc(22,13,i.telosPoso,"\u20ac","symbol","1.2")," "),o.Tb(5),o.kd(" ",o.Dc(27,18,i.prostimoPoso,"\u20ac","symbol","1.2")," "),o.Tb(5),o.kd(" ",o.Dc(32,23,i.sinolikoPoso,"\u20ac","symbol","1.2")," "),o.Tb(5),o.kd(" ",i.stoixeiaApodixis," ")}}const mi=function(i){return[i,"EUR","symbol","1.2-2","el"]};function hi(i,e){if(1&i&&(o.mc(0,"tr"),o.mc(1,"td",27),o.mc(2,"strong"),o.id(3,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf:"),o.lc(),o.lc(),o.mc(4,"td",24),o.mc(5,"strong"),o.id(6),o.zc(7,"currency"),o.lc(),o.lc(),o.mc(8,"td",25),o.mc(9,"strong"),o.id(10),o.zc(11,"currency"),o.lc(),o.lc(),o.mc(12,"td",25),o.mc(13,"strong"),o.id(14),o.zc(15,"currency"),o.lc(),o.lc(),o.mc(16,"td",25),o.mc(17,"strong"),o.id(18),o.zc(19,"currency"),o.lc(),o.lc(),o.mc(20,"td",19),o.id(21,"\xa0"),o.lc(),o.lc()),2&i){const i=o.yc(2);o.Tb(6),o.jd(o.Ec(7,4,o.Oc(28,mi,i.sumYpokeimeno))),o.Tb(4),o.jd(o.Ec(11,10,o.Oc(30,mi,i.sumTelos))),o.Tb(4),o.jd(o.Ec(15,16,o.Oc(32,mi,i.sumProstimo))),o.Tb(4),o.jd(o.Ec(19,22,o.Oc(34,mi,i.sumSinolo)))}}function fi(i,e){if(1&i&&(o.kc(0),o.mc(1,"p",11),o.mc(2,"strong"),o.id(3),o.lc(),o.lc(),o.mc(4,"p-table",12),o.gd(5,ri,17,0,"ng-template",13),o.gd(6,pi,37,28,"ng-template",14),o.gd(7,hi,22,36,"ng-template",15),o.lc(),o.mc(8,"p",11),o.mc(9,"strong"),o.id(10),o.lc(),o.lc(),o.jc()),2&i){const i=o.yc();o.Tb(3),o.kd("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",i.diloseisReceipts.length,""),o.Tb(1),o.Hc("value",i.diloseisReceipts)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",i.diloseisReceipts.length),o.Tb(6),o.kd("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",i.diloseisReceipts.length,"")}}function ui(i,e){if(1&i&&o.hc(0,"p-message",6),2&i){const i=o.yc();o.Hc("severity",i.bankStatusMessageClass)("text",i.bankStatusMessage)("styleClass","mb-2")}}function gi(i,e){1&i&&(o.mc(0,"div",7),o.mc(1,"span",8),o.hc(2,"i",9),o.lc(),o.lc())}function yi(i,e){1&i&&o.ic(0)}function bi(i,e){if(1&i&&(o.mc(0,"div",17),o.gd(1,yi,1,0,"ng-container",18),o.lc()),2&i){o.yc(2);const i=o.Xc(4);o.Tb(1),o.Hc("ngTemplateOutlet",i)}}function ki(i,e){if(1&i){const i=o.nc();o.mc(0,"tr"),o.mc(1,"th",19),o.mc(2,"p-checkbox",20),o.wc("ngModelChange",function(e){o.Zc(i);return o.yc(2).isAllDebitsChecked=e})("onChange",function(){o.Zc(i);return o.yc(2).onAllDebitsSelected()}),o.lc(),o.lc(),o.mc(3,"th",21),o.id(4,"A/A"),o.lc(),o.mc(5,"th",22),o.id(6,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),o.lc(),o.mc(7,"th",23),o.id(8,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),o.lc(),o.mc(9,"th",24),o.id(10,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),o.lc(),o.mc(11,"th",25),o.id(12,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),o.lc(),o.mc(13,"th",23),o.id(14,"\u03a4\u03ad\u03bb\u03bf\u03c2"),o.lc(),o.mc(15,"th",23),o.id(16,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),o.lc(),o.mc(17,"th",23),o.id(18,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2"),o.lc(),o.mc(19,"th",25),o.id(20,"\xa0"),o.lc(),o.lc()}if(2&i){const i=o.yc(2);o.Tb(2),o.Hc("binary",!0)("ngModel",i.isAllDebitsChecked)}}function Ii(i,e){1&i&&o.hc(0,"i",34)}function Ci(i,e){if(1&i){const i=o.nc();o.mc(0,"tr"),o.mc(1,"td",19),o.mc(2,"span",26),o.id(3,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),o.lc(),o.mc(4,"p-checkbox",20),o.wc("ngModelChange",function(i){return e.$implicit.isChecked=i})("onChange",function(){o.Zc(i);return o.yc(2)._calculateTotalAmounts()}),o.lc(),o.lc(),o.mc(5,"td",21),o.mc(6,"span",26),o.id(7,"A/A"),o.lc(),o.id(8),o.lc(),o.mc(9,"td",22),o.mc(10,"span",26),o.id(11,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),o.lc(),o.id(12),o.lc(),o.mc(13,"td",23),o.mc(14,"span",26),o.id(15,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),o.lc(),o.id(16),o.zc(17,"date"),o.lc(),o.mc(18,"td",27),o.mc(19,"span",26),o.id(20,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),o.lc(),o.gd(21,Ii,1,0,"i",28),o.lc(),o.mc(22,"td",29),o.mc(23,"span",26),o.id(24,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),o.lc(),o.id(25),o.zc(26,"currency"),o.lc(),o.mc(27,"td",30),o.mc(28,"span",26),o.id(29,"\u03a4\u03ad\u03bb\u03bf\u03c2"),o.lc(),o.id(30),o.zc(31,"currency"),o.lc(),o.mc(32,"td",30),o.mc(33,"span",26),o.id(34,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),o.lc(),o.id(35),o.zc(36,"currency"),o.lc(),o.mc(37,"td",30),o.mc(38,"span",26),o.id(39,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2"),o.lc(),o.id(40),o.zc(41,"currency"),o.lc(),o.mc(42,"td",31),o.mc(43,"span",26),o.id(44,"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"),o.lc(),o.mc(45,"button",32),o.wc("click",function(){o.Zc(i);const t=e.$implicit;return o.yc(2).onEdit(t)}),o.hc(46,"i",33),o.lc(),o.lc(),o.lc()}if(2&i){const i=e.$implicit,t=e.rowIndex;o.Tb(4),o.Hc("binary",!0)("ngModel",i.isChecked),o.Tb(4),o.kd(" ",t+1," "),o.Tb(4),o.kd(" ",i.dilosiDescription," "),o.Tb(4),o.kd(" ",o.Bc(17,10,i.hmeromiaLixisDilosis,"dd/MM/yyyy")," "),o.Tb(5),o.Hc("ngIf",i.isMideniki),o.Tb(4),o.kd(" ",o.Dc(26,13,i.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),o.Tb(5),o.kd(" ",o.Dc(31,18,i.telosPoso,"\u20ac","symbol","1.2")," "),o.Tb(5),o.kd(" ",o.Dc(36,23,i.prostimoPoso,"\u20ac","symbol","1.2")," "),o.Tb(5),o.kd(" ",o.Dc(41,28,i.telosPoso+i.prostimoPoso,"\u20ac","symbol","1.2")," ")}}function Pi(i,e){if(1&i&&(o.mc(0,"tr"),o.mc(1,"td",35),o.mc(2,"strong"),o.id(3,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf:"),o.lc(),o.lc(),o.mc(4,"td",29),o.mc(5,"strong"),o.id(6),o.zc(7,"currency"),o.lc(),o.lc(),o.mc(8,"td",30),o.mc(9,"strong"),o.id(10),o.zc(11,"currency"),o.lc(),o.lc(),o.mc(12,"td",30),o.mc(13,"strong"),o.id(14),o.zc(15,"currency"),o.lc(),o.lc(),o.mc(16,"td",30),o.mc(17,"strong"),o.id(18),o.zc(19,"currency"),o.lc(),o.lc(),o.mc(20,"td",25),o.id(21,"\xa0"),o.lc(),o.lc()),2&i){const i=o.yc(2);o.Tb(6),o.jd(o.Ec(7,4,o.Oc(28,mi,i.sumYpokeimeno))),o.Tb(4),o.jd(o.Ec(11,10,o.Oc(30,mi,i.sumTelos))),o.Tb(4),o.jd(o.Ec(15,16,o.Oc(32,mi,i.sumProstimo))),o.Tb(4),o.jd(o.Ec(19,22,o.Oc(34,mi,i.sumToPay)))}}function vi(i,e){1&i&&o.ic(0)}function Di(i,e){1&i&&(o.mc(0,"span",39),o.hc(1,"i",40),o.lc())}function Si(i,e){if(1&i){const i=o.nc();o.kc(0),o.mc(1,"div",17),o.gd(2,vi,1,0,"ng-container",18),o.lc(),o.mc(3,"div",36),o.gd(4,Di,2,0,"span",37),o.mc(5,"app-checkout",38),o.wc("onPayBtnClick",function(e){o.Zc(i);return o.yc(2).onCreatePaymentRequest(e)}),o.lc(),o.lc(),o.jc()}if(2&i){const i=o.yc(2),e=o.Xc(4);o.Tb(2),o.Hc("ngTemplateOutlet",e),o.Tb(2),o.Hc("ngIf",i.isLoadingResponse),o.Tb(1),o.Hc("isPaymentFormValid",!0)("doPaymentSubscription",i.onDoPaymentSubject.asObservable())("finApiUrl",i.financeApiUrl)("buttonText","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae")}}function xi(i,e){if(1&i&&(o.mc(0,"div",41),o.mc(1,"p"),o.id(2),o.lc(),o.lc()),2&i){const i=o.yc(2);o.Tb(2),o.jd(i.errorMessageProfile)}}function wi(i,e){if(1&i&&(o.kc(0),o.gd(1,bi,2,1,"div",10),o.mc(2,"p",11),o.mc(3,"strong"),o.id(4),o.lc(),o.lc(),o.mc(5,"p-table",12),o.gd(6,ki,21,2,"ng-template",13),o.gd(7,Ci,47,33,"ng-template",14),o.gd(8,Pi,22,36,"ng-template",15),o.lc(),o.mc(9,"p",11),o.mc(10,"strong"),o.id(11),o.lc(),o.lc(),o.gd(12,Si,6,6,"ng-container",2),o.gd(13,xi,3,1,"div",16),o.jc()),2&i){const i=o.yc();o.Tb(1),o.Hc("ngIf",i.calculatedChecked.countChecked>0),o.Tb(3),o.kd("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",i.dilosiInfoSaved.length,""),o.Tb(1),o.Hc("value",i.dilosiInfoSaved)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",i.dilosiInfoSaved.length),o.Tb(6),o.kd("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",i.dilosiInfoSaved.length,""),o.Tb(1),o.Hc("ngIf",i.calculatedChecked.countChecked>0),o.Tb(1),o.Hc("ngIf",i.errorMessageProfile)}}function Oi(i,e){if(1&i&&(o.mc(0,"p"),o.id(1,"\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 "),o.mc(2,"span",42),o.id(3),o.lc(),o.lc(),o.mc(4,"div",43),o.mc(5,"p"),o.id(6,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a4\u03ad\u03bb\u03bf\u03c2: "),o.mc(7,"span",42),o.id(8),o.zc(9,"currency"),o.lc(),o.lc(),o.mc(10,"p"),o.id(11,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf: "),o.mc(12,"span",42),o.id(13),o.zc(14,"currency"),o.lc(),o.lc(),o.mc(15,"p"),o.id(16,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: "),o.mc(17,"span",44),o.id(18),o.zc(19,"currency"),o.lc(),o.lc(),o.lc()),2&i){const i=o.yc();o.Tb(3),o.ld("",i.calculatedChecked.countChecked," ",i.calculatedChecked.countText,""),o.Tb(5),o.jd(o.Dc(9,5,i.calculatedChecked.checkedTelos,"\u20ac","symbol","1.2")),o.Tb(5),o.jd(o.Dc(14,10,i.calculatedChecked.checkedProstimo,"\u20ac","symbol","1.2")),o.Tb(5),o.jd(o.Dc(19,15,i.calculatedChecked.checkedTelos+i.calculatedChecked.checkedProstimo,"\u20ac","symbol","1.2"))}}function Ti(i,e){if(1&i){const i=o.nc();o.mc(0,"app-katastimata-create-dilosi",45),o.wc("updateSaved",function(e){o.Zc(i);return o.yc().updateDilosiInTable(e)}),o.lc()}if(2&i){const i=o.yc();o.Hc("diloseisInfoResponse",i.diloseisInfoResponse)("dilosi",i.selectedDilosi)("onlinePaymentsSettingsCompany",i.onlinePaymentsSettingsCompany)}}class Ai{constructor(i){this.toastr=i}show(i,e,t){e&&this.toastr[t](e,i,{progressBar:!0,onActivateTick:!0})}showError(i,e){this.show(i,e,"error")}showInfo(i,e){this.show(i,e,"info")}showSuccess(i,e){this.show(i,e,"success")}showWarning(i,e){this.show(i,e,"warning")}}Ai.\u0275fac=function(i){return new(i||Ai)(o.tc(h.b))},Ai.\u0275prov=Object(o.cc)({factory:function(){return new Ai(Object(o.tc)(h.b))},token:Ai,providedIn:"root"}),Ai.ctorParameters=()=>[{type:h.b}];class Ri{constructor(i){this.toastService=i,this.catchBadResponse=i=>{let e="";if(i.error instanceof Error)e=`\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ${i.message}`;else if(void 0!==i.error)e=`\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ${i.message}`;else switch(i.status){case 403:e=`\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error ${i.status}`;break;case 401:e=`\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n ${i.status}`;break;default:e=`Backend returned code ${i.status}, body was: ${void 0!==i.body?i.body.error:void 0!==i.message?i.message:""}`}return this.toastService.showError("",`${e}`),Object(n.a)(!1)}}}function Mi(i,e,t){let s="";const o=[],n=i.control;return Object.keys(n.controls).forEach(i=>{const e=n.get(i);e instanceof f.f&&o.push(...ji(e));const t=e.errors;t&&Object.keys(t).forEach(e=>{o.push({control:i,error:e,value:t[e]})})}),!(!o&&!t)&&(s="<ul>",o.forEach(i=>{let t;"required"==i.error?t="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==i.error?t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==i.error?t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"max"==i.error&&(t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03ad\u03b3\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),s+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+e[i.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+t+"</li>"}),s+=t,s+="</ul>",s)}function ji(i){const e=[];return Object.keys(i.controls).forEach(t=>{const s=i.get(t);s instanceof f.f&&e.push(...ji(s));const o=s.errors;o&&Object.keys(o).forEach(i=>{e.push({control:t,error:i,value:o[i]})})}),e}function Fi(i,e=(()=>{})){const t=Object(r.a)(()=>Object(n.a)(!0));let s=[];return i.forEach(i=>{s=[...s,Object(r.a)(t=>t?i:(e(),Object(n.a)(!1)))]}),Object(n.a)(!0).pipe(t,t,t,t,t,t,t,t,t,...s)}function Ui(i,e){const t=()=>{try{i.detectChanges()}catch(e){console.warn("View already destroyed")}};e?e.runOutsideAngular(()=>t()):t()}function Ei(i){try{return JSON.parse(JSON.stringify(i))}catch(e){console.error(e)}}function Hi(i){return i&&"/"==i[i.length-1]&&(i=i.substring(0,i.length-1)),i}Ri.\u0275fac=function(i){return new(i||Ri)(o.tc(Ai))},Ri.\u0275prov=Object(o.cc)({factory:function(){return new Ri(Object(o.tc)(Ai))},token:Ri,providedIn:"root"}),Ri.ctorParameters=()=>[{type:Ai}];class _i extends class{constructor(i,e){this.http=i,this.exceptionService=e,this.getBaseUrl=()=>this.baseUrl,AppConfOptions&&AppConfOptions.katastimata_api?(this.baseUrl=AppConfOptions.katastimata_api,this.financeUrl=AppConfOptions.epayments_api):(this.baseUrl="/",this.financeUrl=AppConfOptions.financeApi),this.baseUrl+="api",this.financeUrl+="api"}}{constructor(i,e){super(e,i),this.exceptionSrv=i,this.http=e,this.katastimataUrl=Hi(this.baseUrl)+"/DiloseisWeb",this.dmsUrl=Hi(this.baseUrl)+"/DocDms",this.configurationOptionsUrl=Hi(this.baseUrl)+"/Configurations",this.userInfoSubject=new a.a(null),this.userInfo$=this.userInfoSubject.asObservable(),this.egOnInit()}egOnInit(){this.userInfo$.subscribe(i=>{this.userInfo=i})}initUserInfo(){if(!this.userInfo){let i=null;for(let e=0;e<window.sessionStorage.length;e++){const t=window.sessionStorage.key(e);t.includes("userData")&&(i=JSON.parse(window.sessionStorage.getItem(t)),this.userInfoSubject.next({email:i.email,username:i.given_name,tin:i.tin,family_name:i.family_name,given_name:i.given_name,name:i.name,address_city:i.address_city,address_country_code:i.address_country_code,address_zip:i.address_zip,address:i.address,fathers_name:i.fathers_name,mothers_name:i.mothers_name,adt:i.adt,phone_number:i.phone_number}))}}}getDiloseis(i){return this.http.get(`${this.katastimataUrl}/DiloseisWebInfo/${i}`).pipe(Object(d.a)(i=>i),Object(p.a)(this.exceptionSrv.catchBadResponse))}getDilosiPaymentInfo(i){return this.http.post(`${this.katastimataUrl}/DilosiWebPaymentInfo`,i).pipe(Object(d.a)(i=>i),Object(p.a)(this.exceptionSrv.catchBadResponse))}uploadPeriodikiDilosi(i){let e=new s.f;return e=e.append("isForm","true"),this.http.post(`${this.katastimataUrl}/DilosiWebScan`,i,{headers:e,responseType:"arraybuffer"}).pipe(Object(d.a)(i=>i),Object(p.a)(()=>Object(n.a)(!1)))}getPayedInfo(i){return this.http.get(`${this.katastimataUrl}/DiloseisWebPayedInfo/${i}`).pipe(Object(d.a)(i=>i),Object(p.a)(this.exceptionSrv.catchBadResponse))}getEpixeirisiInfo(i){return this.http.get(`${this.katastimataUrl}/DiloseisWebEpixirisiInfo/${i}`).pipe(Object(d.a)(i=>i),Object(p.a)(this.exceptionSrv.catchBadResponse))}deleteDocDmsByDilosiId(i){const e=this.katastimataUrl+`/DeleteDocDmsByDilosiId/${i}`;return this.http.get(e).pipe(Object(d.a)(i=>i),Object(p.a)(this.exceptionSrv.catchBadResponse))}markDilosiWebExoflisi(i){const e=this.katastimataUrl+"/MarkDilosiWebExoflisi";return this.http.post(e,i).pipe(Object(d.a)(i=>i),Object(p.a)(this.exceptionService.catchBadResponse))}addPaymentRequest(i){const e=this.financeUrl+"/Banks/AddPaymentRequest";return this.http.post(e,i).pipe(Object(d.a)(i=>i),Object(p.a)(this.exceptionSrv.catchBadResponse))}getDocDmsByDilosiId(i){const e=`${this.katastimataUrl}/GetDocDmsByDilosiId/${i}`;return this.http.get(e).pipe(Object(d.a)(i=>i),Object(p.a)(this.exceptionSrv.catchBadResponse))}getDownloadFile(i){const e=`${this.katastimataUrl}/api/DocDms/DownloadFile/${i}`;return this.http.get(e,{responseType:"blob"}).pipe(Object(d.a)(i=>i),Object(p.a)(this.exceptionSrv.catchBadResponse))}getPluginCustomerOptions(){const i=`${this.configurationOptionsUrl}/GetPluginCustomerSpecificOptions`;return this.http.get(i).pipe(Object(d.a)(i=>i),Object(p.a)(this.exceptionSrv.catchBadResponse))}createRemittanceInfoById(i){const e=`${this.katastimataUrl}/CreateRemittanceInfoById/${i}`,t={headers:new s.f({Accept:"text/html, application/xhtml+xml, */*","Content-Type":"text/plain; charset=utf-8"}),responseType:"text"};return this.http.get(e,t).pipe(Object(d.a)(i=>i),Object(p.a)(this.exceptionSrv.catchBadResponse))}getPaymentSettings(){let i=`${this.baseUrl}/oikonomiki/GetPaymentSettings`;return this.paymentSettings?Object(n.a)(this.paymentSettings):this.http.get(i).pipe(Object(d.a)(i=>(this.paymentSettings=i,i)),Object(p.a)(this.exceptionSrv.catchBadResponse))}}_i.\u0275fac=function(i){return new(i||_i)(o.tc(Ri),o.tc(s.b))},_i.\u0275prov=Object(o.cc)({factory:function(){return new _i(Object(o.tc)(Ri),Object(o.tc)(s.b))},token:_i,providedIn:"root"}),_i.ctorParameters=()=>[{type:Ri},{type:s.b}];class Li{constructor(){this.dilosiId=0,this.dilosiDescription=null,this.hmeromiaLixisDilosis=null,this.isMideniki=!1}}class Ni{constructor(){this.dilosiId=null,this.epixirisiEponimia=null,this.epixirisiOfeiletisEponimia=null,this.epixirisiOfeiletisAfm=null,this.paymentCaption=null,this.paymentCode=null,this.paymentCodeDias=null,this.paymentAmount=null,this.telosPoso=null,this.prostimoPoso=null,this.ypokeimenoPoso=null,this.apoforologimenoPoso=null,this.posostoTelous=null,this.posostoEkprothesmisKatavolis=null,this.posostoEkprothesmisKatavolisArxiko=null,this.posostoEkprothesmisKatavolisMines=null}}class Wi{constructor(){this.bankTransactionId=null}}var zi,Bi,$i,qi,Zi,Vi;!function(i){i[i.allo=0]="allo",i[i.adeies=1]="adeies",i[i.diloseis=2]="diloseis",i[i.aitiseisDimotikiAstinomia=3]="aitiseisDimotikiAstinomia"}(zi||(zi={})),function(i){i[i.String=1]="String",i[i.Select=2]="Select",i[i.MultiSelect=3]="MultiSelect",i[i.Number=4]="Number",i[i.Date=5]="Date",i[i.DateTime=6]="DateTime",i[i.Dynamic=7]="Dynamic",i[i.StringMultiLine=8]="StringMultiLine",i[i.Checkbox=9]="Checkbox"}(Bi||(Bi={})),function(i){i[i.Undefined=0]="Undefined",i[i.Ok=1]="Ok",i[i.Error=2]="Error",i[i.Warning=3]="Warning",i[i.UndefinedError=4]="UndefinedError"}($i||($i={})),function(i){i[i.aplirotes=1]="aplirotes",i[i.pliromenes=2]="pliromenes"}(qi||(qi={})),function(i){i.dilosiDescription="\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2",i.ypokeimenoPoso="\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc",i.periodikiDilosiFPA="\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)"}(Zi||(Zi={})),function(i){i.billAddrState="\u03a0\u03b5\u03c1\u03b9\u03c6\u03ad\u03c1\u03b5\u03b9\u03b1",i.cardholderName="\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2",i.mobilePhone="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf"}(Vi||(Vi={}));class Yi{constructor(i,e,t,s,o,n){this.katastimataNgSrv=i,this.toasterSrv=e,this.cdr=t,this._http=s,this.router=o,this.route=n,this.model=[],this.countriesList=[],this.HttpStatusCodeEnum=$i,this.index=0,this.isLoading=!0,this.isAddingNewDilosi=!1,this.onlinePaymentsSettingsCompany="1",this.createPaymentCodeDias=!1,this.applicationUrl="",this.financeApiUrl="",this.returnUrl="",this.onDestroy=new c.a,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=Hi(AppConfOptions.application_url),this.financeApiUrl=Hi(AppConfOptions.epayments_api),this.returnUrl=encodeURI(this.applicationUrl+"/katastimata/receipts")):(this.applicationUrl=Hi(AppConfOptions.applicationUrl),this.financeApiUrl=Hi(AppConfOptions.financeApi),this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts"))}ngOnInit(){this.katastimataNgSrv.initUserInfo(),this.katastimataNgSrv.userInfo$.pipe(Object(r.a)(i=>{if(i){if(this.userInfo=i,"undefined"!=typeof AuthConfOptions){let i=Hi(AuthConfOptions.stsServer);return this._http.get(i+"/api/general/GetCountries")}return this._http.get("https://auth.dev.egritosgroup.gr/api/general/GetCountries")}return Object(n.a)(!1)}),Object(m.a)(this.onDestroy)).subscribe(i=>{i&&(this.countriesList=i,this.userInfo.address_country_code&&""!=this.userInfo.address_country_code&&(this.userInfo.address_country_num=this.countriesList.find(i=>i.Alpha2Code==this.userInfo.address_country_code).NumericCode.toString())),this.router.url.includes("receipts")?this.index=0:this.router.url.includes("saved")&&(this.index=1),Ui(this.cdr)}),this.katastimataNgSrv.getEpixeirisiInfo(this.userInfo.tin).pipe(Object(r.a)(i=>i&&i.statusCode==this.HttpStatusCodeEnum.Ok?(this.epixeirisiInfo=i,this.katastimataNgSrv.getDiloseis(this.userInfo.tin)):(this.toasterSrv.showError("",i.message),Object(n.a)(!1))),Object(r.a)(i=>i?(this.diloseisInfoResponse=i,this.diloseisInfoResponse&&this.diloseisInfoResponse.length>0?this.diloseisInfoSaved=this.diloseisInfoResponse.filter(i=>6==i.statusId):this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd."),this.katastimataNgSrv.getPluginCustomerOptions()):Object(n.a)(!1))).subscribe(i=>{if(i){let e=i;if(e){if(e.configurationOptions&&e.configurationOptions.length&&e.configurationOptions.some(i=>"PluginCustomerSpecificOptions:OnlinePayments"==i.id)&&(this.onlinePaymentsSettingsCompany=e.configurationOptions.find(i=>"PluginCustomerSpecificOptions:OnlinePayments"==i.id).value),e.configurationOptions&&e.configurationOptions.length&&e.configurationOptions.some(i=>"PluginCustomerSpecificOptions:CreatePaymentCodeDias"==i.id)){let i=e.configurationOptions.find(i=>"PluginCustomerSpecificOptions:CreatePaymentCodeDias"==i.id).value;(i="true")?this.createPaymentCodeDias=!0:this.createPaymentCodeDias=!1}Ui(this.cdr),this._loadData()}else this.toasterSrv.showError("","\u0394\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03c1\u03c5\u03b8\u03bc\u03af\u03c3\u03b5\u03c9\u03bd \u03c4\u03b7\u03c2 \u03b5\u03c6\u03b1\u03c1\u03bc\u03bf\u03b3\u03ae\u03c2.")}this.isLoading=!1,Ui(this.cdr)})}ngOnDestroy(){this.onDestroy.next()}_loadData(){this.isLoading=!0,Ui(this.cdr),this.katastimataNgSrv.getPayedInfo(this.userInfo.tin).subscribe(i=>{i?this.model=i:this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03c9\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd."),this.isLoading=!1,Ui(this.cdr)})}onCreateNewDilosiClicked(){this.isAddingNewDilosi=!0,Ui(this.cdr)}onTabChanged(i){0==i.index?this.router.navigate(["./receipts"],{relativeTo:this.route,queryParamsHandling:"preserve"}):this.router.navigate(["./saved"],{relativeTo:this.route.parent})}onReloadSaved(i){this.isLoading=!0,Ui(this.cdr),this.katastimataNgSrv.getDiloseis(this.userInfo.tin).subscribe(i=>{i&&(this.diloseisInfoResponse=i,this.diloseisInfoSaved=this.diloseisInfoResponse.filter(i=>6==i.statusId),Ui(this.cdr),this._loadData()),this.isLoading=!1,Ui(this.cdr)})}}Yi.\u0275fac=function(i){return new(i||Yi)(o.gc(_i),o.gc(Ai),o.gc(o.j),o.gc(s.b),o.gc(u.d),o.gc(u.a))},Yi.\u0275cmp=o.ac({type:Yi,selectors:[["lib-katastimata-ng"]],decls:6,vars:13,consts:[["severity","error","text","\u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b4\u03bf\u03ba\u03b9\u03bc\u03ac\u03c3\u03c4\u03b5 \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1!",4,"ngIf"],[4,"ngIf"],["header","\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","epixeirisiInfo","applicationUrl","updateSaved",4,"ngIf"],["severity","error","text","\u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b4\u03bf\u03ba\u03b9\u03bc\u03ac\u03c3\u03c4\u03b5 \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1!"],["class","mb-3 py-1 d-flex flex-wrap",4,"ngIf"],[3,"activeIndex","onChange"],["header","\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd"],[3,"diloseisReceipts","userInfo","isLoading","diloseisInfoResponse","reloadData",4,"ngIf"],["header","\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2.",4,"ngIf"],[3,"dilosiInfoSaved","userInfo","isLoading","diloseisInfoResponse","onlinePaymentsSettingsCompany","epixeirisiInfo","applicationUrl","reloadData",4,"ngIf"],[1,"mb-3","py-1","d-flex","flex-wrap"],["class","m-0 mr-1 d-inline-flex align-items-center eponimia-title",4,"ngIf"],["class","btn btn-primary btn-sm m-0 ml-auto","type","button",3,"click",4,"ngIf"],[1,"m-0","mr-1","d-inline-flex","align-items-center","eponimia-title"],["type","button",1,"btn","btn-primary","btn-sm","m-0","ml-auto",3,"click"],["aria-hidden","true",1,"fas","fa-plus"],[3,"diloseisReceipts","userInfo","isLoading","diloseisInfoResponse","reloadData"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2."],[3,"dilosiInfoSaved","userInfo","isLoading","diloseisInfoResponse","onlinePaymentsSettingsCompany","epixeirisiInfo","applicationUrl","reloadData"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","epixeirisiInfo","applicationUrl","updateSaved"]],template:function(i,e){1&i&&(o.gd(0,T,1,0,"p-message",0),o.zc(1,"async"),o.gd(2,E,8,5,"ng-container",1),o.zc(3,"async"),o.mc(4,"p-dialog",2),o.wc("visibleChange",function(i){return e.isAddingNewDilosi=i}),o.gd(5,H,1,5,"app-katastimata-create-dilosi",3),o.lc()),2&i&&(o.Hc("ngIf",!o.Ac(1,8,e.katastimataNgSrv.userInfo$)),o.Tb(2),o.Hc("ngIf",o.Ac(3,10,e.katastimataNgSrv.userInfo$)),o.Tb(2),o.dd(o.Nc(12,_)),o.Hc("visible",e.isAddingNewDilosi)("draggable",!1)("closable",!0),o.Tb(1),o.Hc("ngIf",e.isAddingNewDilosi))},directives:function(){return[g.p,P.a,v.b,x.b,x.a,Xi,Ji,Gi]},pipes:function(){return[g.b]},encapsulation:2,changeDetection:0}),Yi.ctorParameters=()=>[{type:_i},{type:Ai},{type:o.j},{type:s.b},{type:u.d},{type:u.a}];let Ki=t("C7T5");class Gi{constructor(i,e,t){this.katastimataNgSrv=i,this.toasterSrv=e,this.cdr=t,this.updateSaved=new o.t,this.paymentRequestDto=void 0,this.requestObs=[],this.onDoPaymentSubject=new c.a,this.onDestroy=new c.a,this.pososta=[{value:"0.5",description:"0.5%"},{value:"2",description:"2%"},{value:"5",description:"5%"}],this.toggleEditFiles=!1,this.periodikiDilosiFPA=null,this.extraFile=null,this.uploadedFiles=[],this.isLoading=!1,this.isLoadingResponse=!1,this.initPaymentMethods=!1,this.isFormDirty=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=Zi}ngOnInit(){"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.katastimataApiUrl=Hi(AppConfOptions.katastimata_api),this.financeApiUrl=Hi(AppConfOptions.epayments_api),this.relatedCallbackUrl=encodeURI(this.applicationUrl+"/katastimata/receipts")):(this.katastimataApiUrl=Hi(AppConfOptions.applicationUrl),this.financeApiUrl=Hi(AppConfOptions.financeApi),this.relatedCallbackUrl=encodeURI(this.applicationUrl+"/plugin/receipts")),Ui(this.cdr),this.dilosi?this._getDilosiFiles():(this.dilosi=new Li,this.dilosiCopy=Ei(this.dilosi),Ui(this.cdr)),this.katastimataNgSrv.userInfo$.pipe(Object(m.a)(this.onDestroy)).subscribe(i=>{i&&(this.userInfo=i,Ui(this.cdr))})}ngOnDestroy(){this.onDestroy.next()}ngOnChanges(i){i&&i.dilosi&&(this.dilosiCopy=i.dilosi.currentValue,Ui(this.cdr)),i&&i.onlinePaymentsSettingsCompany&&(this.onlinePaymentsSettingsCompany=i.onlinePaymentsSettingsCompany.currentValue,Ui(this.cdr))}onSelectedDilosiChanged(i){if(i){let e=this.dilosiCopy.isMideniki;this.dilosiCopy=this.diloseisInfoResponse.filter(i=>i.dilosiId===+this.dilosiCopy.dilosiId)[0],this.dilosiCopy.isMideniki=e,this.dilosiCopy.isMideniki&&(this.dilosiCopy.ypokeimenoPoso=0),this.katastimataNgSrv.getDocDmsByDilosiId(i.dilosiId).subscribe(i=>{i&&(this.dilosiFiles=i),Ui(this.cdr)})}}onIsMidenikiChanged(){this.dilosiCopy.isMideniki&&(this.dilosiCopy.ypokeimenoPoso=0,Ui(this.cdr))}downloadFile(i){i&&this.katastimataNgSrv.getDownloadFile(i).subscribe()}onFileChange(i,e){i&&i.srcElement.files.length>0?Ki(i,!0).then(i=>{this.uploadedFiles[e]=i}):delete this.uploadedFiles[e],this.isFormDirty=!0,Ui(this.cdr)}onOpenEktiposi(i){this.isFormDirty&&i.preventDefault()}onSubmit(){if(this.formErrorsMsg="",this.toggleEditFiles=!1,Ui(this.cdr),this.dimotikosForosForm.valid&&(this.dilosiCopy.isMideniki||!this.dilosiCopy.isMideniki&&this.dilosiCopy.ypokeimenoPoso>0)){this.isFormSubmitted=!0,this.isFormDirty=!1,this.isLoading=!0;let e=[];if(this.uploadedFiles&&this.uploadedFiles.periodikiDilosiFPA){let i=[];const t=Object.values(this.uploadedFiles);for(let e=0;e<t.length;e++){const s=t[e];let o=s.name.substr(s.name.lastIndexOf(".")+1);i.push({language:"el",dilosiId:+this.dilosiCopy.dilosiId,fileContent:s.base64,fileLength:s.size,fileExtension:o,fileDescription:e,fileName:s.name})}e=[...e,this.katastimataNgSrv.deleteDocDmsByDilosiId(this.dilosiCopy.dilosiId)],i.length>0&&i.forEach(i=>{e=[...e,this.katastimataNgSrv.uploadPeriodikiDilosi(i)]})}let t={language:"el",dilosiId:+this.dilosiCopy.dilosiId,ypokeimenoPoso:+this.dilosiCopy.ypokeimenoPoso,hmerominiaDilosis:(i=new Date,i?(i.setHours(i.getHours()-i.getTimezoneOffset()/60),i):null),isMideniki:this.dilosiCopy.isMideniki};if(this.onlinePaymentsSettingsCompany&&"1"==this.onlinePaymentsSettingsCompany)this.requestObs=[...this.requestObs,this.katastimataNgSrv.getDilosiPaymentInfo(t)],e=[...e,this.katastimataNgSrv.getDilosiPaymentInfo(t)],Ui(this.cdr),Fi(e,()=>this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1.")).subscribe(i=>{i?(this.dilosiWebPaymentInfo=i,this.dilosiWebPaymentInfo&&(this.updateSaved.emit({dilosiId:this.dilosiWebPaymentInfo.dilosiId,dilosiDescription:this.dilosiWebPaymentInfo.paymentCaption,statusId:this.dilosiCopy.statusId,akatharistoPoso:this.dilosiCopy.akatharistoPoso,ypokeimenoPoso:this.dilosiCopy.ypokeimenoPoso,telosPoso:this.dilosiWebPaymentInfo.telosPoso,prostimoPoso:this.dilosiWebPaymentInfo.prostimoPoso,hmeromiaLixisDilosis:this.dilosiCopy.hmeromiaLixisDilosis,isChecked:!1,isMideniki:this.dilosiCopy.isMideniki,epixirisiId:this.dilosiCopy.epixirisiId,etos:this.dilosiCopy.etos}),this.kodikosPliromis=this.dilosiWebPaymentInfo.paymentCodeDias,this.kodikosPliromis&&this.kodikosPliromis.length>15&&(this.kodikosPliromis=this.dilosiWebPaymentInfo.paymentCodeDias.match(/(.|[\r\n]){1,4}/g).toString(),this.kodikosPliromis=this.kodikosPliromis.replace(new RegExp(",","g")," "))),this.isLoading=!1,this.isFormSubmitted=!1,Ui(this.cdr),this._getDilosiFiles()):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03c9\u03bd \u03c0\u03bf\u03c3\u03ce\u03bd.")});else{this.dilosiWebPaymentInfo=new Ni;let i="";this.katastimataNgSrv.createRemittanceInfoById(this.dilosiCopy.dilosiId).pipe(Object(r.a)(t=>t?(i=t,Fi(e,()=>this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1."))):Object(n.a)(!1))).subscribe(e=>{if(e&&this.dilosiWebPaymentInfo){let e=+this.selectedPososto/100+1,o=(this.dilosiCopy.ypokeimenoPoso/e).toFixed(2);o=+o;let n=+this.selectedPososto/100,a=(o*n).toFixed(2);a=+a;let c=(t=new Date(this.dilosiCopy.hmeromiaLixisDilosis),(s=new Date).getMonth()-t.getMonth()+12*(s.getFullYear()-t.getFullYear()));c<0&&(c=0);let l=.02*c*a;l>a&&(l=a),this.dilosiWebPaymentInfo.dilosiId=this.dilosiCopy.dilosiId,this.dilosiWebPaymentInfo.epixirisiEponimia=this.epixeirisiInfo.eponimia,this.dilosiWebPaymentInfo.epixirisiOfeiletisEponimia=this.epixeirisiInfo.ofeiletisEponimia,this.dilosiWebPaymentInfo.epixirisiOfeiletisAfm=this.epixeirisiInfo.ofeiletisAfm,this.dilosiWebPaymentInfo.paymentCaption=this.dilosiCopy.dilosiDescription,this.dilosiWebPaymentInfo.paymentCode=i,this.dilosiWebPaymentInfo.paymentAmount=a+l,this.dilosiWebPaymentInfo.telosPoso=a,this.dilosiWebPaymentInfo.prostimoPoso=l,this.dilosiWebPaymentInfo.ypokeimenoPoso=this.dilosiCopy.ypokeimenoPoso,this.dilosiWebPaymentInfo.apoforologimenoPoso=o,this.dilosiWebPaymentInfo.posostoTelous=n,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolis=.02*c,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisArxiko=.02,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines=c,this.updateSaved.emit({dilosiId:this.dilosiCopy.dilosiId,dilosiDescription:this.dilosiCopy.dilosiDescription,statusId:this.dilosiCopy.statusId,hmeromiaLixisDilosis:this.dilosiCopy.hmeromiaLixisDilosis,akatharistoPoso:this.dilosiCopy.akatharistoPoso,ypokeimenoPoso:this.dilosiCopy.ypokeimenoPoso,isChecked:!1,telosPoso:this.dilosiWebPaymentInfo.telosPoso,prostimoPoso:this.dilosiWebPaymentInfo.prostimoPoso,isMideniki:this.dilosiCopy.isMideniki,epixirisiId:this.dilosiCopy.epixirisiId,etos:this.dilosiCopy.etos}),this.isLoading=!1,this.isFormSubmitted=!1,Ui(this.cdr)}else this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03bf\u03c5 Remittance Info.");var t,s}),Ui(this.cdr)}}else{let i="";this.dilosiCopy.dilosiId||(i+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf</li>"),0==this.dilosiCopy.ypokeimenoPoso&&(i+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03c4\u03bf\u03c5 0</li>"),this.formErrorsMsg=Mi(this.dimotikosForosForm,this.formDictionaryEnum,i),Ui(this.cdr)}var i}onCreatePaymentRequest(i){this.initPaymentMethods=!0,this.isLoadingResponse=!0,this.paymentRequestDto=void 0,Ui(this.cdr),this.paymentRequestDto={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:i.key,entries:[]},"PIRBGRAA"===i.key&&(this.paymentRequestDto.billingAddressCountryCode=null);let e={remittanceInfo:this.dilosiWebPaymentInfo.paymentCode,amount:this.dilosiWebPaymentInfo.paymentAmount,debtorName:this.dilosiWebPaymentInfo.epixirisiOfeiletisEponimia,tin:this.userInfo.tin,description:this.dilosiWebPaymentInfo.paymentCaption};this.paymentRequestDto.entries.push(e),this.katastimataNgSrv.addPaymentRequest(this.paymentRequestDto).subscribe(i=>{if(i){let e=i;this.paymentResponseDto=e.model,this.onDoPaymentSubject.next(this.paymentResponseDto)}else Ui(this.cdr),this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2.");this.isLoadingResponse=!1,Ui(this.cdr)})}_getDilosiFiles(){this.katastimataNgSrv.getDocDmsByDilosiId(this.dilosiCopy.dilosiId).subscribe(i=>{i&&(this.dilosiFiles=i,Ui(this.cdr))})}}Gi.\u0275fac=function(i){return new(i||Gi)(o.gc(_i),o.gc(Ai),o.gc(o.j))},Gi.\u0275cmp=o.ac({type:Gi,selectors:[["app-katastimata-create-dilosi"]],viewQuery:function(i,e){if(1&i&&o.nd(L,1),2&i){let i;o.Wc(i=o.xc())&&(e.dimotikosForosForm=i.first)}},inputs:{dilosi:"dilosi",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",epixeirisiInfo:"epixeirisiInfo",diloseisInfoResponse:"diloseisInfoResponse",applicationUrl:"applicationUrl"},outputs:{updateSaved:"updateSaved"},features:[o.Rb],decls:3,vars:3,consts:[["class","form w-100",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],[1,"form","w-100"],["dimotikosForosForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-4"],["name","dilosiDescription","bindLabel","dilosiDescription","bindValue","dilosiId","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7","required","",3,"items","searchable","clearable","ngModel","ngModelChange","change"],["dilosiDescription","ngModel"],[1,"text-danger",3,"hidden"],["name","hmeromiaLixisDilosis","placeholder","\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2","type","text","disabled","",1,"form-control",3,"value"],[1,"form-group","col-12","col-md-4","d-flex","align-items-center"],["label","\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7","name","isMideniki","binary","true",3,"ngModel","ngModelChange"],["class","form-group col-12 col-md-6",4,"ngIf"],[1,"form-group","col-12",3,"ngClass"],["name","ypokeimenoPoso","type","text","currencyMask","","lang","el-GR","placeholder","0,00","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["ypokeimenoPosoInput","ngModel"],["type","button",1,"btn","btn-primary","d-block","mt-2","mx-auto",3,"click"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],[1,"form-group","col-12","col-md-6"],["name","pososto","bindLabel","description","bindValue","value","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc","required","",3,"items","searchable","clearable","ngModel","ngModelChange"],["posostoInput","ngModel"],[1,"d-flex","flex-wrap"],["type","button",1,"btn","btn-sm","btn-primary","m-0","ml-auto",3,"click"],[1,"far","fa-edit"],["class","mb-1",4,"ngFor","ngForOf"],[1,"mb-1"],["type","button",1,"btn","btn-sm","btn-outline-info","m-0","mr-1",3,"href","download"],[1,"fas","fa-download"],[1,"far","fa-calendar-alt"],["severity","warn","text","\u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03bd\u03ad\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf, \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03bf\u03cd\u03bd \u03cc\u03bb\u03b1 \u03c4\u03b1 \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 \u03ba\u03b1\u03b9 \u03b8\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c4\u03b1 \u03b1\u03bd\u03b5\u03b2\u03ac\u03c3\u03b5\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac.",4,"ngIf"],[1,"form-group","col-12","col-sm-6"],["for","periodikiDilosiFPA"],["name","periodikiDilosiFPA","placeholder","\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)","type","file",1,"form-control-file",3,"ngModel","required","ngModelChange","change"],["periodikiDilosiFPAInput","ngModel"],["for","extraFile"],["name","extraFile","placeholder","\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf","type","file",1,"form-control-file",3,"ngModel","ngModelChange","change"],["severity","warn","text","\u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03bd\u03ad\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf, \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03bf\u03cd\u03bd \u03cc\u03bb\u03b1 \u03c4\u03b1 \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 \u03ba\u03b1\u03b9 \u03b8\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c4\u03b1 \u03b1\u03bd\u03b5\u03b2\u03ac\u03c3\u03b5\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac."],["aria-hidden","true",1,"fas","fa-calculator"],["aria-hidden","true",1,"far","fa-save","fa-fw"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"w-100","pb-2"],[1,"debits-info","d-flex","justify-content-between"],[1,"debits-info_left","d-flex","mr-1"],[1,"mb-0"],[1,"mr-1",2,"width","220px","line-height","1.7"],["class","mb-0",4,"ngIf"],[1,"totalPoso"],[1,"d-flex","flex-column","align-items-center"],["class","btn btn-info mb-1 px-4 font-weight-bold","style","width: 173px;","target","_blank",3,"href","disabled","click",4,"ngIf"],[3,"isPaymentFormValid","doPaymentSubscription","finApiUrl","buttonText","onPayBtnClick"],["target","_blank",1,"btn","btn-info","mb-1","px-4","font-weight-bold",2,"width","173px",3,"href","click"],["aria-hidden","true",1,"fas","fa-print"]],template:function(i,e){1&i&&(o.gd(0,G,33,20,"form",0),o.gd(1,X,3,0,"div",1),o.gd(2,oi,47,38,"ng-container",2)),2&i&&(o.Hc("ngIf",e.dilosiCopy&&e.diloseisInfoResponse&&e.diloseisInfoResponse.length>0),o.Tb(1),o.Hc("ngIf",e.isLoading),o.Tb(1),o.Hc("ngIf",e.dilosiWebPaymentInfo&&!e.isLoading&&!e.isFormDirty))},directives:function(){return[g.p,f.w,f.n,f.o,b.a,f.u,f.m,f.p,C.a,g.n,f.d,k.b,g.o,v.b,y.a]},pipes:function(){return[g.f,g.b,ee,g.d]},encapsulation:2,changeDetection:0}),Gi.ctorParameters=()=>[{type:_i},{type:Ai},{type:o.j}],Gi.propDecorators={dimotikosForosForm:[{type:o.fb,args:["dimotikosForosForm"]}],epixeirisiInfo:[{type:o.D}],diloseisInfoResponse:[{type:o.D}],dilosi:[{type:o.D}],applicationUrl:[{type:o.D}],onlinePaymentsSettingsCompany:[{type:o.D}],updateSaved:[{type:o.O}]};class Xi{constructor(i,e,t){this.katastimataNgSrv=i,this.route=e,this._http=t,this.reloadData=new o.t,this.onDestroy=new c.a,this.financeApiUrl="",this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumSinolo=0,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?this.financeApiUrl=Hi(AppConfOptions.epayments_api):this.financeApiUrl=Hi(AppConfOptions.financeApi)}ngOnChanges(i){i&&i.diloseisReceipts&&(this.diloseisReceipts=i.diloseisReceipts.currentValue,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumSinolo=0,this.diloseisReceipts.forEach(i=>{this.sumYpokeimeno+=i.ypokeimenoPoso,this.sumTelos+=i.telosPoso,this.sumProstimo+=i.prostimoPoso,i.sinolikoPoso=+i.telosPoso+ +i.prostimoPoso,this.sumSinolo+=i.sinolikoPoso})),i&&i.isLoading&&(this.isLoading=i.isLoading.currentValue)}ngOnInit(){this.katastimataNgSrv.userInfo$.pipe(Object(m.a)(this.onDestroy)).subscribe(i=>this.userInfo=i),this._getBankMessages().pipe(Object(r.a)(i=>i?(this.oikonomikiBankMessages=i,this.route.queryParams.pipe(Object(m.a)(this.onDestroy))):Object(n.a)(!1))).subscribe(i=>{if(i){let e=i,t=e.messagecode,s=e.btId;if(t)if(this.bankStatusMessage=this.oikonomikiBankMessages[t],"TRANSACTION_COMPLETED"==t){if(this.bankStatusMessageClass="success",s){let i=new Wi;i.bankTransactionId=s,this.katastimataNgSrv.markDilosiWebExoflisi(i).subscribe(()=>{this.reloadData.emit(!0)})}}else this.bankStatusMessageClass="error"}})}ngOnDestroy(){this.onDestroy.next()}_getBankMessages(){let i=this.financeApiUrl+"/api/Banks/BankMessages";return this._http.get(i)}btnBankStatusMessageClicked(){this.bankStatusMessage=null}}Xi.\u0275fac=function(i){return new(i||Xi)(o.gc(_i),o.gc(u.a),o.gc(s.b))},Xi.\u0275cmp=o.ac({type:Xi,selectors:[["app-katastimata-receipts"]],inputs:{diloseisReceipts:"diloseisReceipts",isLoading:"isLoading",userInfo:"userInfo",diloseisInfoResponse:"diloseisInfoResponse"},outputs:{reloadData:"reloadData"},features:[o.Rb],decls:5,vars:5,consts:[["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc.",4,"ngIf"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u03b9\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2.",3,"styleClass",4,"ngIf"],[3,"severity","text","styleClass",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc."],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u03b9\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2.",3,"styleClass"],[3,"severity","text","styleClass"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"mt-1"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-170"],[1,"fixed-width-col-80"],[1,"fixed-width-col-120"],[1,"fixed-width-col-100"],[1,"p-column-title"],[1,"text-center","fixed-width-col-80"],["class","fas fa-check",4,"ngIf"],[1,"fixed-width-col-120","text-right"],[1,"fixed-width-col-100","text-right"],[1,"fas","fa-check"],["colspan","3",1,"fixed-width-col-310","text-right"]],template:function(i,e){1&i&&(o.gd(0,ni,1,0,"p-message",0),o.gd(1,ai,1,1,"p-message",1),o.gd(2,ci,1,3,"p-message",2),o.gd(3,li,3,0,"div",3),o.gd(4,fi,11,11,"ng-container",4)),2&i&&(o.Hc("ngIf",!(e.diloseisInfoResponse&&0!=e.diloseisInfoResponse.length||e.isLoading)),o.Tb(1),o.Hc("ngIf",!(e.diloseisReceipts&&0!=e.diloseisReceipts.length||e.isLoading)),o.Tb(1),o.Hc("ngIf",e.bankStatusMessage&&""!=e.bankStatusMessage),o.Tb(1),o.Hc("ngIf",e.isLoading),o.Tb(1),o.Hc("ngIf",!e.isLoading))},directives:[g.p,v.b,S.d,O.j],pipes:[g.d],encapsulation:2}),Xi.ctorParameters=()=>[{type:_i},{type:u.a},{type:s.b}],Xi.propDecorators={diloseisReceipts:[{type:o.D}],diloseisInfoResponse:[{type:o.D}],userInfo:[{type:o.D}],isLoading:[{type:o.D}],reloadData:[{type:o.O}]};class Ji{constructor(i,e,t,s,n){this.katastimataNgSrv=i,this.toasterSrv=e,this.cdr=t,this.route=s,this._http=n,this.reloadData=new o.t,this.modelPaymentInfo=[],this.paymentRequestDto=void 0,this.onDestroy=new c.a,this.onDoPaymentSubject=new c.a,this.requestObs=[],this.errorMessageProfile=null,this.isLoadingResponse=!1,this.initPaymentMethods=!1,this.isAllDebitsChecked=!1,this.calculatedChecked={countChecked:0,countText:"\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",checkedYpokeimeno:0,checkedTelos:0,checkedProstimo:0},this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumToPay=0,this.isEditModalOpen=!1}ngOnInit(){"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.financeApiUrl=Hi(AppConfOptions.epayments_api),this.relatedCallbackUrl=encodeURI(Hi(this.applicationUrl)+"/katastimata/saved")):(this.financeApiUrl=Hi(AppConfOptions.financeApi),this.relatedCallbackUrl=encodeURI(Hi(this.applicationUrl)+"/plugin/saved")),this.katastimataNgSrv.userInfo$.pipe(Object(m.a)(this.onDestroy)).subscribe(i=>this.userInfo=i),this._getBankMessages().pipe(Object(r.a)(i=>i?(this.oikonomikiBankMessages=i,this.route.queryParams.pipe(Object(m.a)(this.onDestroy))):Object(n.a)(!1))).subscribe(i=>{if(i){let e=i,t=e.messagecode,s=e.btId;if(t)if(this.bankStatusMessage=this.oikonomikiBankMessages[t],"TRANSACTION_COMPLETED"==t){if(this.bankStatusMessageClass="success",s){let i=new Wi;i.bankTransactionId=s,this.katastimataNgSrv.markDilosiWebExoflisi(i).subscribe(()=>{this.reloadData.emit(!0)})}}else this.bankStatusMessageClass="error"}Ui(this.cdr)})}ngOnChanges(i){i&&i.dilosiInfoSaved&&(this.dilosiInfoSaved=i.dilosiInfoSaved.currentValue,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumToPay=0,this.dilosiInfoSaved.forEach(i=>{this.sumYpokeimeno+=i.ypokeimenoPoso,this.sumTelos+=i.telosPoso,this.sumProstimo+=i.prostimoPoso,this.sumToPay+=i.telosPoso+i.prostimoPoso}),Ui(this.cdr))}ngOnDestroy(){this.onDestroy.next()}onAllDebitsSelected(){this.dilosiInfoSaved.forEach(i=>{i.isChecked=this.isAllDebitsChecked}),Ui(this.cdr),this._calculateTotalAmounts()}onEdit(i){this.isEditModalOpen=!0,this.selectedDilosi=Ei(i),Ui(this.cdr)}updateDilosiInTable(i){if(i){let e=this.dilosiInfoSaved.findIndex(e=>e.dilosiId==i.dilosiId);this.dilosiInfoSaved[e]=i,Ui(this.cdr)}}onCreatePaymentRequest(i){this.initPaymentMethods=!0,this.isLoadingResponse=!0,this.paymentRequestDto=void 0,this.modelPaymentInfo=[],Ui(this.cdr),Object(l.a)(this.requestObs).pipe(Object(r.a)(e=>e?(e.forEach(i=>{this.modelPaymentInfo=[...this.modelPaymentInfo,i]}),this.paymentRequestDto={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:i.key,entries:[]},"PIRBGRAA"===i.key&&(this.paymentRequestDto.billingAddressCountryCode=null),this.modelPaymentInfo.forEach(i=>{let e={remittanceInfo:i.paymentCode,amount:i.paymentAmount,debtorName:i.epixirisiOfeiletisEponimia,tin:this.userInfo.tin,description:i.paymentCaption};this.paymentRequestDto.entries.push(e)}),this.katastimataNgSrv.addPaymentRequest(this.paymentRequestDto)):Object(n.a)(!1))).subscribe(i=>{if(i){let e=i;this.paymentResponseDto=e.model,this.onDoPaymentSubject.next(this.paymentResponseDto)}else Ui(this.cdr),this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2.");this.isLoadingResponse=!1,Ui(this.cdr)})}_getBankMessages(){let i=this.financeApiUrl+"/api/Banks/BankMessages";return this._http.get(i)}_calculateTotalAmounts(){this.requestObs=[];let i=0,e=0,t=0,s=0,o="\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2";this.dilosiInfoSaved.forEach(o=>{if(o.isChecked){s++,i+=o.ypokeimenoPoso,e+=o.telosPoso,t+=o.prostimoPoso;let n={language:"el",ypokeimenoPoso:+o.ypokeimenoPoso,dilosiId:+o.dilosiId,hmerominiaDilosis:new Date};this.requestObs=[...this.requestObs,this.katastimataNgSrv.getDilosiPaymentInfo(n)]}}),o=1==s?"\u03b4\u03ae\u03bb\u03c9\u03c3\u03b7":"\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",this.calculatedChecked={countChecked:s,countText:o,checkedYpokeimeno:i,checkedTelos:e,checkedProstimo:t},Ui(this.cdr)}}Ji.\u0275fac=function(i){return new(i||Ji)(o.gc(_i),o.gc(Ai),o.gc(o.j),o.gc(u.a),o.gc(s.b))},Ji.\u0275cmp=o.ac({type:Ji,selectors:[["app-katastimata-saved"]],inputs:{userInfo:"userInfo",dilosiInfoSaved:"dilosiInfoSaved",diloseisInfoResponse:"diloseisInfoResponse",epixeirisiInfo:"epixeirisiInfo",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",isLoading:"isLoading",applicationUrl:"applicationUrl"},outputs:{reloadData:"reloadData"},features:[o.Rb],decls:7,vars:10,consts:[[3,"severity","text","styleClass",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],["selectedDebits",""],["header","\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange","onHide"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","updateSaved",4,"ngIf"],[3,"severity","text","styleClass"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],["class","debits-info__selected-debits",4,"ngIf"],[1,"mt-1"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["class","screen-msg",4,"ngIf"],[1,"debits-info__selected-debits"],[4,"ngTemplateOutlet"],[1,"fixed-width-col-40","text-center"],[3,"binary","ngModel","ngModelChange","onChange"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-170"],[1,"fixed-width-col-100"],[1,"fixed-width-col-80"],[1,"fixed-width-col-120"],[1,"p-column-title"],[1,"text-center","fixed-width-col-80"],["class","fas fa-check",4,"ngIf"],[1,"fixed-width-col-120","text-right"],[1,"fixed-width-col-100","text-right"],[1,"fixed-width-col-120","text-center"],["type","button",1,"btn","btn-primary","btn-sm","m-0",3,"click"],[1,"far","fa-edit"],[1,"fas","fa-check"],["colspan","5",1,"fixed-width-col-450","text-right"],[1,"mt-2","mx-auto","d-flex","flex-column","justify-content-center",2,"width","350px"],["class","d-flex justify-content-center align-items-center mb-2",4,"ngIf"],[3,"isPaymentFormValid","doPaymentSubscription","finApiUrl","buttonText","onPayBtnClick"],[1,"d-flex","justify-content-center","align-items-center","mb-2"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],[1,"screen-msg"],[1,"totalPoso"],[1,"d-flex","total-selected-cost"],["id","sumTotalToBank",1,"totalPoso"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","updateSaved"]],template:function(i,e){1&i&&(o.gd(0,ui,1,3,"p-message",0),o.gd(1,gi,3,0,"div",1),o.gd(2,wi,14,14,"ng-container",2),o.gd(3,Oi,20,20,"ng-template",null,3,o.hd),o.mc(5,"p-dialog",4),o.wc("visibleChange",function(i){return e.isEditModalOpen=i})("onHide",function(){return e.isEditModalOpen=!1,e.selectedDilosi=null}),o.gd(6,Ti,1,3,"app-katastimata-create-dilosi",5),o.lc()),2&i&&(o.Hc("ngIf",e.bankStatusMessage),o.Tb(1),o.Hc("ngIf",e.isLoading),o.Tb(1),o.Hc("ngIf",!e.isLoading),o.Tb(3),o.dd(o.Nc(9,_)),o.Hc("visible",e.isEditModalOpen)("draggable",!1)("closable",!0),o.Tb(1),o.Hc("ngIf",e.isEditModalOpen&&e.selectedDilosi))},directives:[g.p,P.a,v.b,S.d,O.j,g.u,C.a,f.m,f.p,y.a,Gi],pipes:[g.f,g.d],encapsulation:2,changeDetection:0}),Ji.ctorParameters=()=>[{type:_i},{type:Ai},{type:o.j},{type:u.a},{type:s.b}],Ji.propDecorators={dilosiInfoSaved:[{type:o.D}],diloseisInfoResponse:[{type:o.D}],userInfo:[{type:o.D}],epixeirisiInfo:[{type:o.D}],onlinePaymentsSettingsCompany:[{type:o.D}],isLoading:[{type:o.D}],applicationUrl:[{type:o.D}],reloadData:[{type:o.O}]};const Qi=[{path:"",component:Yi,children:[{path:"",pathMatch:"full",redirectTo:"receipts"},{path:"receipts",component:Xi},{path:"saved",component:Ji}]}];class ie{}ie.\u0275fac=function(i){return new(i||ie)},ie.\u0275mod=o.ec({type:ie}),ie.\u0275inj=o.dc({imports:[[u.g.forChild(Qi)],u.g]});class ee{constructor(i,e,t){this.http=i,this.sanitizer=e,this.toasterSrv=t}transform(i){return this.http.get(i,{responseType:"blob"}).pipe(Object(d.a)(i=>this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(i))),Object(p.a)(i=>function(i,e){let t="";if(i.error instanceof Error&&i.error&&i.error.message||void 0!==i.error&&i.error&&i.error.message)t=`${i.error.message}`;else switch(i.status){case 403:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. \n";break;case 401:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. \n",setTimeout(()=>window.location.reload(),1e3);break;default:t=`\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1 \u03bc\u03b5 \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc ${i.status}, \u03ba\u03b1\u03b9 \u03c0\u03b5\u03c1\u03b9\u03b5\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf: ${void 0!==i.body?i.body.error:void 0!==i.message?i.message:""}`}return e.showError("\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1",`${t}`),Object(n.a)(!1)}(i,this.toasterSrv)))}}ee.\u0275fac=function(i){return new(i||ee)(o.gc(s.b),o.gc(w.b),o.gc(Ai))},ee.\u0275pipe=o.fc({name:"securePlg",type:ee,pure:!0}),ee.ctorParameters=()=>[{type:s.b},{type:w.b},{type:Ai}];const te={align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."};class se{}se.\u0275fac=function(i){return new(i||se)},se.\u0275mod=o.ec({type:se}),se.\u0275inj=o.dc({providers:[{provide:k.a,useValue:te}],imports:[[g.c,f.g,ie,y.d,x.c,S.e,C.b,P.b,v.a,D.b,I.a,k.c,b.c,y.b]]});var oe=t("1kSV"),ne=t("PCNd"),ae=t("zazq"),ce=t("iHy+");function le(i,e){1&i&&o.hc(0,"p-message",2)}function re(i,e){if(1&i&&(o.mc(0,"p-panel",5),o.hc(1,"div",6),o.zc(2,"decodeHtmlString"),o.lc()),2&i){const i=o.yc(2);o.Hc("styleClass","tab-msg mb-3")("toggleable",!0),o.Tb(1),o.Hc("innerHTML",o.Ac(2,3,i.tabMsg),o.ad)}}function de(i,e){if(1&i&&(o.mc(0,"div",3),o.gd(1,re,3,5,"p-panel",4),o.hc(2,"lib-katastimata-ng"),o.lc()),2&i){const i=o.yc();o.Tb(1),o.Hc("ngIf",i.tabMsg)}}class pe{constructor(i){this.oidcSecuritySrv=i,this.onDestroy=new c.a}ngOnInit(){this.oidcSecuritySrv.isAuthenticated$.pipe(Object(m.a)(this.onDestroy)).subscribe(i=>{this.isAuthorized=i,AppConfOptions&&AppConfOptions.katastimata_tab_info&&""!=AppConfOptions.katastimata_tab_info&&(this.tabMsg=AppConfOptions.katastimata_tab_info)})}ngOnDestroy(){this.onDestroy.next(null)}}pe.\u0275fac=function(i){return new(i||pe)(o.gc(ae.e))},pe.\u0275cmp=o.ac({type:pe,selectors:[["app-katastimata"]],decls:2,vars:2,consts:[["severity","warn","text","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd.",4,"ngIf"],["class","card p-2",4,"ngIf"],["severity","warn","text","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd."],[1,"card","p-2"],["header","\u03a0\u03bb\u03b7\u03c1\u03bf\u03c6\u03bf\u03c1\u03af\u03b5\u03c2",3,"styleClass","toggleable",4,"ngIf"],["header","\u03a0\u03bb\u03b7\u03c1\u03bf\u03c6\u03bf\u03c1\u03af\u03b5\u03c2",3,"styleClass","toggleable"],[3,"innerHTML"]],template:function(i,e){1&i&&(o.gd(0,le,1,0,"p-message",0),o.gd(1,de,3,1,"div",1)),2&i&&(o.Hc("ngIf",!e.isAuthorized),o.Tb(1),o.Hc("ngIf",e.isAuthorized))},directives:[g.p,v.b,Yi,D.a],pipes:[ce.a],encapsulation:2});const me=[{path:"",component:pe,children:[{path:"",loadChildren:()=>Promise.resolve().then(t.bind(null,"QHsS")).then(i=>i.PublicLibLoader)}]}];class he{}he.\u0275fac=function(i){return new(i||he)},he.\u0275mod=o.ec({type:he}),he.\u0275inj=o.dc({imports:[[u.g.forChild(me)],u.g]});class fe{}fe.\u0275fac=function(i){return new(i||fe)},fe.\u0275mod=o.ec({type:fe}),fe.\u0275inj=o.dc({imports:[[ne.a,oe.d,he,se]]});class ue{}ue.\u0275fac=function(i){return new(i||ue)},ue.\u0275mod=o.ec({type:ue}),ue.\u0275inj=o.dc({imports:[[se]]})}}]);