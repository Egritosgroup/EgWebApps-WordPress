function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,s=function(){};return{s:s,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,r=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return r=t.done,t},e:function(t){o=!0,i=t},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw i}}}}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var s,n=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return _possibleConstructorReturn(this,s)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,s){return e&&_defineProperties(t.prototype,e),s&&_defineProperties(t,s),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"04IN":function(t,e,s){"use strict";s.r(e),e.default='<div class="benefits-container bg-white">\r\n\t<div style="padding: 30px;">\r\n\t\t<lib-kliseis-ng></lib-kliseis-ng>\r\n\t</div>\r\n</div>\r\n'},UGYw:function(t,e,s){"use strict";s.r(e);var n=s("8Y7J"),i=s("SVse"),r=s("s7LF"),o=s("UONg"),a=s("D5nU"),l=s("2Ifh"),c=s("7vha"),d=s("+yXi"),u=s("ZRSf"),h=s("T7Ec"),p=s("iInd"),m=s("2aIP"),f=s("lJxs"),g=s("JIr8"),b=s("1G5W"),y=s("eIep"),v=s("LRne"),k=s("2Vo4"),I=s("XNiG"),C=s("IheW"),x=s("EApP"),w=function(){function t(e,s){_classCallCheck(this,t),this.oidcSecuritySrv=e,this.router=s}return _createClass(t,[{key:"canActivate",value:function(t,e){var s=this;return this.oidcSecuritySrv.getIsAuthorized().pipe(Object(f.a)((function(t){return!!t||(s.router.navigate(["/add"]),!1)})))}}]),t}();w.decorators=[{type:n.Injectable}],w.ctorParameters=function(){return[{type:m.c},{type:p.d}]};var S={firstDayOfWeek:1,dayNames:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf"],dayNamesShort:["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5\u03c4","\u03a4\u03b5\u03c4","\u03a4\u03c1","\u03a0\u03b5\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03b1\u03b2"],dayNamesMin:["\u039a","\u0394","\u03a4","\u03a4","\u03a0","\u03a0","\u03a3"],monthNames:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],monthNamesShort:["\u0399\u03b1\u03bd","\u03a6\u03b5\u03b2","\u039c\u03ac\u03c1","\u0391\u03c0\u03c1","\u039c\u03ac\u03b9","\u0399\u03bf\u03cd","\u0399\u03bf\u03cd","\u0391\u03cd\u03b3","\u03a3\u03b5\u03c0","\u039f\u03ba\u03c4","\u039d\u03bf\u03ad","\u0394\u03b5\u03ba"],today:"\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1",clear:"\u039a\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"},O="".concat((new Date).getFullYear()-50,":").concat((new Date).getFullYear()+50);function _(t){return t.setHours(t.getHours()-t.getTimezoneOffset()/60),t}function E(t){try{t.detectChanges()}catch(e){}}function P(t){var e=[],s=t.control;return Object.keys(s.controls).forEach((function(t){var n=s.get(t);n instanceof r.FormGroup&&e.push.apply(e,_toConsumableArray(function t(e){var s=[];return Object.keys(e.controls).forEach((function(n){var i=e.get(n);i instanceof r.FormGroup&&s.push.apply(s,_toConsumableArray(t(i)));var o=i.errors;o&&Object.keys(o).forEach((function(t){s.push({control:n,error:t,value:o[t]})}))})),s}(n)));var i=n.errors;i&&Object.keys(i).forEach((function(s){e.push({control:t,error:s,value:i[s]})}))})),e}function A(t){return!!new RegExp("^[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7]{2}[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7 ][0-9]{4}$").test(t)}function R(t){return(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.toUpperCase()).replace("A","\u0391")).replace("B","\u0392")).replace("E","\u0395")).replace("H","\u0397")).replace("I","\u0399")).replace("K","\u039a")).replace("M","\u039c")).replace("N","\u039d")).replace("O","\u039f")).replace("P","\u03a1")).replace("X","\u03a7")).replace("Y","\u03a5")).replace("Z","\u0396")}function M(t){return t&&""!=t.trim().toString()&&(t=function(t){return(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.toUpperCase()).replace("\u0393","")).replace("\u0394","")).replace("\u0398","")).replace("\u039b","")).replace("\u039e","")).replace("\u03a0","")).replace("\u03a3","")).replace("\u03a6","")).replace("\u03a8","")).replace("\u03a9","")).replace("C","")).replace("D","")).replace("F","")).replace("G","")).replace("J","")).replace("L","")).replace("Q","")).replace("R","")).replace("S","")).replace("U","")).replace("V","")).replace("W","")}(t)),t}var F=function(){function t(){_classCallCheck(this,t),this.validator=this.afmValidator()}return _createClass(t,[{key:"validate",value:function(t){return this.validator(t)}},{key:"afmValidator",value:function(){return function(t){return t&&t.value&&!function(t){if(!t||t.length<9)return!1;if("000000000"==t)return!0;t=t.split("").reverse().join("");for(var e=0,s=1;s<=8;s++)if(e+=+t.charAt(s)<<s,isNaN(e))return!1;return e%11%10==+t.charAt(0)}(t.value)?{afmvalidator:{valid:!1}}:null}}}]),t}();F.decorators=[{type:n.Directive,args:[{selector:"[validateAfm]",providers:[{provide:r.NG_VALIDATORS,useExisting:F,multi:!0}]}]}],F.ctorParameters=function(){return[]};var K={apliroti:1,exoflimeni:2,akiri:3,diagrafiDS:4,apoWeb:5,exoflisiWeb:6};K[K.apliroti]="apliroti",K[K.exoflimeni]="exoflimeni",K[K.akiri]="akiri",K[K.diagrafiDS]="diagrafiDS",K[K.apoWeb]="apoWeb",K[K.exoflisiWeb]="exoflisiWeb";var D=function t(){_classCallCheck(this,t),this.arithmosKlisis=null,this.hmerominiaEkdosis=null,this.arithmosKikloforias=null,this.oraEkdosis=null,this.poso=null,this.etos=null,this.isAuthorized=!0,this.debtorName=null,this.tin=null,this.email=null,this.tilefono=null,this.address=null,this.tk=null,this.poli=null,this.isForeign=!1},j=function t(){_classCallCheck(this,t),this.bankTransactionId=null,this.tin=null,this.adt=null,this.debtorName=null,this.address_city=null,this.address_country_code=null,this.address_zip=null,this.address=null,this.email=null,this.phone_number=null},U=function t(){_classCallCheck(this,t),this.remittanceInfo=null,this.amount=null,this.debtorName=null,this.tin=null,this.description=null},T=function t(){_classCallCheck(this,t),this.remittanceInfo=null,this.eponimia=null,this.afm=null,this.dieuthinsi=null,this.tk=null,this.poli=null,this.email=null,this.tilefono=null,this.relatedCallbackUrl=null},N=function t(){_classCallCheck(this,t),this.btId=null,this.returnUrl=null,this.status=null,this.messagecode=null},q={Ok:1,Error:2,Warning:3,UndefinedError:4};q[q.Ok]="Ok",q[q.Error]="Error",q[q.Warning]="Warning",q[q.UndefinedError]="UndefinedError";var L={arithmosKlisis:"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2",arithmosKikloforias:"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2",poso:"\u03a0\u03bf\u03c3\u03cc",etosKlisis:"\u0388\u03c4\u03bf\u03c2 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2",email:"Email",tilefono:"\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf",address:"\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7",tk:"\u03a4.\u039a.",poli:"\u03a0\u03cc\u03bb\u03b7",hmerominiaEkdosis:"\u0397\u03bc. \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2",debtorName:"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1",tin:"\u0391.\u03a6.\u039c."},z=function(){function t(e){_classCallCheck(this,t),this.toastrSrv=e}return _createClass(t,[{key:"show",value:function(t,e,s){e&&this.toastrSrv[s](e,t,{progressBar:!0,onActivateTick:!0})}},{key:"showError",value:function(t,e){this.show(t,e,"error")}},{key:"showInfo",value:function(t,e){this.show(t,e,"info")}},{key:"showSuccess",value:function(t,e){this.show(t,e,"success")}},{key:"showWarning",value:function(t,e){this.show(t,e,"warning")}}]),t}();z.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],z.ctorParameters=function(){return[{type:x.b}]},z.ngInjectableDef=Object(n["\u0275\u0275defineInjectable"])({factory:function(){return new z(Object(n["\u0275\u0275inject"])(x.b))},token:z,providedIn:"root"});var B=function t(e){var s=this;_classCallCheck(this,t),this.toasterSrv=e,this.catchBadResponse=function(t){var e="";if(t.error instanceof Error)e="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ".concat(t.message);else if(void 0!==t.error)e="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ".concat(t.message);else switch(t.status){case 403:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error ".concat(t.status);break;case 401:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n ".concat(t.status);break;default:e="Backend returned code ".concat(t.status,", body was: ").concat(void 0!==t.body?t.body.error:void 0!==t.message?t.message:"")}return s.toasterSrv.showError("","".concat(e)),Object(v.a)(!1)}};B.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],B.ctorParameters=function(){return[{type:z}]},B.ngInjectableDef=Object(n["\u0275\u0275defineInjectable"])({factory:function(){return new B(Object(n["\u0275\u0275inject"])(z))},token:B,providedIn:"root"});var W=function(t){_inherits(s,t);var e=_createSuper(s);function s(t,n){var i;return _classCallCheck(this,s),(i=e.call(this,n,t)).exceptionSrv=t,i.http=n,i.kliseisUrl=i.baseUrl+"/KliseisWeb",i.kliseisFinanceUrl=i.baseUrl+"/Finance",i}return _createClass(s,[{key:"getKliseis",value:function(t){return this.http.get("".concat(this.kliseisUrl,"/GetKliseisWebByAfm/").concat(t)).pipe(Object(f.a)((function(t){return t})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"getKliseisPayed",value:function(t){return this.http.get("".concat(this.kliseisUrl,"/GetKliseisPayedWebByAfm/").concat(t)).pipe(Object(f.a)((function(t){return t})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"getKlisiById",value:function(t){return this.http.get("".concat(this.kliseisUrl,"/GetById/").concat(t)).pipe(Object(f.a)((function(t){return t})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"getStoixeiaKlisisForWebPliromi",value:function(t){return this.http.post("".concat(this.kliseisUrl,"/GetStoixeiaKlisisForWebPliromi/"),t).pipe(Object(f.a)((function(t){return t})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"getStoixeiaKlisisForWebPliromiEtos",value:function(t){return this.http.post("".concat(this.kliseisUrl,"/GetStoixeiaKlisisForWebPliromiEtos/"),t).pipe(Object(f.a)((function(t){return t})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"createKlisiWebAsync",value:function(t){var e=this.kliseisUrl+"/CreateKlisiWebAsync";return this.http.post(e,t).pipe(Object(f.a)((function(t){return t})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"markKlisiWebExoflisi",value:function(t){var e=this.kliseisUrl+"/MarkKlisiWebExoflisi";return this.http.post(e,t).pipe(Object(f.a)((function(t){return t})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"addPaymentRequest",value:function(t){var e=this.financeUrl+"/Banks/AddPaymentRequest";return this.http.post(e,t).pipe(Object(f.a)((function(t){return t})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"getFinancePaymentCallback",value:function(t){return this.http.get("".concat(this.kliseisUrl,"/GetFinancePaymentCallback?btId=").concat(t.btId,"&returnUrl=").concat(t.returnUrl,"&status=").concat(t.status,"&messagecode=").concat(t.messagecode)).pipe(Object(f.a)((function(t){return t})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"fillPaymentRequestDtoNonAuthorized",value:function(t){var e=this.kliseisFinanceUrl+"/FillPaymentRequestDtoNonAuthorized";return this.http.post(e,t).pipe(Object(f.a)((function(t){return t})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"fillPaymentRequestAuthorized",value:function(t){var e=this.kliseisFinanceUrl+"/FillPaymentRequestDtoAuthorized";return this.http.post(e,t).pipe(Object(f.a)((function(t){return t})),Object(g.a)(this.exceptionSrv.catchBadResponse))}}]),s}(function(){return function t(e,s){var n=this;_classCallCheck(this,t),this.http=e,this.exceptionService=s,this.getBaseUrl=function(){return n.baseUrl},AppConfOptions&&AppConfOptions.kliseis_api?(this.baseUrl=AppConfOptions.kliseis_api,this.financeUrl=AppConfOptions.epayments_api):(this.baseUrl="/",this.financeUrl=AppConfOptions.financeApi),this.baseUrl+="api",this.financeUrl+="api"}}());W.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],W.ctorParameters=function(){return[{type:B},{type:C.b}]},W.ngInjectableDef=Object(n["\u0275\u0275defineInjectable"])({factory:function(){return new W(Object(n["\u0275\u0275inject"])(B),Object(n["\u0275\u0275inject"])(C.b))},token:W,providedIn:"root"});var V=function(){function t(e){_classCallCheck(this,t),this.http=e,this.isAuthorizedSubject=new k.a(null),this.isAuthorized$=this.isAuthorizedSubject.asObservable(),this.userInfoSubject=new k.a(null),this.userInfo$=this.userInfoSubject.asObservable(),this.applicationOptionsSubject=new k.a(null),this.applicationOptions$=this.applicationOptionsSubject.asObservable(),this.customerSpecificOptionsSubject=new k.a(null),this.customerSpecificOptions$=this.customerSpecificOptionsSubject.asObservable(),this.pluginCustomerSpecificOptionsSubject=new k.a(null),this.pluginCustomerSpecificOptions$=this.pluginCustomerSpecificOptionsSubject.asObservable(),AppConfOptions&&AppConfOptions.kliseis_api?this.baseUrl=AppConfOptions.kliseis_api:this.baseUrl="/",this.baseUrl+="api",this.egOnInit()}return _createClass(t,[{key:"egOnInit",value:function(){var t=this;this.isAuthorized$.subscribe((function(e){t.isAuthorized=e})),this.userInfo$.subscribe((function(e){t.userInfo=e})),this.applicationOptions$.subscribe((function(e){t.applicationOptions=e})),this.customerSpecificOptions$.subscribe((function(e){t.applicationOptions=e})),this.pluginCustomerSpecificOptions$.subscribe((function(e){t.applicationOptions=e}))}},{key:"initIsAuthorized",value:function(){if(!this.isAuthorized)for(var t,e=0;e<window.localStorage.length;e++){var s=window.localStorage.key(e);"_isAuthorized"===s.slice(0,13)&&(t=JSON.parse(window.localStorage.getItem(s)),this.isAuthorizedSubject.next(t))}}},{key:"initUserInfo",value:function(){if(!this.userInfo)for(var t=null,e=0;e<window.localStorage.length;e++){var s=window.localStorage.key(e);"userData"===s.slice(0,8)&&(t=JSON.parse(window.localStorage.getItem(s)),this.userInfoSubject.next({email:t.email,username:t.given_name,tin:t.tin,family_name:t.family_name,given_name:t.given_name,fathers_name:t.fathers_name,mothers_name:t.mothers_name,name:t.name,address_city:t.address_city,address_country_code:t.address_country_code,address_zip:t.address_zip,address:t.address,adt:t.adt,phone_number:t.phone_number}))}}},{key:"iniApplicationOptions",value:function(){var t=this;if(!this.applicationOptions){var e=this.baseUrl+"/Configurations/GetAllOptions";this.http.get(e).subscribe((function(e){e&&t.applicationOptionsSubject.next(e)}))}}},{key:"initCustomerSpecificOptions",value:function(){var t=this;if(!this.customerSpecificOptions){var e=this.baseUrl+"/Configurations/GetCustomerSpecificOptions";this.http.get(e).subscribe((function(e){e&&t.customerSpecificOptionsSubject.next(e)}))}}},{key:"initPluginCustomerSpecificOptions",value:function(){var t=this;if(!this.pluginCustomerSpecificOptions){var e=this.baseUrl+"/Configurations/GetPluginCustomerSpecificOptions";this.http.get(e).subscribe((function(e){e&&t.pluginCustomerSpecificOptionsSubject.next(e)}))}}}]),t}();V.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],V.ctorParameters=function(){return[{type:C.b}]},V.ngInjectableDef=Object(n["\u0275\u0275defineInjectable"])({factory:function(){return new V(Object(n["\u0275\u0275inject"])(C.b))},token:V,providedIn:"root"});var $=function(){function t(e,s,i,r){_classCallCheck(this,t),this.kliseisNgSrv=e,this.pluginCacheSrv=s,this.toasterSrv=i,this.cdr=r,this.klisiAdded=new n.EventEmitter,this.payKlisi=new n.EventEmitter,this.onDestroy=new I.a,this.today=new Date,this.thisYear=this.today.getFullYear(),this.locale=S,this.yearRange=O,this.isLoading=!1,this.isLoadingResponse=!1,this.isFormSubmitted=!1,this.saveFailed=!1,this.showEtos="False",this.isFormValid=!0,this.formDictionaryEnum=L}return _createClass(t,[{key:"ngOnChanges",value:function(t){t&&t.isLoadingPaymentRequest&&(this.isLoadingPaymentRequest=t.isLoadingPaymentRequest.currentValue,E(this.cdr))}},{key:"ngOnInit",value:function(){var t=this;this.model=new D,this.userInfo.address&&(this.model.address=this.userInfo.address),this.userInfo.address_city&&(this.model.poli=this.userInfo.address_city),this.userInfo.address_zip&&(this.model.tk=this.userInfo.address_zip),this.userInfo.phone_number&&(this.model.tilefono=this.userInfo.phone_number),this.userInfo.email&&(this.model.email=this.userInfo.email),E(this.cdr),this.pluginCacheSrv.initPluginCustomerSpecificOptions(),this.pluginCacheSrv.pluginCustomerSpecificOptions$.pipe(Object(b.a)(this.onDestroy)).subscribe((function(e){e&&(t.customerSpecificOptions=e[0].configurationOptions,t.customerSpecificOptions.some((function(t){return"PluginCustomerSpecificOptions:EtosKlisis"==t.id}))&&"True"==t.customerSpecificOptions.filter((function(t){return"PluginCustomerSpecificOptions:EtosKlisis"==t.id}))[0].value?t.showEtos="True":t.showEtos="False"),t.cdr.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"onAnazitisi",value:function(){var t=this;this.isFormSubmitted=!0,this.response=null,this.isFormValid=!0,this.formErrors=null,this.formErrorsMsg="";var e,s="";if(!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias?""!=(e=M(e=R(this.model.arithmosKikloforias)).toUpperCase())&&0==A(e)?(this.toasterSrv.showWarning("","\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000)"),this.isFormValid=!1):this.model.arithmosKikloforias&&this.model.arithmosKikloforias!=e&&(this.isFormValid=!0):this.isFormValid=!0,(!this.etosKlisis&&!this.model.hmerominiaEkdosis||this.model.hmerominiaEkdosis>new Date)&&(this.isFormValid=!1),this.etosKlisis&&+this.etosKlisis<=+this.thisYear?this.model.hmerominiaEkdosis=new Date(this.etosKlisis+"-01-01"):this.etosKlisis&&+this.etosKlisis>+this.thisYear&&(s="<li>\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf "+this.thisYear+".</li>"),E(this.cdr),this.isFormSubmitted&&this.isFormValid)this.isLoadingResponse=!0,this.model.etos=+this.model.hmerominiaEkdosis.getFullYear(),this.model.arithmosKikloforias&&e&&this.model.arithmosKikloforias!=e&&(this.model.arithmosKikloforias=e),E(this.cdr),this.kliseisNgSrv.getStoixeiaKlisisForWebPliromiEtos(this.model).subscribe((function(e){e&&(t.response=e,t.response&&t.response.poso&&0!=t.response.klisiId&&(t.model.poso=t.response.poso),t.isLoadingResponse=!1,E(t.cdr))}));else{if(this.formErrors=P(this.f),this.formErrors||!this.isFormValid){if(this.formErrorsMsg="<ul>",this.formErrors&&this.formErrors.forEach((function(e){var s;"required"==e.error?s="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?s="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==e.error&&(s="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),t.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+t.formDictionaryEnum[e.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+s+"</li>"})),this.etosKlisis||this.model.hmerominiaEkdosis||(this.formErrorsMsg+="<li>\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03b5\u03af\u03c4\u03b5 \u03c4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03c4\u03b5 \u03c4\u03b7\u03bd \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2.</li>"),!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias){var n=R(this.model.arithmosKikloforias);""!=(n=M(e).toUpperCase())&&0==A(n)&&(this.formErrorsMsg+="<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000).</li>")}this.formErrorsMsg+=s,this.formErrorsMsg+="<ul>"}E(this.cdr)}}},{key:"onCancelKlisiClicked",value:function(){this.isFormSubmitted=!1,this.response?this.response=null:this.klisiAdded.emit(null),E(this.cdr)}},{key:"onPliromiClicked",value:function(){var t=this;this.isLoadingResponse=!0,this.paymentRequestDto={tinRelated:this.userInfo.tin,entries:[],billingAddressCity:this.userInfo.address_city?this.userInfo.address_city:this.model.poli,billingAddressCountryCode:this.userInfo.address_country_code?this.userInfo.address_country_code:"GR",billingAddressZip:this.userInfo.address_zip?this.userInfo.address_zip:this.model.tk,billingAddress:this.userInfo.address?this.userInfo.address:this.model.address,userEmail:this.userInfo.email?this.userInfo.email:this.model.email,userPhone:this.userInfo.phone_number?this.userInfo.phone_number:this.model.tilefono};var e=new U;if(e.tin=this.userInfo.tin,e.amount=this.model.poso,e.debtorName=this.userInfo.given_name+" "+this.userInfo.family_name,e.description="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2: "+this.model.arithmosKlisis.toString()+", \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2: "+this.model.arithmosKikloforias+", \u0397\u03bc\u03b5\u03c1/\u03bd\u03b9\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2: "+_(this.model.hmerominiaEkdosis),E(this.cdr),this.response&&0==this.response.klisiId){this.saveFailed=!1;var s=this.model.oraEkdosis?this.model.oraEkdosis.getHours()+":"+this.model.oraEkdosis.getMinutes():null;this.createKlisi={hmerominiaEkdosis:_(this.model.hmerominiaEkdosis),oraEkdosis:s?s.toString():null,arithmosKikloforias:this.model.arithmosKikloforias,arithmosKlisis:this.model.arithmosKlisis,pliroteoPoso:this.model.poso,eponimia:this.userInfo.given_name+" "+this.userInfo.family_name,eponimo:this.userInfo.family_name,patronimo:this.userInfo.fathers_name,mitronimo:this.userInfo.mothers_name,onoma:this.userInfo.given_name,afm:this.userInfo.tin,odos:this.userInfo.address?this.userInfo.address:this.model.address,poli:this.userInfo.address_city?this.userInfo.address_city:this.model.poli,tk:this.userInfo.address_zip?this.userInfo.address_zip:this.model.tk,adt:this.userInfo.adt,tilefono:this.userInfo.phone_number?this.userInfo.phone_number:this.model.tilefono,email:this.userInfo.email?this.userInfo.email:this.model.email},this.kliseisNgSrv.createKlisiWebAsync(this.createKlisi).subscribe((function(s){s?(e.remittanceInfo=s.remittanceInfo,t.paymentRequestDto.entries=[],t.paymentRequestDto.entries.push(e),t.payKlisi.emit(t.paymentRequestDto)):(t.saveFailed=!0,E(t.cdr)),t.isLoadingResponse=!1,E(t.cdr)}))}else 0!=this.response.klisiId&&(e.remittanceInfo=this.response.remittanceInfo,this.paymentRequestDto.entries=[],this.paymentRequestDto.entries.push(e),this.isLoadingResponse=!1,E(this.cdr),this.payKlisi.emit(this.paymentRequestDto))}},{key:"_getErrorReason",value:function(){return this.model.hmerominiaEkdosis>=new Date?"\u0397 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03ba\u03b1\u03b9 \u03b7 \u03ce\u03c1\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c0\u03c1\u03bf\u03b3\u03b5\u03bd\u03ad\u03c3\u03c4\u03b5\u03c1\u03b5\u03c2.":this.model.arithmosKikloforias?this.model.arithmosKlisis?this.model.poso<=0?"\u03a4\u03bf \u03c0\u03bf\u03c3\u03cc \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf.":"":"\u039f \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2 \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2.":"\u039f \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2."}}]),t}();$.decorators=[{type:n.Component,args:[{selector:"lib-kliseis-add-new",template:'<div *ngIf="isLoading"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 300px">\r\n\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n</div>\r\n\r\n<form *ngIf="!isLoading"\r\n\t\tclass="form"\r\n\t\t#f="ngForm">\r\n\t<div class="row">\r\n\t\t<div class="form-group col-12 d-inline-flex align-items-start">\r\n\t\t\t<p-checkbox name="isForeign"\r\n\t\t\t\t\t\t\t#isForeign="ngModel"\r\n\t\t\t\t\t\t\tvalue="\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2"\r\n\t\t\t\t\t\t\tlabel="\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2"\r\n\t\t\t\t\t\t\t[(ngModel)]="model.isForeign"\r\n\t\t\t\t\t\t\tbinary="true"\r\n\t\t\t\t\t\t\t[readonly]="response"></p-checkbox>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="row">\r\n\t\t<div class="form-group col-12 col-sm-6">\r\n\t\t\t<label>\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2*</label>\r\n\t\t\t<input type="text"\r\n\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t name="arithmosKlisis"\r\n\t\t\t\t\t placeholder="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"\r\n\t\t\t\t\t [(ngModel)]="model.arithmosKlisis"\r\n\t\t\t\t\t #arithmosKlisisInput="ngModel"\r\n\t\t\t\t\t pattern="([0-9]{1,12})"\r\n\t\t\t\t\t maxlength="12"\r\n\t\t\t\t\t autocomplete="nope"\r\n\t\t\t\t\t required\r\n\t\t\t\t\t [readonly]="response" />\r\n\t\t\t<div [hidden]="!isFormSubmitted || (isFormSubmitted && arithmosKlisisInput.valid)"\r\n\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t*\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03ad\u03c0\u03bf\u03bd\u03c4\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03bc\u03ad\u03c7\u03c1\u03b9 12 \u03b1\u03c1\u03b9\u03b8\u03bc\u03bf\u03af.\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="form-group col-12 col-sm-6">\r\n\t\t\t<label>\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2*</label>\r\n\t\t\t<input type="text"\r\n\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t style="text-transform: uppercase;"\r\n\t\t\t\t\t name="arithmosKikloforias"\r\n\t\t\t\t\t #arithmosKikloforiasInput="ngModel"\r\n\t\t\t\t\t placeholder="\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"\r\n\t\t\t\t\t [(ngModel)]="model.arithmosKikloforias"\r\n\t\t\t\t\t autocomplete="nope"\r\n\t\t\t\t\t required\r\n\t\t\t\t\t [readonly]="response" />\r\n\t\t\t<div [hidden]="!isFormSubmitted || (isFormSubmitted && arithmosKikloforiasInput.valid)"\r\n\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t*\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="row">\r\n\t\t<div class="form-group col-12 col-sm-6">\r\n\t\t\t<label>\u0397\u03bc. \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2<span *ngIf="!showEtos || showEtos == \'False\'">*</span></label>\r\n\t\t\t<p-calendar [locale]="locale"\r\n\t\t\t\t\t\t\tdateFormat="dd/mm/yy"\r\n\t\t\t\t\t\t\tplaceholder="\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7"\r\n\t\t\t\t\t\t\t[maxDate]="today"\r\n\t\t\t\t\t\t\t[monthNavigator]="true"\r\n\t\t\t\t\t\t\t[yearNavigator]="true"\r\n\t\t\t\t\t\t\t[yearRange]="yearRange"\r\n\t\t\t\t\t\t\tname="hmerominiaEkdosis"\r\n\t\t\t\t\t\t\t[style]="{ width: \'100%\' }"\r\n\t\t\t\t\t\t\t[showIcon]="true"\r\n\t\t\t\t\t\t\t[showButtonBar]="true"\r\n\t\t\t\t\t\t\t[showTime]="false"\r\n\t\t\t\t\t\t\t[(ngModel)]="model.hmerominiaEkdosis"\r\n\t\t\t\t\t\t\t[required]="!showEtos || showEtos == \'False\'"\r\n\t\t\t\t\t\t\t[disabled]="(etosKlisis && etosKlisis != \'\') || response || isFormSubmitted">\r\n\t\t\t</p-calendar>\r\n\t\t</div>\r\n\t\t<div class="form-group col-12 col-sm-6">\r\n\t\t\t<label>\u038f\u03c1\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2</label>\r\n\t\t\t<p-calendar [locale]="locale"\r\n\t\t\t\t\t\t\t[timeOnly]="true"\r\n\t\t\t\t\t\t\tname="oraEkdosis"\r\n\t\t\t\t\t\t\tplaceholder="\u03a9\u03a9:\u039b\u039b"\r\n\t\t\t\t\t\t\t[style]="{ width: \'100%\' }"\r\n\t\t\t\t\t\t\thourFormat="24"\r\n\t\t\t\t\t\t\t[showIcon]="true"\r\n\t\t\t\t\t\t\t[(ngModel)]="model.oraEkdosis"\r\n\t\t\t\t\t\t\t[disabled]="(etosKlisis && etosKlisis != \'\') || response || isFormSubmitted">\r\n\t\t\t</p-calendar>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div *ngIf="showEtos && showEtos == \'True\'"\r\n\t\t  class="row">\r\n\t\t<div class="col-12">\r\n\t\t\t<span class="alert alert-info w-100 d-block mt-2 mb-1"\r\n\t\t\t\t\tstyle="white-space: normal;">\r\n\t\t\t\t<i class="fas fa-exclamation-circle fa-fw"></i> \u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03bc\u03b7 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1\u03c2\r\n\t\t\t\t\u03c3\u03c5\u03bc\u03c0\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7\u03c2 \u03b1\u03ba\u03c1\u03b9\u03b2\u03bf\u03cd\u03c2 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1\u03c2 & \u03ce\u03c1\u03b1\u03c2\r\n\t\t\t\t\u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03c4\u03b5 \u03c4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2.</span>\r\n\t\t\t<label>\u0388\u03c4\u03bf\u03c2</label>\r\n\t\t\t<input type="text"\r\n\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t name="etosKlisis"\r\n\t\t\t\t\t #etosKlisisInput="ngModel"\r\n\t\t\t\t\t [(ngModel)]="etosKlisis"\r\n\t\t\t\t\t placeholder="\u0388\u03c4\u03bf\u03c2"\r\n\t\t\t\t\t pattern="([0-9]{4})$"\r\n\t\t\t\t\t [readonly]="model.hmerominiaEkdosis || response" />\r\n\t\t\t<div [hidden]="!isFormSubmitted || !etosKlisis || (isFormSubmitted && etosKlisis && etosKlisisInput.valid)"\r\n\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 \u03a7\u03a7\u03a7\u03a7 \u03cc\u03c0\u03bf\u03c5 \u03a7 \u03bc\u03cc\u03bd\u03bf \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bc\u03b9\u03ba\u03c1\u03cc\u03c4\u03b5\u03c1\u03bf \u03ae \u03af\u03c3\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf {{ thisYear }}.\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<ng-container *ngIf="response && response.canPay">\r\n\t\t<div class="row">\r\n\t\t\t<div class="form-group col-12">\r\n\t\t\t\t<label>\u03a0\u03bf\u03c3\u03cc*</label>\r\n\t\t\t\t<input type="text"\r\n\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t name="poso"\r\n\t\t\t\t\t\t placeholder="0,01"\r\n\t\t\t\t\t\t #posoInput="ngModel"\r\n\t\t\t\t\t\t [(ngModel)]="model.poso"\r\n\t\t\t\t\t\t currencyMask\r\n\t\t\t\t\t\t lang="el-GR"\r\n\t\t\t\t\t\t required\r\n\t\t\t\t\t\t [readonly]="response.klisiId != 0" />\r\n\t\t\t\t<div [hidden]="!isFormSubmitted || (isFormSubmitted && model.poso && model.poso > 0)"\r\n\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t*\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03bc\u03b5 \u03bc\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03cc \u03c0\u03bf\u03c3\u03cc.\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div *ngIf="!response.hasEmail || response.hasTilefono"\r\n\t\t\t  class="row">\r\n\t\t\t<div *ngIf="!response.hasEmail"\r\n\t\t\t\t  class="col-12"\r\n\t\t\t\t  [ngClass]="response.hasTilefono ? \'col-md-12\' : \'col-md-6\'">\r\n\t\t\t\t<label>Email*</label>\r\n\t\t\t\t<input type="email"\r\n\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t name="email"\r\n\t\t\t\t\t\t #emailInput="ngModel"\r\n\t\t\t\t\t\t [(ngModel)]="model.email"\r\n\t\t\t\t\t\t placeholder="Email"\r\n\t\t\t\t\t\t required\r\n\t\t\t\t\t\t [readonly]="response.hasEmail && model.email" />\r\n\t\t\t\t<div [hidden]="!isFormSubmitted || (isFormSubmitted && emailInput.valid)"\r\n\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div *ngIf="!response.hasTilefono"\r\n\t\t\t\t  class="col-12"\r\n\t\t\t\t  [ngClass]="response.hasEmail ? \'col-md-12\' : \'col-md-6\'">\r\n\t\t\t\t<label>\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf*</label>\r\n\t\t\t\t<input type="text"\r\n\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t name="tilefono"\r\n\t\t\t\t\t\t #tilefonoInput="ngModel"\r\n\t\t\t\t\t\t [(ngModel)]="model.tilefono"\r\n\t\t\t\t\t\t placeholder="69XXXXXXXX"\r\n\t\t\t\t\t\t pattern="^69([0-9]{8})$"\r\n\t\t\t\t\t\t required\r\n\t\t\t\t\t\t [readonly]="response.hasTilefono && model.tilefono" />\r\n\t\t\t\t<div [hidden]="!isFormSubmitted || (isFormSubmitted && tilefonoInput.valid)"\r\n\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t*\u03a4\u03bf \u03ba\u03b9\u03bd\u03b7\u03c4\u03cc \u03c4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03ad\u03c7\u03b5\u03b9 10 \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 69\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7.\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div *ngIf="!response.hasDieuthinsi"\r\n\t\t\t  class="row">\r\n\t\t\t<div class="col-12 col-md-7">\r\n\t\t\t\t<label>\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7*</label>\r\n\t\t\t\t<input type="text"\r\n\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t name="address"\r\n\t\t\t\t\t\t #addressInput="ngModel"\r\n\t\t\t\t\t\t [(ngModel)]="model.address"\r\n\t\t\t\t\t\t placeholder="\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7"\r\n\t\t\t\t\t\t required\r\n\t\t\t\t\t\t [readonly]="response.hasDieuthinsi && model.address" />\r\n\t\t\t\t<div [hidden]="!isFormSubmitted || (isFormSubmitted && addressInput.valid)"\r\n\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-12 col-md-5">\r\n\t\t\t\t<label>\u03a4.\u039a.*</label>\r\n\t\t\t\t<input type="text"\r\n\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t name="tk"\r\n\t\t\t\t\t\t #tkInput="ngModel"\r\n\t\t\t\t\t\t [(ngModel)]="model.tk"\r\n\t\t\t\t\t\t placeholder="\u03a4.\u039a."\r\n\t\t\t\t\t\t required\r\n\t\t\t\t\t\t [readonly]="response.hasDieuthinsi && model.tk" />\r\n\t\t\t\t<div [hidden]="!isFormSubmitted || (isFormSubmitted && tkInput.valid)"\r\n\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div *ngIf="!response.hasDieuthinsi"\r\n\t\t\t  class="row">\r\n\t\t\t<div class="col-12">\r\n\t\t\t\t<label>\u03a0\u03cc\u03bb\u03b7*</label>\r\n\t\t\t\t<input type="text"\r\n\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t name="poli"\r\n\t\t\t\t\t\t #poliInput="ngModel"\r\n\t\t\t\t\t\t [(ngModel)]="model.poli"\r\n\t\t\t\t\t\t placeholder="\u03a0\u03cc\u03bb\u03b7"\r\n\t\t\t\t\t\t required\r\n\t\t\t\t\t\t [readonly]="response.hasDieuthinsi && model.poli" />\r\n\t\t\t\t<div [hidden]="!isFormSubmitted || (isFormSubmitted && poliInput.valid)"\r\n\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</ng-container>\r\n\r\n\t<div class="form-actions row justify-content-center pb-0">\r\n\t\t<button *ngIf="!isFormSubmitted || !response"\r\n\t\t\t\t  (click)="onAnazitisi()"\r\n\t\t\t\t  type="button"\r\n\t\t\t\t  class="btn btn-primary mr-1"><i class="fas fa-search fa-fw"\r\n\t\t\t\taria-hidden="true"></i> \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7</button>\r\n\t\t<button *ngIf="isFormSubmitted && response && response.canPay"\r\n\t\t\t\t  (click)="onPliromiClicked()"\r\n\t\t\t\t  type="button"\r\n\t\t\t\t  class="btn btn-primary mr-1"><i class="fas fa-money-check fa-fw"\r\n\t\t\t\taria-hidden="true"></i> \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae</button>\r\n\t\t<button (click)="onCancelKlisiClicked()"\r\n\t\t\t\t  type="button"\r\n\t\t\t\t  class="btn btn-warning"><i class="fas fa-times fa-fw"\r\n\t\t\t\taria-hidden="true"></i> \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7</button>\r\n\t</div>\r\n\t<div *ngIf="formErrorsMsg && formErrorsMsg != \'\'"\r\n\t\t  class="alert alert-danger form-msgs"\r\n\t\t  [innerHTML]="formErrorsMsg"></div>\r\n\r\n\t<div *ngIf="isLoadingResponse || isLoadingPaymentRequest"\r\n\t\t  class="bg-white"\r\n\t\t  style="width: 100%; height: 50px;">\r\n\t\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\r\n\t\t\t<i class="fas fa-circle-notch fa-2x fa-pulse"></i>\r\n\t\t</span>\r\n\t</div>\r\n\r\n\t<div *ngIf="response && !isLoadingResponse && response.messageResponse && response.messageResponse != \'\'"\r\n\t\t  class="alert alert-danger form-msgs"\r\n\t\t  [innerHTML]="response.messageResponse"></div>\r\n\r\n\t<div *ngIf="saveFailed"\r\n\t\t  class="alert alert-danger form-msgs">\r\n\t\t\u0397 \u03b1\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7 \u03c4\u03b7\u03c2 \u03b1\u03af\u03c4\u03b7\u03c3\u03b7\u03c2 \u03b1\u03c0\u03ad\u03c4\u03c5\u03c7\u03b5.</div>\r\n</form>',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],$.ctorParameters=function(){return[{type:W},{type:V},{type:z},{type:n.ChangeDetectorRef}]},$.propDecorators={f:[{type:n.ViewChild,args:["f",{static:!1}]}],userInfo:[{type:n.Input}],isLoadingPaymentRequest:[{type:n.Input}],klisiAdded:[{type:n.Output}],payKlisi:[{type:n.Output}]};var G=function(){function t(e,s){_classCallCheck(this,t),this.kliseisNgSrv=e,this.cdr=s,this.payKliseis=new n.EventEmitter,this.model=[],this.checkAll=!1,this.isLoading=!0,this.sumPliromis=0,this.sumPliroteoPoso=0,this.sumPosoKlisis=0,this.checkedKliseis=0}return _createClass(t,[{key:"ngOnInit",value:function(){this._loadData()}},{key:"_loadData",value:function(){var t=this;this.isLoading=!0,this.kliseisNgSrv.getKliseis(this.userInfo.tin).subscribe((function(e){e&&(t.model=e,t.model.forEach((function(e){e.cannotPayReason?e.cannotPayReason=e.cannotPayReason:e.cannotPayReason="",e.canCheck=!0,e.afm?e.afm=e.afm:e.afm=t.userInfo.tin,t.sumPosoKlisis+=e.pliroteoPoso,t.sumPliroteoPoso+=e.ofeilisPoso?e.ofeilisPoso:0,e.afm!=t.userInfo.tin&&(e.cannotPayReason+="<br/>\u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03c3\u03b5 \u0391.\u03a6.\u039c. \u03b4\u03b9\u03b1\u03c6\u03bf\u03c1\u03b5\u03c4\u03b9\u03ba\u03cc \u03b1\u03c0\u03cc \u03c4\u03bf \u03b4\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2, \u03c3\u03b5 \u03c7\u03c1\u03bf\u03bd\u03b9\u03ba\u03ae \u03c3\u03c4\u03b9\u03b3\u03bc\u03ae \u03cc\u03c0\u03bf\u03c5 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c3\u03c4\u03b5 \u03c9\u03c2 \u03ba\u03ac\u03c4\u03bf\u03c7\u03bf\u03c2 \u03c4\u03bf\u03c5 \u03bf\u03c7\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2.")}))),t.isLoading=!1,E(t.cdr)})),E(this.cdr)}},{key:"_calculatePosa",value:function(){var t=this;this.sumPliromis=0,this.checkedKliseis=0,this.checkedKliseis=this.model.filter((function(t){return t.isChecked})).length,this.model.filter((function(t){return t.isChecked})).forEach((function(e){t.sumPliromis+=e.ofeilisPoso?e.ofeilisPoso:0})),E(this.cdr)}},{key:"onCheckAllKliseisClicked",value:function(){var t=this;this.model.forEach((function(e){e.isChecked=t.checkAll})),E(this.cdr),this._calculatePosa()}},{key:"onCheckKlisiClicked",value:function(t){var e;this.model.some((function(t){return t.isChecked}))&&(e=this.model.find((function(t){return t.isChecked})).afm),e?(e=t.afm,this.model.forEach((function(t){t.afm!=e?t.canCheck=!1:t.canCheck=!0}))):this.model.forEach((function(t){t.canCheck=!0})),E(this.cdr),this._calculatePosa()}},{key:"onPayClicked",value:function(){var t,e=this,s={tinRelated:this.userInfo.tin,entries:[],billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number},n=[],i=_createForOfIteratorHelper(this.model.filter((function(t){return t.isChecked})));try{for(i.s();!(t=i.n()).done;){var r=t.value;n=[].concat(_toConsumableArray(n),[this._createRemittanceInfo(r)])}}catch(o){i.e(o)}finally{i.f()}this.kliseisNgSrv.fillPaymentRequestAuthorized(n).subscribe((function(t){t&&(t.forEach((function(t){var n=e.model.find((function(s){return e._createRemittanceInfo(s)==t.remittanceInfo}));if(n&&t.amount&&t.amount>0){var i={remittanceInfo:t.remittanceInfo,amount:t.amount,debtorName:e.userInfo.given_name+" "+e.userInfo.family_name,tin:e.userInfo.tin,description:e._createDescription(n)};s.entries.push(i)}})),E(e.cdr),e.payKliseis.emit(s))}))}},{key:"_createRemittanceInfo",value:function(t){return t.remittanceInfo}},{key:"_createDescription",value:function(t){return"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2: "+t.arithmosKlisis.toString()+", \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2: "+t.arithmosKikloforias+", \u0397\u03bc\u03b5\u03c1/\u03bd\u03b9\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2: "+t.hmerominiaEkdosis}}]),t}();G.decorators=[{type:n.Component,args:[{selector:"app-kliseis-debits",template:'<div *ngIf="!model || isLoading"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 300px">\r\n\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n</div>\r\n\r\n<div *ngIf="model && model.length === 0 && !isLoading"\r\n\t  class="d-flex w-100 justify-content-center">\r\n\t<p class="alert alert-warning mt-2 p-1">\r\n\t\t\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2.\r\n\t</p>\r\n</div>\r\n\r\n<ng-container *ngIf="model && model.length > 0 && !isLoading">\r\n\t<div *ngIf="checkedKliseis && checkedKliseis == 0"\r\n\t\t  class="d-flex w-100 mb-1">\r\n\t\t<div class="justify-content-center w-100">\r\n\t\t\t<p class="text-center mx-0 px-2">\r\n\t\t\t\t\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ad\u03c2 \u03c4\u03b9\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c0\u03bf\u03c5 \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03b5\u03be\u03bf\u03c6\u03bb\u03ae\u03c3\u03b5\u03c4\u03b5 \u03b1\u03c0\u03cc \u03c4\u03b7\u03bd \u03c0\u03b1\u03c1\u03b1\u03ba\u03ac\u03c4\u03c9 \u03bb\u03af\u03c3\u03c4\u03b1.<br />\r\n\t\t\t\t\u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03b8\u03c5\u03bc\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03b1 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b4\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03c3\u03c4\u03b7 \u03bb\u03af\u03c3\u03c4\u03b1, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03c0\u03b9\u03ad\u03c3\u03c4\u03b5\r\n\t\t\t\t"\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u039d\u03ad\u03b1\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2".\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div *ngIf="errorMessageProfile"\r\n\t\t  class="screen-msg">\r\n\t\t<p>{{ errorMessageProfile }}</p>\r\n\t</div>\r\n\r\n\t<div class="debits-info d-flex flex-wrap justify-content-around w-100 align-items-center pb-1 mb-1 border-bottom border-light"\r\n\t\t  *ngIf="checkedKliseis && checkedKliseis > 0">\r\n\t\t<div>\r\n\t\t\t<p>\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 <span class="totalPoso">{{ checkedKliseis }}\r\n\t\t\t\t\t{{ checkedKliseis === 1 ? \'\u03ba\u03bb\u03ae\u03c3\u03b7\' : \'\u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2\' }}</span></p>\r\n\t\t\t<p class="text-right">\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: <span\r\n\t\t\t\t\t\tclass="totalPoso">{{ sumPliromis | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</span></p>\r\n\t\t</div>\r\n\r\n\t\t<div class="d-flex flex-wrap align-items-center justify-content-center">\r\n\t\t\t<button id="btnPayDebits"\r\n\t\t\t\t\t  class="paymentBtn btn btn-primary btn-md mb-0 mr-1"\r\n\t\t\t\t\t  type="button"\r\n\t\t\t\t\t  (click)="onPayClicked()"><i class="fas fa-money-check fa-fw"\r\n\t\t\t\t\taria-hidden="true"></i> \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd</button>\r\n\t\t</div>\r\n\r\n\t\t<div class="d-flex align-items-center justify-content-between">\r\n\t\t\t<img src="{{ assetsUrl }}images/Visa.jpg"\r\n\t\t\t\t  alt="Visa"\r\n\t\t\t\t  width="40"\r\n\t\t\t\t  class="mr-1" />\r\n\t\t\t<img src="{{ assetsUrl }}images/Mastercard.jpg"\r\n\t\t\t\t  alt="Mastercard"\r\n\t\t\t\t  width="40"\r\n\t\t\t\t  class="mr-1" />\r\n\t\t\t<img src="{{ assetsUrl }}images/Maestro.jpg"\r\n\t\t\t\t  alt="Maestro"\r\n\t\t\t\t  width="40" />\r\n\t\t</div>\r\n\t\t<div class="w-100 mt-3 badge badge-info"><small>*\u0398\u03b1 \u03b8\u03ad\u03bb\u03b1\u03bc\u03b5 \u03bd\u03b1 \u03c3\u03b1\u03c2 \u03b5\u03bd\u03b7\u03bc\u03b5\u03c1\u03ce\u03c3\u03bf\u03c5\u03bc\u03b5 \u03c0\u03c9\u03c2 \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1\r\n\t\t\t\t\u03b5\u03be\u03bf\u03c6\u03bb\u03ae\u03c3\u03b5\u03c4\u03b5\r\n\t\t\t\t\u03c4\u03b1\u03c5\u03c4\u03cc\u03c7\u03c1\u03bf\u03bd\u03b1 \u03bc\u03cc\u03bd\u03bf\r\n\t\t\t\t\u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c0\u03bf\u03c5 \u03ad\u03c7\u03bf\u03c5\u03bd \u03c7\u03c1\u03b5\u03c9\u03b8\u03b5\u03af \u03c3\u03c4\u03bf \u03af\u03b4\u03b9\u03bf \u0391.\u03a6.\u039c.</small></div>\r\n\t</div>\r\n\r\n\t<legend class="d-flex flex-wrap mb-1"\r\n\t\t\t  style="font-size: 14px;">\r\n\t\t<span class="mr-1"><i class="fas fa-stop-circle fa-fw apliroti"></i> \u0391\u03a0\u039b\u0397\u03a1\u03a9\u03a4\u0397</span>\r\n\t\t<span class="mr-1"><i class="fas fa-stop-circle fa-fw kataxorisi_web"></i> \u039a\u0391\u03a4\u0391\u03a7\u03a9\u03a1\u0397\u03a3\u0397 \u0391\u03a0\u039f WEB</span>\r\n\t</legend>\r\n\r\n\t<p-table [value]="model"\r\n\t\t\t\t[autoLayout]="true"\r\n\t\t\t\t[responsive]="true"\r\n\t\t\t\t[scrollable]="true"\r\n\t\t\t\t[lazy]="false"\r\n\t\t\t\t[paginator]="true"\r\n\t\t\t\t[alwaysShowPaginator]="false"\r\n\t\t\t\t[rows]="10"\r\n\t\t\t\t[totalRecords]="model.length"\r\n\t\t\t\t[loading]="isLoading">\r\n\t\t<ng-template pTemplate="header">\r\n\t\t\t<tr>\r\n\t\t\t\t<th class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t<p-checkbox [binary]="true"\r\n\t\t\t\t\t\t\t\t\t[(ngModel)]="checkAll"\r\n\t\t\t\t\t\t\t\t\t(onChange)="onCheckAllKliseisClicked()"></p-checkbox>\r\n\t\t\t\t</th>\r\n\t\t\t\t<th class="fixed-width-col-40">&nbsp;</th>\r\n\t\t\t\t<th class="fixed-width-col-120">\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2</th>\r\n\t\t\t\t<th class="fixed-width-col-170">\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1</th>\r\n\t\t\t\t<th class="fixed-width-col-120">\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2</th>\r\n\t\t\t\t<th class="fixed-width-col-150">\u038c\u03c7\u03b7\u03bc\u03b1</th>\r\n\t\t\t\t<th class="fixed-width-col-100">\u03a0\u03bf\u03c3\u03cc \u039a\u03bb\u03ae\u03c3\u03b7\u03c2</th>\r\n\t\t\t\t<th class="fixed-width-col-100">\u03a0\u03bf\u03c3\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2*</th>\r\n\t\t\t\t<th class="fixed-width-col-120">\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2</th>\r\n\t\t\t\t<th class="fixed-width-col-180">\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1</th>\r\n\t\t\t</tr>\r\n\t\t</ng-template>\r\n\t\t<ng-template pTemplate="body"\r\n\t\t\t\t\t\t let-dto\r\n\t\t\t\t\t\t let-rowIndex="rowIndex">\r\n\t\t\t<tr [ngClass]="!dto.canPay || !dto.canCheck ? \'disabled-row\' : \'\'">\r\n\t\t\t\t<td class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t<span class="ui-column-title">\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae</span>\r\n\t\t\t\t\t<p-checkbox [binary]="true"\r\n\t\t\t\t\t\t\t\t\t[(ngModel)]="dto.isChecked"\r\n\t\t\t\t\t\t\t\t\t(onChange)="onCheckKlisiClicked(dto)"\r\n\t\t\t\t\t\t\t\t\t[disabled]="!dto.canPay || !dto.canCheck"></p-checkbox>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t<span class="ui-column-title">\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7</span>\r\n\t\t\t\t\t<span *ngIf="dto.statusId && dto.statusId == 1"><i class="fas fa-stop-circle fa-fw apliroti"></i></span>\r\n\t\t\t\t\t<span *ngIf="dto.statusId && dto.statusId == 5"><i\r\n\t\t\t\t\t\t\tclass="fas fa-stop-circle fa-fw kataxorisi_web"></i></span>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-120 text-center">\r\n\t\t\t\t\t<span class="ui-column-title">\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2</span>\r\n\t\t\t\t\t{{ dto.arithmosKlisis }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-170 text-center">\r\n\t\t\t\t\t<span class="ui-column-title">\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1</span>\r\n\t\t\t\t\t{{ dto.hmerominiaEkdosis | date: \'dd/MM/yyyy\' }}\r\n\t\t\t\t\t{{ dto.oraEkdosis && dto.hmerominiaEkdosis ? \'- \' + dto.oraEkdosis : dto.oraEkdosis }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-120 text-center">\r\n\t\t\t\t\t<span class="ui-column-title">\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2</span>\r\n\t\t\t\t\t{{ dto.arithmosKikloforias }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-150">\r\n\t\t\t\t\t<span class="ui-column-title">\u038c\u03c7\u03b7\u03bc\u03b1</span>\r\n\t\t\t\t\t<span *ngIf="dto.eidosOximatos"\r\n\t\t\t\t\t\t\tclass="d-block"><strong>\u0395\u03af\u03b4\u03bf\u03c2: </strong>{{ dto.eidosOximatos }}</span>\r\n\t\t\t\t\t<span *ngIf="dto.markaOximatos"\r\n\t\t\t\t\t\t\tclass="d-block"><strong>\u039c\u03ac\u03c1\u03ba\u03b1: </strong>{{ dto.markaOximatos }}</span>\r\n\t\t\t\t\t<span *ngIf="dto.xromaOximatos"\r\n\t\t\t\t\t\t\tclass="d-block"><strong>\u03a7\u03c1\u03ce\u03bc\u03b1: </strong>{{ dto.xromaOximatos }}</span>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t<span class="ui-column-title">\u03a0\u03bf\u03c3\u03cc \u039a\u03bb\u03ae\u03c3\u03b7\u03c2</span>\r\n\t\t\t\t\t{{ dto.pliroteoPoso | currency : \'EUR\' : \'symbol\' : \'1.2-2\' }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t<span class="ui-column-title">\u03a0\u03bf\u03c3\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2*</span>\r\n\t\t\t\t\t{{ dto.ofeilisPoso | currency : \'EUR\' : \'symbol\' : \'1.2-2\' }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-120">\r\n\t\t\t\t\t<span class="ui-column-title">\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2</span>\r\n\t\t\t\t\t{{ dto.stoixeiaBebaiosis }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-180">\r\n\t\t\t\t\t<span class="ui-column-title">\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1</span>\r\n\t\t\t\t\t<span class="small"\r\n\t\t\t\t\t\t\t[innerHtml]="dto.cannotPayReason"></span>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</ng-template>\r\n\t\t<ng-template pTemplate="footer">\r\n\t\t\t<tr>\r\n\t\t\t\t<td class="fixed-width-col-640"\r\n\t\t\t\t\t colspan="6">\r\n\t\t\t\t\t<strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2: {{ model.length }}</strong>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-100 text-right"\r\n\t\t\t\t\t colspan="1">\r\n\t\t\t\t\t<strong>{{ sumPosoKlisis | currency : \'EUR\' : \'symbol\' : \'1.2-2\': \'el\' }}</strong>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-100 text-right"\r\n\t\t\t\t\t colspan="1">\r\n\t\t\t\t\t<strong>{{ sumPliroteoPoso | currency : \'EUR\' : \'symbol\' : \'1.2-2\': \'el\' }}</strong>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-300"\r\n\t\t\t\t\t colspan="2">\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</ng-template>\r\n\t</p-table>\r\n\t<p><small><em>* \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u03a0\u03c1\u03bf\u03c3\u03b1\u03c5\u03be\u03ae\u03c3\u03b5\u03b9\u03c2 \u03ba\u03b1\u03b9 \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u039a\u03c1\u03b1\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2</em></small></p>\r\n</ng-container>',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],G.ctorParameters=function(){return[{type:W},{type:n.ChangeDetectorRef}]},G.propDecorators={isDataChanged:[{type:n.Input}],assetsUrl:[{type:n.Input}],errorMessageProfile:[{type:n.Input}],userInfo:[{type:n.Input}],payKliseis:[{type:n.Output}]};var H=function(){function t(e,s,n,i,r,o){_classCallCheck(this,t),this.kliseisNgSrv=e,this.pluginCacheSrv=s,this.toasterSrv=n,this.router=i,this.route=r,this.cdr=o,this.onDestroy=new I.a,this.paymentResponseDto=null,this.index=0,this.isAddingKlisi=!1,this.isDataChanged=!1,this.isAuthorized=!1,this.isLoadingPaymentRequest=!1,this.applicationUrl="",this.kliseisApiUrl="",this.financeApiUrl="",this.returnUrl="",this.assetsUrl="",this.errorMessageProfile=null,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.kliseisApiUrl=AppConfOptions.kliseis_api,this.financeApiUrl=AppConfOptions.epayments_api,this.assetsUrl=AuthConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/kliseis/receipts")):(this.applicationUrl=AppConfOptions.applicationUrl,this.kliseisApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi,this.assetsUrl=AppConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts"))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.pluginCacheSrv.initIsAuthorized(),this.pluginCacheSrv.initUserInfo(),this.pluginCacheSrv.isAuthorized$.pipe(Object(y.a)((function(e){return t.isAuthorized=e||!1,t.isAuthorized?t.pluginCacheSrv.userInfo$:Object(v.a)(!1)})),Object(y.a)((function(e){return e?(t.userInfo=e,t.router.events):Object(v.a)(!1)})),Object(b.a)(this.onDestroy)).subscribe((function(e){e&&e instanceof p.c&&(e.url.includes("receipts")?t.index=1:t.index=0),E(t.cdr)}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"ngAfterViewInit",value:function(){this.router.url.includes("receipts")?this.index=1:this.index=0,E(this.cdr)}},{key:"onTabChanged",value:function(t){0==t.index?this.router.navigate(["./debits"],{relativeTo:this.route}):this.router.navigate(["./receipts"],{relativeTo:this.route})}},{key:"onAddKlisiClicked",value:function(){this.isAddingKlisi=!0,E(this.cdr)}},{key:"onPayClicked",value:function(t){var e=this;this.isLoadingPaymentRequest=!0,t.relatedCallbackUrl=this.returnUrl,E(this.cdr),this.kliseisNgSrv.addPaymentRequest(t).subscribe((function(t){if(t){var s=t;s.statusCode==q.Ok?e._postBankForm(s.model):s.statusCode==q.Error&&"DEBTOR_ADDRESS_REQUIRED"==s.messageId&&(e.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2.",e.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2."))}e.isLoadingPaymentRequest=!1,e.cdr.markForCheck()}))}},{key:"_klisiAdded",value:function(t){this.isDataChanged=!0,this.isAddingKlisi=!1,E(this.cdr)}},{key:"_postBankForm",value:function(t){var e=Object.keys(t.postFields).map((function(e){return{key:e,value:t.postFields[e]}}));t.postFields=e,this.paymentResponseDto=t,setTimeout((function(){document.getElementById("bankPaymentForm").submit()}),100)}}]),t}();H.decorators=[{type:n.Component,args:[{selector:"lib-kliseis-ng",template:'<ng-container *ngIf="!isAuthorized">\r\n\t<h4>\u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2</h4>\r\n\t<app-kliseis-unauthorized-pay></app-kliseis-unauthorized-pay>\r\n</ng-container>\r\n\r\n<ng-container *ngIf="isAuthorized && userInfo">\r\n\t<div class="d-flex justify-content-end mb-1">\r\n\t\t<button (click)="onAddKlisiClicked()"\r\n\t\t\t\t  type="button"\r\n\t\t\t\t  class="btn btn-md btn-primary">\r\n\t\t\t<span class="text-light">\r\n\t\t\t\t<i class="fas fa-plus fa-fw"\r\n\t\t\t\t\taria-hidden="true"></i> \u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u039d\u03ad\u03b1\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2\r\n\t\t\t</span>\r\n\t\t</button>\r\n\t</div>\r\n\r\n\t<p-tabView [activeIndex]="index"\r\n\t\t\t\t  (onChange)="onTabChanged($event)">\r\n\t\t<p-tabPanel header="\u0391\u03c0\u03bb\u03ae\u03c1\u03c9\u03c4\u03b5\u03c2 \u039a\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2">\r\n\t\t\t<app-kliseis-debits [isDataChanged]="isDataChanged"\r\n\t\t\t\t\t\t\t\t\t  [userInfo]="userInfo"\r\n\t\t\t\t\t\t\t\t\t  [errorMessageProfile]="errorMessageProfile"\r\n\t\t\t\t\t\t\t\t\t  [assetsUrl]="assetsUrl"\r\n\t\t\t\t\t\t\t\t\t  (payKliseis)="onPayClicked($event)"></app-kliseis-debits>\r\n\t\t</p-tabPanel>\r\n\t\t<p-tabPanel header="\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd \u039a\u03bb\u03ae\u03c3\u03b5\u03c9\u03bd">\r\n\t\t\t<ng-template pTemplate="content">\r\n\t\t\t\t<app-kliseis-receipts (changeTabIndex)="index = 1"></app-kliseis-receipts>\r\n\t\t\t</ng-template>\r\n\t\t</p-tabPanel>\r\n\t\t\x3c!-- <p-tabPanel header="\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ad\u03c2 \u039a\u03bb\u03ae\u03c3\u03b5\u03c9\u03bd \u03a4\u03c1\u03af\u03c4\u03bf\u03c5">\r\n\t\t</p-tabPanel> --\x3e\r\n\t</p-tabView>\r\n</ng-container>\r\n\r\n<eg-modal [(isOpen)]="isAddingKlisi"\r\n\t\t\t title="\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u039d\u03ad\u03b1\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2">\r\n\t<ng-container *ngIf="isAddingKlisi && userInfo">\r\n\t\t<div class="modal-body">\r\n\t\t\t<lib-kliseis-add-new [userInfo]="userInfo"\r\n\t\t\t\t\t\t\t\t\t\t[isLoadingPaymentRequest]="isLoadingPaymentRequest"\r\n\t\t\t\t\t\t\t\t\t\t(klisiAdded)="_klisiAdded($event)"\r\n\t\t\t\t\t\t\t\t\t\t(payKlisi)="onPayClicked($event)"></lib-kliseis-add-new>\r\n\t\t</div>\r\n\t</ng-container>\r\n</eg-modal>\r\n\r\n\x3c!-- Hidden form to pay --\x3e\r\n\x3c!-- paymentResponseDto.postUlr to url tis trapezas p mas to exei dwsei i oikonomiki --\x3e\r\n<div *ngIf="paymentResponseDto"\r\n\t  class="d-none">\r\n\t<form id="bankPaymentForm"\r\n\t\t\tmethod="POST"\r\n\t\t\taction="{{ paymentResponseDto.postUlr }}">\r\n\t\t<div *ngFor="let postField of paymentResponseDto.postFields; let i = index">\r\n\t\t\t{{ postField.key }} : <input type="text"\r\n\t\t\t\t\t name="{{ postField.key }}"\r\n\t\t\t\t\t value="{{ postField.value }}" />\r\n\t\t</div>\r\n\t</form>\r\n</div>\r\n\x3c!-- End --\x3e\r\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],H.ctorParameters=function(){return[{type:W},{type:V},{type:z},{type:p.d},{type:p.a},{type:n.ChangeDetectorRef}]};var X=function(){function t(e,s,i,r,o){_classCallCheck(this,t),this.kliseisNgSrv=e,this.pluginCacheSrv=s,this.route=i,this._http=r,this.cdr=o,this.model=[],this.changeTabIndex=new n.EventEmitter,this.checkAll=!1,this.sumPliroteoPoso=0,this.applicationUrl="",this.kliseisApiUrl="",this.financeApiUrl="",this.isLoading=!0,this.onDestroy=new I.a,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.kliseisApiUrl=AppConfOptions.kliseis_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.kliseisApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.pluginCacheSrv.userInfo$.pipe(Object(b.a)(this.onDestroy)).subscribe((function(e){e&&(t.userInfo=e),t.cdr.detectChanges()})),this._getBankMessages().pipe(Object(y.a)((function(e){return e?(t.oikonomikiBankMessages=e,t.route.queryParams.pipe(Object(b.a)(t.onDestroy))):Object(v.a)(!1)}))).subscribe((function(e){if(e){var s=e,n=s.messagecode,i=s.btId;if(t.cdr.detectChanges(),n)if(t.changeTabIndex.emit(1),t.bankStatusMessage=t.oikonomikiBankMessages[n],"TRANSACTION_COMPLETED"==n){if(t.bankStatusMessageClass="success",i){var r=new j;r.address=t.userInfo.address,r.address_city=t.userInfo.address_city,r.address_country_code=t.userInfo.address_country_code,r.address_zip=t.userInfo.address_zip,r.adt=t.userInfo.adt,r.debtorName=t.userInfo.given_name+" "+t.userInfo.family_name,r.email=t.userInfo.email,r.phone_number=t.userInfo.phone_number,r.tin=t.userInfo.tin,r.bankTransactionId=i,t.kliseisNgSrv.markKlisiWebExoflisi(r).subscribe((function(){t._loadData()}))}}else t.bankStatusMessageClass="fail"}t.cdr.detectChanges(),t._loadData()}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"btnBankStatusMessageClicked",value:function(){this.bankStatusMessage=null,this.cdr.detectChanges()}},{key:"_loadData",value:function(){var t=this;this.isLoading=!0,this.kliseisNgSrv.getKliseisPayed(this.userInfo.tin).subscribe((function(e){e&&(t.model=e,t.model.forEach((function(e){return t.sumPliroteoPoso+=e.pliroteoPoso})),t.model=t.model.sort((function(t,e){return t.hmerominiaEkdosis!=e.hmerominiaEkdosis?new Date(e.hmerominiaEkdosis).getTime()-new Date(t.hmerominiaEkdosis).getTime():+e.arithmosKlisis-+t.arithmosKlisis})),t.cdr.detectChanges()),t.isLoading=!1,t.cdr.detectChanges()}))}},{key:"_getBankMessages",value:function(){var t=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(t)}}]),t}();X.decorators=[{type:n.Component,args:[{selector:"app-kliseis-receipts",template:'\x3c!-- Pliromenes Headers --\x3e\r\n<div class="d-flex w-100 justify-content-center"\r\n\t  *ngIf="model && model.length === 0 && !isLoading">\r\n\t<p class="alert alert-warning p-1">\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2.</p>\r\n</div>\r\n\r\n<div *ngIf="bankStatusMessage"\r\n\t  class="bank-msg alert w-100 mb-2 position-relative {{ bankStatusMessageClass }}">\r\n\t<button (click)="btnBankStatusMessageClicked()"\r\n\t\t\t  type="button"\r\n\t\t\t  class="close-bank-msg position-absolute"\r\n\t\t\t  style="right: 5px; top: 5px; background-color: transparent; border: 0 none; color: #ffffff;"><i\r\n\t\t\tclass="fas fa-times"\r\n\t\t\taria-hidden="true"></i></button>\r\n\t{{ bankStatusMessage }}\r\n</div>\r\n\r\n<div *ngIf="!model || isLoading"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 300px">\r\n\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n</div>\r\n\r\n<ng-container *ngIf="model && model.length > 0 && !isLoading">\r\n\t<legend class="d-flex flex-wrap mb-1"\r\n\t\t\t  style="font-size: 14px;">\r\n\t\t<span class="mr-1"><i class="fas fa-stop-circle fa-fw exoflimeni"></i> \u0395\u039e\u039f\u03a6\u039b\u0397\u03a3\u0397 \u03a3\u03a4\u039f \u0394\u0397\u039c\u039f</span>\r\n\t\t<span class="mr-1"><i class="fas fa-stop-circle fa-fw exoflisi_web"></i> \u0395\u039e\u039f\u03a6\u039b\u0397\u03a3\u0397 WEB</span>\r\n\t</legend>\r\n\t<p>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u039a\u03bb\u03ae\u03c3\u03b5\u03c9\u03bd: <strong>{{ model.length }}</strong></p>\r\n\t<p-table [value]="model"\r\n\t\t\t\t[autoLayout]="true"\r\n\t\t\t\t[responsive]="true"\r\n\t\t\t\t[scrollable]="true"\r\n\t\t\t\t[lazy]="false"\r\n\t\t\t\t[paginator]="true"\r\n\t\t\t\t[alwaysShowPaginator]="false"\r\n\t\t\t\t[rows]="10"\r\n\t\t\t\t[totalRecords]="model.length">\r\n\t\t<ng-template pTemplate="header">\r\n\t\t\t<tr>\r\n\t\t\t\t<th class="fixed-width-col-40">&nbsp;</th>\r\n\t\t\t\t<th class="fixed-width-col-120">\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2</th>\r\n\t\t\t\t<th class="fixed-width-col-150">\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1</th>\r\n\t\t\t\t<th class="fixed-width-col-120">\u039f\u03b4\u03cc\u03c2 - \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2</th>\r\n\t\t\t\t<th class="fixed-width-col-120">\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2</th>\r\n\t\t\t\t<th class="fixed-width-col-150">\u038c\u03c7\u03b7\u03bc\u03b1</th>\r\n\t\t\t\t<th class="fixed-width-col-100">\u03a0\u03bf\u03c3\u03cc</th>\r\n\t\t\t\t<th class="fixed-width-col-120">\u039f\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1</th>\r\n\t\t\t</tr>\r\n\t\t</ng-template>\r\n\t\t<ng-template pTemplate="body"\r\n\t\t\t\t\t\t let-dto\r\n\t\t\t\t\t\t let-rowIndex="rowIndex">\r\n\t\t\t<tr>\r\n\t\t\t\t<td class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t<span class="ui-column-title">\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7</span>\r\n\t\t\t\t\t<span *ngIf="dto.statusId && dto.statusId == 2"><i\r\n\t\t\t\t\t\t\tclass="fas fa-stop-circle fa-fw exoflimeni"></i></span>\r\n\t\t\t\t\t<span *ngIf="dto.statusId && dto.statusId == 6"><i\r\n\t\t\t\t\t\t\tclass="fas fa-stop-circle fa-fw exoflisi_web"></i></span>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-120">\r\n\t\t\t\t\t<span class="ui-column-title">\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2</span>\r\n\t\t\t\t\t{{ dto.arithmosKlisis }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-150">\r\n\t\t\t\t\t<span class="ui-column-title">\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1</span>\r\n\t\t\t\t\t{{ dto.hmerominiaEkdosis | date: \'dd/MM/yyyy\' }}\r\n\t\t\t\t\t{{ dto.oraEkdosis && dto.hmerominiaEkdosis ? \'- \' + dto.oraEkdosis : dto.oraEkdosis }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-120">\r\n\t\t\t\t\t<span class="ui-column-title">\u039f\u03b4\u03cc\u03c2 - \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2</span>\r\n\t\t\t\t\t{{ dto.odosPerigrafi }} {{ dto.odosPerigrafi && dto.odosArithmos ? \'-\' : \'\' }}\r\n\t\t\t\t\t{{ dto.odosArithmos }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-120">\r\n\t\t\t\t\t<span class="ui-column-title">\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2</span>\r\n\t\t\t\t\t{{ dto.arithmosKikloforias }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-150">\r\n\t\t\t\t\t<span class="ui-column-title">\u038c\u03c7\u03b7\u03bc\u03b1</span>\r\n\t\t\t\t\t<span *ngIf="dto.eidosOximatos"\r\n\t\t\t\t\t\t\tclass="d-block"><strong>\u0395\u03af\u03b4\u03bf\u03c2: </strong>{{ dto.eidosOximatos }}</span>\r\n\t\t\t\t\t<span *ngIf="dto.markaOximatos"\r\n\t\t\t\t\t\t\tclass="d-block"><strong>\u039c\u03ac\u03c1\u03ba\u03b1: </strong>{{ dto.markaOximatos }}</span>\r\n\t\t\t\t\t<span *ngIf="dto.xromaOximatos"\r\n\t\t\t\t\t\t\tclass="d-block"><strong>\u03a7\u03c1\u03ce\u03bc\u03b1: </strong>{{ dto.xromaOximatos }}</span>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t<span class="ui-column-title">\u03a0\u03bf\u03c3\u03cc</span>\r\n\t\t\t\t\t{{ dto.pliroteoPoso | currency : \'EUR\' : \'symbol\' : \'1.2-2\' }}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class="fixed-width-col-120">\r\n\t\t\t\t\t<span class="ui-column-title">\u039f\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1</span>\r\n\t\t\t\t\t<span *ngIf="dto.stoixeiaBebaiosis"><strong>\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2:</strong>\r\n\t\t\t\t\t\t{{ dto.stoixeiaBebaiosis }}</span>\r\n\t\t\t\t\t<span *ngIf="dto.stoixeiaApodeiksis"><br /><strong>\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2:</strong>\r\n\t\t\t\t\t\t{{ dto.stoixeiaApodeiksis }}</span>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</ng-template>\r\n\t\t<ng-template pTemplate="footer">\r\n\t\t\t<tr>\r\n\t\t\t\t<td class="text-right"\r\n\t\t\t\t\t colspan="8">\r\n\t\t\t\t\t<strong>\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc: {{ sumPliroteoPoso | currency : \'EUR\' : \'symbol\' : \'1.2-2\': \'el\' }}</strong>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</ng-template>\r\n\t</p-table>\r\n</ng-container>\r\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],X.ctorParameters=function(){return[{type:W},{type:V},{type:p.a},{type:C.b},{type:n.ChangeDetectorRef}]},X.propDecorators={changeTabIndex:[{type:n.Output}]};var Y=function(){function t(e,s,n,i,r,o){_classCallCheck(this,t),this.kliseisNgSrv=e,this.toasterSrv=s,this.route=n,this.router=i,this._http=r,this.cdr=o,this.model=new D,this.onDestroy=new I.a,this.isLoading=!1,this.isLoadingPaymentRequest=!1,this.requestMsg="",this.requestMsgClass="info",this.isFormSubmitted=!1,this.isFormPaySubmitted=!1,this.oikonomikiBankMessages={CODE_HAS_NO_BALANCE:"\u039f \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2 \u03ad\u03c7\u03b5\u03b9 \u03bc\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03cc \u03c5\u03c0\u03cc\u03bb\u03bf\u03b9\u03c0\u03bf",CODE_NOT_FOUND:"\u039f \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2 \u03b4\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b5",DEBTOR_ADDRESS_REQUIRED:"\u0394\u03b5\u03bd \u03ad\u03c7\u03bf\u03c5\u03bd \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03c9\u03b8\u03b5\u03af \u03c4\u03b1 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2",DEBTOR_NOT_UNIQUE:"\u039f \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c4\u03b7\u03c2 \u03b4\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03c4\u03b1\u03c5\u03c4\u03bf\u03c0\u03bf\u03b9\u03b7\u03b8\u03b5\u03af \u03bc\u03bf\u03bd\u03b1\u03b4\u03b9\u03ba\u03ac \u03bc\u03b5 \u03b2\u03ac\u03c3\u03b7 \u03c4\u03bf \u0391\u03a6\u039c",DEBTOR_TIN_REQUIRED:"\u0391\u03c0\u03b1\u03b9\u03c4\u03b5\u03af\u03c4\u03b1\u03b9 \u0391\u03a6\u039c",HASH_MISMATCH:"\u0391\u03b4\u03c5\u03bd\u03b1\u03bc\u03af\u03b1 \u03b5\u03c0\u03b1\u03bb\u03ae\u03b8\u03b5\u03c5\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2",INVALID_CULTURE:"\u0386\u03b3\u03bd\u03c9\u03c3\u03c4\u03b7 \u03ba\u03c9\u03b4\u03b9\u03ba\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7 \u03b3\u03bb\u03ce\u03c3\u03c3\u03b1\u03c2",OK:"",SETTLEMENT_PENDING:"\u0397 \u03c7\u03c1\u03ad\u03c9\u03c3\u03b7 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c3\u03b5 \u03b5\u03ba\u03ba\u03c1\u03b5\u03bc\u03cc\u03c4\u03b7\u03c4\u03b1",TICKET_NOT_ISSUED:"\u0394\u03b5\u03bd \u03b5\u03ba\u03b4\u03cc\u03b8\u03b7\u03ba\u03b5 Ticket",TRANSACTION_CANCELED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b1\u03ba\u03c5\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u03b1\u03c0\u03bf \u03c4\u03bf \u03c7\u03c1\u03ae\u03c3\u03c4\u03b7.",TRANSACTION_COMPLETED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1.",TRANSACTION_ERROR:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b4\u03b5\u03bd \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5",TRANSACTION_REJECTED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b1\u03c0\u03bf\u03c1\u03c1\u03af\u03c6\u03b8\u03b7\u03ba\u03b5 \u03b1\u03c0\u03bf \u03c4\u03b7\u03bd \u03c4\u03c1\u03ac\u03c0\u03b5\u03b6\u03b1",UNKNOWN_ERROR:"\u0386\u03b3\u03bd\u03c9\u03c3\u03c4\u03bf \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1"},this.today=new Date,this.thisYear=this.today.getFullYear(),this.isFormValid=!0,this.formDictionaryEnum=L}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;AppConfOptions.applicationUrl&&AppConfOptions.applicationUrl.includes("localhost")?(this.financeApi=AppConfOptions.financeApi,this.callbackUrl=AppConfOptions.applicationUrl+"/plugin"):(this.financeApi=AppConfOptions.epayments_api,this.callbackUrl=AppConfOptions.redirect_url+"/kliseis"),this.route.queryParams.pipe(Object(y.a)((function(e){if(e){var s=e;if(s.messagecode&&"TRANSACTION_COMPLETED"==s.messagecode){t.bankStatusMessage=t.oikonomikiBankMessages[s.messagecode];var n=new N;return n.btId=s.btId,n.returnUrl=t.callbackUrl,n.status=s.status,n.messagecode=s.messagecode,E(t.cdr),t.kliseisNgSrv.getFinancePaymentCallback(n)}return t.bankStatusMessage=t.oikonomikiBankMessages[s.messagecode],t.bankStatusMessageClass="fail",E(t.cdr),Object(v.a)(!1)}return Object(v.a)(!1)})),Object(b.a)(this.onDestroy)).subscribe((function(e){t.bankStatusMessageClass=e?"success":"fail",t.cdr.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"onCheckKlisiClicked",value:function(){var t=this;this.isFormSubmitted=!0,this.isFormValid=!0,this.formErrorsMsg="",this.requestMsg="";var e,s="";if(!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias?""!=(e=M(e=R(this.model.arithmosKikloforias)).toUpperCase())&&0==A(e)?(this.toasterSrv.showWarning("","\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000)"),this.isFormValid=!1):this.model.arithmosKikloforias&&this.model.arithmosKikloforias!=e&&(this.isFormValid=!0):this.isFormValid=!0,this.model.etos&&+this.model.etos>+this.thisYear&&(this.isFormValid=!1,s="<li>\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf "+this.thisYear+".</li>"),E(this.cdr),this.isFormSubmitted&&this.klisiAnazitisi.valid&&this.isFormValid)this.isLoading=!0,this.response=null,this.requestMsg="",this.model.isAuthorized=!1,this.model.arithmosKikloforias&&e&&this.model.arithmosKikloforias!=e&&(this.model.arithmosKikloforias=e),E(this.cdr),this.kliseisNgSrv.getStoixeiaKlisisForWebPliromiEtos(this.model).subscribe((function(e){e?(t.response=e,t.response.canPay?(t.toasterSrv.showInfo("",t.response.messageResponse),t.requestMsg=t.response.messageResponse):(t.toasterSrv.showWarning("",t.response.messageResponse),t.requestMsg=t.response.messageResponse,t.requestMsgClass="warning")):(t.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1."),t.requestMsg="\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1.",t.requestMsgClass="error"),t.isLoading=!1,E(t.cdr)}));else{if(this.formErrors=P(this.klisiAnazitisi),this.formErrors||!this.isFormValid){if(this.formErrorsMsg="<ul>",this.formErrors&&this.formErrors.forEach((function(e){var s;"required"==e.error?s="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?s="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==e.error&&(s="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),t.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+t.formDictionaryEnum[e.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+s+"</li>"})),this.formErrorsMsg+=s,!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias){var n=R(this.model.arithmosKikloforias);""!=(n=M(e).toUpperCase())&&0==A(n)&&(this.formErrorsMsg+="<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000).</li>")}this.formErrorsMsg+="<ul>"}E(this.cdr)}}},{key:"onCancelClicked",value:function(){this.model=new D,this.response=null,this.isFormSubmitted=!1,this.isFormPaySubmitted=!1,this.formErrors=null,this.formErrorsMsg=null,this.requestMsg="",E(this.cdr)}},{key:"onPayKlisiClicked",value:function(){var t=this;if(this.isLoadingPaymentRequest=!0,this.isFormPaySubmitted=!0,this.isFormSubmitted=!1,this.formErrorsMsgPay="",this.formErrorsPay=null,E(this.cdr),this.isFormPaySubmitted&&this.klisiPayUnauthorized.valid){var e=new T;e.remittanceInfo=this.response.remittanceInfo,e.relatedCallbackUrl=this.callbackUrl,!this.response.hasDieuthinsi&&(e.dieuthinsi=this.model.address),!this.response.hasDieuthinsi&&(e.tk=this.model.tk),!this.response.hasDieuthinsi&&(e.poli=this.model.poli),!this.response.hasEmail&&(e.email=this.model.email),!this.response.hasTilefono&&(e.tilefono=this.model.tilefono),this.model.debtorName?e.eponimia=this.model.debtorName:e.eponimia=null,this.model.tin?e.afm=this.model.tin:e.afm=null,this.kliseisNgSrv.fillPaymentRequestDtoNonAuthorized(e).subscribe((function(e){if(e){var s=e;s.statusCode==q.Ok?t._postBankForm(s.model):s.statusCode==q.Error&&"DEBTOR_ADDRESS_REQUIRED"==s.messageId&&(t.bankMsg="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",t.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.")),t.isLoadingPaymentRequest=!1,t.cdr.markForCheck()}}))}else this.isLoadingPaymentRequest=!1,this.formErrorsMsgPay="",this.formErrorsPay=P(this.klisiPayUnauthorized),E(this.cdr),this.formErrorsPay&&(this.formErrorsMsgPay="<ul>",this.formErrorsPay.forEach((function(e){var s;"required"==e.error?s="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?s="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==e.error?s="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"afmvalidator"==e.error&&(s="\u039f \u0391.\u03a6.\u039c. \u03b4\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9"),t.formErrorsMsgPay+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+t.formDictionaryEnum[e.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+s+"</li>"})),this.formErrorsMsgPay+="<ul>"),E(this.cdr)}},{key:"_postBankForm",value:function(t){var e=Object.keys(t.postFields).map((function(e){return{key:e,value:t.postFields[e]}}));t.postFields=e,this.paymentResponseDto=t,setTimeout((function(){document.getElementById("bankPaymentForm").submit()}),50),E(this.cdr)}}]),t}();Y.decorators=[{type:n.Component,args:[{selector:"app-kliseis-unauthorized-pay",template:'<div *ngIf="bankStatusMessage"\r\n\t  class="bank-msg {{ bankStatusMessageClass }}">\r\n\t{{ bankStatusMessage }}\r\n\t<a href="{{ callbackUrl }}"\r\n\t\tclass="btn btn-primary btn-sm mb-0 mt-2"><i class="fas fa-undo fa-fw"\r\n\t\t\taria-hidden="true"></i> \u0395\u03c0\u03b9\u03c3\u03c4\u03c1\u03bf\u03c6\u03ae</a>\r\n</div>\r\n\r\n<ng-container *ngIf="!bankStatusMessage">\r\n\t<form class="form"\r\n\t\t\t#klisiAnazitisi="ngForm">\r\n\t\t<div class="row">\r\n\t\t\t<div class="form-group col-12 col-md-6 d-inline-flex align-items-center">\r\n\t\t\t\t<p-checkbox name="isForeign"\r\n\t\t\t\t\t\t\t\t#isForeign="ngModel"\r\n\t\t\t\t\t\t\t\tvalue="\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2"\r\n\t\t\t\t\t\t\t\tlabel="\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2"\r\n\t\t\t\t\t\t\t\tbinary="true"\r\n\t\t\t\t\t\t\t\tclass="rowCheckbox"\r\n\t\t\t\t\t\t\t\t[(ngModel)]="model.isForeign"\r\n\t\t\t\t\t\t\t\t[disabled]="response && response.canPay"></p-checkbox>\r\n\t\t\t</div>\r\n\t\t\t<div class="form-group col-12 col-md-6">\r\n\t\t\t\t<label>\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2*</label>\r\n\t\t\t\t<input type="text"\r\n\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t style="text-transform: uppercase;"\r\n\t\t\t\t\t\t name="arithmosKikloforias"\r\n\t\t\t\t\t\t #arithmosKikloforiasInput="ngModel"\r\n\t\t\t\t\t\t placeholder="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"\r\n\t\t\t\t\t\t [(ngModel)]="model.arithmosKikloforias"\r\n\t\t\t\t\t\t autocomplete="nope"\r\n\t\t\t\t\t\t required\r\n\t\t\t\t\t\t [disabled]="response && response.canPay" />\r\n\t\t\t\t<div [hidden]="!isFormSubmitted || response ||(isFormSubmitted && arithmosKikloforiasInput.valid)"\r\n\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t*\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="row">\r\n\t\t\t<div class="form-group col-12 col-md-6">\r\n\t\t\t\t<label>\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2*</label>\r\n\t\t\t\t<input type="text"\r\n\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t name="arithmosKlisis"\r\n\t\t\t\t\t\t placeholder="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"\r\n\t\t\t\t\t\t [(ngModel)]="model.arithmosKlisis"\r\n\t\t\t\t\t\t #arithmosKlisisInput="ngModel"\r\n\t\t\t\t\t\t pattern="([0-9]{1,12})"\r\n\t\t\t\t\t\t maxlength="12"\r\n\t\t\t\t\t\t autocomplete="nope"\r\n\t\t\t\t\t\t required\r\n\t\t\t\t\t\t [disabled]="response && response.canPay" />\r\n\t\t\t\t<div [hidden]="!isFormSubmitted || response || (isFormSubmitted && arithmosKlisisInput.valid)"\r\n\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t*\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03ad\u03c0\u03bf\u03bd\u03c4\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03bc\u03ad\u03c7\u03c1\u03b9 12 \u03b1\u03c1\u03b9\u03b8\u03bc\u03bf\u03af.\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="col-12 col-md-6">\r\n\t\t\t\t<label>\u0388\u03c4\u03bf\u03c2 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2*</label>\r\n\t\t\t\t<input type="text"\r\n\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t name="etosKlisis"\r\n\t\t\t\t\t\t #etosKlisisInput="ngModel"\r\n\t\t\t\t\t\t [(ngModel)]="model.etos"\r\n\t\t\t\t\t\t placeholder="\u0388\u03c4\u03bf\u03c2"\r\n\t\t\t\t\t\t pattern="([0-9]{4})"\r\n\t\t\t\t\t\t required\r\n\t\t\t\t\t\t [disabled]="response && response.canPay" />\r\n\t\t\t\t<div [hidden]="!isFormSubmitted || response || (isFormSubmitted && etosKlisisInput.valid)"\r\n\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf & \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 \u03a7\u03a7\u03a7\u03a7 \u03cc\u03c0\u03bf\u03c5 \u03a7 \u03bc\u03cc\u03bd\u03bf \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bc\u03b9\u03ba\u03c1\u03cc\u03c4\u03b5\u03c1\u03bf \u03ae \u03af\u03c3\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf {{ thisYear }}.\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="form-actions row justify-content-center pb-0">\r\n\t\t\t<button (click)="onCheckKlisiClicked()"\r\n\t\t\t\t\t  type="button"\r\n\t\t\t\t\t  class="btn btn-primary mr-1"><i class="fas fa-search fa-fw"\r\n\t\t\t\t\taria-hidden="true"></i> \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7</button>\r\n\t\t\t<button (click)="onCancelClicked()"\r\n\t\t\t\t\t  type="button"\r\n\t\t\t\t\t  class="btn btn-warning"><i class="fas fa-times fa-fw"\r\n\t\t\t\t\taria-hidden="true"></i> \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7</button>\r\n\t\t</div>\r\n\t\t<div *ngIf="formErrorsMsg && formErrorsMsg != \'\'"\r\n\t\t\t  class="alert alert-danger form-msgs"\r\n\t\t\t  [innerHTML]="formErrorsMsg"></div>\r\n\t</form>\r\n\r\n\t<div *ngIf="isLoading"\r\n\t\t  class="bg-white"\r\n\t\t  style="width: 100%; height: 100px">\r\n\t\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\r\n\t\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t\t</span>\r\n\t</div>\r\n\r\n\t<ng-container *ngIf="response && !isLoading">\r\n\t\t<div *ngIf="requestMsg && requestMsg != \'\'"\r\n\t\t\t  class="alert alert-{{ requestMsgClass }} text-white">\r\n\t\t\t{{ requestMsg }}\r\n\t\t</div>\r\n\r\n\t\t<form *ngIf="response.canPay"\r\n\t\t\t\tclass="form mt-2"\r\n\t\t\t\t#klisiPayUnauthorized="ngForm">\r\n\t\t\t<div *ngIf="!response.hasOfeileti && response.isOfeiletisPay"\r\n\t\t\t\t  class="row">\r\n\t\t\t\t<div class="col-12 col-md-6">\r\n\t\t\t\t\t<label>\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1*</label>\r\n\t\t\t\t\t<input type="text"\r\n\t\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t\t name="debtorName"\r\n\t\t\t\t\t\t\t #debtorNameInput="ngModel"\r\n\t\t\t\t\t\t\t [(ngModel)]="model.debtorName"\r\n\t\t\t\t\t\t\t placeholder="\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1"\r\n\t\t\t\t\t\t\t required />\r\n\t\t\t\t\t<div [hidden]="!isFormPaySubmitted || (isFormPaySubmitted && debtorNameInput.valid)"\r\n\t\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t\t\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-12 col-md-6">\r\n\t\t\t\t\t<label>\u0391.\u03a6.\u039c.*</label>\r\n\t\t\t\t\t<input type="text"\r\n\t\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t\t name="tin"\r\n\t\t\t\t\t\t\t #tinInput="ngModel"\r\n\t\t\t\t\t\t\t [(ngModel)]="model.tin"\r\n\t\t\t\t\t\t\t placeholder="\u0391.\u03a6.\u039c."\r\n\t\t\t\t\t\t\t validateAfm\r\n\t\t\t\t\t\t\t required />\r\n\t\t\t\t\t<div [hidden]="!isFormPaySubmitted || (isFormPaySubmitted && tinInput.valid)"\r\n\t\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t\t\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2 \u03b1\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u0391.\u03a6.\u039c.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div *ngIf="!response.hasEmail || !response.hasTilefono"\r\n\t\t\t\t  class="row">\r\n\t\t\t\t<div *ngIf="!response.hasEmail"\r\n\t\t\t\t\t  class="col-12"\r\n\t\t\t\t\t  [ngClass]="response.hasTilefono ? \'col-md-12\' : \'col-md-6\'">\r\n\t\t\t\t\t<label>Email*</label>\r\n\t\t\t\t\t<input type="email"\r\n\t\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t\t name="email"\r\n\t\t\t\t\t\t\t #emailInput="ngModel"\r\n\t\t\t\t\t\t\t [(ngModel)]="model.email"\r\n\t\t\t\t\t\t\t placeholder="Email"\r\n\t\t\t\t\t\t\t required />\r\n\t\t\t\t\t<div [hidden]="!isFormPaySubmitted || (isFormPaySubmitted && emailInput.valid)"\r\n\t\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t\t\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div *ngIf="!response.hasTilefono"\r\n\t\t\t\t\t  class="col-12"\r\n\t\t\t\t\t  [ngClass]="response.hasEmail ? \'col-md-12\' : \'col-md-6\'">\r\n\t\t\t\t\t<label>\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf*</label>\r\n\t\t\t\t\t<input type="text"\r\n\t\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t\t name="tilefono"\r\n\t\t\t\t\t\t\t #tilefonoInput="ngModel"\r\n\t\t\t\t\t\t\t [(ngModel)]="model.tilefono"\r\n\t\t\t\t\t\t\t placeholder="69XXXXXXXX"\r\n\t\t\t\t\t\t\t pattern="^69([0-9]{8})$"\r\n\t\t\t\t\t\t\t required />\r\n\t\t\t\t\t<div [hidden]="!isFormPaySubmitted || (isFormPaySubmitted && tilefonoInput.valid)"\r\n\t\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t\t*\u03a4\u03bf \u03ba\u03b9\u03bd\u03b7\u03c4\u03cc \u03c4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03ad\u03c7\u03b5\u03b9 10 \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 69\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div *ngIf="!response.hasDieuthinsi"\r\n\t\t\t\t  class="row">\r\n\t\t\t\t<div class="col-12 col-md-5">\r\n\t\t\t\t\t<label>\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7*</label>\r\n\t\t\t\t\t<input type="text"\r\n\t\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t\t name="address"\r\n\t\t\t\t\t\t\t #addressInput="ngModel"\r\n\t\t\t\t\t\t\t [(ngModel)]="model.address"\r\n\t\t\t\t\t\t\t placeholder="\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7"\r\n\t\t\t\t\t\t\t required />\r\n\t\t\t\t\t<div [hidden]="!isFormPaySubmitted || (isFormPaySubmitted && addressInput.valid)"\r\n\t\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t\t\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-12 col-md-2">\r\n\t\t\t\t\t<label>\u03a4.\u039a.*</label>\r\n\t\t\t\t\t<input type="text"\r\n\t\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t\t name="tk"\r\n\t\t\t\t\t\t\t #tkInput="ngModel"\r\n\t\t\t\t\t\t\t [(ngModel)]="model.tk"\r\n\t\t\t\t\t\t\t placeholder="\u03a4.\u039a."\r\n\t\t\t\t\t\t\t required />\r\n\t\t\t\t\t<div [hidden]="!isFormPaySubmitted || (isFormPaySubmitted && tkInput.valid)"\r\n\t\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t\t\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-12 col-md-5">\r\n\t\t\t\t\t<label>\u03a0\u03cc\u03bb\u03b7*</label>\r\n\t\t\t\t\t<input type="text"\r\n\t\t\t\t\t\t\t class="form-control"\r\n\t\t\t\t\t\t\t name="poli"\r\n\t\t\t\t\t\t\t #poliInput="ngModel"\r\n\t\t\t\t\t\t\t [(ngModel)]="model.poli"\r\n\t\t\t\t\t\t\t placeholder="\u03a0\u03cc\u03bb\u03b7"\r\n\t\t\t\t\t\t\t required />\r\n\t\t\t\t\t<div [hidden]="!isFormPaySubmitted || (isFormPaySubmitted && poliInput.valid)"\r\n\t\t\t\t\t\t  class="text-danger pt-1">\r\n\t\t\t\t\t\t\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="form-actions row justify-content-center pb-0">\r\n\t\t\t\t<button (click)="onPayKlisiClicked()"\r\n\t\t\t\t\t\t  type="button"\r\n\t\t\t\t\t\t  class="btn btn-primary"><i class="fas fa-money-check fa-fw"\r\n\t\t\t\t\t\taria-hidden="true"></i> \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div *ngIf="formErrorsMsgPay && formErrorsMsgPay != \'\'"\r\n\t\t\t\t  class="alert alert-danger form-msgs"\r\n\t\t\t\t  [innerHTML]="formErrorsMsgPay"></div>\r\n\r\n\t\t\t<div *ngIf="isLoadingPaymentRequest"\r\n\t\t\t\t  class="bg-white"\r\n\t\t\t\t  style="width: 100%; height: 50px;">\r\n\t\t\t\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\r\n\t\t\t\t\t<i class="fas fa-circle-notch fa-2x fa-pulse"></i>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</ng-container>\r\n</ng-container>\r\n\r\n<div *ngIf="paymentResponseDto"\r\n\t  class="d-none">\r\n\t<form id="bankPaymentForm"\r\n\t\t\tmethod="POST"\r\n\t\t\taction="{{ paymentResponseDto.postUlr }}">\r\n\t\t<div *ngFor=\'let postField of paymentResponseDto.postFields; let i = index\'>\r\n\t\t\t{{postField.key}} : <input type="text"\r\n\t\t\t\t\t name="{{ postField.key }}"\r\n\t\t\t\t\t value="{{ postField.value }}" />\r\n\t\t</div>\r\n\t</form>\r\n</div>\r\n',changeDetection:n.ChangeDetectionStrategy.OnPush}]}],Y.ctorParameters=function(){return[{type:W},{type:z},{type:p.a},{type:p.d},{type:C.b},{type:n.ChangeDetectorRef}]},Y.propDecorators={klisiAnazitisi:[{type:n.ViewChild,args:["klisiAnazitisi",{static:!1}]}],klisiPayUnauthorized:[{type:n.ViewChild,args:["klisiPayUnauthorized",{static:!1}]}]};var J=[{path:"",component:H,children:[{path:"uklisi",component:Y},{path:"debits",component:G,canActivate:[w]},{path:"receipts",component:X,canActivate:[w]}]}],Q=function t(){_classCallCheck(this,t)};Q.decorators=[{type:n.NgModule,args:[{imports:[p.e.forChild(J)],exports:[p.e]}]}];var Z=function t(){_classCallCheck(this,t)};Z.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,r.FormsModule,Q,o.a,h.a,c.a,u.a,d.a,a.CurrencyMaskModule],declarations:[H,G,X,Y,$,F],exports:[H,G,X,Y,$,F],providers:[w,{provide:l.CURRENCY_MASK_CONFIG,useValue:{align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."}}]}]}];var tt,et=s("G0yt"),st=s("PCNd"),nt=function t(e){var s=this;_classCallCheck(this,t),this.oidcSecuritySrv=e,this.oidcSecuritySrv.getIsAuthorized().subscribe((function(t){s.isAuthorized=t}))};nt.ctorParameters=function(){return[{type:m.c}]};var it=[{path:"",component:nt=function(t,e,s,n){var i,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,s,o):i(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o}([Object(n.Component)({selector:"app-kliseis",template:(tt=s("04IN"),tt&&tt.__esModule?tt:{default:tt}).default}),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[m.c])],nt)}],rt=function t(){_classCallCheck(this,t)};rt=function(t,e,s,n){var i,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,s,o):i(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o}([Object(n.NgModule)({imports:[p.e.forChild(it)],exports:[p.e]})],rt),s.d(e,"KliseisModule",(function(){return ot}));var ot=function t(){_classCallCheck(this,t)};ot=function(t,e,s,n){var i,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,s,o):i(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o}([Object(n.NgModule)({declarations:[nt],imports:[st.a,rt,et.d,Z]})],ot)}}]);