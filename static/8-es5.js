!function(){function t(n,e){return(t=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(n,e)}function n(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,r=i(t);if(n){var c=i(this).constructor;o=Reflect.construct(r,arguments,c)}else o=r.apply(this,arguments);return e(this,o)}}function e(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function r(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{HNmh:function(t,n,e){var i,o,r;!function(c){if("object"==typeof t.exports){var a=c(0,n);void 0!==a&&(t.exports=a)}else o=[e,n],void 0===(r="function"==typeof(i=c)?i.apply(n,o):i)||(t.exports=r)}(function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=void 0;n.default=[[["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc.","\u03b1\u03c0\u03cc\u03b3.","\u03b2\u03c1\u03ac\u03b4\u03c5"],e,["\u03c4\u03bf \u03c0\u03c1\u03c9\u03af","\u03c4\u03bf \u03bc\u03b5\u03c3\u03b7\u03bc\u03ad\u03c1\u03b9","\u03c4\u03bf \u03b1\u03c0\u03cc\u03b3\u03b5\u03c5\u03bc\u03b1","\u03c4\u03bf \u03b2\u03c1\u03ac\u03b4\u03c5"]],[["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc.","\u03b1\u03c0\u03cc\u03b3.","\u03b2\u03c1\u03ac\u03b4\u03c5"],e,["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc\u03ad\u03c1\u03b9","\u03b1\u03c0\u03cc\u03b3\u03b5\u03c5\u03bc\u03b1","\u03b2\u03c1\u03ac\u03b4\u03c5"]],[["04:00","12:00"],["12:00","17:00"],["17:00","20:00"],["20:00","04:00"]]]})},wMrW:function(e,i,r){"use strict";r.r(i),r.d(i,"NotificationsModule",function(){return at});var a=r("1kSV"),s=r("PCNd"),u=r("fXoL"),f=r("tyNb"),b=r("4krO"),l=r("oXA7"),p=r("zPkR"),d=r("tk/3"),h=r("rdQv"),v=r("VZwH"),y=r("3Pt+"),g=r("5eHb"),m=r("ofXK"),w=r("yh7E"),T=r.n(w),S=r("HNmh"),O=r.n(S),k=r("ZOsW"),I=r("7LiV"),E=r("7zfz");function P(t,n){if(1&t&&(u.Sb(0),u.Pb(1,"i"),u.Rb()),2&t){var e=u.gc(2).$implicit;u.Bb(1),u.Eb("fa-2x ",e.GroupIcon,"")}}function N(t,n){if(1&t&&(u.Pc(0,P,2,3,"ng-container",4),u.Ub(1,"div",5),u.Ub(2,"h4"),u.Rc(3),u.Tb(),u.Ub(4,"span"),u.Rc(5),u.Tb(),u.Tb(),u.Ub(6,"div",6),u.Pb(7,"i",7),u.Tb()),2&t){var e=u.gc().$implicit,i=u.gc();u.pc("ngIf",e.GroupIcon),u.Bb(3),u.Sc(e.Perigrafi),u.Bb(2),u.Sc(i.calcEnabledTypes(e.SubscriberEnabledTypes))}}function U(t,n){if(1&t&&(u.Ub(0,"span",12),u.Rc(1),u.Tb()),2&t){var e=u.gc(2).$implicit;u.Bb(1),u.Tc(" ",e.ExtraInfoForSubscribers,"")}}function j(t,n){if(1&t){var e=u.Vb();u.Ub(0,"div",13),u.Ub(1,"label",14),u.Rc(2),u.Tb(),u.Ub(3,"input",15),u.ec("change",function(t){u.Hc(e);var n=u.gc(2).$implicit;return u.gc().onInputChange(t,n,n.SupportedTypes)}),u.Tb(),u.Pb(4,"label",16),u.Tb()}if(2&t){var i=u.gc(2).$implicit;u.Bb(1),u.rc("for","",i.NotificationGroupId,"-all"),u.Bb(1),u.Tc("",0==i.SubscriberEnabledTypes?"\u0395\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7":"\u0391\u03c0\u03b5\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7"," \u038c\u03bb\u03c9\u03bd"),u.Bb(1),u.rc("id","",i.NotificationGroupId,"-all"),u.pc("checked",0!=i.SubscriberEnabledTypes),u.Bb(1),u.rc("for","",i.NotificationGroupId,"-all")}}function B(t,n){if(1&t){var e=u.Vb();u.Sb(0),u.Ub(1,"div",17),u.Pb(2,"label",18),u.Ub(3,"input",15),u.ec("change",function(t){u.Hc(e);var n=u.gc().$implicit,i=u.gc(2).$implicit;return u.gc().onInputChange(t,i,n.Value)}),u.Tb(),u.Pb(4,"label",16),u.Tb(),u.Rb()}if(2&t){var i=u.gc().$implicit,o=u.gc(2).$implicit,r=u.gc();u.Bb(2),u.sc("for","",o.NotificationGroupId,"-",i.Value,""),u.pc("innerHTML",i.Metadata.Description+i.DisplayText,u.Ic),u.Bb(1),u.sc("id","",o.NotificationGroupId,"-",i.Value,""),u.pc("checked",r.calcIfChecked(o,i.Value)),u.Bb(1),u.sc("for","",o.NotificationGroupId,"-",i.Value,"")}}function x(t,n){if(1&t&&(u.Sb(0),u.Pc(1,B,5,8,"ng-container",4),u.Rb()),2&t){var e=n.$implicit,i=u.gc(2).$implicit,o=u.gc();u.Bb(1),u.pc("ngIf",o.isSupportedType(i.SupportedTypes,e.Value))}}function R(t,n){if(1&t&&(u.Ub(0,"div",8),u.Pc(1,U,2,1,"span",9),u.Ub(2,"div"),u.Ub(3,"b",10),u.Rc(4,"\u03a0\u03c9\u03c2 \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03bb\u03b1\u03bc\u03b2\u03ac\u03bd\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ad\u03c2 \u03c4\u03b9\u03c2 \u03b5\u03b9\u03b4\u03bf\u03c0\u03bf\u03b9\u03ae\u03c3\u03b5\u03b9\u03c2"),u.Tb(),u.Pc(5,j,5,5,"div",11),u.Tb(),u.Pc(6,x,2,1,"ng-container",1),u.Tb()),2&t){var e=u.gc().$implicit,i=u.gc();u.Bb(1),u.pc("ngIf",e.ExtraInfoForSubscribers),u.Bb(1),u.Db(e.CanUnSubscribe?"has-switch":""),u.Bb(3),u.pc("ngIf",e.CanUnSubscribe),u.Bb(1),u.pc("ngForOf",i.notificationEnumTypeValues)}}function M(t,n){1&t&&(u.Ub(0,"p-accordionTab"),u.Pc(1,N,8,3,"ng-template",2),u.Pc(2,R,7,5,"ng-template",3),u.Tb())}var C,G,V,A,$,_,D,L=((A=function(){function t(n){o(this,t),this.toastr=n}return c(t,[{key:"show",value:function(t,n,e){n&&this.toastr[e](n,t,{progressBar:!0,onActivateTick:!0})}},{key:"showError",value:function(t,n){this.show(t,n,"error")}},{key:"showInfo",value:function(t,n){this.show(t,n,"info")}},{key:"showSuccess",value:function(t,n){this.show(t,n,"success")}},{key:"showWarning",value:function(t,n){this.show(t,n,"warning")}}]),t}()).\u0275fac=function(t){return new(t||A)(u.bc(g.b))},A.\u0275prov=Object(u.Kb)({factory:function(){return new A(Object(u.bc)(g.b))},token:A,providedIn:"root"}),A),H=((V=function t(n){var e=this;o(this,t),this.toasterSrv=n,this.catchBadResponse=function(t){var n="";if(t.error instanceof Error)n="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ".concat(t.message);else if(void 0!==t.error)n="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ".concat(t.message);else switch(t.status){case 403:n="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error ".concat(t.status);break;case 401:n="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n ".concat(t.status);break;default:n="Backend returned code ".concat(t.status,", body was: ").concat(void 0!==t.body?t.body.error:void 0!==t.message?t.message:"")}return e.toasterSrv.showError("","".concat(n)),Object(b.a)(!1)}}).\u0275fac=function(t){return new(t||V)(u.bc(L))},V.\u0275prov=Object(u.Kb)({factory:function(){return new V(Object(u.bc)(L))},token:V,providedIn:"root"}),V),z=((G=function(e){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&t(n,e)}(r,e);var i=n(r);function r(t,n,e){var c;return o(this,r),(c=i.call(this,e,t)).exceptionSrv=t,c.toasterSrv=n,c.http=e,c}return c(r,[{key:"GetAllNotificationsTypes",value:function(t){return this.http.get("".concat(this.baseUrl,"Notifications/GetAllNotificationsTypes/").concat(t))}},{key:"GetMySubscriptions",value:function(){return this.http.get("".concat(this.baseUrl,"Notifications/GetMySubscriptions"))}},{key:"UpdateSubscriptionPoliti",value:function(t){var n=this;return this.http.post("".concat(this.baseUrl,"Notifications/UpdateSubscriptionPoliti"),t).pipe(Object(h.a)(function(t){return t}),Object(v.a)(function(t){return function(t,n){var e="";if(t.error instanceof Error&&t.error&&t.error.Message||void 0!==t.error&&t.error&&t.error.Message)e="".concat(t.error.Message);else switch(t.status){case 400:e=t.error;break;case 403:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. \n";break;case 401:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. \n",setTimeout(function(){return window.location.reload()},1e3);break;default:e="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1 \u03bc\u03b5 \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc ".concat(t.status,", \u03ba\u03b1\u03b9 \u03c0\u03b5\u03c1\u03b9\u03b5\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf: ").concat(void 0!==t.body?t.body.error:void 0!==t.Message?t.Message:"")}return console.log("ERRORING: ",t),n.showError("\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1","".concat(e)),Object(b.a)(!1)}(t,n.toasterSrv)}))}}]),r}(function(){return function t(n,e){var i=this;o(this,t),this.http=n,this.exceptionSrv=e,this.getBaseUrl=function(){return i.baseUrl},this.baseUrl+="api",this.baseUrl="undefined"!=typeof AppConfOptions&&AppConfOptions.notifications_api?AppConfOptions.notifications_api:"/",this.baseUrl+="api/"}}())).\u0275fac=function(t){return new(t||G)(u.bc(H),u.bc(L),u.bc(d.b))},G.\u0275prov=Object(u.Kb)({factory:function(){return new G(Object(u.bc)(H),Object(u.bc)(L),Object(u.bc)(d.b))},token:G,providedIn:"root"}),G),F=((C=function(){function t(n,e,i,r){o(this,t),this.notificationsNgSrv=n,this.toasterSrv=e,this.router=i,this.route=r,this.model=[],this.onDestroy=new l.a,this.index=0,this.isLoading=!0}return c(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_loadData",value:function(){}},{key:"onTabChanged",value:function(t){}}]),t}()).\u0275fac=function(t){return new(t||C)(u.Ob(z),u.Ob(L),u.Ob(f.d),u.Ob(f.a))},C.\u0275cmp=u.Ib({type:C,selectors:[["lib-notifications-ng"]],decls:2,vars:0,template:function(t,n){1&t&&(u.Pb(0,"lib-registration"),u.Pb(1,"router-outlet"))},directives:function(){return[X,f.h]},encapsulation:2}),C),K=function t(){o(this,t)},W=((_=function(){function t(n){o(this,t),this.notificationsNgSrv=n,this.onDestroy=new l.a}return c(t,[{key:"ngOnInit",value:function(){var t=this;Object(p.a)([this.notificationsNgSrv.GetMySubscriptions(),this.notificationsNgSrv.GetAllNotificationsTypes("NotificationType")]).subscribe(function(n){n&&(t.model=n[0],t.notificationEnumTypeValues=n[1])})}},{key:"ngOnDestroy",value:function(){}},{key:"toggleArrow",value:function(t){var n=document.getElementById(t.originalEvent.srcElement.id).getElementsByClassName("arrow")[0];n.children[0].className=n.children[0].classList.contains("fa-caret-down")?"fas fa-caret-up fa-2x":"fas fa-caret-down fa-2x"}},{key:"isSupportedType",value:function(t,n){return!!(t&n)}},{key:"onInputChange",value:function(t,n,e){var i=new K;i.NotificationGroupId=n.NotificationGroupId,i.SubscriberEnabledTypes=n.SubscriberEnabledTypes,n.SubscriberEnabledTypes&e?i.SubscriberEnabledTypes&=~e:i.SubscriberEnabledTypes|=e,this.notificationsNgSrv.UpdateSubscriptionPoliti(i).subscribe(function(e){e?n.SubscriberEnabledTypes=i.SubscriberEnabledTypes:t.target.checked=!0})}},{key:"calcEnabledTypes",value:function(t){for(var n="",e=0;e<this.notificationEnumTypeValues.length;e++){var i=this.notificationEnumTypeValues[e];t&i.Value&&(n+=(n.length>0?", ":"")+i.DisplayText)}return n}},{key:"calcIfChecked",value:function(t,n){return t.SubscriberEnabledTypes&n}}]),t}()).\u0275fac=function(t){return new(t||_)(u.Ob(z))},_.\u0275cmp=u.Ib({type:_,selectors:[["lib-mailing-lists"]],decls:2,vars:2,consts:[["expandIcon","","collapseIcon","",3,"multiple","onOpen","onClose"],[4,"ngFor","ngForOf"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"notgroup-title"],[1,"arrow"],[1,"fas","fa-caret-down","fa-2x"],[1,"card","card-body"],["class","extra-info",4,"ngIf"],[1,"descr"],["class","switch all",4,"ngIf"],[1,"extra-info"],[1,"switch","all"],[1,"label",3,"for"],["type","checkbox",1,"input",3,"id","checked","change"],[1,"slider",3,"for"],[1,"switch"],[1,"label",3,"for","innerHTML"]],template:function(t,n){1&t&&(u.Ub(0,"p-accordion",0),u.ec("onOpen",function(t){return n.toggleArrow(t)})("onClose",function(t){return n.toggleArrow(t)}),u.Pc(1,M,3,0,"p-accordionTab",1),u.Tb()),2&t&&(u.pc("multiple",!0),u.Bb(1),u.pc("ngForOf",n.model))},directives:[I.a,m.o,I.c,E.j,m.p],encapsulation:2}),_),X=(($=function(){function t(){o(this,t)}return c(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||$)},$.\u0275cmp=u.Ib({type:$,selectors:[["lib-registration"]],decls:1,vars:0,template:function(t,n){1&t&&u.Pb(0,"lib-mailing-lists")},directives:[W],encapsulation:2}),$),J=[{path:"",component:F,pathMatch:"full"},{path:"Notifications",component:F,pathMatch:"full"}],Z=((D=function t(){o(this,t)}).\u0275fac=function(t){return new(t||D)},D.\u0275mod=u.Mb({type:D}),D.\u0275inj=u.Lb({imports:[[f.g.forChild(J)],f.g]}),D);Object(m.H)(T.a,"el",O.a);var q,Q=[I.b],Y=((q=function t(){o(this,t)}).\u0275fac=function(t){return new(t||q)},q.\u0275mod=u.Mb({type:q}),q.\u0275inj=u.Lb({providers:[{provide:u.v,useValue:"el"}],imports:[[m.c,y.g,Z,k.c].concat(Q,[g.a.forRoot()])]}),q),tt=r("zazq");function nt(t,n){1&t&&(u.Sb(0),u.Ub(1,"div",1),u.Pb(2,"lib-notifications-ng"),u.Tb(),u.Rb())}var et,it,ot,rt=[{path:"",component:(et=function(){function t(n){o(this,t),this.oidcSecuritySrv=n}return c(t,[{key:"ngOnInit",value:function(){var t=this;this.oidcSecuritySrv.isAuthenticated$.subscribe(function(n){t.isAuthorized=n})}}]),t}(),et.\u0275fac=function(t){return new(t||et)(u.Ob(tt.e))},et.\u0275cmp=u.Ib({type:et,selectors:[["app-notifications"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"notifications-container","bg-white",2,"padding","30px"]],template:function(t,n){1&t&&u.Pc(0,nt,3,0,"ng-container",0),2&t&&u.pc("ngIf",n.isAuthorized)},directives:[m.p,F],encapsulation:2}),et)}],ct=((ot=function t(){o(this,t)}).\u0275fac=function(t){return new(t||ot)},ot.\u0275mod=u.Mb({type:ot}),ot.\u0275inj=u.Lb({imports:[[f.g.forChild(rt)],f.g]}),ot),at=((it=function t(){o(this,t)}).\u0275fac=function(t){return new(t||it)},it.\u0275mod=u.Mb({type:it}),it.\u0275inj=u.Lb({imports:[[s.a,ct,a.d,Y]]}),it)}}])}();