!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=o(e);if(t){var a=o(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return s(this,i)}}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"8BaW":function(t,s,o){"use strict";o.r(s),o.d(s,"DimotikosForosModule",(function(){return Tt})),o.d(s,"PublicLibLoader",(function(){return At}));var r=o("mrSG"),d=o("fXoL"),l=o("tk/3"),p=o("LRne"),u=o("2Vo4"),f=o("XNiG"),m=o("cp0P"),h=o("lJxs"),g=o("JIr8"),y=o("eIep"),v=o("1G5W"),b=o("pLZG"),S=o("5eHb"),k=o("tyNb"),I=o("3Pt+"),P=o("ofXK"),O=o("3u8h"),T=o("ZOsW"),A=o("9nqD"),D=o("eO1q"),C=o("rEr+"),R=o("dPl2"),M=o("Ji6n"),w=o("7zfz");function x(e,t){1&e&&(d.Rc(0),d.Tc(1,"div",4),d.Tc(2,"div",5),d.Tc(3,"div",6),d.Qd(4," \u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b4\u03bf\u03ba\u03b9\u03bc\u03ac\u03c3\u03c4\u03b5 \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1! "),d.Sc(),d.Sc(),d.Sc(),d.Qc())}function _(e,t){if(1&e&&(d.Tc(0,"p",15),d.Tc(1,"strong"),d.Qd(2,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1 \u0395\u03c0\u03b9\u03c7\u03b5\u03af\u03c1\u03b7\u03c3\u03b7\u03c2:"),d.Sc(),d.Qd(3),d.Sc()),2&e){var i=d.gd(3);d.Ac(3),d.Sd("\xa0",i.epixeirisiInfo.eponimia," ")}}function F(e,t){if(1&e){var i=d.Uc();d.Tc(0,"button",16),d.ed("click",(function(){return d.Fd(i),d.gd(3).onCreateNewDilosiClicked()})),d.Oc(1,"span",17),d.Qd(2," \u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2 \u039d\u03ad\u03b1\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 "),d.Sc()}}function U(e,t){if(1&e&&(d.Tc(0,"div",12),d.Od(1,_,4,1,"p",13),d.Od(2,F,3,0,"button",14),d.Sc()),2&e){var i=d.gd(2);d.Ac(1),d.pd("ngIf",i.epixeirisiInfo),d.Ac(1),d.pd("ngIf",i.diloseisInfoResponse&&i.diloseisInfoResponse.length>0)}}function E(e,t){if(1&e){var i=d.Uc();d.Tc(0,"app-katastimata-receipts",18),d.ed("reloadData",(function(){return d.Fd(i),d.gd(2)._loadData()})),d.Sc()}if(2&e){var n=d.gd(2);d.pd("diloseisReceipts",n.model)("userInfo",n.userInfo)("isLoading",n.isLoading)("diloseisInfoResponse",n.diloseisInfoResponse)}}function Q(e,t){if(1&e){var i=d.Uc();d.Tc(0,"app-katastimata-saved",21),d.ed("reloadData",(function(){return d.Fd(i),d.gd(3)._loadData()})),d.Sc()}if(2&e){var n=d.gd(3);d.pd("dilosiInfoSaved",n.diloseisInfoSaved)("userInfo",n.userInfo)("isLoading",n.isLoading)("diloseisInfoResponse",n.diloseisInfoResponse)("onlinePaymentsSettingsCompany",n.onlinePaymentsSettingsCompany)("epixeirisiInfo",n.epixeirisiInfo)}}function j(e,t){1&e&&(d.Tc(0,"p-tabPanel",19),d.Od(1,Q,1,6,"ng-template",20),d.Sc())}function L(e,t){if(1&e){var i=d.Uc();d.Rc(0),d.Od(1,U,3,2,"div",7),d.Tc(2,"p-tabView",8),d.ed("onChange",(function(e){return d.Fd(i),d.gd().onTabChanged(e)})),d.Tc(3,"p-tabPanel",9),d.Od(4,E,1,4,"app-katastimata-receipts",10),d.Sc(),d.Od(5,j,2,0,"p-tabPanel",11),d.Sc(),d.Qc()}if(2&e){var n=d.gd();d.Ac(1),d.pd("ngIf",n.epixeirisiInfo||n.diloseisInfoResponse&&n.diloseisInfoResponse.length>0),d.Ac(1),d.pd("activeIndex",n.index),d.Ac(2),d.pd("ngIf",n.model),d.Ac(1),d.pd("ngIf",n.diloseisInfoSaved&&n.diloseisInfoSaved.length&&n.onlinePaymentsSettingsCompany)}}function q(e,t){if(1&e){var i=d.Uc();d.Tc(0,"app-katastimata-create-dilosi",22),d.ed("updateSaved",(function(e){return d.Fd(i),d.gd().onReloadSaved(e)})),d.Sc()}if(2&e){var n=d.gd();d.pd("diloseisInfoResponse",n.diloseisInfoResponse)("dilosi",null)("onlinePaymentsSettingsCompany",n.onlinePaymentsSettingsCompany)("epixeirisiInfo",n.epixeirisiInfo)}}var N=["dimotikosForosForm"];function B(e,t){if(1&e){var i=d.Uc();d.Tc(0,"div",6),d.Tc(1,"label"),d.Qd(2,"\u03a0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc*"),d.Sc(),d.Tc(3,"ng-select",20,21),d.ed("ngModelChange",(function(e){return d.Fd(i),d.gd(2).selectedPososto=e})),d.Sc(),d.Tc(5,"div",9),d.Qd(6," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),d.Sc(),d.Sc()}if(2&e){var n=d.gd(2);d.Ac(3),d.pd("items",n.pososta)("searchable",!0)("clearable",!1)("ngModel",n.selectedPososto),d.Ac(2),d.pd("hidden",!n.isFormSubmitted||"1"==n.onlinePaymentsSettingsCompany||n.isFormSubmitted&&"1"!=n.onlinePaymentsSettingsCompany&&n.selectedPososto&&""!=n.selectedPososto)}}function W(e,t){if(1&e){var i=d.Uc();d.Tc(0,"li"),d.Qd(1),d.Tc(2,"small"),d.Oc(3,"i",26),d.Qd(4),d.hd(5,"date"),d.Sc(),d.Qd(6,"\xa0 "),d.Tc(7,"button",27),d.ed("click",(function(){d.Fd(i);var e=t.$implicit;return d.gd(3).downloadFile(e.dmsId)})),d.Oc(8,"i",28),d.Qd(9," \u039a\u03b1\u03c4\u03ad\u03b2\u03b1\u03c3\u03bc\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03bf\u03c5 "),d.Sc(),d.Sc()}if(2&e){var n=t.$implicit;d.Ac(1),d.Td(" ",n.perigrafi," (",n.fileName,")\xa0 "),d.Ac(3),d.Sd(" ",d.jd(5,3,n.creationTime,"dd/MM/yyyy"),"")}}function G(e,t){if(1&e){var i=d.Uc();d.Tc(0,"div",5),d.Tc(1,"div",22),d.Tc(2,"h5"),d.Qd(3,"\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u0391\u03c1\u03c7\u03b5\u03af\u03b1"),d.Sc(),d.Tc(4,"ul"),d.Od(5,W,10,6,"li",23),d.Sc(),d.Tc(6,"button",24),d.ed("click",(function(){d.Fd(i);var e=d.gd(2);return e.toggleEditFiles=!e.toggleEditFiles})),d.Oc(7,"i",25),d.Qd(8," \u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd "),d.Sc(),d.Sc(),d.Sc()}if(2&e){var n=d.gd(2);d.Ac(5),d.pd("ngForOf",n.dilosiFiles)}}function V(e,t){1&e&&(d.Tc(0,"div",36),d.Oc(1,"i",37),d.Qd(2," \u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03bd\u03ad\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf, \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03bf\u03cd\u03bd \u03cc\u03bb\u03b1 \u03c4\u03b1 \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 \u03ba\u03b1\u03b9 \u03b8\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c4\u03b1 \u03b1\u03bd\u03b5\u03b2\u03ac\u03c3\u03b5\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac."),d.Sc())}function z(e,t){if(1&e){var i=d.Uc();d.Tc(0,"div",5),d.Od(1,V,3,0,"div",29),d.Tc(2,"div",30),d.Tc(3,"label",31),d.Qd(4,"\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)*"),d.Sc(),d.Tc(5,"input",32,33),d.ed("ngModelChange",(function(e){return d.Fd(i),d.gd(2).periodikiDilosiFPA=e}))("change",(function(e){return d.Fd(i),d.gd(2).onFileChange(e,"periodikiDilosiFPA")})),d.Sc(),d.Tc(7,"div",9),d.Qd(8," *\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),d.Sc(),d.Sc(),d.Tc(9,"div",30),d.Tc(10,"label",34),d.Qd(11,"\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf (\u03a0.\u03c7. \u0399\u03c3\u03bf\u03b6\u03cd\u03b3\u03b9\u03bf)"),d.Sc(),d.Tc(12,"input",35),d.ed("ngModelChange",(function(e){return d.Fd(i),d.gd(2).extraFile=e}))("change",(function(e){return d.Fd(i),d.gd(2).onFileChange(e,"extraFile")})),d.Sc(),d.Sc(),d.Sc()}if(2&e){var n=d.gd(2);d.Ac(1),d.pd("ngIf",n.toggleEditFiles),d.Ac(4),d.pd("ngModel",n.periodikiDilosiFPA),d.Ac(2),d.pd("hidden",!n.isFormSubmitted||n.isFormSubmitted&&n.periodikiDilosiFPA),d.Ac(5),d.pd("ngModel",n.extraFile)}}function H(e,t){if(1&e&&d.Oc(0,"div",38),2&e){var i=d.gd(2);d.pd("innerHTML",i.formErrorsMsg,d.Gd)}}function K(e,t){if(1&e&&(d.Tc(0,"div",39),d.Tc(1,"p"),d.Qd(2),d.Sc(),d.Sc()),2&e){var i=d.gd(2);d.Ac(2),d.Rd(i.errorMessageProfile)}}function $(e,t){if(1&e){var i=d.Uc();d.Tc(0,"form",3,4),d.Tc(2,"div",5),d.Tc(3,"div",6),d.Tc(4,"label"),d.Qd(5,"\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2*"),d.Sc(),d.Tc(6,"ng-select",7,8),d.ed("ngModelChange",(function(e){return d.Fd(i),d.gd().dilosiCopy.dilosiId=e}))("change",(function(e){d.Fd(i);var t=d.gd();return t.onSelectedDilosiChanged(e),t.isFormDirty=!0})),d.Sc(),d.Tc(8,"div",9),d.Qd(9," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),d.Sc(),d.Sc(),d.Tc(10,"div",6),d.Tc(11,"label"),d.Qd(12,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),d.Sc(),d.Oc(13,"input",10),d.hd(14,"date"),d.Sc(),d.Sc(),d.Tc(15,"div",5),d.Od(16,B,7,5,"div",11),d.Tc(17,"div",12),d.Tc(18,"label"),d.Qd(19,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc*"),d.Sc(),d.Tc(20,"input",13,14),d.ed("ngModelChange",(function(e){return d.Fd(i),d.gd().dilosiCopy.ypokeimenoPoso=e}))("ngModelChange",(function(){return d.Fd(i),d.gd().isFormDirty=!0})),d.Sc(),d.Tc(22,"div",9),d.Qd(23," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),d.Sc(),d.Sc(),d.Sc(),d.Od(24,G,9,1,"div",15),d.Od(25,z,13,4,"div",15),d.Tc(26,"button",16),d.ed("click",(function(){return d.Fd(i),d.gd().onSubmit()})),d.Oc(27,"span",17),d.Qd(28," \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc\u03c2 \u03a0\u03bf\u03c3\u03ce\u03bd "),d.Sc(),d.Od(29,H,1,1,"div",18),d.Od(30,K,3,1,"div",19),d.Sc()}if(2&e){var n=d.Dd(7),s=d.Dd(21),o=d.gd();d.Ac(6),d.pd("items",o.diloseisInfoResponse)("searchable",!0)("clearable",!1)("ngModel",o.dilosiCopy.dilosiId),d.Ac(2),d.pd("hidden",!o.isFormSubmitted||o.isFormSubmitted&&n.valid),d.Ac(5),d.pd("value",d.jd(14,14,o.dilosiCopy.hmeromiaLixisDilosis,"dd/MM/yyyy")),d.Ac(3),d.pd("ngIf","1"!=o.onlinePaymentsSettingsCompany),d.Ac(1),d.pd("ngClass","1"==o.onlinePaymentsSettingsCompany?"":"col-md-6"),d.Ac(3),d.pd("ngModel",o.dilosiCopy.ypokeimenoPoso),d.Ac(2),d.pd("hidden",!o.isFormSubmitted||o.isFormSubmitted&&s.valid),d.Ac(2),d.pd("ngIf",o.dilosiFiles&&o.dilosiFiles.length),d.Ac(1),d.pd("ngIf",o.toggleEditFiles||!o.dilosiFiles||o.dilosiFiles&&0==o.dilosiFiles.length),d.Ac(4),d.pd("ngIf",o.formErrorsMsg&&""!=o.formErrorsMsg),d.Ac(1),d.pd("ngIf",o.errorMessageProfile)}}function J(e,t){1&e&&(d.Tc(0,"div",40),d.Tc(1,"span",41),d.Oc(2,"i",42),d.Sc(),d.Sc())}function Y(e,t){1&e&&(d.Tc(0,"p",46),d.Tc(1,"span",47),d.Qd(2,"\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),d.Sc(),d.Sc())}function X(e,t){if(1&e&&(d.Tc(0,"p",46),d.Tc(1,"span",49),d.Qd(2),d.Sc(),d.Sc()),2&e){var i=d.gd(2);d.Ac(2),d.Rd(i.kodikosPliromis)}}var Z=function(e){return[e,"\u20ac","symbol","1.2","el"]};function ee(e,t){if(1&e){var i=d.Uc();d.Rc(0),d.Tc(1,"h4",43),d.Qd(2,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03bf\u03cd"),d.Sc(),d.Tc(3,"div",44),d.Tc(4,"div",45),d.Tc(5,"div"),d.Tc(6,"p",46),d.Tc(7,"span",47),d.Qd(8,"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),d.Sc(),d.Sc(),d.Tc(9,"p",46),d.Tc(10,"span",47),d.Qd(11,"\u03a0\u03bf\u03c3\u03cc \u03a4\u03ad\u03bb\u03bf\u03c5\u03c2:"),d.Sc(),d.Sc(),d.Tc(12,"p",46),d.Tc(13,"span",47),d.Qd(14,"\u039c\u03ae\u03bd\u03b5\u03c2 \u039a\u03b1\u03b8\u03c5\u03c3\u03c4\u03ad\u03c1\u03b7\u03c3\u03b7\u03c2:"),d.Sc(),d.Sc(),d.Tc(15,"p",46),d.Tc(16,"span",47),d.Qd(17,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03c1\u03bf\u03c3\u03c4\u03af\u03bc\u03bf\u03c5:"),d.Sc(),d.Sc(),d.Tc(18,"p",46),d.Tc(19,"span",47),d.Qd(20,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),d.Sc(),d.Sc(),d.Od(21,Y,3,0,"p",48),d.Sc(),d.Tc(22,"div"),d.Tc(23,"p",46),d.Tc(24,"span",49),d.Qd(25),d.Sc(),d.Sc(),d.Tc(26,"p",46),d.Tc(27,"span",49),d.Qd(28),d.hd(29,"currency"),d.Sc(),d.Sc(),d.Tc(30,"p",46),d.Tc(31,"span",49),d.Qd(32),d.Sc(),d.Sc(),d.Tc(33,"p",46),d.Tc(34,"span",49),d.Qd(35),d.hd(36,"currency"),d.Sc(),d.Sc(),d.Tc(37,"p",46),d.Tc(38,"span",49),d.Qd(39),d.hd(40,"currency"),d.Sc(),d.Sc(),d.Od(41,X,3,1,"p",48),d.Sc(),d.Sc(),d.Tc(42,"app-payment",50),d.ed("errorMsg",(function(e){return d.Fd(i),d.gd().errorMessageProfile=e})),d.Sc(),d.Sc(),d.Qc()}if(2&e){var n=d.gd();d.Ac(21),d.pd("ngIf",n.kodikosPliromis),d.Ac(4),d.Rd(n.dilosiWebPaymentInfo.paymentCaption),d.Ac(3),d.Rd(d.md(29,11,d.vd(29,Z,n.dilosiWebPaymentInfo.telosPoso))),d.Ac(4),d.Rd(n.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines),d.Ac(3),d.Rd(d.md(36,17,d.vd(31,Z,n.dilosiWebPaymentInfo.prostimoPoso))),d.Ac(4),d.Rd(d.md(40,23,d.vd(33,Z,n.dilosiWebPaymentInfo.paymentAmount))),d.Ac(2),d.pd("ngIf",n.kodikosPliromis),d.Ac(1),d.pd("userInfo",n.userInfo)("requestObs",null)("createWebPaymentInfo",n.dilosiWebPaymentInfo)("canPay",!n.isFormDirty)}}function te(e,t){1&e&&(d.Tc(0,"div",5),d.Tc(1,"p",6),d.Qd(2," \u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc. "),d.Sc(),d.Sc())}function ie(e,t){1&e&&(d.Tc(0,"div",7),d.Tc(1,"p",8),d.Qd(2,"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u03b9\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2."),d.Sc(),d.Sc())}function ne(e,t){if(1&e){var i=d.Uc();d.Tc(0,"div"),d.Tc(1,"button",9),d.ed("click",(function(){return d.Fd(i),d.gd().btnBankStatusMessageClicked()})),d.Oc(2,"i",10),d.Sc(),d.Qd(3),d.Sc()}if(2&e){var n=d.gd();d.Dc("bank-msg w-100 mb-2 position-relative ",n.bankStatusMessageClass,""),d.Ac(3),d.Sd(" ",n.bankStatusMessage,"\n")}}function se(e,t){1&e&&(d.Tc(0,"div",11),d.Tc(1,"span",12),d.Oc(2,"i",13),d.Sc(),d.Sc())}function oe(e,t){1&e&&(d.Tc(0,"tr"),d.Tc(1,"th",19),d.Qd(2,"\u0391/\u0391"),d.Sc(),d.Tc(3,"th",20),d.Qd(4,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),d.Sc(),d.Tc(5,"th",21),d.Qd(6,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),d.Sc(),d.Tc(7,"th",21),d.Qd(8,"\u03a4\u03ad\u03bb\u03bf\u03c2"),d.Sc(),d.Tc(9,"th",21),d.Qd(10,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),d.Sc(),d.Tc(11,"th",22),d.Qd(12,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),d.Sc(),d.Sc())}function ae(e,t){if(1&e&&(d.Tc(0,"tr"),d.Tc(1,"td",19),d.Tc(2,"span",23),d.Qd(3,"\u0391/\u0391"),d.Sc(),d.Qd(4),d.Sc(),d.Tc(5,"td",20),d.Tc(6,"span",23),d.Qd(7,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),d.Sc(),d.Qd(8),d.Sc(),d.Tc(9,"td",24),d.Tc(10,"span",23),d.Qd(11,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),d.Sc(),d.Qd(12),d.hd(13,"currency"),d.Sc(),d.Tc(14,"td",24),d.Tc(15,"span",23),d.Qd(16,"\u03a4\u03ad\u03bb\u03bf\u03c2"),d.Sc(),d.Qd(17),d.hd(18,"currency"),d.Sc(),d.Tc(19,"td",24),d.Tc(20,"span",23),d.Qd(21,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),d.Sc(),d.Qd(22),d.hd(23,"currency"),d.Sc(),d.Tc(24,"td",22),d.Tc(25,"span",23),d.Qd(26,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),d.Sc(),d.Qd(27),d.Sc(),d.Sc()),2&e){var i=t.$implicit,n=t.rowIndex;d.Ac(4),d.Sd(" ",n+1," "),d.Ac(4),d.Sd(" ",i.dilosiCaption," "),d.Ac(4),d.Sd(" ",d.ld(13,6,i.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),d.Ac(5),d.Sd(" ",d.ld(18,11,i.telosPoso,"\u20ac","symbol","1.2")," "),d.Ac(5),d.Sd(" ",d.ld(23,16,i.prostimoPoso,"\u20ac","symbol","1.2")," "),d.Ac(5),d.Sd(" ",i.stoixeiaApodixis," ")}}var re=function(e){return[e,"EUR","symbol","1.2-2","el"]};function ce(e,t){if(1&e&&(d.Tc(0,"tr"),d.Tc(1,"td",25),d.Tc(2,"strong"),d.Qd(3,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf:"),d.Sc(),d.Sc(),d.Tc(4,"td",24),d.Tc(5,"strong"),d.Qd(6),d.hd(7,"currency"),d.Sc(),d.Sc(),d.Tc(8,"td",24),d.Tc(9,"strong"),d.Qd(10),d.hd(11,"currency"),d.Sc(),d.Sc(),d.Tc(12,"td",24),d.Tc(13,"strong"),d.Qd(14),d.hd(15,"currency"),d.Sc(),d.Sc(),d.Tc(16,"td",22),d.Qd(17,"\xa0"),d.Sc(),d.Sc()),2&e){var i=d.gd(2);d.Ac(6),d.Rd(d.md(7,3,d.vd(21,re,i.sumYpokeimeno))),d.Ac(4),d.Rd(d.md(11,9,d.vd(23,re,i.sumTelos))),d.Ac(4),d.Rd(d.md(15,15,d.vd(25,re,i.sumProstimo)))}}function de(e,t){if(1&e&&(d.Rc(0),d.Tc(1,"p",14),d.Tc(2,"strong"),d.Qd(3),d.Sc(),d.Sc(),d.Tc(4,"p-table",15),d.Od(5,oe,13,0,"ng-template",16),d.Od(6,ae,28,21,"ng-template",17),d.Od(7,ce,18,27,"ng-template",18),d.Sc(),d.Tc(8,"p",14),d.Tc(9,"strong"),d.Qd(10),d.Sc(),d.Sc(),d.Qc()),2&e){var i=d.gd();d.Ac(3),d.Sd("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",i.diloseisReceipts.length,""),d.Ac(1),d.pd("value",i.diloseisReceipts)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",i.diloseisReceipts.length),d.Ac(6),d.Sd("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",i.diloseisReceipts.length,"")}}function le(e,t){if(1&e){var i=d.Uc();d.Tc(0,"div"),d.Tc(1,"button",7),d.ed("click",(function(){return d.Fd(i),d.gd().onBankStatusMessage()})),d.Oc(2,"i",8),d.Sc(),d.Qd(3),d.Sc()}if(2&e){var n=d.gd();d.Dc("bank-msg badge w-100 mb-2 position-relative ",n.bankStatusMessageClass,""),d.Ac(3),d.Sd(" ",n.bankStatusMessage,"\n")}}function pe(e,t){1&e&&(d.Tc(0,"div",9),d.Tc(1,"span",10),d.Oc(2,"i",11),d.Sc(),d.Sc())}function ue(e,t){1&e&&d.Pc(0)}function fe(e,t){if(1&e&&(d.Tc(0,"div",19),d.Od(1,ue,1,0,"ng-container",20),d.Sc()),2&e){d.gd(2);var i=d.Dd(4);d.Ac(1),d.pd("ngTemplateOutlet",i)}}function me(e,t){if(1&e){var i=d.Uc();d.Tc(0,"tr"),d.Tc(1,"th",21),d.Tc(2,"p-checkbox",22),d.ed("ngModelChange",(function(e){return d.Fd(i),d.gd(2).isAllDebitsChecked=e}))("onChange",(function(){return d.Fd(i),d.gd(2).onAllDebitsSelected()})),d.Sc(),d.Sc(),d.Tc(3,"th",23),d.Qd(4,"A/A"),d.Sc(),d.Tc(5,"th",24),d.Qd(6,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),d.Sc(),d.Tc(7,"th",25),d.Qd(8,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),d.Sc(),d.Tc(9,"th",25),d.Qd(10,"\u03a4\u03ad\u03bb\u03bf\u03c2"),d.Sc(),d.Tc(11,"th",25),d.Qd(12,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),d.Sc(),d.Tc(13,"th",25),d.Qd(14,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2"),d.Sc(),d.Tc(15,"th",26),d.Qd(16,"\xa0"),d.Sc(),d.Sc()}if(2&e){var n=d.gd(2);d.Ac(2),d.pd("binary",!0)("ngModel",n.isAllDebitsChecked)}}function he(e,t){if(1&e){var i=d.Uc();d.Tc(0,"tr"),d.Tc(1,"td",21),d.Tc(2,"span",27),d.Qd(3,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),d.Sc(),d.Tc(4,"p-checkbox",22),d.ed("ngModelChange",(function(e){return d.Fd(i),t.$implicit.isChecked=e}))("onChange",(function(){return d.Fd(i),d.gd(2)._calculateTotalAmounts()})),d.Sc(),d.Sc(),d.Tc(5,"td",23),d.Tc(6,"span",27),d.Qd(7,"A/A"),d.Sc(),d.Qd(8),d.Sc(),d.Tc(9,"td",24),d.Tc(10,"span",27),d.Qd(11,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),d.Sc(),d.Qd(12),d.Sc(),d.Tc(13,"td",28),d.Tc(14,"span",27),d.Qd(15,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),d.Sc(),d.Qd(16),d.hd(17,"currency"),d.Sc(),d.Tc(18,"td",28),d.Tc(19,"span",27),d.Qd(20,"\u03a4\u03ad\u03bb\u03bf\u03c2"),d.Sc(),d.Qd(21),d.hd(22,"currency"),d.Sc(),d.Tc(23,"td",28),d.Tc(24,"span",27),d.Qd(25,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),d.Sc(),d.Qd(26),d.hd(27,"currency"),d.Sc(),d.Tc(28,"td",28),d.Tc(29,"span",27),d.Qd(30,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2"),d.Sc(),d.Qd(31),d.hd(32,"currency"),d.Sc(),d.Tc(33,"td",29),d.Tc(34,"span",27),d.Qd(35,"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"),d.Sc(),d.Tc(36,"button",30),d.ed("click",(function(){d.Fd(i);var e=t.$implicit;return d.gd(2).onEdit(e)})),d.Oc(37,"i",31),d.Sc(),d.Sc(),d.Sc()}if(2&e){var n=t.$implicit,s=t.rowIndex;d.Ac(4),d.pd("binary",!0)("ngModel",n.isChecked),d.Ac(4),d.Sd(" ",s+1," "),d.Ac(4),d.Sd(" ",n.dilosiDescription," "),d.Ac(4),d.Sd(" ",d.ld(17,8,n.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),d.Ac(5),d.Sd(" ",d.ld(22,13,n.telosPoso,"\u20ac","symbol","1.2")," "),d.Ac(5),d.Sd(" ",d.ld(27,18,n.prostimoPoso,"\u20ac","symbol","1.2")," "),d.Ac(5),d.Sd(" ",d.ld(32,23,n.telosPoso+n.prostimoPoso,"\u20ac","symbol","1.2")," ")}}function ge(e,t){if(1&e&&(d.Tc(0,"tr"),d.Tc(1,"td",32),d.Tc(2,"strong"),d.Qd(3,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf:"),d.Sc(),d.Sc(),d.Tc(4,"td",28),d.Tc(5,"strong"),d.Qd(6),d.hd(7,"currency"),d.Sc(),d.Sc(),d.Tc(8,"td",28),d.Tc(9,"strong"),d.Qd(10),d.hd(11,"currency"),d.Sc(),d.Sc(),d.Tc(12,"td",28),d.Tc(13,"strong"),d.Qd(14),d.hd(15,"currency"),d.Sc(),d.Sc(),d.Tc(16,"td",28),d.Tc(17,"strong"),d.Qd(18),d.hd(19,"currency"),d.Sc(),d.Sc(),d.Tc(20,"td",26),d.Qd(21,"\xa0"),d.Sc(),d.Sc()),2&e){var i=d.gd(2);d.Ac(6),d.Rd(d.md(7,4,d.vd(28,re,i.sumYpokeimeno))),d.Ac(4),d.Rd(d.md(11,10,d.vd(30,re,i.sumTelos))),d.Ac(4),d.Rd(d.md(15,16,d.vd(32,re,i.sumProstimo))),d.Ac(4),d.Rd(d.md(19,22,d.vd(34,re,i.sumToPay)))}}function ye(e,t){1&e&&d.Pc(0)}function ve(e,t){if(1&e){var i=d.Uc();d.Rc(0),d.Tc(1,"div",19),d.Od(2,ye,1,0,"ng-container",20),d.Sc(),d.Tc(3,"app-payment",33),d.ed("errorMsg",(function(e){return d.Fd(i),d.gd(2).errorMessageProfile=e})),d.Sc(),d.Qc()}if(2&e){var n=d.gd(2),s=d.Dd(4);d.Ac(2),d.pd("ngTemplateOutlet",s),d.Ac(1),d.pd("userInfo",n.userInfo)("requestObs",n.requestObs)}}function be(e,t){if(1&e&&(d.Tc(0,"div",34),d.Tc(1,"p"),d.Qd(2),d.Sc(),d.Sc()),2&e){var i=d.gd(2);d.Ac(2),d.Rd(i.errorMessageProfile)}}function Se(e,t){if(1&e&&(d.Rc(0),d.Od(1,fe,2,1,"div",12),d.Tc(2,"p",13),d.Tc(3,"strong"),d.Qd(4),d.Sc(),d.Sc(),d.Tc(5,"p-table",14),d.Od(6,me,17,2,"ng-template",15),d.Od(7,he,38,28,"ng-template",16),d.Od(8,ge,22,36,"ng-template",17),d.Sc(),d.Tc(9,"p",13),d.Tc(10,"strong"),d.Qd(11),d.Sc(),d.Sc(),d.Od(12,ve,4,3,"ng-container",2),d.Od(13,be,3,1,"div",18),d.Qc()),2&e){var i=d.gd();d.Ac(1),d.pd("ngIf",i.calculatedChecked.countChecked>0),d.Ac(3),d.Sd("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",i.dilosiInfoSaved.length,""),d.Ac(1),d.pd("value",i.dilosiInfoSaved)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",i.dilosiInfoSaved.length),d.Ac(6),d.Sd("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",i.dilosiInfoSaved.length,""),d.Ac(1),d.pd("ngIf",i.calculatedChecked.countChecked>0),d.Ac(1),d.pd("ngIf",i.errorMessageProfile)}}function ke(e,t){if(1&e&&(d.Tc(0,"p"),d.Qd(1,"\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 "),d.Tc(2,"span",35),d.Qd(3),d.Sc(),d.Sc(),d.Tc(4,"div",36),d.Tc(5,"p"),d.Qd(6,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a4\u03ad\u03bb\u03bf\u03c2: "),d.Tc(7,"span",35),d.Qd(8),d.hd(9,"currency"),d.Sc(),d.Sc(),d.Tc(10,"p"),d.Qd(11,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf: "),d.Tc(12,"span",35),d.Qd(13),d.hd(14,"currency"),d.Sc(),d.Sc(),d.Tc(15,"p"),d.Qd(16,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: "),d.Tc(17,"span",37),d.Qd(18),d.hd(19,"currency"),d.Sc(),d.Sc(),d.Sc()),2&e){var i=d.gd();d.Ac(3),d.Td("",i.calculatedChecked.countChecked," ",i.calculatedChecked.countText,""),d.Ac(5),d.Rd(d.ld(9,5,i.calculatedChecked.checkedTelos,"\u20ac","symbol","1.2")),d.Ac(5),d.Rd(d.ld(14,10,i.calculatedChecked.checkedProstimo,"\u20ac","symbol","1.2")),d.Ac(5),d.Rd(d.ld(19,15,i.calculatedChecked.checkedTelos+i.calculatedChecked.checkedProstimo,"\u20ac","symbol","1.2"))}}function Ie(e,t){if(1&e){var i=d.Uc();d.Tc(0,"app-katastimata-create-dilosi",38),d.ed("updateSaved",(function(e){return d.Fd(i),d.gd().updateDilosiInTable(e)})),d.Sc()}if(2&e){var n=d.gd();d.pd("diloseisInfoResponse",n.diloseisInfoResponse)("dilosi",n.selectedDilosi)("onlinePaymentsSettingsCompany",n.onlinePaymentsSettingsCompany)}}var Pe=["requestBankDataForm"];function Oe(e,t){1&e&&(d.Tc(0,"div",12),d.Tc(1,"span",13),d.Oc(2,"i",14),d.Sc(),d.Tc(3,"span"),d.Qd(4,"\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bc\u03ad\u03bd\u03b5\u03c4\u03b5, \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03bf\u03cd\u03bc\u03b5 \u03bc\u03b5 \u03c4\u03bf \u0394\u03ae\u03bc\u03bf \u03b3\u03b9\u03b1 \u03bf\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1."),d.Sc(),d.Sc())}function Te(e,t){if(1&e&&(d.Tc(0,"div",15),d.Tc(1,"div",16),d.Qd(2),d.Sc(),d.Sc()),2&e){var i=d.gd();d.Ac(2),d.Sd(" ",i.errorMessageProfile," ")}}function Ae(e,t){if(1&e&&(d.Tc(0,"h5"),d.Qd(1),d.Sc()),2&e){var i=d.gd().$implicit;d.Ac(1),d.Rd(i.label)}}function De(e,t){if(1&e&&d.Oc(0,"small",24),2&e){var i=d.gd().$implicit;d.pd("innerHTML",i.description,d.Gd)}}function Ce(e,t){if(1&e&&(d.Oc(0,"img",27),d.hd(1,"lowercase")),2&e){var i=t.$implicit;d.pd("src","https://egritosgroup.gr/wp-content/uploads/2020/10/"+d.id(1,2,i)+".jpg",d.Hd)("alt",i)}}function Re(e,t){if(1&e&&(d.Rc(0),d.Od(1,Ce,2,4,"img",26),d.Qc()),2&e){var i=d.gd(2).$implicit;d.Ac(1),d.pd("ngForOf",i.services)}}function Me(e,t){if(1&e&&(d.Tc(0,"div",25),d.Od(1,Re,2,1,"ng-container",11),d.Sc()),2&e){var i=d.gd().$implicit;d.Ac(1),d.pd("ngIf",i.services&&i.services.length>0)}}function we(e,t){1&e&&(d.Tc(0,"div",25),d.Oc(1,"img",28),d.Sc())}function xe(e,t){if(1&e){var i=d.Uc();d.Rc(0),d.Tc(1,"div",21),d.ed("click",(function(){d.Fd(i);var e=t.$implicit;return d.gd(3).btnPayClicked(e)})),d.Od(2,Ae,2,1,"h5",11),d.Od(3,De,1,1,"small",22),d.Od(4,Me,2,1,"div",23),d.Od(5,we,2,0,"div",23),d.Sc(),d.Qc()}if(2&e){var n=t.$implicit,s=d.gd(3);d.Ac(1),d.Cc("payment-method btn btn-outline-primary w-100 text-dark mb-2 d-flex align-items-center justify-content-between "+s.paymentMethodsClass),d.pd("id",n.key),d.Ac(1),d.pd("ngIf",n.label),d.Ac(1),d.pd("ngIf",n.description),d.Ac(1),d.pd("ngIf","IRIS"!=n.key),d.Ac(1),d.pd("ngIf","IRIS"==n.key)}}function _e(e,t){if(1&e&&(d.Tc(0,"div",19),d.Od(1,xe,6,7,"ng-container",20),d.Sc()),2&e){var i=d.gd(2);d.Ac(1),d.pd("ngForOf",i.onlinePaymentSettings.paymentMethods)}}function Fe(e,t){1&e&&(d.Tc(0,"div",12),d.Tc(1,"span",13),d.Oc(2,"i",29),d.Sc(),d.Sc())}function Ue(e,t){if(1&e&&(d.Tc(0,"div",17),d.Od(1,_e,2,1,"div",18),d.Od(2,Fe,3,0,"div",0),d.Sc()),2&e){var i=d.gd();d.Ac(1),d.pd("ngIf",i.onlinePaymentSettings),d.Ac(1),d.pd("ngIf",!i.onlinePaymentSettings)}}function Ee(e,t){if(1&e&&d.Oc(0,"div",41),2&e){var i=d.gd(2);d.pd("innerHTML",i.formErrorsMsg,d.Gd)}}function Qe(e,t){if(1&e){var i=d.Uc();d.Tc(0,"div",3),d.Tc(1,"form",30,31),d.Tc(3,"div",32),d.Tc(4,"div",33),d.Tc(5,"label",34),d.Qd(6,"\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2*"),d.Sc(),d.Tc(7,"input",35),d.ed("ngModelChange",(function(e){return d.Fd(i),d.gd().paymentRequestDto.cardholderName=e})),d.Sc(),d.Tc(8,"div",36),d.Qd(9," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),d.Sc(),d.Sc(),d.Sc(),d.Tc(10,"div",37),d.Tc(11,"button",38),d.ed("click",(function(){return d.Fd(i),d.gd()._submitPaymentRequest()})),d.Oc(12,"i",39),d.Qd(13," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),d.Sc(),d.Sc(),d.Od(14,Ee,1,1,"div",40),d.Sc(),d.Sc()}if(2&e){var n=d.gd();d.Ac(7),d.pd("ngModel",n.paymentRequestDto.cardholderName),d.Ac(1),d.pd("hidden",!n.isFormSubmitted||n.isFormSubmitted&&n.paymentRequestDto.cardholderName),d.Ac(6),d.pd("ngIf",n.formErrorsMsg&&""!=n.formErrorsMsg)}}function je(e,t){if(1&e&&(d.Rc(0),d.Oc(1,"input",45),d.Qc()),2&e){var i=t.$implicit;d.Ac(1),d.qd("name",i.key),d.qd("value",i.value)}}function Le(e,t){if(1&e&&(d.Rc(0),d.Od(1,je,2,2,"ng-container",20),d.hd(2,"keyvalue"),d.Oc(3,"input",44),d.Qc()),2&e){var i=d.gd(2);d.Ac(1),d.pd("ngForOf",d.id(2,2,i.paymentResponseDto.postFields)),d.Ac(2),d.qd("value",i.everypayToken)}}function qe(e,t){if(1&e&&(d.Tc(0,"form",42),d.Od(1,Le,4,4,"ng-container",11),d.Oc(2,"div",43),d.Sc()),2&e){var i=d.gd();d.qd("action",null==i.paymentResponseDto?null:i.paymentResponseDto.postUrl,d.Hd),d.Ac(1),d.pd("ngIf",i.paymentResponseDto)}}function Ne(e,t){if(1&e&&d.Oc(0,"form",46),2&e){var i=d.gd();d.qd("action",null==i.paymentResponseDto?null:i.paymentResponseDto.postUrl,d.Hd)}}function Be(e,t){if(1&e&&(d.Tc(0,"div"),d.Oc(1,"input",47),d.Sc()),2&e){var i=t.$implicit;d.Ac(1),d.qd("name",i.key),d.qd("value",i.value)}}function We(e,t){if(1&e&&(d.Rc(0),d.Od(1,Be,2,2,"div",20),d.Qc()),2&e){var i=d.gd();d.Ac(1),d.pd("ngForOf",i.paymentResponseDto.postFields)}}function Ge(e,t){if(1&e){var i=d.Uc();d.Tc(0,"button",7),d.ed("click",(function(){return d.Fd(i),d.gd()._payActions()})),d.Oc(1,"i",8),d.Qd(2," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),d.Sc()}if(2&e){var n=d.gd();d.pd("disabled",!n.canPay)}}function Ve(e,t){1&e&&(d.Tc(0,"span",9),d.Oc(1,"i",10),d.Sc())}function ze(e,t){if(1&e){var i=d.Uc();d.Tc(0,"app-payment-methods",11),d.ed("createRequest",(function(){return d.Fd(i),d.gd()._payActions()}))("loadingSimplifyModal",(function(e){return d.Fd(i),d.gd().isLoadingSimplifyModalChanged(e)}))("isLoadingPaymentSettings",(function(e){return d.Fd(i),d.gd().isLoadingPaymentSettingsChanged(e)}))("isUserDataValid",(function(e){return d.Fd(i),d.gd().isUserDataValidChanged(e)})),d.Sc()}if(2&e){var n=d.gd();d.pd("assetsUrl",n.assetsUrl)("user",n.userInfo)("isLoadingPaymentResponse",n.isLoadingPaymentResponse)}}var He=function(){function e(t){a(this,e),this.toastr=t}return c(e,[{key:"show",value:function(e,t,i){t&&this.toastr[i](t,e,{progressBar:!0,onActivateTick:!0})}},{key:"showError",value:function(e,t){this.show(e,t,"error")}},{key:"showInfo",value:function(e,t){this.show(e,t,"info")}},{key:"showSuccess",value:function(e,t){this.show(e,t,"success")}},{key:"showWarning",value:function(e,t){this.show(e,t,"warning")}}]),e}();He.\u0275fac=function(e){return new(e||He)(d.bd(S.b))},He.\u0275prov=Object(d.Jc)({factory:function(){return new He(Object(d.bd)(S.b))},token:He,providedIn:"root"}),He.ctorParameters=function(){return[{type:S.b}]};var Ke=function e(t){var i=this;a(this,e),this.toastService=t,this.catchBadResponse=function(e){var t="";if(e.error instanceof Error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else if(void 0!==e.error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else switch(e.status){case 403:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error "+e.status;break;case 401:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n "+e.status;break;default:t="Backend returned code ".concat(e.status,", body was: ").concat(void 0!==e.body?e.body.error:void 0!==e.message?e.message:"")}return i.toastService.showError("",""+t),Object(p.a)(!1)}};Ke.\u0275fac=function(e){return new(e||Ke)(d.bd(He))},Ke.\u0275prov=Object(d.Jc)({factory:function(){return new Ke(Object(d.bd)(He))},token:Ke,providedIn:"root"}),Ke.ctorParameters=function(){return[{type:He}]};var $e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(s,e);var t=n(s);function s(e,i){var n;return a(this,s),(n=t.call(this,i,e)).exceptionSrv=e,n.http=i,n.katastimataUrl=n.baseUrl+"/DiloseisWeb",n.dmsUrl=n.baseUrl+"/DocDms",n.configurationOptionsUrl=n.baseUrl+"/Configurations",n.userInfoSubject=new u.a(null),n.userInfo$=n.userInfoSubject.asObservable(),n.egOnInit(),n}return c(s,[{key:"egOnInit",value:function(){var e=this;this.userInfo$.subscribe((function(t){e.userInfo=t}))}},{key:"initUserInfo",value:function(){if(!this.userInfo)for(var e=null,t=0;t<window.localStorage.length;t++){var i=window.localStorage.key(t);"userData"===i.slice(0,8)&&(e=JSON.parse(window.localStorage.getItem(i)),this.userInfoSubject.next({email:e.email,username:e.given_name,tin:e.tin,family_name:e.family_name,given_name:e.given_name,name:e.name,address_city:e.address_city,address_country_code:e.address_country_code,address_zip:e.address_zip,address:e.address,fathers_name:e.fathers_name,mothers_name:e.mothers_name,adt:e.adt,phone_number:e.phone_number}))}}},{key:"getDiloseis",value:function(e){return this.http.get("".concat(this.katastimataUrl,"/DiloseisWebInfo/").concat(e)).pipe(Object(h.a)((function(e){return e})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"getDilosiPaymentInfo",value:function(e){return this.http.post(this.katastimataUrl+"/DilosiWebPaymentInfo",e).pipe(Object(h.a)((function(e){return e})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"uploadPeriodikiDilosi",value:function(e){var t=new l.e;return t=t.append("isForm","true"),this.http.post(this.katastimataUrl+"/DilosiWebScan",e,{headers:t,responseType:"arraybuffer"}).pipe(Object(h.a)((function(e){return e})),Object(g.a)((function(){return Object(p.a)(!1)})))}},{key:"getPayedInfo",value:function(e){return this.http.get("".concat(this.katastimataUrl,"/DiloseisWebPayedInfo/").concat(e)).pipe(Object(h.a)((function(e){return e})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"getEpixeirisiInfo",value:function(e){return this.http.get("".concat(this.katastimataUrl,"/DiloseisWebEpixirisiInfo/").concat(e)).pipe(Object(h.a)((function(e){return e})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"deleteDocDmsByDilosiId",value:function(e){var t=this.katastimataUrl+"/DeleteDocDmsByDilosiId/"+e;return this.http.get(t).pipe(Object(h.a)((function(e){return e})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"markDilosiWebExoflisi",value:function(e){var t=this.katastimataUrl+"/MarkDilosiWebExoflisi";return this.http.post(t,e).pipe(Object(h.a)((function(e){return e})),Object(g.a)(this.exceptionService.catchBadResponse))}},{key:"addPaymentRequest",value:function(e){var t=this.financeUrl+"/Banks/AddPaymentRequest";return this.http.post(t,e).pipe(Object(h.a)((function(e){return e})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"getDocDmsByDilosiId",value:function(e){var t="".concat(this.dmsUrl,"/GetDocDmsByDilosiId/").concat(e);return this.http.get(t).pipe(Object(h.a)((function(e){return e})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"getDownloadFile",value:function(e){var t="".concat(this.dmsUrl,"/DownloadFile/").concat(e);return this.http.get(t).pipe(Object(h.a)((function(e){return e})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"getPluginCustomerOptions",value:function(){var e=this.configurationOptionsUrl+"/GetPluginCustomerSpecificOptions";return this.http.get(e).pipe(Object(h.a)((function(e){return e})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"createRemittanceInfoById",value:function(e){var t="".concat(this.katastimataUrl,"/CreateRemittanceInfoById/").concat(e),i={headers:new l.e({Accept:"text/html, application/xhtml+xml, */*","Content-Type":"text/plain; charset=utf-8"}),responseType:"text"};return this.http.get(t,i).pipe(Object(h.a)((function(e){return e})),Object(g.a)(this.exceptionSrv.catchBadResponse))}},{key:"getPaymentSettings",value:function(){var e=this,t=this.baseUrl+"/oikonomiki/GetPaymentSettings";return this.paymentSettings?Object(p.a)(this.paymentSettings):this.http.get(t).pipe(Object(h.a)((function(t){return e.paymentSettings=t,t})),Object(g.a)(this.exceptionSrv.catchBadResponse))}}]),s}(function(){return function e(t,i){var n=this;a(this,e),this.http=t,this.exceptionService=i,this.getBaseUrl=function(){return n.baseUrl},AppConfOptions&&AppConfOptions.katastimata_api?(this.baseUrl=AppConfOptions.katastimata_api,this.financeUrl=AppConfOptions.epayments_api):(this.baseUrl="/",this.financeUrl=AppConfOptions.financeApi),this.baseUrl+="api",this.financeUrl+="api"}}());function Je(t,i,n){var s="",o=[],a=t.control;return Object.keys(a.controls).forEach((function(t){var i=a.get(t);i instanceof I.d&&o.push.apply(o,e(function t(i){var n=[];return Object.keys(i.controls).forEach((function(s){var o=i.get(s);o instanceof I.d&&n.push.apply(n,e(t(o)));var a=o.errors;a&&Object.keys(a).forEach((function(e){n.push({control:s,error:e,value:a[e]})}))})),n}(i)));var n=i.errors;n&&Object.keys(n).forEach((function(e){o.push({control:t,error:e,value:n[e]})}))})),!(!o&&!n)&&(s="<ul>",o.forEach((function(e){var t;"required"==e.error?t="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==e.error?t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"max"==e.error&&(t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03ad\u03b3\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),s+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+i[e.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+t+"</li>"})),s+=n,s+="</ul>")}function Ye(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},s=Object(y.a)((function(){return Object(p.a)(!0)})),o=[];return t.forEach((function(t){o=[].concat(e(o),[Object(y.a)((function(e){return e?t:(n(),Object(p.a)(!1))}))])})),(i=Object(p.a)(!0)).pipe.apply(i,[s,s,s,s,s,s,s,s,s].concat(e(o)))}function Xe(e,t){var i=function(){try{e.detectChanges()}catch(t){console.warn("View already destroyed")}};t?t.runOutsideAngular((function(){return i()})):i()}function Ze(e){try{return JSON.parse(JSON.stringify(e))}catch(t){console.error(t)}}$e.\u0275fac=function(e){return new(e||$e)(d.bd(Ke),d.bd(l.b))},$e.\u0275prov=Object(d.Jc)({factory:function(){return new $e(Object(d.bd)(Ke),Object(d.bd)(l.b))},token:$e,providedIn:"root"}),$e.ctorParameters=function(){return[{type:Ke},{type:l.b}]};var et=function(){function e(t,i,n,s,o,r){a(this,e),this.katastimataNgSrv=t,this.toasterSrv=i,this.cdr=n,this._http=s,this.router=o,this.route=r,this.model=[],this.countriesList=[],this.index=0,this.isLoading=!0,this.isAddingNewDilosi=!1,this.onDestroy=new f.a}return c(e,[{key:"ngOnInit",value:function(){var e=this;this.katastimataNgSrv.initUserInfo(),this.katastimataNgSrv.userInfo$.pipe(Object(y.a)((function(t){return t?(e.userInfo=t,e._http.get(AuthConfOptions.stsServer+"/api/general/GetCountries")):Object(p.a)(!1)})),Object(v.a)(this.onDestroy)).subscribe((function(t){t&&(e.countriesList=t,e.userInfo.address_country_code&&""!=e.userInfo.address_country_code&&(e.userInfo.address_country_num=e.countriesList.find((function(t){return t.Alpha2Code==e.userInfo.address_country_code})).NumericCode.toString())),Xe(e.cdr)})),this.router.events.pipe(Object(b.a)((function(e){return e instanceof k.b})),Object(v.a)(this.onDestroy)).subscribe((function(t){t&&t.url&&t.url.includes("receipts")?e.index=0:t&&t.url&&t.url.includes("saved")&&(e.index=1),Xe(e.cdr)})),Object(m.a)([this.katastimataNgSrv.getEpixeirisiInfo(this.userInfo.tin),this.katastimataNgSrv.getDiloseis(this.userInfo.tin),this.katastimataNgSrv.getPluginCustomerOptions()]).subscribe((function(t){if(t){if(e.epixeirisiInfo=t[0],e.diloseisInfoResponse=t[1],e.epixeirisiInfo||e.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03c9\u03bd \u03c4\u03b7\u03c2 \u03b5\u03c0\u03b9\u03c7\u03b5\u03af\u03c1\u03b7\u03c3\u03b7\u03c2."),e.diloseisInfoResponse&&e.diloseisInfoResponse.length>0?e.diloseisInfoSaved=e.diloseisInfoResponse.filter((function(e){return 6==e.statusId})):e.toasterSrv.showError("","\u0394\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03c9\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd."),t[2]){var i=t[2].find((function(e){return e.configurationOptions.find((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id}))}));i&&i.configurationOptions.find((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id}))&&(e.onlinePaymentsSettingsCompany=i.configurationOptions.find((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id})).value)}Xe(e.cdr),e._loadData()}else e.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1.")}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_loadData",value:function(){var e=this;this.katastimataNgSrv.getPayedInfo(this.userInfo.tin).subscribe((function(t){t?e.model=t:e.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03c9\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd."),e.isLoading=!1,Xe(e.cdr)}))}},{key:"onCreateNewDilosiClicked",value:function(){this.isAddingNewDilosi=!0,Xe(this.cdr)}},{key:"onTabChanged",value:function(e){0==e.index?this.router.navigate(["./receipts"],{relativeTo:this.route,preserveQueryParams:!0}):this.router.navigate(["./saved"],{relativeTo:this.route})}},{key:"onReloadSaved",value:function(e){var t=this;this.katastimataNgSrv.getDiloseis(this.userInfo.tin).subscribe((function(e){e&&(t.diloseisInfoResponse=e,t.diloseisInfoSaved=t.diloseisInfoResponse.filter((function(e){return 6==e.statusId})),Xe(t.cdr),t._loadData())}))}}]),e}();et.\u0275fac=function(e){return new(e||et)(d.Nc($e),d.Nc(He),d.Nc(d.k),d.Nc(l.b),d.Nc(k.d),d.Nc(k.a))},et.\u0275cmp=d.Hc({type:et,selectors:[["lib-katastimata-ng"]],decls:7,vars:9,consts:[[4,"ngIf"],["title","\u039d\u03ad\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7",3,"isOpen","size","isOpenChange"],[1,"modal-body"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","epixeirisiInfo","updateSaved",4,"ngIf"],[1,"d-flex",2,"height","100vh !important"],[1,"justify-content-center","align-self-start","w-100","mt-2"],["role","alert",1,"bg-danger","text-light","p-2"],["class","mb-3 py-1 d-flex flex-wrap",4,"ngIf"],[3,"activeIndex","onChange"],["header","\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd"],[3,"diloseisReceipts","userInfo","isLoading","diloseisInfoResponse","reloadData",4,"ngIf"],["header","\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",4,"ngIf"],[1,"mb-3","py-1","d-flex","flex-wrap"],["class","m-0 mr-1 d-inline-flex align-items-center eponimia-title",4,"ngIf"],["class","btn btn-primary btn-sm m-0 ml-auto","type","button",3,"click",4,"ngIf"],[1,"m-0","mr-1","d-inline-flex","align-items-center","eponimia-title"],["type","button",1,"btn","btn-primary","btn-sm","m-0","ml-auto",3,"click"],["aria-hidden","true",1,"fas","fa-plus"],[3,"diloseisReceipts","userInfo","isLoading","diloseisInfoResponse","reloadData"],["header","\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2"],["pTemplate","content"],[3,"dilosiInfoSaved","userInfo","isLoading","diloseisInfoResponse","onlinePaymentsSettingsCompany","epixeirisiInfo","reloadData"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","epixeirisiInfo","updateSaved"]],template:function(e,t){1&e&&(d.Od(0,x,5,0,"ng-container",0),d.hd(1,"async"),d.Od(2,L,6,4,"ng-container",0),d.hd(3,"async"),d.Tc(4,"eg-modal",1),d.ed("isOpenChange",(function(e){return t.isAddingNewDilosi=e})),d.Tc(5,"div",2),d.Od(6,q,1,4,"app-katastimata-create-dilosi",3),d.Sc(),d.Sc()),2&e&&(d.pd("ngIf",!d.id(1,5,t.katastimataNgSrv.userInfo$)),d.Ac(2),d.pd("ngIf",d.id(3,7,t.katastimataNgSrv.userInfo$)),d.Ac(2),d.pd("isOpen",t.isAddingNewDilosi)("size","xl"),d.Ac(2),d.pd("ngIf",t.isAddingNewDilosi))},directives:function(){return[P.p,O.a,R.b,R.a,ut,w.f,ft,pt]},pipes:function(){return[P.b]},encapsulation:2,changeDetection:0}),et.ctorParameters=function(){return[{type:$e},{type:He},{type:d.k},{type:l.b},{type:k.d},{type:k.a}]};var tt,it,nt,st,ot,at,rt=function e(){a(this,e),this.dilosiId=0,this.dilosiDescription=null,this.hmeromiaLixisDilosis=null},ct=function e(){a(this,e),this.dilosiId=null,this.epixirisiOfeiletisEponimia=null,this.paymentCaption=null,this.paymentCode=null,this.paymentAmount=null,this.telosPoso=null,this.prostimoPoso=null,this.posostoEkprothesmisKatavolisMines=null,this.apoforologimenoPoso=null,this.posostoTelous=null,this.posostoEkprothesmisKatavolis=null,this.posostoEkprothesmisKatavolisArxiko=null},dt=function e(){a(this,e),this.bankTransactionId=null};!function(e){e[e.allo=0]="allo",e[e.adeies=1]="adeies",e[e.diloseis=2]="diloseis",e[e.aitiseisDimotikiAstinomia=3]="aitiseisDimotikiAstinomia"}(tt||(tt={})),function(e){e[e.String=1]="String",e[e.Select=2]="Select",e[e.MultiSelect=3]="MultiSelect",e[e.Number=4]="Number",e[e.Date=5]="Date",e[e.DateTime=6]="DateTime",e[e.Dynamic=7]="Dynamic",e[e.StringMultiLine=8]="StringMultiLine",e[e.Checkbox=9]="Checkbox"}(it||(it={})),function(e){e[e.Ok=1]="Ok",e[e.Error=2]="Error",e[e.Warning=3]="Warning",e[e.UndefinedError=4]="UndefinedError"}(nt||(nt={})),function(e){e[e.aplirotes=1]="aplirotes",e[e.pliromenes=2]="pliromenes"}(st||(st={})),function(e){e.dilosiDescription="\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2",e.ypokeimenoPoso="\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc",e.periodikiDilosiFPA="\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)"}(ot||(ot={})),function(e){e.billAddrState="\u03a0\u03b5\u03c1\u03b9\u03c6\u03ad\u03c1\u03b5\u03b9\u03b1",e.cardholderName="\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2",e.mobilePhone="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf"}(at||(at={}));var lt=o("C7T5"),pt=function(){function t(e,i,n){a(this,t),this.katastimataNgSrv=e,this.toasterSrv=i,this.cdr=n,this.updateSaved=new d.x,this.requestObs=[],this.onDestroy=new f.a,this.pososta=[{value:"0.5",description:"0.5%"},{value:"2",description:"2%"},{value:"5",description:"5%"}],this.toggleEditFiles=!1,this.periodikiDilosiFPA=null,this.extraFile=null,this.uploadedFiles=[],this.errorMessageProfile=null,this.isLoading=!1,this.isFormDirty=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=ot}return c(t,[{key:"ngOnInit",value:function(){var e=this;this.dilosi?this.katastimataNgSrv.getDocDmsByDilosiId(this.dilosiCopy.dilosiId).subscribe((function(t){t&&(e.dilosiFiles=t,Xe(e.cdr))})):(this.dilosi=new rt,this.dilosiCopy=Ze(this.dilosi),Xe(this.cdr)),this.katastimataNgSrv.userInfo$.pipe(Object(v.a)(this.onDestroy)).subscribe((function(t){t&&(e.userInfo=t,Xe(e.cdr))}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"ngOnChanges",value:function(e){e&&e.dilosi&&(this.dilosiCopy=e.dilosi.currentValue,Xe(this.cdr)),e&&e.onlinePaymentsSettingsCompany&&(this.onlinePaymentsSettingsCompany=e.onlinePaymentsSettingsCompany.currentValue,Xe(this.cdr))}},{key:"onSelectedDilosiChanged",value:function(e){var t=this;e&&(this.dilosiCopy=this.diloseisInfoResponse.filter((function(e){return e.dilosiId===+t.dilosiCopy.dilosiId}))[0],Xe(this.cdr))}},{key:"downloadFile",value:function(e){e&&this.katastimataNgSrv.getDownloadFile(e).subscribe()}},{key:"onFileChange",value:function(e,t){var i=this;e&&e.srcElement.files.length>0?lt(e,!0).then((function(e){i.uploadedFiles[t]=e})):delete this.uploadedFiles[t],this.isFormDirty=!0,Xe(this.cdr)}},{key:"onSubmit",value:function(){var t=this;if(this.formErrorsMsg="",this.dimotikosForosForm.valid&&this.dilosiCopy.ypokeimenoPoso>0){this.isFormSubmitted=!0,this.isFormDirty=!1,this.isLoading=!0;var i=[];if(!this.dilosiFiles||0==this.dilosiFiles.length||this.uploadedFiles&&this.uploadedFiles.length){for(var n=[],s=Object.values(this.uploadedFiles),o=0;o<s.length;o++){var a=s[o],r=a.name.substr(a.name.lastIndexOf(".")+1);n.push({language:"el",dilosiId:+this.dilosiCopy.dilosiId,fileContent:a.base64,fileLength:a.size,fileExtension:r,fileDescription:o,fileName:a.name})}i=[].concat(e(i),[this.katastimataNgSrv.deleteDocDmsByDilosiId(this.dilosiCopy.dilosiId)]),n.length>0&&n.forEach((function(n){i=[].concat(e(i),[t.katastimataNgSrv.uploadPeriodikiDilosi(n)])}))}var c={language:"el",dilosiId:+this.dilosiCopy.dilosiId,ypokeimenoPoso:+this.dilosiCopy.ypokeimenoPoso,hmerominiaDilosis:new Date};if(this.onlinePaymentsSettingsCompany&&"1"==this.onlinePaymentsSettingsCompany)this.requestObs=[].concat(e(this.requestObs),[this.katastimataNgSrv.getDilosiPaymentInfo(c)]),i=[].concat(e(i),[this.katastimataNgSrv.getDilosiPaymentInfo(c)]),Xe(this.cdr),Ye(i,(function(){return t.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1.")})).subscribe((function(e){e?(t.dilosiWebPaymentInfo=e,t.dilosiWebPaymentInfo&&(t.updateSaved.emit({dilosiId:t.dilosiWebPaymentInfo.dilosiId,dilosiDescription:t.dilosiWebPaymentInfo.paymentCaption,statusId:t.dilosiCopy.statusId,akatharistoPoso:t.dilosiCopy.akatharistoPoso,ypokeimenoPoso:t.dilosiCopy.ypokeimenoPoso,telosPoso:t.dilosiWebPaymentInfo.telosPoso,prostimoPoso:t.dilosiWebPaymentInfo.prostimoPoso,hmeromiaLixisDilosis:t.dilosiCopy.hmeromiaLixisDilosis,isChecked:!1}),t.kodikosPliromis=t.dilosiWebPaymentInfo.paymentCode,t.kodikosPliromis&&t.kodikosPliromis.length>15&&(t.kodikosPliromis=t.dilosiWebPaymentInfo.paymentCode.match(/(.|[\r\n]){1,4}/g).toString(),t.kodikosPliromis=t.kodikosPliromis.replace(new RegExp(",","g")," "))),t.isLoading=!1,t.isFormSubmitted=!1,Xe(t.cdr)):t.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03c9\u03bd \u03c0\u03bf\u03c3\u03ce\u03bd.")}));else{this.dilosiWebPaymentInfo=new ct;var d="";this.katastimataNgSrv.createRemittanceInfoById(this.dilosiCopy.dilosiId).pipe(Object(y.a)((function(e){return e?(d=e,Ye(i,(function(){return t.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1.")}))):Object(p.a)(!1)}))).subscribe((function(e){if(e&&t.dilosiWebPaymentInfo){var i=+t.selectedPososto/100+1,n=(t.dilosiCopy.ypokeimenoPoso/i).toFixed(2);n=+n;var s=+t.selectedPososto/100,o=(n*s).toFixed(2);o=+o;var a=(c=new Date(t.dilosiCopy.hmeromiaLixisDilosis),(l=new Date).getMonth()-c.getMonth()+12*(l.getFullYear()-c.getFullYear()));a<0&&(a=0);var r=.02*a*o;r>o&&(r=o),t.dilosiWebPaymentInfo.dilosiId=t.dilosiCopy.dilosiId,t.dilosiWebPaymentInfo.epixirisiOfeiletisEponimia=t.epixeirisiInfo.eponimia,t.dilosiWebPaymentInfo.paymentCaption=t.dilosiCopy.dilosiDescription,t.dilosiWebPaymentInfo.paymentCode=d,t.dilosiWebPaymentInfo.paymentAmount=o+r,t.dilosiWebPaymentInfo.telosPoso=o,t.dilosiWebPaymentInfo.prostimoPoso=r,t.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines=a,t.dilosiWebPaymentInfo.apoforologimenoPoso=n,t.dilosiWebPaymentInfo.posostoTelous=s,t.dilosiWebPaymentInfo.posostoEkprothesmisKatavolis=.02*a,t.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisArxiko=.02,t.updateSaved.emit({dilosiId:t.dilosiCopy.dilosiId,dilosiDescription:t.dilosiCopy.dilosiDescription,statusId:t.dilosiCopy.statusId,hmeromiaLixisDilosis:t.dilosiCopy.hmeromiaLixisDilosis,akatharistoPoso:t.dilosiCopy.akatharistoPoso,ypokeimenoPoso:t.dilosiCopy.ypokeimenoPoso,isChecked:!1,telosPoso:t.dilosiWebPaymentInfo.telosPoso,prostimoPoso:t.dilosiWebPaymentInfo.prostimoPoso}),t.isLoading=!1,t.isFormSubmitted=!1,Xe(t.cdr)}else t.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03bf\u03c5 Remittance Info.");var c,l})),Xe(this.cdr)}}else{var l="";this.dilosiCopy.dilosiId||(l+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf</li>"),0==this.dilosiCopy.ypokeimenoPoso&&(l+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03c4\u03bf\u03c5 0</li>"),this.formErrorsMsg=Je(this.dimotikosForosForm,this.formDictionaryEnum,l),Xe(this.cdr)}}}]),t}();pt.\u0275fac=function(e){return new(e||pt)(d.Nc($e),d.Nc(He),d.Nc(d.k))},pt.\u0275cmp=d.Hc({type:pt,selectors:[["app-katastimata-create-dilosi"]],viewQuery:function(e,t){var i;1&e&&d.Vd(N,!0),2&e&&d.Cd(i=d.fd())&&(t.dimotikosForosForm=i.first)},inputs:{dilosi:"dilosi",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",diloseisInfoResponse:"diloseisInfoResponse",epixeirisiInfo:"epixeirisiInfo"},outputs:{updateSaved:"updateSaved"},features:[d.yc],decls:3,vars:3,consts:[["class","form w-100",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],[1,"form","w-100"],["dimotikosForosForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6"],["name","dilosiDescription","bindLabel","dilosiDescription","bindValue","dilosiId","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7","required","",3,"items","searchable","clearable","ngModel","ngModelChange","change"],["dilosiDescription","ngModel"],[1,"text-danger",3,"hidden"],["name","hmeromiaLixisDilosis","placeholder","\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2","type","text","disabled","",1,"form-control",3,"value"],["class","form-group col-12 col-md-6",4,"ngIf"],[1,"form-group","col-12",3,"ngClass"],["name","ypokeimenoPoso","type","text","currencyMask","","lang","el-GR","placeholder","0,00","required","",1,"form-control",3,"ngModel","ngModelChange"],["ypokeimenoPosoInput","ngModel"],["class","row",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm","d-block","mt-2","mx-auto",3,"click"],["aria-hidden","true",1,"fas","fa-calculator"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["class","screen-msg",4,"ngIf"],["name","pososto","bindLabel","description","bindValue","value","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc","required","",3,"items","searchable","clearable","ngModel","ngModelChange"],["posostoInput","ngModel"],[1,"col-12"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"far","fa-edit"],[1,"far","fa-calendar-alt"],["type","button",1,"btn","btn-sm","btn-success","m-0",3,"click"],[1,"fas","fa-download"],["class","col-12 alert alert-warning",4,"ngIf"],[1,"form-group","col-12","col-sm-6"],["for","periodikiDilosiFPA"],["name","periodikiDilosiFPA","placeholder","\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)","type","file","required","",1,"form-control-file",3,"ngModel","ngModelChange","change"],["periodikiDilosiFPAInput","ngModel"],["for","extraFile"],["name","extraFile","placeholder","\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf","type","file",1,"form-control-file",3,"ngModel","ngModelChange","change"],[1,"col-12","alert","alert-warning"],[1,"fas","fa-exclamation-circle"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"screen-msg"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"w-100","pb-2"],[1,"debits-info","d-flex","justify-content-between"],[1,"debits-info_left","d-flex","mr-1"],[1,"mb-0"],[1,"mr-1",2,"width","220px"],["class","mb-0",4,"ngIf"],[1,"totalPoso"],[3,"userInfo","requestObs","createWebPaymentInfo","canPay","errorMsg"]],template:function(e,t){1&e&&(d.Od(0,$,31,17,"form",0),d.Od(1,J,3,0,"div",1),d.Od(2,ee,43,35,"ng-container",2)),2&e&&(d.pd("ngIf",t.dilosiCopy&&t.diloseisInfoResponse&&t.diloseisInfoResponse.length>0),d.Ac(1),d.pd("ngIf",t.isLoading),d.Ac(1),d.pd("ngIf",t.dilosiWebPaymentInfo&&!t.isLoading))},directives:function(){return[P.p,I.v,I.l,I.m,T.a,I.s,I.k,I.n,P.n,I.b,A.b,P.o,yt]},pipes:function(){return[P.f,P.d]},encapsulation:2,changeDetection:0}),pt.ctorParameters=function(){return[{type:$e},{type:He},{type:d.k}]},pt.propDecorators={dimotikosForosForm:[{type:d.mb,args:["dimotikosForosForm"]}],diloseisInfoResponse:[{type:d.G}],dilosi:[{type:d.G}],onlinePaymentsSettingsCompany:[{type:d.G}],updateSaved:[{type:d.S}],epixeirisiInfo:[{type:d.G}]};var ut=function(){function e(t,i,n){a(this,e),this.katastimataNgSrv=t,this.route=i,this._http=n,this.reloadData=new d.x,this.onDestroy=new f.a,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}return c(e,[{key:"ngOnChanges",value:function(e){var t=this;e&&e.diloseisReceipts&&(this.diloseisReceipts=e.diloseisReceipts.currentValue,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.diloseisReceipts.forEach((function(e){t.sumYpokeimeno+=e.ypokeimenoPoso,t.sumTelos+=e.telosPoso,t.sumProstimo+=e.prostimoPoso})))}},{key:"ngOnInit",value:function(){var e=this;this.katastimataNgSrv.userInfo$.pipe(Object(v.a)(this.onDestroy)).subscribe((function(t){return e.userInfo=t})),this._getBankMessages().pipe(Object(y.a)((function(t){return t?(e.oikonomikiBankMessages=t,e.route.queryParams.pipe(Object(v.a)(e.onDestroy))):Object(p.a)(!1)}))).subscribe((function(t){if(t){var i=t,n=i.messagecode,s=i.btId;if(n)if(e.bankStatusMessage=e.oikonomikiBankMessages[n],"TRANSACTION_COMPLETED"==n){if(e.bankStatusMessageClass="success",s){var o=new dt;o.bankTransactionId=s,e.katastimataNgSrv.markDilosiWebExoflisi(o).subscribe((function(){e.reloadData.emit(!0)}))}}else e.bankStatusMessageClass="fail"}}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_getBankMessages",value:function(){var e=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(e)}},{key:"btnBankStatusMessageClicked",value:function(){this.bankStatusMessage=null}}]),e}();ut.\u0275fac=function(e){return new(e||ut)(d.Nc($e),d.Nc(k.a),d.Nc(l.b))},ut.\u0275cmp=d.Hc({type:ut,selectors:[["app-katastimata-receipts"]],inputs:{diloseisReceipts:"diloseisReceipts",userInfo:"userInfo",diloseisInfoResponse:"diloseisInfoResponse",isLoading:"isLoading"},outputs:{reloadData:"reloadData"},features:[d.yc],decls:5,vars:5,consts:[["class","d-flex w-100 justify-content-center",4,"ngIf"],["class","d-flex justify-content-center w-100 mt-1",4,"ngIf"],[3,"class",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center"],[1,"badge","badge-warning","p-1"],[1,"d-flex","justify-content-center","w-100","mt-1"],[1,"badge","badge-warning"],["type","button","aria-label","\u039a\u03bb\u03b5\u03af\u03c3\u03b9\u03bc\u03bf \u039c\u03b7\u03bd\u03cd\u03bc\u03b1\u03c4\u03bf\u03c2",1,"close-bank-msg","position-absolute",2,"right","5px","top","5px","background-color","transparent","border","0 none","color","#ffffff",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"mt-1"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-170"],[1,"fixed-width-col-100"],[1,"fixed-width-col-120"],[1,"p-column-title"],[1,"fixed-width-col-100","text-right"],["colspan","2",1,"fixed-width-col-230","text-right"]],template:function(e,t){1&e&&(d.Od(0,te,3,0,"div",0),d.Od(1,ie,3,0,"div",1),d.Od(2,ne,4,4,"div",2),d.Od(3,se,3,0,"div",3),d.Od(4,de,11,11,"ng-container",4)),2&e&&(d.pd("ngIf",!(t.diloseisInfoResponse&&0!=t.diloseisInfoResponse.length||t.isLoading)),d.Ac(1),d.pd("ngIf",!(t.diloseisReceipts&&0!=t.diloseisReceipts.length||t.isLoading)),d.Ac(1),d.pd("ngIf",t.bankStatusMessage),d.Ac(1),d.pd("ngIf",t.isLoading),d.Ac(1),d.pd("ngIf",!t.isLoading))},directives:[P.p,C.d,w.f],pipes:[P.d],encapsulation:2}),ut.ctorParameters=function(){return[{type:$e},{type:k.a},{type:l.b}]},ut.propDecorators={diloseisReceipts:[{type:d.G}],diloseisInfoResponse:[{type:d.G}],userInfo:[{type:d.G}],isLoading:[{type:d.G}],reloadData:[{type:d.S}]};var ft=function(){function t(e,i,n,s){a(this,t),this.katastimataNgSrv=e,this.cdr=i,this.route=n,this._http=s,this.reloadData=new d.x,this.modelPaymentInfo=[],this.onDestroy=new f.a,this.errorMessageProfile=null,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.isAllDebitsChecked=!1,this.calculatedChecked={countChecked:0,countText:"\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",checkedYpokeimeno:0,checkedTelos:0,checkedProstimo:0},this.requestObs=[],this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumToPay=0,this.isEditModalOpen=!1,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}return c(t,[{key:"ngOnChanges",value:function(e){var t=this;e&&e.dilosiInfoSaved&&(this.dilosiInfoSaved=e.dilosiInfoSaved.currentValue,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumToPay=0,this.dilosiInfoSaved.forEach((function(e){t.sumYpokeimeno+=e.ypokeimenoPoso,t.sumTelos+=e.telosPoso,t.sumProstimo+=e.prostimoPoso,t.sumToPay+=e.telosPoso+e.prostimoPoso})),Xe(this.cdr))}},{key:"ngOnInit",value:function(){var e=this;this.katastimataNgSrv.userInfo$.pipe(Object(v.a)(this.onDestroy)).subscribe((function(t){return e.userInfo=t})),this._getBankMessages().pipe(Object(y.a)((function(t){return t?(e.oikonomikiBankMessages=t,e.route.queryParams.pipe(Object(v.a)(e.onDestroy))):Object(p.a)(!1)}))).subscribe((function(t){if(t){var i=t,n=i.messagecode,s=i.btId;if(n)if(e.bankStatusMessage=e.oikonomikiBankMessages[n],"TRANSACTION_COMPLETED"==n){if(e.bankStatusMessageClass="success",s){var o=new dt;o.bankTransactionId=s,e.katastimataNgSrv.markDilosiWebExoflisi(o).subscribe((function(){e.reloadData.emit(!0)}))}}else e.bankStatusMessageClass="fail"}Xe(e.cdr)}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_getBankMessages",value:function(){var e=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(e)}},{key:"_calculateTotalAmounts",value:function(){var t=this;this.requestObs=[];var i,n=0,s=0,o=0,a=0;this.dilosiInfoSaved.forEach((function(i){if(i.isChecked){a++,n+=i.ypokeimenoPoso,s+=i.telosPoso,o+=i.prostimoPoso;var r={language:"el",ypokeimenoPoso:+i.ypokeimenoPoso,dilosiId:+i.dilosiId,hmerominiaDilosis:new Date};t.requestObs=[].concat(e(t.requestObs),[t.katastimataNgSrv.getDilosiPaymentInfo(r)])}})),i=1==a?"\u03b4\u03ae\u03bb\u03c9\u03c3\u03b7":"\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",this.calculatedChecked={countChecked:a,countText:i,checkedYpokeimeno:n,checkedTelos:s,checkedProstimo:o},Xe(this.cdr)}},{key:"_createPaymentInfo",value:function(){var t=this;this.modelPaymentInfo=[],Object(m.a)(this.requestObs).subscribe((function(i){i&&(i.forEach((function(i){t.modelPaymentInfo=[].concat(e(t.modelPaymentInfo),[i])})),Xe(t.cdr))}))}},{key:"onAllDebitsSelected",value:function(){var e=this;this.dilosiInfoSaved.forEach((function(t){t.isChecked=e.isAllDebitsChecked})),Xe(this.cdr),this._calculateTotalAmounts()}},{key:"onEdit",value:function(e){this.isEditModalOpen=!0,this.selectedDilosi=Ze(e),Xe(this.cdr)}},{key:"updateDilosiInTable",value:function(e){if(e){var t=this.dilosiInfoSaved.findIndex((function(t){return t.dilosiId==e.dilosiId}));this.dilosiInfoSaved[t]=e,Xe(this.cdr)}}},{key:"onBankStatusMessage",value:function(){this.bankStatusMessage=null,Xe(this.cdr)}}]),t}();ft.\u0275fac=function(e){return new(e||ft)(d.Nc($e),d.Nc(d.k),d.Nc(k.a),d.Nc(l.b))},ft.\u0275cmp=d.Hc({type:ft,selectors:[["app-katastimata-saved"]],inputs:{dilosiInfoSaved:"dilosiInfoSaved",userInfo:"userInfo",diloseisInfoResponse:"diloseisInfoResponse",epixeirisiInfo:"epixeirisiInfo",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",isLoading:"isLoading"},outputs:{reloadData:"reloadData"},features:[d.yc],decls:8,vars:6,consts:[[3,"class",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],["selectedDebits",""],["title","\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2",3,"isOpen","size","isOpenChange"],[1,"p-2"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","updateSaved",4,"ngIf"],[1,"close-bank-msg",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],["class","debits-info__selected-debits",4,"ngIf"],[1,"mt-1"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["class","screen-msg",4,"ngIf"],[1,"debits-info__selected-debits"],[4,"ngTemplateOutlet"],[1,"fixed-width-col-40","text-center"],[3,"binary","ngModel","ngModelChange","onChange"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-170"],[1,"fixed-width-col-100"],[1,"fixed-width-col-120"],[1,"p-column-title"],[1,"fixed-width-col-100","text-right"],[1,"fixed-width-col-120","text-center"],["type","button",1,"btn","btn-primary","btn-sm","m-0",3,"click"],[1,"far","fa-edit"],["colspan","3",1,"fixed-width-col-270","text-right"],[3,"userInfo","requestObs","errorMsg"],[1,"screen-msg"],[1,"totalPoso"],[1,"d-flex","total-selected-cost"],["id","sumTotalToBank",1,"totalPoso"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","updateSaved"]],template:function(e,t){1&e&&(d.Od(0,le,4,4,"div",0),d.Od(1,pe,3,0,"div",1),d.Od(2,Se,14,14,"ng-container",2),d.Od(3,ke,20,20,"ng-template",null,3,d.Pd),d.Tc(5,"eg-modal",4),d.ed("isOpenChange",(function(e){return t.isEditModalOpen=e}))("isOpenChange",(function(){return t.isEditModalOpen=!1,t.selectedDilosi=null})),d.Tc(6,"div",5),d.Od(7,Ie,1,3,"app-katastimata-create-dilosi",6),d.Sc(),d.Sc()),2&e&&(d.pd("ngIf",t.bankStatusMessage),d.Ac(1),d.pd("ngIf",t.isLoading),d.Ac(1),d.pd("ngIf",!t.isLoading),d.Ac(3),d.pd("isOpen",t.isEditModalOpen)("size","xl"),d.Ac(2),d.pd("ngIf",t.isEditModalOpen&&t.selectedDilosi))},directives:function(){return[P.p,O.a,C.d,w.f,P.u,M.a,I.k,I.n,yt,pt]},pipes:function(){return[P.d]},encapsulation:2,changeDetection:0}),ft.ctorParameters=function(){return[{type:$e},{type:d.k},{type:k.a},{type:l.b}]},ft.propDecorators={dilosiInfoSaved:[{type:d.G}],diloseisInfoResponse:[{type:d.G}],userInfo:[{type:d.G}],epixeirisiInfo:[{type:d.G}],onlinePaymentsSettingsCompany:[{type:d.G}],isLoading:[{type:d.G}],reloadData:[{type:d.S}]};var mt=[{path:"",component:et,children:[{path:"",pathMatch:"full",redirectTo:"receipts"},{path:"receipts",component:ut},{path:"saved",component:ft}]}],ht=function e(){a(this,e)};ht.\u0275mod=d.Lc({type:ht}),ht.\u0275inj=d.Kc({factory:function(e){return new(e||ht)},imports:[[k.g.forChild(mt)],k.g]}),("undefined"==typeof ngJitMode||ngJitMode)&&d.Id(ht,{imports:function(){return[k.g]},exports:function(){return[k.g]}});var gt=function(){function e(t,i,n){a(this,e),this.katastimataNgSrv=t,this.toasterSrv=i,this.cdr=n,this.loadingSimplifyModal=new d.x,this.createRequest=new d.x,this.isLoadingPaymentSettings=new d.x,this.isUserDataValid=new d.x,this.onDestroy=new f.a,this.paymentMethodsClass="pm-size-2",this.requestBankData=!1,this.errorMessageProfile=null,this.isFormSubmitted=!1,this.formDictionaryEnum=at}return c(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"ngOnChanges",value:function(e){e&&e.paymentResponseDto&&(this.paymentResponseDto=e.paymentResponseDto.currentValue),Xe(this.cdr)}},{key:"btnPayClicked",value:function(e){var t=this;this.selectedPaymentMethod=e||this.onlinePaymentSettings.paymentMethods.filter((function(e){return e.key==t.onlinePaymentSettings.defaultPaymentMethodKey}))[0],this.paymentRequestDto?this.paymentRequestDto.paymentMethodKey=this.selectedPaymentMethod.key:this.paymentRequestDto=null,AppConfOptions&&AppConfOptions.oroi_xrisis_link&&""!=AppConfOptions.oroi_xrisis_link?(this.termsLink=AppConfOptions.oroi_xrisis_link,this.isTermsModalOpen=!0,Xe(this.cdr)):this.paymentRequestDto&&"PIRBGRAA"!=this.paymentRequestDto.paymentMethodKey?this.createRequest.emit(!0):this.paymentRequestDto&&"PIRBGRAA"==this.paymentRequestDto.paymentMethodKey&&(this.requestBankData=!0,this.showMethods=!1,Xe(this.cdr))}},{key:"onEthnikiPaymentRequestSucceded",value:function(e){var t=this;this.paymentResponseDto=e,this.loadingSimplifyModal.emit(!0);var i=document.getElementById("ethnikiPaymentBtn");i.setAttribute("data-amount",e.postFields.amount),i.setAttribute("data-reference",e.postFields.reference),i.setAttribute("data-sc-key",this.ethnikiPaymentMethod.parameters.publicKey),this.loadingSimplifyModal.emit(!1),setTimeout((function(){i.click()})),SimplifyCommerce.hostedPayments((function(i){if(i){var n="data"in i;if("close"in i&&1==i.close){var s=document.createElement("input");s.setAttribute("name","PaymentStatus"),s.setAttribute("value","CLOSED"),s.setAttribute("type","text"),s.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(s);var o=document.createElement("input");o.setAttribute("name","Reference"),o.setAttribute("value",e.postFields.reference),o.setAttribute("type","text"),o.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(o),setTimeout((function(){t._submiToOikonomiki()}))}else if(n){var a=i;for(var r in a)if(a.hasOwnProperty(r)&&"data"==r)for(var c in a.data)a.data.hasOwnProperty(c)&&"object"==typeof a.data[c]&&delete a.data[c];("ErrorCode"in a||"declineReason"in a)&&(a.Reference=e.postFields.reference);for(var d=0,l=Object.keys(a);d<l.length;d++){var p=l[d],u=a[p],f=document.createElement("input");f.setAttribute("name",p),f.setAttribute("value",u),f.setAttribute("type","text"),f.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(f)}setTimeout((function(){t._submiToOikonomiki()}))}}}),{operation:"create.payment",scKey:this.ethnikiPaymentMethod.parameters.publicKey,color:"#204969",currency:"EUR",amount:e.postFields.amount,reference:e.postFields.reference,masterpass:e.postFields.masterpass})}},{key:"onPancretaPaymentRequestSucceded",value:function(e){this.paymentResponseDto=e,Xe(this.cdr);var t=document.createElement("script");t.id="script_2_pancreta",document.body.appendChild(t),document.getElementById("script_2_pancreta").innerHTML='var everypay = Everypay("'+this.pancretaPaymentMethod.parameters.publicKey+'", { locale: "el" });',setTimeout((function(){var t=document.createElement("script");t.id="script_3_pancreta",document.body.appendChild(t),document.getElementById("script_3_pancreta").innerHTML='everypay.button("#everypay-btn-container", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"amount": '.concat(e.postFields.amount,',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"locale": "el",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"on_token_received": function(token, showError, hideForm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (token) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_token").value = token;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_form").submit();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\tdocument.getElementById("everypay-btn-container").querySelectorAll("button")[0].click();')}))}},{key:"onTermsChanged",value:function(e){e&&"true"==e&&(this.paymentRequestDto&&"PIRBGRAA"!=this.selectedPaymentMethod.key?this.createRequest.emit(!0):this._fixPeiraiosData()),this.isTermsModalOpen=!1,Xe(this.cdr)}},{key:"_addPaymentRequest",value:function(e){var t=this;e&&(this.paymentRequestDto=e),this.katastimataNgSrv.getPaymentSettings().pipe(Object(v.a)(this.onDestroy)).subscribe((function(i){if(i){t.onlinePaymentSettings=i,t.onlinePaymentSettings.paymentMethods.length&&t.onlinePaymentSettings.paymentMethods.forEach((function(e){if(e.services&&e.services.length>0)for(var t=0;t<e.services.length;t++)e.services[t]=e.services[t].toLowerCase()})),t.pancretaPaymentMethod=t.onlinePaymentSettings.paymentMethods.find((function(e){return"STPGGRAA"==e.key})),document.getElementById("script_1_pancreta")||t.pancretaPaymentMethod&&t._loadPancretaScripts(t.pancretaPaymentMethod),t.ethnikiPaymentMethod=t.onlinePaymentSettings.paymentMethods.find((function(e){return"ETHNGRAA"==e.key})),document.getElementById("script_1_ethniki")||t.ethnikiPaymentMethod&&t.ethnikiPaymentMethod.parameters&&t._loadEthnikiScripts(t.ethnikiPaymentMethod);var n=t.onlinePaymentSettings.paymentMethods.length;if(t.paymentMethodsClass=n<=2?"pm-size-2":"pm-size-3",t.selectedPaymentMethod||(t.onlinePaymentSettings&&t.onlinePaymentSettings.defaultPaymentMethodKey?t.selectedPaymentMethod=t.onlinePaymentSettings.paymentMethods.filter((function(e){return e.key==t.onlinePaymentSettings.defaultPaymentMethodKey}))[0]:t.onlinePaymentSettings&&1==t.onlinePaymentSettings.paymentMethods.length&&(t.selectedPaymentMethod=t.onlinePaymentSettings.paymentMethods[0])),t.paymentRequestDto&&t.selectedPaymentMethod){if(t.isLoadingPaymentSettings.emit(!1),t.paymentRequestDto.paymentMethodKey=t.selectedPaymentMethod.key,t.paymentRequestDto&&"PIRBGRAA"==t.paymentRequestDto.paymentMethodKey)return void t._fixPeiraiosData();t.katastimataNgSrv.addPaymentRequest(t.paymentRequestDto).subscribe((function(e){if(e){var i=e;i.model?t.paymentResponseDto=i.model:t.paymentResponseDto=null,t.paymentResponseDto=i.model,i.statusCode&&i.statusCode==nt.Ok?i.model.getUrl&&""!=i.model.getUrl?i.model.getUrl&&""!=i.model.getUrl&&window.open(i.model.getUrl,"_self"):t._postBankForm(i.model):i.statusCode&&i.statusCode==nt.Error?"DEBTOR_ADDRESS_REQUIRED"==i.messageId&&(t.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",t.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.")):t.toasterSrv.showError("",i.message)}t.isLoadingPaymentResponse=!1,Xe(t.cdr)}))}else t.paymentRequestDto&&t.onlinePaymentSettings&&!t.selectedPaymentMethod&&(t.isLoadingPaymentSettings.emit(!1),setTimeout((function(){t.paymentRequestDto=e,t.showMethods=!0,t.isLoadingPaymentResponse=!1,Xe(t.cdr)})))}Xe(t.cdr)}))}},{key:"_postBankForm",value:function(e){if("ETHNGRAA"==this.selectedPaymentMethod.key&&null!=this.selectedPaymentMethod.parameters)this.onEthnikiPaymentRequestSucceded(e);else if("STPGGRAA"==this.selectedPaymentMethod.key)this.onPancretaPaymentRequestSucceded(e);else{var t=Object.keys(e.postFields).map((function(t){return{key:t,value:e.postFields[t]}}));e.postFields=t,this.paymentResponseDto=e,Xe(this.cdr),setTimeout((function(){document.querySelector("#bankPaymentForm").submit()}))}}},{key:"_submiToOikonomiki",value:function(){document.querySelector("#ethniki_form").submit()}},{key:"_loadEthnikiScripts",value:function(e){return new Promise((function(t,i){var n=document.createElement("script");n.id="script_1_ethniki",n.src=e.parameters.javaScriptSource,n.onload=t,document.body.appendChild(n)}))}},{key:"_loadPancretaScripts",value:function(e){return new Promise((function(t,i){var n=document.createElement("script");n.id="script_1_pancreta",n.src=e.parameters.javaScriptSource,n.onload=t,document.body.appendChild(n)}))}},{key:"_fixPeiraiosData",value:function(){!this.user||this.user.address&&this.user.address_city&&this.user.address_country_num&&this.user.address_zip&&this.user.phone_number?this.requestBankData=!0:(this.errorMessageProfile="\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03c0\u03c1\u03bf\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03b7 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb & \u03bd\u03b1 \u03b5\u03c0\u03b1\u03bd\u03b1\u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1.",this.toasterSrv.showError("","\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03c0\u03c1\u03bf\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03b7 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb & \u03bd\u03b1 \u03b5\u03c0\u03b1\u03bd\u03b1\u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1."),this.isUserDataValid.emit(!1)),Xe(this.cdr)}},{key:"_submitPaymentRequest",value:function(){var e,t,i=this;if(this.isFormSubmitted=!0,this.formErrorsMsg=null,Xe(this.cdr),this.isFormSubmitted&&this.requestBankDataForm.valid){var n=null,s=null;if(this.user.phone_number.includes("+")?(n=this.user.phone_number.substring(0,3).replace("+",""),s=this.user.phone_number.substring(3)):s=this.user.phone_number,this.paymentRequestDto.userPhone=n?n+"-"+s:"30-"+s,this.showMethods=!1,this.requestBankData=!1,this.isFormSubmitted=!1,this.formErrorsMsg=null,this.paymentRequestDto.userHomePhone=this.paymentRequestDto.userPhone,this.paymentRequestDto.userWorkPhone=this.paymentRequestDto.userPhone,this.paymentRequestDto.billingAddressCountryCode=this.user.address_country_num,this.user.address_zip){var o=+this.user.address_zip.substring(0,2);this.paymentRequestDto.billingAddressState=([10,11,12,13,14,15,16,17,18,19].includes(e=o)&&(t="I"),[66,65,64,67,68,69].includes(e)&&(t="A"),[54,55,56,57,58,59,60,61,62,63].includes(e)&&(t="B"),[50,51,52,53].includes(e)&&(t="C"),[44,45,46,47,48].includes(e)&&(t="D"),[37,38,40,41,42,43].includes(e)&&(t="E"),[28,29,31,49].includes(e)&&(t="F"),[25,26,27,30].includes(e)&&(t="G"),[32,33,34,35,36].includes(e)&&(t="H"),[20,21,22,23,24].includes(e)&&(t="J"),[81,82,83].includes(e)&&(t="K"),[84,85].includes(e)&&(t="L"),[70,71,72,73,74].includes(e)&&(t="M"),t||(t="I"),t)}Xe(this.cdr),this.katastimataNgSrv.addPaymentRequest(this.paymentRequestDto).subscribe((function(e){if(e){var t=e;i.paymentResponseDto=t.model,t.statusCode==nt.Ok?t.model.getUrl&&""!=t.model.getUrl?t.model.getUrl&&""!=t.model.getUrl&&window.open(t.model.getUrl,"_self"):i._postBankForm(t.model):t.statusCode==nt.Error&&"DEBTOR_ADDRESS_REQUIRED"==t.messageId&&(i.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",i.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb."))}i.isLoadingPaymentResponse=!1,Xe(i.cdr)}))}else this.formErrorsMsg=Je(this.requestBankDataForm,this.formDictionaryEnum,""),Xe(this.cdr)}},{key:"_closePaymentMethods",value:function(){var e=this;setTimeout((function(){e.showMethods=!1,Xe(e.cdr)}))}}]),e}();gt.\u0275fac=function(e){return new(e||gt)(d.Nc($e),d.Nc(He),d.Nc(d.k))},gt.\u0275cmp=d.Hc({type:gt,selectors:[["app-payment-methods"]],viewQuery:function(e,t){var i;1&e&&d.Vd(Pe,!0),2&e&&d.Cd(i=d.fd())&&(t.requestBankDataForm=i.first)},inputs:{paymentResponseDto:"paymentResponseDto",isLoadingPaymentResponse:"isLoadingPaymentResponse",user:"user",assetsUrl:"assetsUrl"},outputs:{loadingSimplifyModal:"loadingSimplifyModal",createRequest:"createRequest",isLoadingPaymentSettings:"isLoadingPaymentSettings",isUserDataValid:"isUserDataValid"},features:[d.yc],decls:13,vars:10,consts:[["class","bg-white","style","width: 100%; height: 100px; text-align: center;",4,"ngIf"],["class","d-flex w-100 justify-content-center",4,"ngIf"],["title","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03a4\u03c1\u03cc\u03c0\u03bf \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2","size","md",3,"isOpen","isOpenChange"],[1,"modal-body"],["class","debits-info__payment text-center mt-3","id","debits-info__payment",4,"ngIf"],["title","\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2","size","md",3,"isOpen","isOpenChange"],["class","modal-body",4,"ngIf"],["id","everypay_form","method","post",3,"action",4,"ngIf"],["id","ethniki_form","method","post",3,"action",4,"ngIf"],["id","ethnikiPaymentBtn","data-name","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae",1,"d-none"],["id","bankPaymentForm","method","POST",1,"d-none",3,"action"],[4,"ngIf"],[1,"bg-white",2,"width","100%","height","100px","text-align","center"],[1,"d-flex","justify-content-center","align-items-center","w-100",2,"height","70%"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],[1,"d-flex","w-100","justify-content-center"],[1,"screen-msg","mt-2","p-1"],["id","debits-info__payment",1,"debits-info__payment","text-center","mt-3"],["class","payment-method__cont d-flex flex-wrap text-center justify-content-center",4,"ngIf"],[1,"payment-method__cont","d-flex","flex-wrap","text-center","justify-content-center"],[4,"ngFor","ngForOf"],[3,"id","click"],[3,"innerHTML",4,"ngIf"],["class","payment-method__icon ml-2",4,"ngIf"],[3,"innerHTML"],[1,"payment-method__icon","ml-2"],["width","40",3,"src","alt",4,"ngFor","ngForOf"],["width","40",3,"src","alt"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/iris.jpg","alt","Iris"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"form"],["requestBankDataForm","ngForm"],[1,"row"],[1,"form-group","col-12"],["for","cardholderName"],["id","cardholderName","name","cardholderName","type","text","placeholder","\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-danger","pt-1",3,"hidden"],[1,"row","align-items-center","justify-content-center"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-money-check"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],["id","everypay_form","method","post",3,"action"],["id","everypay-btn-container",1,"d-none"],["name","everypay_token","id","everypay_token","type","text",1,"d-none",3,"value"],["type","text",1,"d-none",3,"name","value"],["id","ethniki_form","method","post",3,"action"],["type","text",3,"name","value"]],template:function(e,t){1&e&&(d.Od(0,Oe,5,0,"div",0),d.Od(1,Te,3,1,"div",1),d.Tc(2,"eg-modal",2),d.ed("isOpenChange",(function(e){return t.showMethods=e}))("isOpenChange",(function(){return t._closePaymentMethods()})),d.Tc(3,"div",3),d.Od(4,Ue,3,2,"div",4),d.Sc(),d.Sc(),d.Tc(5,"eg-modal",5),d.ed("isOpenChange",(function(e){return t.requestBankData=e})),d.Od(6,Qe,15,3,"div",6),d.Sc(),d.Od(7,qe,3,2,"form",7),d.Od(8,Ne,1,1,"form",8),d.Tc(9,"button",9),d.Qd(10," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\n"),d.Sc(),d.Tc(11,"form",10),d.Od(12,We,2,1,"ng-container",11),d.Sc()),2&e&&(d.pd("ngIf",t.isLoadingPaymentResponse),d.Ac(1),d.pd("ngIf",t.errorMessageProfile),d.Ac(1),d.pd("isOpen",t.showMethods),d.Ac(2),d.pd("ngIf",0==t.isLoadingPaymentResponse),d.Ac(1),d.pd("isOpen",t.requestBankData),d.Ac(1),d.pd("ngIf",t.paymentRequestDto),d.Ac(1),d.pd("ngIf",t.pancretaPaymentMethod),d.Ac(1),d.pd("ngIf",t.ethnikiPaymentMethod),d.Ac(3),d.qd("action",null==t.paymentResponseDto?null:t.paymentResponseDto.postUrl,d.Hd),d.Ac(1),d.pd("ngIf",t.paymentResponseDto))},directives:[P.p,O.a,I.v,I.l,I.m,P.o,I.b,I.s,I.k,I.n],pipes:[P.m,P.i],encapsulation:2,changeDetection:0}),gt.ctorParameters=function(){return[{type:$e},{type:He},{type:d.k}]},gt.propDecorators={requestBankDataForm:[{type:d.mb,args:["requestBankDataForm",{static:!1}]}],paymentResponseDto:[{type:d.G}],user:[{type:d.G}],assetsUrl:[{type:d.G}],isLoadingPaymentResponse:[{type:d.G}],loadingSimplifyModal:[{type:d.S}],createRequest:[{type:d.S}],isLoadingPaymentSettings:[{type:d.S}],isUserDataValid:[{type:d.S}]};var yt=function(){function t(e,i,n){a(this,t),this.katastimataNgSrv=e,this.toasterSrv=i,this.cdr=n,this.requestObs=null,this.canPay=!0,this.errorMsg=new d.x,this.dilosiWebPaymentInfo=[],this.paymentResponseDto=null,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.returnUrl="",this.assetsUrl="",this.isLoading=!1,this.isLoadingPaymentResponse=!1,this.isLoadingSimplifyModal=!1,this.initPaymentMethods=!1,this.isLoadingPaymentSettings=!1,this.isUserDataValid=!0}return c(t,[{key:"ngOnInit",value:function(){"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api,this.assetsUrl=AuthConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/dimotikos-foros/receipts")):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi,this.assetsUrl=AppConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts")),Xe(this.cdr),this.createWebPaymentInfo&&(this.dilosiWebPaymentInfo=[].concat(e(this.dilosiWebPaymentInfo),[this.createWebPaymentInfo]),Xe(this.cdr))}},{key:"ngOnChanges",value:function(e){e&&e.requestObs&&(this.requestObs=e.requestObs.currentValue,Xe(this.cdr)),e&&e.createWebPaymentInfo&&(this.createWebPaymentInfo=e.createWebPaymentInfo.currentValue,Xe(this.cdr)),e&&e.canPay&&(this.canPay=e.canPay.currentValue,Xe(this.cdr))}},{key:"isLoadingSimplifyModalChanged",value:function(e){this.isLoadingSimplifyModal=e,Xe(this.cdr)}},{key:"isLoadingPaymentSettingsChanged",value:function(e){this.isLoadingPaymentSettings=e,Xe(this.cdr)}},{key:"isUserDataValidChanged",value:function(e){this.isUserDataValid=e,Xe(this.cdr)}},{key:"_payActions",value:function(){var t=this;this.requestObs&&this.requestObs.length?(this.isLoading=!0,Xe(this.cdr),Object(m.a)(this.requestObs).subscribe((function(i){i&&(i.forEach((function(i){t.dilosiWebPaymentInfo=[].concat(e(t.dilosiWebPaymentInfo),[i])})),t._createPaymentRequest(),Xe(t.cdr))}))):this.dilosiWebPaymentInfo&&this.dilosiWebPaymentInfo.length>0&&this._createPaymentRequest()}},{key:"_createPaymentRequest",value:function(){var e=this;this.initPaymentMethods=!0,Xe(this.cdr);var t={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.returnUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:"",entries:[]};this.dilosiWebPaymentInfo.forEach((function(i){var n={remittanceInfo:i.paymentCode,amount:i.paymentAmount,debtorName:i.epixirisiOfeiletisEponimia,tin:e.userInfo.tin,description:i.paymentCaption};t.entries.push(n)})),setTimeout((function(){e.isLoadingPaymentResponse=!0,e.paymentMethodsComp._addPaymentRequest(t),Xe(e.cdr)}))}}]),t}();yt.\u0275fac=function(e){return new(e||yt)(d.Nc($e),d.Nc(He),d.Nc(d.k))},yt.\u0275cmp=d.Hc({type:yt,selectors:[["app-payment"]],viewQuery:function(e,t){var i;1&e&&d.Vd(gt,!0),2&e&&d.Cd(i=d.fd())&&(t.paymentMethodsComp=i.first)},inputs:{requestObs:"requestObs",canPay:"canPay",createWebPaymentInfo:"createWebPaymentInfo",userInfo:"userInfo"},outputs:{errorMsg:"errorMsg"},features:[d.yc],decls:8,vars:3,consts:[[1,"debits-info_right","d-flex","align-items-center","justify-content-center","flex-column"],["class","btn btn-primary mb-2 mt-2","type","button",3,"disabled","click",4,"ngIf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/visa.jpg","alt","Visa","width","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/mastercard.jpg","alt","Mastercard","width","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/maestro.jpg","alt","Maestro","width","40"],[3,"assetsUrl","user","isLoadingPaymentResponse","createRequest","loadingSimplifyModal","isLoadingPaymentSettings","isUserDataValid",4,"ngIf"],["type","button",1,"btn","btn-primary","mb-2","mt-2",3,"disabled","click"],[1,"far","fa-credit-card"],[1,"d-flex","justify-content-center","align-items-center"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],[3,"assetsUrl","user","isLoadingPaymentResponse","createRequest","loadingSimplifyModal","isLoadingPaymentSettings","isUserDataValid"]],template:function(e,t){1&e&&(d.Tc(0,"div",0),d.Od(1,Ge,3,1,"button",1),d.Od(2,Ve,2,0,"span",2),d.Tc(3,"div"),d.Oc(4,"img",3),d.Oc(5,"img",4),d.Oc(6,"img",5),d.Sc(),d.Sc(),d.Od(7,ze,1,3,"app-payment-methods",6)),2&e&&(d.Ac(1),d.pd("ngIf",!t.isLoadingPaymentSettings),d.Ac(1),d.pd("ngIf",t.isLoadingPaymentSettings),d.Ac(5),d.pd("ngIf",t.initPaymentMethods))},directives:[P.p,gt],encapsulation:2}),yt.ctorParameters=function(){return[{type:$e},{type:He},{type:d.k}]},yt.propDecorators={paymentMethodsComp:[{type:d.mb,args:[gt,{static:!1}]}],requestObs:[{type:d.G}],createWebPaymentInfo:[{type:d.G}],userInfo:[{type:d.G}],canPay:[{type:d.G}],errorMsg:[{type:d.S}]};var vt=function e(){a(this,e)};vt.\u0275mod=d.Lc({type:vt}),vt.\u0275inj=d.Kc({factory:function(e){return new(e||vt)},providers:[{provide:A.a,useValue:{align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."}}],imports:[[P.c,I.e,ht,O.b,R.c,D.b,C.e,M.b,A.c,T.c]]}),("undefined"==typeof ngJitMode||ngJitMode)&&d.Id(vt,{declarations:function(){return[et,pt,ut,ft,yt,gt]},imports:function(){return[P.c,I.e,ht,O.b,R.c,D.b,C.e,M.b,A.c,T.c]},exports:function(){return[et]}});var bt=o("1kSV"),St=o("PCNd"),kt=o("zazq"),It=function(){function e(t){a(this,e),this.oidcSecuritySrv=t,this.onDestroy=new f.a}return c(e,[{key:"ngOnInit",value:function(){var e=this;this.oidcSecuritySrv.getIsAuthorized().pipe(Object(v.a)(this.onDestroy)).subscribe((function(t){e.isAuthorized=t,AppConfOptions&&AppConfOptions.katastimata_tab_info&&""!=AppConfOptions.katastimata_tab_info&&(e.tabMsg=AppConfOptions.katastimata_tab_info)}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}}]),e}();It.ctorParameters=function(){return[{type:kt.c}]};var Pt=[{path:"",component:It=Object(r.b)([Object(d.n)({selector:"app-dimotikos-foros",template:'<ng-container *ngIf="isAuthorized">\r\n\t<div *ngIf="tabMsg"\r\n\t\t  class="tab-msg"\r\n\t\t  [innerHTML]="tabMsg | decodeHtmlString"></div>\r\n\t<lib-katastimata-ng></lib-katastimata-ng>\r\n</ng-container>\r\n'}),Object(r.c)("design:paramtypes",[kt.c])],It),children:[{path:"",loadChildren:function(){return Promise.resolve().then(o.bind(null,"8BaW")).then((function(e){return e.PublicLibLoader}))}}]}],Ot=function e(){a(this,e)};Ot=Object(r.b)([Object(d.L)({imports:[k.g.forChild(Pt)],exports:[k.g]})],Ot);var Tt=function e(){a(this,e)};Tt=Object(r.b)([Object(d.L)({declarations:[It],imports:[St.a,bt.d,Ot,vt]})],Tt);var At=function e(){a(this,e)};At=Object(r.b)([Object(d.L)({imports:[vt]})],At)},C7T5:function(e,t){e.exports=function(e){return new Promise((function(t,n){var s=new FileReader,o=e.target.files;if(o.length>1)n(new DOMException("Only one file can be uploaded at a time"));else{s.onerror=function(){s.abort(),n(new DOMException("Problem parsing input file."))};var a=o[0];s.onload=function(e){var n=new Uint8Array(e.target.result),o=[];n.map((function(e){o.push(e.toString(16))}));var r=o.join("").toUpperCase(),c=s.result.split(",")[1];a.base64=c,a.binaryFileType=i(r),t(a)},s.readAsDataURL(a)}}))};var i=function(e){switch(e){case"89504E47":return"image/png";case"47494638":return"image/gif";case"25504446":return"application/pdf";case"FFD8FFDB":case"FFD8FFE0":return"image/jpeg";case"504B0304":return"application/zip";default:return"Unknown filetype"}}}}])}();