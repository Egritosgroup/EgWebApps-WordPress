(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"8BaW":function(t,e,i){"use strict";i.r(e),i.d(e,"DimotikosForosModule",(function(){return xt}));var s=i("fXoL"),o=i("mrSG"),n=i("tk/3"),r=i("LRne"),c=i("2Vo4"),a=i("XNiG"),d=i("cp0P"),l=i("lJxs"),p=i("JIr8"),f=i("1G5W"),h=i("pLZG"),m=i("eIep"),u=i("5eHb"),g=i("tyNb"),b=i("ofXK"),y=i("3Pt+"),k=i("3u8h"),U=i("ZOsW"),I=i("9nqD"),O=i("eO1q"),j=i("rEr+"),v=i("dPl2"),P=i("C7T5"),R=i.n(P),V=i("7zfz");function D(t,e){1&t&&(s.Tc(0),s.Vc(1,"div",3),s.Vc(2,"div",4),s.Vc(3,"div",5),s.Rd(4," \u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b4\u03bf\u03ba\u03b9\u03bc\u03ac\u03c3\u03c4\u03b5 \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1! "),s.Uc(),s.Uc(),s.Uc(),s.Sc())}function w(t,e){if(1&t&&(s.Vc(0,"p",13),s.Vc(1,"strong"),s.Rd(2,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1 \u0395\u03c0\u03b9\u03c7\u03b5\u03af\u03c1\u03b7\u03c3\u03b7\u03c2:"),s.Uc(),s.Rd(3),s.Uc()),2&t){const t=s.jd(3);s.Bc(3),s.Td("\xa0",t.epixeirisiInfo.eponimia," ")}}function x(t,e){if(1&t){const t=s.Wc();s.Vc(0,"button",14),s.hd("click",(function(){s.Hd(t);return s.jd(3).onCreateNewDilosiClicked()})),s.Rd(1,"\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2 \u039d\u03ad\u03b1\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2"),s.Uc()}}function S(t,e){if(1&t&&(s.Vc(0,"div",10),s.Pd(1,w,4,1,"p",11),s.Pd(2,x,2,0,"button",12),s.Uc()),2&t){const t=s.jd(2);s.Bc(1),s.sd("ngIf",t.epixeirisiInfo),s.Bc(1),s.sd("ngIf",t.diloseisInfoResponse&&t.diloseisInfoResponse.length>0)}}function B(t,e){if(1&t){const t=s.Wc();s.Vc(0,"app-katastimata-receipts",15),s.hd("reloadData",(function(){s.Hd(t);return s.jd(2)._loadData()})),s.Uc()}if(2&t){const t=s.jd(2);s.sd("model",t.model)("userInfo",t.userInfo)("isLoading",t.isLoading)("diloseisInfoResponse",t.diloseisInfoResponse)}}function A(t,e){if(1&t){const t=s.Wc();s.Tc(0),s.Pd(1,S,3,2,"div",6),s.Vc(2,"p-tabView",7),s.hd("onChange",(function(e){s.Hd(t);return s.jd().onTabChanged(e)})),s.Vc(3,"p-tabPanel",8),s.Pd(4,B,1,4,"app-katastimata-receipts",9),s.Uc(),s.Uc(),s.Sc()}if(2&t){const t=s.jd();s.Bc(1),s.sd("ngIf",t.epixeirisiInfo||t.diloseisInfoResponse&&t.diloseisInfoResponse.length>0),s.Bc(1),s.sd("activeIndex",t.index),s.Bc(2),s.sd("ngIf",t.model)}}function C(t,e){if(1&t&&(s.Vc(0,"div",16),s.Qc(1,"app-katastimata-create-dilosi",17),s.Uc()),2&t){const t=s.jd();s.Bc(1),s.sd("diloseisInfoResponse",t.diloseisInfoResponse)("isOpen",t.isAddingNewDilosi)}}const F=["dimotikosForosForm"];function M(t,e){if(1&t&&(s.Vc(0,"div",24),s.Vc(1,"label"),s.Rd(2,"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u039b\u03ae\u03be\u03b7\u03c2"),s.Uc(),s.Qc(3,"input",25),s.kd(4,"date"),s.Uc()),2&t){const t=s.jd(2);s.Bc(3),s.sd("ngModel",s.md(4,1,t.model.hmeromiaLixisDilosis,"dd/MM/yyyy"))}}function E(t,e){if(1&t&&s.Qc(0,"div",26),2&t){const t=s.jd(2);s.sd("innerHTML",t.formErrorsMsg,s.Id)}}function _(t,e){if(1&t&&(s.Vc(0,"div",27),s.Vc(1,"p"),s.Rd(2),s.Uc(),s.Uc()),2&t){const t=s.jd(2);s.Bc(2),s.Sd(t.errorMessageProfile)}}function T(t,e){if(1&t){const t=s.Wc();s.Vc(0,"form",4,5),s.Vc(2,"div",6),s.Vc(3,"div",7),s.Vc(4,"label"),s.Rd(5,"\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2*"),s.Uc(),s.Vc(6,"ng-select",8,9),s.hd("ngModelChange",(function(e){s.Hd(t);return s.jd().model.dilosiId=e}))("change",(function(e){s.Hd(t);return s.jd().onSelectedDilosiChanged(e)})),s.Uc(),s.Vc(8,"div",10),s.Rd(9," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),s.Uc(),s.Uc(),s.Pd(10,M,5,4,"div",11),s.Uc(),s.Vc(11,"div",6),s.Vc(12,"div",12),s.Vc(13,"label"),s.Rd(14,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc*"),s.Uc(),s.Vc(15,"input",13,14),s.hd("ngModelChange",(function(e){s.Hd(t);return s.jd().ypokeimenoPoso=e})),s.Uc(),s.Vc(17,"div",10),s.Rd(18," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf & \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03b1\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 (\u03c4\u03b1 \u03b4\u03b5\u03ba\u03b1\u03b4\u03b9\u03ba\u03ac \u03c7\u03c9\u03c1\u03b9\u03c3\u03bc\u03ad\u03bd\u03b1 \u03bc\u03b5 \u03ba\u03cc\u03bc\u03bc\u03b1). "),s.Uc(),s.Uc(),s.Uc(),s.Vc(19,"div",6),s.Vc(20,"div",15),s.Vc(21,"label",16),s.Rd(22,"\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)*"),s.Uc(),s.Vc(23,"input",17,18),s.hd("ngModelChange",(function(e){s.Hd(t);return s.jd().periodikiDilosiFPA=e}))("change",(function(e){s.Hd(t);return s.jd().onFileChange(e,"periodikiDilosiFPA")})),s.Uc(),s.Vc(25,"div",10),s.Rd(26," *\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),s.Uc(),s.Uc(),s.Vc(27,"div",15),s.Vc(28,"label",19),s.Rd(29,"\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf"),s.Uc(),s.Vc(30,"input",20),s.hd("ngModelChange",(function(e){s.Hd(t);return s.jd().extraFile=e}))("change",(function(e){s.Hd(t);return s.jd().onFileChange(e,"extraFile")})),s.Uc(),s.Uc(),s.Uc(),s.Vc(31,"button",21),s.hd("click",(function(){s.Hd(t);return s.jd().onSubmit()})),s.Rd(32," \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc\u03c2 \u03a0\u03bf\u03c3\u03ce\u03bd "),s.Uc(),s.Pd(33,E,1,1,"div",22),s.Pd(34,_,3,1,"div",23),s.Uc()}if(2&t){const t=s.Gd(16),e=s.jd();s.Bc(6),s.sd("items",e.diloseisInfoResponse)("ngModel",e.model.dilosiId)("searchable",!0)("clearable",!1),s.Bc(2),s.sd("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.model.dilosiId),s.Bc(2),s.sd("ngIf",e.model&&e.model.dilosiId),s.Bc(5),s.sd("ngModel",e.ypokeimenoPoso),s.Bc(2),s.sd("hidden",!e.isFormSubmitted||e.isFormSubmitted&&t.valid&&e.ypokeimenoPoso),s.Bc(6),s.sd("ngModel",e.periodikiDilosiFPA),s.Bc(2),s.sd("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.periodikiDilosiFPA),s.Bc(5),s.sd("ngModel",e.extraFile),s.Bc(3),s.sd("ngIf",e.formErrorsMsg&&""!=e.formErrorsMsg),s.Bc(1),s.sd("ngIf",e.errorMessageProfile)}}function L(t,e){1&t&&(s.Vc(0,"div",28),s.Vc(1,"span",29),s.Qc(2,"i",30),s.Uc(),s.Uc())}const N=function(t){return[t,"\u20ac","symbol","1.2","el"]};function z(t,e){if(1&t){const t=s.Wc();s.Tc(0),s.Qc(1,"hr"),s.Vc(2,"h4",31),s.Rd(3,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03bf\u03cd"),s.Uc(),s.Vc(4,"div",32),s.Vc(5,"div",33),s.Vc(6,"div"),s.Vc(7,"p",34),s.Vc(8,"span",35),s.Vc(9,"strong"),s.Rd(10,"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),s.Uc(),s.Uc(),s.Uc(),s.Vc(11,"p",34),s.Vc(12,"span",35),s.Vc(13,"strong"),s.Rd(14,"\u03a0\u03bf\u03c3\u03cc \u03a4\u03ad\u03bb\u03bf\u03c5\u03c2:"),s.Uc(),s.Uc(),s.Uc(),s.Vc(15,"p",34),s.Vc(16,"span",35),s.Vc(17,"strong"),s.Rd(18,"\u039c\u03ae\u03bd\u03b5\u03c2 \u039a\u03b1\u03b8\u03c5\u03c3\u03c4\u03ad\u03c1\u03b7\u03c3\u03b7\u03c2:"),s.Uc(),s.Uc(),s.Uc(),s.Vc(19,"p",34),s.Vc(20,"span",35),s.Vc(21,"strong"),s.Rd(22,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03c1\u03bf\u03c3\u03c4\u03af\u03bc\u03bf\u03c5:"),s.Uc(),s.Uc(),s.Uc(),s.Vc(23,"p",34),s.Vc(24,"span",35),s.Vc(25,"strong"),s.Rd(26,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),s.Uc(),s.Uc(),s.Uc(),s.Vc(27,"p",34),s.Vc(28,"span",35),s.Vc(29,"strong"),s.Rd(30,"\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),s.Uc(),s.Uc(),s.Uc(),s.Uc(),s.Vc(31,"div"),s.Vc(32,"p",34),s.Vc(33,"span",36),s.Rd(34),s.Uc(),s.Uc(),s.Vc(35,"p",34),s.Vc(36,"span",36),s.Rd(37),s.kd(38,"currency"),s.Uc(),s.Uc(),s.Vc(39,"p",34),s.Vc(40,"span",36),s.Rd(41),s.Uc(),s.Uc(),s.Vc(42,"p",34),s.Vc(43,"span",36),s.Rd(44),s.kd(45,"currency"),s.Uc(),s.Uc(),s.Vc(46,"p",34),s.Vc(47,"span",36),s.Rd(48),s.kd(49,"currency"),s.Uc(),s.Uc(),s.Vc(50,"p",34),s.Vc(51,"span",36),s.Rd(52),s.Uc(),s.Uc(),s.Uc(),s.Uc(),s.Vc(53,"div",37),s.Vc(54,"button",38),s.hd("click",(function(){s.Hd(t);return s.jd().onPayClicked()})),s.Rd(55," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2 "),s.Uc(),s.Vc(56,"div"),s.Qc(57,"img",39),s.Qc(58,"img",40),s.Qc(59,"img",41),s.Uc(),s.Uc(),s.Uc(),s.Sc()}if(2&t){const t=s.jd();s.Bc(34),s.Sd(t.modelPaymentInfo.paymentCaption),s.Bc(3),s.Sd(s.pd(38,9,s.yd(27,N,t.modelPaymentInfo.telosPoso))),s.Bc(4),s.Sd(t.modelPaymentInfo.posostoEkprothesmisKatavolisMines),s.Bc(3),s.Sd(s.pd(45,15,s.yd(29,N,t.modelPaymentInfo.prostimoPoso))),s.Bc(4),s.Sd(s.pd(49,21,s.yd(31,N,t.modelPaymentInfo.paymentAmount))),s.Bc(4),s.Sd(t.kodikosPliromis),s.Bc(5),s.ud("src","",t.assetsUrl,"cards/Visa.jpg",s.Jd),s.Bc(1),s.ud("src","",t.assetsUrl,"cards/Mastercard.jpg",s.Jd),s.Bc(1),s.ud("src","",t.assetsUrl,"cards/Maestro.jpg",s.Jd)}}function W(t,e){if(1&t&&(s.Vc(0,"div"),s.Rd(1),s.Qc(2,"input",44),s.Uc()),2&t){const t=e.$implicit;s.Bc(1),s.Td(" ",t.key," : "),s.Bc(1),s.td("name",t.key),s.td("value",t.value)}}function $(t,e){if(1&t&&(s.Vc(0,"form",42),s.Pd(1,W,3,3,"div",43),s.Uc()),2&t){const t=s.jd();s.td("action",t.paymentResponseDto.postUlr,s.Jd),s.Bc(1),s.sd("ngForOf",t.paymentResponseDto.postFields)}}function H(t,e){1&t&&(s.Vc(0,"div",5),s.Vc(1,"p",6),s.Rd(2," \u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc. "),s.Uc(),s.Uc())}function J(t,e){1&t&&(s.Vc(0,"div",7),s.Vc(1,"p",8),s.Rd(2,"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u03b9\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2."),s.Uc(),s.Uc())}function Q(t,e){if(1&t){const t=s.Wc();s.Vc(0,"div"),s.Vc(1,"button",9),s.hd("click",(function(){s.Hd(t);return s.jd().btnBankStatusMessageClicked()})),s.Qc(2,"i",10),s.Uc(),s.Rd(3),s.Uc()}if(2&t){const t=s.jd();s.Ec("bank-msg badge w-100 mb-2 position-relative ",t.bankStatusMessageClass,""),s.Bc(3),s.Td(" ",t.bankStatusMessage,"\n")}}function q(t,e){1&t&&(s.Vc(0,"div",11),s.Vc(1,"span",12),s.Qc(2,"i",13),s.Uc(),s.Uc())}function G(t,e){1&t&&(s.Vc(0,"tr"),s.Vc(1,"th",18),s.Rd(2,"#"),s.Uc(),s.Vc(3,"th",19),s.Rd(4,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),s.Uc(),s.Vc(5,"th",20),s.Rd(6,"\u0391\u03ba\u03b1\u03b8\u03ac\u03c1\u03b9\u03c3\u03c4\u03bf \u03a0\u03bf\u03c3\u03cc"),s.Uc(),s.Vc(7,"th",20),s.Rd(8,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),s.Uc(),s.Vc(9,"th",20),s.Rd(10,"\u03a4\u03ad\u03bb\u03bf\u03c2"),s.Uc(),s.Vc(11,"th",20),s.Rd(12,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),s.Uc(),s.Vc(13,"th",21),s.Rd(14,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),s.Uc(),s.Uc())}function K(t,e){if(1&t&&(s.Vc(0,"tr"),s.Vc(1,"td",18),s.Vc(2,"span",22),s.Rd(3,"#"),s.Uc(),s.Rd(4),s.Uc(),s.Vc(5,"td",19),s.Vc(6,"span",22),s.Rd(7,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),s.Uc(),s.Rd(8),s.Uc(),s.Vc(9,"td",23),s.Vc(10,"span",22),s.Rd(11,"\u0391\u03ba\u03b1\u03b8\u03ac\u03c1\u03b9\u03c3\u03c4\u03bf \u03a0\u03bf\u03c3\u03cc"),s.Uc(),s.Rd(12),s.kd(13,"currency"),s.Uc(),s.Vc(14,"td",23),s.Vc(15,"span",22),s.Rd(16,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),s.Uc(),s.Rd(17),s.kd(18,"currency"),s.Uc(),s.Vc(19,"td",23),s.Vc(20,"span",22),s.Rd(21,"\u03a4\u03ad\u03bb\u03bf\u03c2"),s.Uc(),s.Rd(22),s.kd(23,"currency"),s.Uc(),s.Vc(24,"td",23),s.Vc(25,"span",22),s.Rd(26,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),s.Uc(),s.Rd(27),s.kd(28,"currency"),s.Uc(),s.Vc(29,"td",21),s.Vc(30,"span",22),s.Rd(31,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),s.Uc(),s.Rd(32),s.Uc(),s.Uc()),2&t){const t=e.$implicit,i=e.rowIndex;s.Bc(4),s.Td(" ",i+1," "),s.Bc(4),s.Td(" ",t.dilosiCaption," "),s.Bc(4),s.Td(" ",s.od(13,7,t.akatharistoPoso,"\u20ac","symbol","1.2")," "),s.Bc(5),s.Td(" ",s.od(18,12,t.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),s.Bc(5),s.Td(" ",s.od(23,17,t.telosPoso,"\u20ac","symbol","1.2")," "),s.Bc(5),s.Td(" ",s.od(28,22,t.prostimoPoso,"\u20ac","symbol","1.2")," "),s.Bc(5),s.Td(" ",t.stoixeiaApodixis," ")}}const X=function(t){return[t,"EUR","symbol","1.2-2","el"]};function Y(t,e){if(1&t&&(s.Vc(0,"tr"),s.Vc(1,"td",24),s.Vc(2,"strong"),s.Rd(3,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf:"),s.Uc(),s.Uc(),s.Vc(4,"td",23),s.Vc(5,"strong"),s.Rd(6),s.kd(7,"currency"),s.Uc(),s.Uc(),s.Vc(8,"td",23),s.Vc(9,"strong"),s.Rd(10),s.kd(11,"currency"),s.Uc(),s.Uc(),s.Vc(12,"td",23),s.Vc(13,"strong"),s.Rd(14),s.kd(15,"currency"),s.Uc(),s.Uc(),s.Vc(16,"td",23),s.Vc(17,"strong"),s.Rd(18),s.kd(19,"currency"),s.Uc(),s.Uc(),s.Vc(20,"td",21),s.Rd(21,"\xa0"),s.Uc(),s.Uc()),2&t){const t=s.jd(2);s.Bc(6),s.Sd(s.pd(7,4,s.yd(28,X,t.sumAkatharisto))),s.Bc(4),s.Sd(s.pd(11,10,s.yd(30,X,t.sumYpokeimeno))),s.Bc(4),s.Sd(s.pd(15,16,s.yd(32,X,t.sumTelos))),s.Bc(4),s.Sd(s.pd(19,22,s.yd(34,X,t.sumProstimo)))}}function Z(t,e){if(1&t&&(s.Tc(0),s.Vc(1,"p"),s.Rd(2,"\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: "),s.Vc(3,"strong"),s.Rd(4),s.Uc(),s.Uc(),s.Vc(5,"p-table",14),s.Pd(6,G,15,0,"ng-template",15),s.Pd(7,K,33,27,"ng-template",16),s.Pd(8,Y,22,36,"ng-template",17),s.Uc(),s.Sc()),2&t){const t=s.jd();s.Bc(4),s.Sd(t.model.length),s.Bc(1),s.sd("value",t.model)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",t.model.length)}}let tt=class{constructor(t){this.toastr=t}show(t,e,i){e&&this.toastr[i](e,t,{progressBar:!0,onActivateTick:!0})}showError(t,e){this.show(t,e,"error")}showInfo(t,e){this.show(t,e,"info")}showSuccess(t,e){this.show(t,e,"success")}};tt.\u0275fac=function(t){return new(t||tt)(s.dd(u.b))},tt.ctorParameters=()=>[{type:u.b}],tt.\u0275prov=Object(s.Lc)({factory:function(){return new tt(Object(s.dd)(u.b))},token:tt,providedIn:"root"}),tt=Object(o.b)([Object(o.c)("design:paramtypes",[u.b])],tt);let et=class{constructor(t){this.toastService=t,this.catchBadResponse=t=>{let e="";if(t.error instanceof Error)e="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+t.message;else if(void 0!==t.error)e="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+t.message;else switch(t.status){case 403:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error "+t.status;break;case 401:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n "+t.status;break;default:e=`Backend returned code ${t.status}, body was: ${void 0!==t.body?t.body.error:void 0!==t.message?t.message:""}`}return this.toastService.showError("",""+e),Object(r.a)(!1)}}};et.\u0275fac=function(t){return new(t||et)(s.dd(tt))},et.ctorParameters=()=>[{type:tt}],et.\u0275prov=Object(s.Lc)({factory:function(){return new et(Object(s.dd)(tt))},token:et,providedIn:"root"}),et=Object(o.b)([Object(o.c)("design:paramtypes",[tt])],et);let it=class extends class{constructor(t,e){this.http=t,this.exceptionService=e,this.getBaseUrl=()=>this.baseUrl,AppConfOptions&&AppConfOptions.katastimata_api?(this.baseUrl=AppConfOptions.katastimata_api,this.financeUrl=AppConfOptions.epayments_api):(this.baseUrl="/",this.financeUrl=AppConfOptions.financeApi),this.baseUrl+="api",this.financeUrl+="api"}}{constructor(t,e){super(e,t),this.exceptionSrv=t,this.http=e,this.katastimataUrl=this.baseUrl+"/DiloseisWeb",this.dmsUrl=this.baseUrl+"/DocDmsApi",this.userInfoSubject=new c.a(null),this.userInfo$=this.userInfoSubject.asObservable(),this.egOnInit()}egOnInit(){this.userInfo$.subscribe(t=>{this.userInfo=t})}initUserInfo(){if(!this.userInfo){let t=null;for(let e=0;e<window.localStorage.length;e++){const i=window.localStorage.key(e);"userData"===i.slice(0,8)&&(t=JSON.parse(window.localStorage.getItem(i)),this.userInfoSubject.next({email:t.email,username:t.given_name,tin:t.tin,family_name:t.family_name,given_name:t.given_name,name:t.name,address_city:t.address_city,address_country_code:t.address_country_code,address_zip:t.address_zip,address:t.address}))}}}getDiloseis(t){return this.http.get(`${this.katastimataUrl}/DiloseisWebInfo/${t}`).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}getDilosiPaymentInfo(t){return this.http.post(this.katastimataUrl+"/DilosiWebPaymentInfo",t).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}uploadPeriodikiDilosi(t){let e=new n.e;return e=e.append("isForm","true"),this.http.post(this.katastimataUrl+"/DilosiWebScan",t,{headers:e,responseType:"arraybuffer"}).pipe(Object(l.a)(t=>t),Object(p.a)(()=>Object(r.a)(!1)))}getPayedInfo(t){return this.http.get(`${this.katastimataUrl}/DiloseisWebPayedInfo/${t}`).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}getEpixeirisiInfo(t){return this.http.get(`${this.katastimataUrl}/DiloseisWebEpixirisiInfo/${t}`).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}deleteDocDmsByDilosiId(t){const e=this.katastimataUrl+"/DeleteDocDmsByDilosiId/"+t;return this.http.get(e).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}markDilosiWebExoflisi(t){const e=this.katastimataUrl+"/MarkDilosiWebExoflisi";return this.http.post(e,t).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionService.catchBadResponse))}addPaymentRequest(t){const e=this.financeUrl+"/Banks/AddPaymentRequest";return this.http.post(e,t).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}};it.\u0275fac=function(t){return new(t||it)(s.dd(et),s.dd(n.b))},it.ctorParameters=()=>[{type:et},{type:n.b}],it.\u0275prov=Object(s.Lc)({factory:function(){return new it(Object(s.dd)(et),Object(s.dd)(n.b))},token:it,providedIn:"root"}),it=Object(o.b)([Object(o.c)("design:paramtypes",[et,n.b])],it);let st=class{constructor(t,e,i,s){this.katastimataNgSrv=t,this.toasterSrv=e,this.router=i,this.route=s,this.model=[],this.index=0,this.isLoading=!0,this.isAddingNewDilosi=!1,this.onDestroy=new a.a}ngOnInit(){this.katastimataNgSrv.initUserInfo(),this.katastimataNgSrv.userInfo$.pipe(Object(f.a)(this.onDestroy)).subscribe(t=>{this.userInfo=t}),this.router.events.pipe(Object(h.a)(t=>t instanceof g.b),Object(f.a)(this.onDestroy)).subscribe(t=>{t&&t.url&&t.url.includes("receipts")&&(this.index=0)}),Object(d.a)([this.katastimataNgSrv.getEpixeirisiInfo(this.userInfo.tin),this.katastimataNgSrv.getDiloseis(this.userInfo.tin)]).subscribe(t=>{t&&(this.epixeirisiInfo=t[0],this.diloseisInfoResponse=t[1],this._loadData())})}ngOnDestroy(){this.onDestroy.next()}_loadData(){this.katastimataNgSrv.getPayedInfo(this.userInfo.tin).subscribe(t=>{t&&(this.model=t),this.isLoading=!1})}onCreateNewDilosiClicked(){this.isAddingNewDilosi=!0}onTabChanged(t){0==t.index?this.router.navigate(["./debits"],{relativeTo:this.route}):this.router.navigate(["./receipts"],{relativeTo:this.route})}};st.\u0275fac=function(t){return new(t||st)(s.Pc(it),s.Pc(tt),s.Pc(g.d),s.Pc(g.a))},st.\u0275cmp=s.Jc({type:st,selectors:[["lib-katastimata-ng"]],decls:6,vars:9,consts:[[4,"ngIf"],["title","\u039d\u03ad\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7",3,"isOpen","size","isOpenChange"],["class","modal-body",4,"ngIf"],[1,"d-flex",2,"height","100vh !important"],[1,"justify-content-center","align-self-start","w-100","mt-2"],["role","alert",1,"bg-danger","text-light","p-2"],["class","bg-light mb-3 px-2 py-1 d-flex flex-wrap",4,"ngIf"],[3,"activeIndex","onChange"],["header","\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd \u03a4\u03ad\u03bb\u03bf\u03c5\u03c2 0,5% / \u03a0\u03b1\u03c1\u03b5\u03c0\u03b9\u03b4\u03b7\u03bc\u03bf\u03cd\u03bd\u03c4\u03c9\u03bd"],[3,"model","userInfo","isLoading","diloseisInfoResponse","reloadData",4,"ngIf"],[1,"bg-light","mb-3","px-2","py-1","d-flex","flex-wrap"],["class","m-0 mr-1 d-inline-flex align-items-center eponimia-title",4,"ngIf"],["type","button","class","btn btn-primary m-0 ml-auto",3,"click",4,"ngIf"],[1,"m-0","mr-1","d-inline-flex","align-items-center","eponimia-title"],["type","button",1,"btn","btn-primary","m-0","ml-auto",3,"click"],[3,"model","userInfo","isLoading","diloseisInfoResponse","reloadData"],[1,"modal-body"],[3,"diloseisInfoResponse","isOpen"]],template:function(t,e){1&t&&(s.Pd(0,D,5,0,"ng-container",0),s.kd(1,"async"),s.Pd(2,A,5,3,"ng-container",0),s.kd(3,"async"),s.Vc(4,"eg-modal",1),s.hd("isOpenChange",(function(t){return e.isAddingNewDilosi=t})),s.Pd(5,C,2,2,"div",2),s.Uc()),2&t&&(s.sd("ngIf",!s.ld(1,5,e.katastimataNgSrv.userInfo$)),s.Bc(2),s.sd("ngIf",s.ld(3,7,e.katastimataNgSrv.userInfo$)),s.Bc(2),s.sd("isOpen",e.isAddingNewDilosi)("size","xl"),s.Bc(1),s.sd("ngIf",e.isAddingNewDilosi))},directives:function(){return[b.n,k.a,v.b,v.a,pt,lt]},pipes:function(){return[b.b]},encapsulation:2}),st.ctorParameters=()=>[{type:it},{type:tt},{type:g.d},{type:g.a}],st=Object(o.b)([Object(o.c)("design:paramtypes",[it,tt,g.d,g.a])],st);class ot{constructor(){this.dilosiId=0,this.dilosiDescription=null,this.hmeromiaLixisDilosis=null}}class nt{constructor(){this.bankTransactionId=null}}var rt,ct,at;function dt(t){const e=[],i=t.control;return Object.keys(i.controls).forEach(t=>{const s=i.get(t);s instanceof y.c&&e.push(...function t(e){const i=[];return Object.keys(e.controls).forEach(s=>{const o=e.get(s);o instanceof y.c&&i.push(...t(o));const n=o.errors;n&&Object.keys(n).forEach(t=>{i.push({control:s,error:t,value:n[t]})})}),i}(s));const o=s.errors;o&&Object.keys(o).forEach(i=>{e.push({control:t,error:i,value:o[i]})})}),e}!function(t){t[t.Ok=1]="Ok",t[t.Error=2]="Error",t[t.Warning=3]="Warning",t[t.UndefinedError=4]="UndefinedError"}(rt||(rt={})),function(t){t[t.aplirotes=1]="aplirotes",t[t.pliromenes=2]="pliromenes"}(ct||(ct={})),function(t){t.dilosiDescription="\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2",t.ypokeimenoPoso="\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc",t.periodikiDilosiFPA="\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)"}(at||(at={}));let lt=class{constructor(t,e){this.katastimataNgSrv=t,this.toasterSrv=e,this.paymentResponseDto=null,this.onDestroy=new a.a,this.periodikiDilosiFPA=null,this.extraFile=null,this.uploadedFiles=[],this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.returnUrl="",this.assetsUrl="",this.errorMessageProfile=null,this.isLoading=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=at,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api,this.assetsUrl=AuthConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/dimotikos-foros/receipts")):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi,this.assetsUrl=AppConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts"))}ngOnInit(){this.model=new ot,this.katastimataNgSrv.userInfo$.pipe(Object(f.a)(this.onDestroy)).subscribe(t=>{t&&(this.userInfo=t)})}ngOnDestroy(){this.onDestroy.next()}ngOnChanges(t){t.isOpen&&0==t.isOpen.currentValue&&this.dimotikosForosForm.reset()}onSelectedDilosiChanged(t){t&&(this.model=this.diloseisInfoResponse.filter(t=>t.dilosiId===+this.model.dilosiId)[0])}onSubmit(){if(this.isFormSubmitted=!0,this.dimotikosForosForm.valid){this.isLoading=!0;let t=[];const e=Object.values(this.uploadedFiles);for(let o=0;o<e.length;o++){const i=e[o];let s=i.name.substr(i.name.lastIndexOf(".")+1);t.push({language:"el",dilosiId:+this.model.dilosiId,fileContent:i.base64,fileLength:i.size,fileExtension:s,fileDescription:o,fileName:i.name})}this.ypokeimenoPosoTransformed=this.ypokeimenoPoso.toString(),this.ypokeimenoPosoTransformed.indexOf(",")>1&&(this.ypokeimenoPosoTransformed=this.ypokeimenoPosoTransformed.replace(",","."));let i={language:"el",ypokeimenoPoso:+this.ypokeimenoPosoTransformed,dilosiId:+this.model.dilosiId},s=[];s=[...s,this.katastimataNgSrv.deleteDocDmsByDilosiId(this.model.dilosiId)],t.length>0&&t.forEach(t=>{s=[...s,this.katastimataNgSrv.uploadPeriodikiDilosi(t)]}),s=[...s,this.katastimataNgSrv.getDilosiPaymentInfo(i)],function(t,e=(()=>{})){const i=Object(m.a)(()=>Object(r.a)(!0));let s=[];return t.forEach(t=>{s=[...s,Object(m.a)(i=>i?t:(e(),Object(r.a)(!1)))]}),Object(r.a)(!0).pipe(i,i,i,i,i,i,i,i,i,...s)}(s,()=>this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03bc\u03b5\u03c4\u03b1\u03c6\u03cc\u03c1\u03c4\u03c9\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd.")).subscribe(t=>{t?(this.modelPaymentInfo=t,this.kodikosPliromis=this.modelPaymentInfo.paymentCode,this.kodikosPliromis&&this.kodikosPliromis.length>15&&(this.kodikosPliromis=this.modelPaymentInfo.paymentCode.match(/(.|[\r\n]){1,4}/g).toString(),this.kodikosPliromis=this.kodikosPliromis.replace(new RegExp(",","g")," ")),this.isLoading=!1,this.isFormSubmitted=!0):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03c9\u03bd \u03c0\u03bf\u03c3\u03ce\u03bd.")})}else this.formErrorsMsg="",this.formErrors=dt(this.dimotikosForosForm),this.formErrors&&(this.formErrorsMsg="<ul>",this.formErrors.forEach(t=>{let e,i=t.control.split("-")[0];"required"==t.error?e="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==t.error&&(e="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5"),this.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+this.formDictionaryEnum[i]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e+"</li>"}),this.model.dilosiId||(this.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf</li>"),this.formErrorsMsg+="<ul>")}onFileChange(t,e){t&&t.srcElement.files.length>0?R()(t,!0).then(t=>{this.uploadedFiles[e]=t}):delete this.uploadedFiles[e]}onPayClicked(){let t={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.returnUrl,entries:[],billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address},e={remittanceInfo:this.modelPaymentInfo.paymentCode,amount:this.modelPaymentInfo.paymentAmount,debtorName:this.modelPaymentInfo.epixirisiOfeiletisEponimia,tin:this.userInfo.tin,description:this.modelPaymentInfo.paymentCaption};t.entries.push(e),this.katastimataNgSrv.addPaymentRequest(t).subscribe(t=>{if(t){let e=t;e.statusCode==rt.Ok?this._postBankForm(e.model):e.statusCode==rt.Error&&"DEBTOR_ADDRESS_REQUIRED"==e.messageId&&(this.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",this.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb."))}})}_postBankForm(t){const e=Object.keys(t.postFields).map((function(e){return{key:e,value:t.postFields[e]}}));t.postFields=e,this.paymentResponseDto=t,setTimeout(()=>{document.getElementById("bankPaymentForm").submit()},100)}};lt.\u0275fac=function(t){return new(t||lt)(s.Pc(it),s.Pc(tt))},lt.\u0275cmp=s.Jc({type:lt,selectors:[["app-katastimata-create-dilosi"]],viewQuery:function(t,e){var i;(1&t&&s.Xd(F,!0),2&t)&&(s.Fd(i=s.id())&&(e.dimotikosForosForm=i.first))},inputs:{diloseisInfoResponse:"diloseisInfoResponse",isOpen:"isOpen"},features:[s.zc],decls:4,vars:4,consts:[["class","form w-100",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],["id","bankPaymentForm","method","POST","class","hidden",3,"action",4,"ngIf"],[1,"form","w-100"],["dimotikosForosForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-sm-9"],["bindLabel","dilosiDescription","bindValue","dilosiId","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7","name","dilosiDescription","required","",3,"items","ngModel","searchable","clearable","ngModelChange","change"],["dilosiDescription","ngModel"],[1,"text-danger",3,"hidden"],["class","form-group col-12 col-sm-3",4,"ngIf"],[1,"form-group","col-12","col-sm-12"],["type","text","pattern","^([0-9]\\d*,[0-9]\\d*)|^([0-9]\\d*)$","placeholder","\u039c\u03bf\u03c1\u03c6\u03ae \u03c3\u03c5\u03bc\u03c0\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7\u03c2: 1000,1","name","ypokeimenoPoso","required","",1,"form-control",3,"ngModel","ngModelChange"],["ypokeimenoPosoInput","ngModel"],[1,"form-group","col-12","col-sm-6"],["for","periodikiDilosiFPA"],["type","file","name","periodikiDilosiFPA","required","",1,"form-control-file",3,"ngModel","ngModelChange","change"],["periodikiDilosiFPAInput","ngModel"],["for","extraFile"],["type","file","name","extraFile",1,"form-control-file",3,"ngModel","ngModelChange","change"],["type","button",1,"btn","btn-primary","d-block","mt-2","mx-auto",3,"click"],["class","alert alert-danger form-msgs","style","font-size: 13px; color: #ffffff !important;",3,"innerHTML",4,"ngIf"],["class","screen-msg",4,"ngIf"],[1,"form-group","col-12","col-sm-3"],["type","text","name","hmeromiaLixisDilosis","disabled","",1,"form-control",3,"ngModel"],[1,"alert","alert-danger","form-msgs",2,"font-size","13px","color","#ffffff !important",3,"innerHTML"],[1,"screen-msg"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"w-100","pb-2"],[1,"debits-info","d-flex","justify-content-between"],[1,"debits-info_left","d-flex","mr-1"],[1,"mb-0"],[1,"mr-1",2,"width","220px"],[1,"totalPoso"],[1,"debits-info_right","d-flex","align-items-center","justify-content-center","flex-column"],[1,"btn","btn-primary","mb-2",3,"click"],["alt","Visa","width","40",1,"mr-1",3,"src"],["alt","Mastercard","width","40",1,"mr-1",3,"src"],["alt","Maestro","width","40",3,"src"],["id","bankPaymentForm","method","POST",1,"hidden",3,"action"],[4,"ngFor","ngForOf"],["type","text",3,"name","value"]],template:function(t,e){1&t&&(s.Pd(0,T,35,13,"form",0),s.Pd(1,L,3,0,"div",1),s.Pd(2,z,60,33,"ng-container",2),s.Pd(3,$,2,2,"form",3)),2&t&&(s.sd("ngIf",e.model&&e.diloseisInfoResponse&&e.diloseisInfoResponse.length>0),s.Bc(1),s.sd("ngIf",e.isLoading),s.Bc(1),s.sd("ngIf",e.modelPaymentInfo&&!e.isLoading),s.Bc(1),s.sd("ngIf",e.paymentResponseDto))},directives:[b.n,y.r,y.j,y.k,U.a,y.p,y.i,y.l,y.b,y.o,b.m],pipes:[b.f,b.d],encapsulation:2}),lt.ctorParameters=()=>[{type:it},{type:tt}],Object(o.b)([Object(s.G)(),Object(o.c)("design:type",Array)],lt.prototype,"diloseisInfoResponse",void 0),Object(o.b)([Object(s.G)(),Object(o.c)("design:type",Boolean)],lt.prototype,"isOpen",void 0),Object(o.b)([Object(s.lb)("dimotikosForosForm"),Object(o.c)("design:type",y.k)],lt.prototype,"dimotikosForosForm",void 0),lt=Object(o.b)([Object(o.c)("design:paramtypes",[it,tt])],lt);let pt=class{constructor(t,e,i){this.katastimataNgSrv=t,this.route=e,this._http=i,this.reloadData=new s.x,this.onDestroy=new a.a,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.sumAkatharisto=0,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}ngOnChanges(t){t&&t.model&&(this.model=t.model.currentValue,this.sumAkatharisto=0,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.model.forEach(t=>{this.sumAkatharisto+=t.akatharistoPoso,this.sumYpokeimeno+=t.ypokeimenoPoso,this.sumTelos+=t.telosPoso,this.sumProstimo+=t.prostimoPoso}))}ngOnInit(){this.katastimataNgSrv.userInfo$.pipe(Object(f.a)(this.onDestroy)).subscribe(t=>this.userInfo=t),this._getBankMessages().pipe(Object(m.a)(t=>t?(this.oikonomikiBankMessages=t,this.route.queryParams.pipe(Object(f.a)(this.onDestroy))):Object(r.a)(!1))).subscribe(t=>{if(t){let e=t,i=e.messagecode,s=e.btId;if(i)if(this.bankStatusMessage=this.oikonomikiBankMessages[i],"TRANSACTION_COMPLETED"==i){if(this.bankStatusMessageClass="badge-success",s){let t=new nt;t.bankTransactionId=s,this.katastimataNgSrv.markDilosiWebExoflisi(t).subscribe(()=>{this.reloadData.emit(!0)})}}else this.bankStatusMessageClass="badge-danger"}})}ngOnDestroy(){this.onDestroy.next()}_getBankMessages(){let t=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(t)}btnBankStatusMessageClicked(){this.bankStatusMessage=null}};pt.\u0275fac=function(t){return new(t||pt)(s.Pc(it),s.Pc(g.a),s.Pc(n.b))},pt.\u0275cmp=s.Jc({type:pt,selectors:[["app-katastimata-receipts"]],inputs:{model:"model",userInfo:"userInfo",diloseisInfoResponse:"diloseisInfoResponse",isLoading:"isLoading"},outputs:{reloadData:"reloadData"},features:[s.zc],decls:5,vars:5,consts:[["class","d-flex w-100 justify-content-center",4,"ngIf"],["class","d-flex justify-content-center w-100",4,"ngIf"],[3,"class",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center"],[1,"badge","badge-warning","p-1"],[1,"d-flex","justify-content-center","w-100"],[1,"badge","badge-warning"],[1,"close-bank-msg","position-absolute",2,"right","5px","top","5px","background-color","transparent","border","0 none","color","#ffffff",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-170"],[1,"fixed-width-col-100"],[1,"fixed-width-col-120"],[1,"ui-column-title"],[1,"fixed-width-col-100","text-right"],["colspan","2",1,"fixed-width-col-230","text-right"]],template:function(t,e){1&t&&(s.Pd(0,H,3,0,"div",0),s.Pd(1,J,3,0,"div",1),s.Pd(2,Q,4,4,"div",2),s.Pd(3,q,3,0,"div",3),s.Pd(4,Z,9,10,"ng-container",4)),2&t&&(s.sd("ngIf",!(e.diloseisInfoResponse&&0!=e.diloseisInfoResponse.length||e.isLoading)),s.Bc(1),s.sd("ngIf",!(e.model&&0!=e.model.length||e.isLoading)),s.Bc(1),s.sd("ngIf",e.bankStatusMessage),s.Bc(1),s.sd("ngIf",e.isLoading),s.Bc(1),s.sd("ngIf",!e.isLoading))},directives:[b.n,j.a,V.c],pipes:[b.d],encapsulation:2}),pt.ctorParameters=()=>[{type:it},{type:g.a},{type:n.b}],Object(o.b)([Object(s.G)(),Object(o.c)("design:type",Array)],pt.prototype,"model",void 0),Object(o.b)([Object(s.G)(),Object(o.c)("design:type",Array)],pt.prototype,"diloseisInfoResponse",void 0),Object(o.b)([Object(s.G)(),Object(o.c)("design:type",Object)],pt.prototype,"userInfo",void 0),Object(o.b)([Object(s.G)(),Object(o.c)("design:type",Boolean)],pt.prototype,"isLoading",void 0),Object(o.b)([Object(s.S)(),Object(o.c)("design:type",Object)],pt.prototype,"reloadData",void 0),pt=Object(o.b)([Object(o.c)("design:paramtypes",[it,g.a,n.b])],pt);const ft=[{path:"",component:st,children:[{path:"",pathMatch:"full",redirectTo:"receipts"},{path:"receipts",component:pt}]}];let ht=class{};ht.\u0275mod=s.Nc({type:ht}),ht.\u0275inj=s.Mc({factory:function(t){return new(t||ht)},imports:[[g.e.forChild(ft)],g.e]});const mt={align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."};let ut=class{};ut.\u0275mod=s.Nc({type:ut}),ut.\u0275inj=s.Mc({factory:function(t){return new(t||ut)},providers:[{provide:I.a,useValue:mt}],imports:[[b.c,y.d,ht,k.b,v.c,O.b,j.b,I.c,U.c]]}),("undefined"==typeof ngJitMode||ngJitMode)&&s.Kd(ht,{imports:function(){return[g.e]},exports:function(){return[g.e]}}),("undefined"==typeof ngJitMode||ngJitMode)&&s.Kd(ut,{declarations:function(){return[st,lt,pt]},imports:function(){return[b.c,y.d,ht,k.b,v.c,O.b,j.b,I.c,U.c]},exports:function(){return[st]}});var gt=i("1kSV"),bt=i("PCNd"),yt=i("zazq"),kt=function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},Ut=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},It=function(t){return t&&t.__esModule?t:{default:t}};let Ot=class{constructor(t){this.oidcSecuritySrv=t,this.onDestroy=new a.a,this.oidcSecuritySrv.getIsAuthorized().pipe(Object(f.a)(this.onDestroy)).subscribe(t=>{this.isAuthorized=t})}ngOnDestroy(){this.onDestroy.next()}};Ot.ctorParameters=()=>[{type:yt.c}],Ot=kt([Object(s.n)({selector:"app-dimotikos-foros",template:It(i("Qjlr")).default}),Ut("design:paramtypes",[yt.c])],Ot);var jt=function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};const vt=[{path:"",component:Ot}];let Pt=class{};Pt=jt([Object(s.L)({imports:[g.e.forChild(vt)],exports:[g.e]})],Pt);var Rt=function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},Vt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Dt=class{constructor(t){this.http=t,this.apiUrl=AppConfOptions.dimotikos_foros_api+"/api/"}getDiloseis(t){const e=this.apiUrl+"Atm/DiloseisInfo";return this.http.post(e,t)}};Dt.ctorParameters=()=>[{type:n.b}],Dt=Rt([Object(s.D)(),Vt("design:paramtypes",[n.b])],Dt);var wt=function(t,e,i,s){var o,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(r=(n<3?o(r):n>3?o(e,i,r):o(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r};let xt=class{};xt=wt([Object(s.L)({declarations:[Ot],imports:[bt.a,gt.d,Pt,ut],providers:[Dt]})],xt)},C7T5:function(t,e){t.exports=function(t){return new Promise((e,s)=>{let o=new FileReader,n=t.target.files;if(n.length>1)s(new DOMException("Only one file can be uploaded at a time"));else{o.onerror=()=>{o.abort(),s(new DOMException("Problem parsing input file."))};let t=n[0];o.onload=s=>{const n=new Uint8Array(s.target.result);let r=[];n.map(t=>{r.push(t.toString(16))});const c=r.join("").toUpperCase();let a=o.result.split(",")[1];t.base64=a,t.binaryFileType=i(c),e(t)},o.readAsDataURL(t)}})};const i=t=>{switch(t){case"89504E47":return"image/png";case"47494638":return"image/gif";case"25504446":return"application/pdf";case"FFD8FFDB":case"FFD8FFE0":return"image/jpeg";case"504B0304":return"application/zip";default:return"Unknown filetype"}}},Qjlr:function(t,e,i){"use strict";i.r(e),e.default='<ng-container *ngIf="isAuthorized">\r\n\t<div class="katastimata-container bg-white"\r\n\t\t  style="padding: 30px;">\r\n\t\t<lib-katastimata-ng></lib-katastimata-ng>\r\n\t</div>\r\n</ng-container>\r\n'}}]);