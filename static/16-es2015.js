(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{UGYw:function(e,i,t){"use strict";t.r(i),t.d(i,"KliseisModule",function(){return Ki}),t.d(i,"PublicLibLoader",function(){return ji});var s=t("tk/3"),n=t("fXoL"),o=t("4krO"),a=t("X/DG"),r=t("oXA7"),c=t("rdQv"),l=t("VZwH"),d=t("1q39"),h=t("bk9D"),m=t("3Pt+"),u=t("5eHb"),p=t("tyNb"),f=t("ofXK"),g=t("3u8h"),b=t("ZOsW"),y=t("9nqD"),k=t("eO1q"),C=t("QIUk"),v=t("Ji6n"),I=t("/RsI"),w=t("FMpt"),P=t("7CaW"),S=t("LuMj"),M=t("rEr+"),O=t("dPl2"),x=t("zazq"),A=t("7zfz");function T(e,i){1&e&&(n.kc(0),n.hc(1,"app-kliseis-unauthorized-pay"),n.jc())}function _(e,i){if(1&e){const e=n.nc();n.mc(0,"div",9),n.mc(1,"button",10),n.wc("click",function(){n.Zc(e);return n.yc(2).onAddKlisiClicked()}),n.hc(2,"i",11),n.id(3," \u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u039d\u03ad\u03b1\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2 "),n.lc(),n.lc()}}function R(e,i){if(1&e){const e=n.nc();n.mc(0,"app-kliseis-receipts",12),n.wc("changeTabIndex",function(){n.Zc(e);return n.yc(2).index=1}),n.lc()}if(2&e){const e=n.yc(2);n.Hc("tabChanged",e.onTbChanged)}}function E(e,i){if(1&e){const e=n.nc();n.kc(0),n.gd(1,_,4,0,"div",3),n.mc(2,"p-tabView",4),n.wc("onChange",function(i){n.Zc(e);return n.yc().onTabChanged(i)}),n.mc(3,"p-tabPanel",5),n.hc(4,"app-kliseis-debits",6),n.lc(),n.mc(5,"p-tabPanel",7),n.gd(6,R,1,1,"ng-template",8),n.lc(),n.lc(),n.jc()}if(2&e){const e=n.yc();n.Tb(1),n.Hc("ngIf",e.onlinePaymentsSettingsCompany&&"1"==e.onlinePaymentsSettingsCompany),n.Tb(1),n.Hc("activeIndex",e.index),n.Tb(2),n.Hc("isDataChanged",e.isDataChanged)("userInfo",e.userInfo)("onlinePaymentsSettingsCompany",e.onlinePaymentsSettingsCompany)}}function H(e,i){if(1&e){const e=n.nc();n.mc(0,"lib-kliseis-add-new",13),n.wc("klisiAdded",function(i){n.Zc(e);return n.yc()._klisiAdded(i)}),n.lc()}if(2&e){const e=n.yc();n.Hc("userInfo",e.userInfo)("isLoadingPaymentRequest",e.isLoadingPaymentRequest)("relatedCallbackUrl",e.returnUrl)}}const D=["f"];function K(e,i){1&e&&(n.mc(0,"div",2),n.mc(1,"span",3),n.hc(2,"i",4),n.lc(),n.lc())}function j(e,i){1&e&&(n.mc(0,"span"),n.id(1,"*"),n.lc())}function z(e,i){if(1&e){const e=n.nc();n.mc(0,"div",7),n.mc(1,"div",28),n.hc(2,"p-message",29),n.mc(3,"label"),n.id(4,"\u0388\u03c4\u03bf\u03c2"),n.lc(),n.mc(5,"input",30,31),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(2).etosKlisis=i}),n.lc(),n.mc(7,"div",14),n.id(8),n.lc(),n.lc(),n.lc()}if(2&e){const e=n.Xc(6),i=n.yc(2);n.Tb(2),n.Hc("styleClass","mt-2 mb-1"),n.Tb(3),n.Hc("ngModel",i.etosKlisis)("readonly",i.model.hmerominiaEkdosis||i.response),n.Tb(2),n.Hc("hidden",!i.isFormSubmitted||!i.etosKlisis||i.isFormSubmitted&&i.etosKlisis&&e.valid),n.Tb(1),n.kd(" \u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 \u03a7\u03a7\u03a7\u03a7 \u03cc\u03c0\u03bf\u03c5 \u03a7 \u03bc\u03cc\u03bd\u03bf \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bc\u03b9\u03ba\u03c1\u03cc\u03c4\u03b5\u03c1\u03bf \u03ae \u03af\u03c3\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf ",i.thisYear,". ")}}function U(e,i){1&e&&n.hc(0,"p-message",32)}function F(e,i){if(1&e){const e=n.nc();n.mc(0,"div",37),n.mc(1,"label"),n.id(2,"Email*"),n.lc(),n.mc(3,"input",38,39),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(4).model.email=i})("ngModelChange",function(){n.Zc(e);return n.yc(4)._checkDisabled()}),n.lc(),n.mc(5,"div",14),n.id(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.lc(),n.lc()}if(2&e){const e=n.Xc(4),i=n.yc(4);n.Hc("ngClass",i.response.hasTilefono?"col-md-12":"col-md-8"),n.Tb(3),n.Hc("ngModel",i.model.email)("readonly",i.response.hasEmail&&i.model.email),n.Tb(2),n.Hc("hidden",!i.isFormSubmitted||i.isFormSubmitted&&e.valid)}}function q(e,i){if(1&e){const e=n.nc();n.mc(0,"div",37),n.mc(1,"label"),n.id(2,"\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb.*"),n.lc(),n.mc(3,"input",40),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(4).model.tilefono=i})("ngModelChange",function(){n.Zc(e);return n.yc(4)._checkDisabled()}),n.lc(),n.mc(4,"div",14),n.id(5," *\u03a4\u03bf \u03ba\u03b9\u03bd\u03b7\u03c4\u03cc \u03c4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03ad\u03c7\u03b5\u03b9 10 \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 69\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7. "),n.lc(),n.lc()}if(2&e){const e=n.yc(4);n.Hc("ngClass",e.response.hasEmail?"col-md-12":"col-md-4"),n.Tb(3),n.Hc("ngModel",e.model.tilefono)("readonly",e.response.hasTilefono&&e.model.tilefono),n.Tb(1),n.Hc("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.model.tilefono)}}function L(e,i){if(1&e&&(n.mc(0,"div",7),n.gd(1,F,7,4,"div",36),n.gd(2,q,6,4,"div",36),n.lc()),2&e){const e=n.yc(3);n.Tb(1),n.Hc("ngIf",!e.response.hasEmail),n.Tb(1),n.Hc("ngIf",!e.response.hasTilefono)}}function $(e,i){if(1&e){const e=n.nc();n.mc(0,"div",7),n.mc(1,"div",41),n.mc(2,"label"),n.id(3,"\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7*"),n.lc(),n.mc(4,"input",42),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(3).model.address=i})("ngModelChange",function(){n.Zc(e);return n.yc(3)._checkDisabled()}),n.lc(),n.mc(5,"div",14),n.id(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.lc(),n.lc(),n.mc(7,"div",43),n.mc(8,"label"),n.id(9,"\u03a4.\u039a.*"),n.lc(),n.mc(10,"input",44),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(3).model.tk=i})("ngModelChange",function(){n.Zc(e);return n.yc(3)._checkDisabled()}),n.lc(),n.mc(11,"div",14),n.id(12," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.lc(),n.lc(),n.lc()}if(2&e){const e=n.yc(3);n.Tb(4),n.Hc("ngModel",e.model.address)("readonly",e.response.hasDieuthinsi&&e.model.address),n.Tb(1),n.Hc("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.model.address),n.Tb(5),n.Hc("ngModel",e.model.tk)("readonly",e.response.hasDieuthinsi&&e.model.tk),n.Tb(1),n.Hc("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.model.tk)}}function Z(e,i){if(1&e){const e=n.nc();n.mc(0,"div",7),n.mc(1,"div",28),n.mc(2,"label"),n.id(3,"\u03a0\u03cc\u03bb\u03b7*"),n.lc(),n.mc(4,"input",45),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(3).model.poli=i})("ngModelChange",function(){n.Zc(e);return n.yc(3)._checkDisabled()}),n.lc(),n.mc(5,"div",14),n.id(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.lc(),n.lc(),n.lc()}if(2&e){const e=n.yc(3);n.Tb(4),n.Hc("ngModel",e.model.poli)("readonly",e.response.hasDieuthinsi&&e.model.poli),n.Tb(1),n.Hc("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.model.poli)}}function N(e,i){if(1&e){const e=n.nc();n.kc(0),n.mc(1,"div",7),n.mc(2,"div",33),n.mc(3,"label"),n.id(4,"\u03a0\u03bf\u03c3\u03cc*"),n.lc(),n.mc(5,"input",34,35),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(2).model.poso=i})("ngModelChange",function(){n.Zc(e);return n.yc(2)._checkDisabled()}),n.lc(),n.mc(7,"div",14),n.id(8," *\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03bc\u03b5 \u03bc\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03cc \u03c0\u03bf\u03c3\u03cc. "),n.lc(),n.lc(),n.lc(),n.gd(9,L,3,2,"div",20),n.gd(10,$,13,6,"div",20),n.gd(11,Z,7,3,"div",20),n.jc()}if(2&e){const e=n.yc(2);n.Tb(5),n.Hc("ngModel",e.model.poso)("readonly",0!=e.response.klisiId),n.Tb(2),n.Hc("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.model.poso&&e.model.poso>0),n.Tb(2),n.Hc("ngIf",!e.response.hasEmail||e.response.hasTilefono),n.Tb(1),n.Hc("ngIf",!e.response.hasDieuthinsi),n.Tb(1),n.Hc("ngIf",!e.response.hasDieuthinsi)}}function B(e,i){if(1&e){const e=n.nc();n.mc(0,"button",46),n.wc("click",function(){n.Zc(e);return n.yc(2).onAnazitisi()}),n.hc(1,"i",47),n.id(2," \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7 "),n.lc()}}function W(e,i){if(1&e){const e=n.nc();n.mc(0,"div",48),n.mc(1,"div"),n.mc(2,"app-checkout",49),n.wc("onPayBtnClick",function(i){n.Zc(e);return n.yc(2).onCreatePaymentRequest(i)}),n.lc(),n.lc(),n.mc(3,"button",50),n.wc("click",function(){n.Zc(e);return n.yc(2).onCancelKlisi()}),n.hc(4,"i",51),n.id(5," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 "),n.lc(),n.lc()}if(2&e){const e=n.yc(2);n.Tb(2),n.Hc("isPaymentFormValid",!0)("doPaymentSubscription",e.onDoPaymentSubject.asObservable())("finApiUrl",e.financeApiUrl)("buttonText","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae")}}function X(e,i){if(1&e&&n.hc(0,"div",52),2&e){const e=n.yc(2);n.Hc("innerHTML",e.formErrorsMsg,n.ad)}}function V(e,i){1&e&&(n.mc(0,"div",53),n.mc(1,"span",3),n.hc(2,"i",54),n.lc(),n.lc())}function G(e,i){if(1&e&&n.hc(0,"div",52),2&e){const e=n.yc(2);n.Hc("innerHTML",e.response.messageResponse,n.ad)}}function Y(e,i){1&e&&n.hc(0,"p-message",55)}const J=function(){return{width:"100%"}};function Q(e,i){if(1&e){const e=n.nc();n.mc(0,"form",5,6),n.mc(2,"div",7),n.mc(3,"div",8),n.mc(4,"p-checkbox",9,10),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc().model.isForeign=i}),n.lc(),n.lc(),n.lc(),n.mc(6,"div",7),n.mc(7,"div",11),n.mc(8,"label"),n.id(9,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2*"),n.lc(),n.mc(10,"input",12,13),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc().model.arithmosKlisis=i}),n.lc(),n.mc(12,"div",14),n.id(13," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03ad\u03c0\u03bf\u03bd\u03c4\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03bc\u03ad\u03c7\u03c1\u03b9 12 \u03b1\u03c1\u03b9\u03b8\u03bc\u03bf\u03af. "),n.lc(),n.lc(),n.mc(14,"div",11),n.mc(15,"label"),n.id(16,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2*"),n.lc(),n.mc(17,"input",15,16),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc().model.arithmosKikloforias=i}),n.lc(),n.mc(19,"div",14),n.id(20," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.lc(),n.lc(),n.lc(),n.mc(21,"div",7),n.mc(22,"div",11),n.mc(23,"label"),n.id(24,"\u0397\u03bc. \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2"),n.gd(25,j,2,0,"span",17),n.lc(),n.mc(26,"p-calendar",18),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc().model.hmerominiaEkdosis=i}),n.lc(),n.lc(),n.mc(27,"div",11),n.mc(28,"label"),n.id(29,"\u038f\u03c1\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2"),n.lc(),n.mc(30,"p-calendar",19),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc().model.oraEkdosis=i}),n.lc(),n.lc(),n.lc(),n.gd(31,z,9,5,"div",20),n.gd(32,U,1,0,"p-message",21),n.gd(33,N,12,6,"ng-container",17),n.mc(34,"div",22),n.gd(35,B,3,0,"button",23),n.lc(),n.gd(36,W,6,4,"div",24),n.gd(37,X,1,1,"div",25),n.gd(38,V,3,0,"div",26),n.gd(39,G,1,1,"div",25),n.gd(40,Y,1,0,"p-message",27),n.lc()}if(2&e){const e=n.Xc(11),i=n.Xc(18),t=n.yc();n.Tb(4),n.Hc("ngModel",t.model.isForeign)("readonly",t.response),n.Tb(6),n.Hc("ngModel",t.model.arithmosKlisis)("readonly",t.response),n.Tb(2),n.Hc("hidden",!t.isFormSubmitted||t.isFormSubmitted&&e.valid),n.Tb(5),n.Hc("ngModel",t.model.arithmosKikloforias)("readonly",t.response),n.Tb(2),n.Hc("hidden",!t.isFormSubmitted||t.isFormSubmitted&&i.valid),n.Tb(6),n.Hc("ngIf",!t.showEtos),n.Tb(1),n.dd(n.Nc(39,J)),n.Hc("baseZIndex",9999)("firstDayOfWeek",1)("maxDate",t.today)("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.yearRange)("showIcon",!0)("showButtonBar",!0)("showTime",!1)("ngModel",t.model.hmerominiaEkdosis)("required",!t.showEtos)("disabled",t.etosKlisis&&""!=t.etosKlisis||t.response||t.isFormSubmitted),n.Tb(4),n.dd(n.Nc(40,J)),n.Hc("baseZIndex",9999)("timeOnly",!0)("showIcon",!0)("ngModel",t.model.oraEkdosis)("disabled",t.etosKlisis&&""!=t.etosKlisis||t.response||t.isFormSubmitted),n.Tb(1),n.Hc("ngIf",t.showEtos),n.Tb(1),n.Hc("ngIf",!t.allowsPayment),n.Tb(1),n.Hc("ngIf",t.response&&t.response.canPay&&t.allowsPayment),n.Tb(2),n.Hc("ngIf",!t.isFormSubmitted||!t.response),n.Tb(1),n.Hc("ngIf",t.isFormSubmitted&&t.response&&t.response.canPay&&t.allowsPayment),n.Tb(1),n.Hc("ngIf",t.formErrorsMsg&&""!=t.formErrorsMsg),n.Tb(1),n.Hc("ngIf",t.isLoadingResponse||t.isLoadingPaymentRequest),n.Tb(1),n.Hc("ngIf",t.response&&!t.isLoadingResponse&&t.response.messageResponse&&""!=t.response.messageResponse),n.Tb(1),n.Hc("ngIf",t.saveFailed)}}function ee(e,i){1&e&&(n.mc(0,"div",5),n.mc(1,"span",6),n.hc(2,"i",7),n.lc(),n.lc())}function ie(e,i){1&e&&n.hc(0,"p-message",8)}function te(e,i){if(1&e&&n.hc(0,"p-message",9),2&e){const e=n.yc();n.Hc("text",e.errorMsg)("styleClass","mb-2")}}function se(e,i){1&e&&n.ic(0)}function ne(e,i){if(1&e&&(n.kc(0),n.gd(1,se,1,0,"ng-container",20),n.jc()),2&e){n.yc(2);const e=n.Xc(5);n.Tb(1),n.Hc("ngTemplateOutlet",e)}}function oe(e,i){if(1&e){const e=n.nc();n.mc(0,"tr"),n.mc(1,"th",21),n.mc(2,"p-checkbox",22),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(2).checkAll=i})("onChange",function(){n.Zc(e);return n.yc(2).onCheckAllKliseisClicked()}),n.lc(),n.lc(),n.mc(3,"th",23),n.id(4,"\xa0"),n.lc(),n.mc(5,"th",24),n.id(6,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.lc(),n.mc(7,"th",25),n.id(8,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),n.lc(),n.mc(9,"th",24),n.id(10,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),n.lc(),n.mc(11,"th",26),n.id(12,"\u038c\u03c7\u03b7\u03bc\u03b1"),n.lc(),n.mc(13,"th",25),n.id(14,"\u03a0\u03bf\u03c3\u03cc \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.lc(),n.mc(15,"th",25),n.id(16,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2*"),n.lc(),n.mc(17,"th",24),n.id(18,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2"),n.lc(),n.lc()}if(2&e){const e=n.yc(2);n.Tb(2),n.Hc("binary",!0)("ngModel",e.checkAll)("disabled",!e.checkAllEnabled)}}function ae(e,i){if(1&e){const e=n.nc();n.mc(0,"tr",28),n.mc(1,"td",33),n.mc(2,"span",30),n.id(3,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),n.lc(),n.mc(4,"p-checkbox",22),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc().$implicit.isChecked=i})("onChange",function(){n.Zc(e);const i=n.yc().$implicit;return n.yc(2).onCheckKlisiClicked(i)}),n.lc(),n.lc(),n.hc(5,"td",34),n.lc()}if(2&e){const e=n.yc().$implicit;n.Hc("ngClass",e.canPay&&e.canCheck?"":"disabled-row"),n.Tb(4),n.Hc("binary",!0)("ngModel",e.isChecked)("disabled",!e.canPay||!e.canCheck),n.Tb(1),n.Hc("innerHtml",e.cannotPayReason,n.ad)}}function re(e,i){if(1&e){const e=n.nc();n.mc(0,"td",21),n.mc(1,"span",30),n.id(2,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),n.lc(),n.mc(3,"p-checkbox",22),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc().$implicit.isChecked=i})("onChange",function(){n.Zc(e);const i=n.yc().$implicit;return n.yc(2).onCheckKlisiClicked(i)}),n.lc(),n.lc()}if(2&e){const e=n.yc().$implicit;n.Tb(3),n.Hc("binary",!0)("ngModel",e.isChecked)("disabled",!e.canPay||!e.canCheck)}}function ce(e,i){1&e&&(n.mc(0,"span"),n.hc(1,"span",35),n.lc())}function le(e,i){1&e&&(n.mc(0,"span"),n.hc(1,"span",36),n.lc())}function de(e,i){if(1&e&&(n.mc(0,"span",37),n.mc(1,"strong"),n.id(2,"\u0395\u03af\u03b4\u03bf\u03c2: "),n.lc(),n.id(3),n.lc()),2&e){const e=n.yc().$implicit;n.Tb(3),n.jd(e.eidosOximatos)}}function he(e,i){if(1&e&&(n.mc(0,"span",37),n.mc(1,"strong"),n.id(2,"\u039c\u03ac\u03c1\u03ba\u03b1: "),n.lc(),n.id(3),n.lc()),2&e){const e=n.yc().$implicit;n.Tb(3),n.jd(e.markaOximatos)}}function me(e,i){if(1&e&&(n.mc(0,"span",37),n.mc(1,"strong"),n.id(2,"\u03a7\u03c1\u03ce\u03bc\u03b1: "),n.lc(),n.id(3),n.lc()),2&e){const e=n.yc().$implicit;n.Tb(3),n.jd(e.xromaOximatos)}}function ue(e,i){if(1&e&&(n.gd(0,ae,6,5,"tr",27),n.mc(1,"tr",28),n.gd(2,re,4,3,"td",29),n.mc(3,"td",21),n.mc(4,"span",30),n.id(5,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7"),n.lc(),n.gd(6,ce,2,0,"span",3),n.gd(7,le,2,0,"span",3),n.lc(),n.mc(8,"td",24),n.mc(9,"span",30),n.id(10,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.lc(),n.id(11),n.lc(),n.mc(12,"td",25),n.mc(13,"span",30),n.id(14,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),n.lc(),n.id(15),n.zc(16,"date"),n.lc(),n.mc(17,"td",24),n.mc(18,"span",30),n.id(19,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),n.lc(),n.id(20),n.lc(),n.mc(21,"td",26),n.mc(22,"span",30),n.id(23,"\u038c\u03c7\u03b7\u03bc\u03b1"),n.lc(),n.gd(24,de,4,1,"span",31),n.gd(25,he,4,1,"span",31),n.gd(26,me,4,1,"span",31),n.lc(),n.mc(27,"td",32),n.mc(28,"span",30),n.id(29,"\u03a0\u03bf\u03c3\u03cc \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.lc(),n.id(30),n.zc(31,"currency"),n.lc(),n.mc(32,"td",32),n.mc(33,"span",30),n.id(34,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2*"),n.lc(),n.id(35),n.zc(36,"currency"),n.lc(),n.mc(37,"td",24),n.mc(38,"span",30),n.id(39,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2"),n.lc(),n.id(40),n.lc(),n.lc()),2&e){const e=i.$implicit;n.Hc("ngIf",e.cannotPayReason&&""!=e.cannotPayReason),n.Tb(1),n.Hc("ngClass",e.canPay&&e.canCheck?"":"disabled-row"),n.Tb(1),n.Hc("ngIf",!e.cannotPayReason||""==e.cannotPayReason),n.Tb(4),n.Hc("ngIf",e.statusId&&1==e.statusId),n.Tb(1),n.Hc("ngIf",e.statusId&&5==e.statusId),n.Tb(4),n.kd(" ",e.arithmosKlisis," "),n.Tb(4),n.ld(" ",n.Bc(16,15,e.hmerominiaEkdosis,"dd/MM/yyyy")," ",e.oraEkdosis&&e.hmerominiaEkdosis?"- "+e.oraEkdosis:e.oraEkdosis," "),n.Tb(5),n.kd(" ",e.arithmosKikloforias," "),n.Tb(4),n.Hc("ngIf",e.eidosOximatos),n.Tb(1),n.Hc("ngIf",e.markaOximatos),n.Tb(1),n.Hc("ngIf",e.xromaOximatos),n.Tb(4),n.kd(" ",n.Dc(31,18,e.pliroteoPoso,"EUR","symbol","1.2-2")," "),n.Tb(5),n.kd(" ",n.Dc(36,23,e.ofeilisPoso,"EUR","symbol","1.2-2")," "),n.Tb(5),n.kd(" ",e.stoixeiaBebaiosis," ")}}const pe=function(e){return[e,"EUR","symbol","1.2-2","el"]};function fe(e,i){if(1&e&&(n.mc(0,"tr"),n.mc(1,"td",38),n.mc(2,"strong"),n.id(3),n.lc(),n.lc(),n.mc(4,"td",39),n.mc(5,"strong"),n.id(6),n.zc(7,"currency"),n.lc(),n.lc(),n.mc(8,"td",39),n.mc(9,"strong"),n.id(10),n.zc(11,"currency"),n.lc(),n.lc(),n.hc(12,"td",24),n.lc()),2&e){const e=n.yc(2);n.Tb(3),n.kd("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2: ",e.model.length,""),n.Tb(3),n.jd(n.Ec(7,3,n.Oc(15,pe,e.sumPosoKlisis))),n.Tb(4),n.jd(n.Ec(11,9,n.Oc(17,pe,e.sumPliroteoPoso)))}}function ge(e,i){if(1&e&&(n.kc(0),n.hc(1,"p-message",10),n.gd(2,ne,2,1,"ng-container",3),n.mc(3,"legend",11),n.mc(4,"span",12),n.hc(5,"i",13),n.id(6," \u0391\u03a0\u039b\u0397\u03a1\u03a9\u03a4\u0397"),n.lc(),n.mc(7,"span",12),n.hc(8,"i",14),n.id(9," \u039a\u0391\u03a4\u0391\u03a7\u03a9\u03a1\u0397\u03a3\u0397 \u0391\u03a0\u039f WEB"),n.lc(),n.lc(),n.mc(10,"p-table",15),n.gd(11,oe,19,3,"ng-template",16),n.gd(12,ue,41,28,"ng-template",17),n.gd(13,fe,13,19,"ng-template",18),n.lc(),n.mc(14,"p",19),n.mc(15,"small"),n.mc(16,"em"),n.id(17,"* \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u03a0\u03c1\u03bf\u03c3\u03b1\u03c5\u03be\u03ae\u03c3\u03b5\u03b9\u03c2 \u03ba\u03b1\u03b9 \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u039a\u03c1\u03b1\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2"),n.lc(),n.lc(),n.lc(),n.jc()),2&e){const e=n.yc();n.Tb(1),n.Hc("styleClass","my-2"),n.Tb(1),n.Hc("ngIf",e.checkedKliseisTotal&&e.checkedKliseisTotal>0),n.Tb(8),n.Hc("value",e.model)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("resetPageOnSort",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",e.model.length)("loading",e.isLoading)}}function be(e,i){if(1&e){const e=n.nc();n.mc(0,"div",40),n.mc(1,"div"),n.mc(2,"p"),n.id(3,"\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 "),n.mc(4,"span",41),n.id(5),n.lc(),n.lc(),n.mc(6,"p",42),n.id(7,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: "),n.mc(8,"span",41),n.id(9),n.zc(10,"currency"),n.lc(),n.lc(),n.lc(),n.mc(11,"app-checkout",43),n.wc("onPayBtnClick",function(i){n.Zc(e);return n.yc().onCreatePaymentRequest(i)}),n.lc(),n.lc()}if(2&e){const e=n.yc();n.Tb(5),n.ld("",e.checkedKliseisTotal," ",1===e.checkedKliseisTotal?"\u03ba\u03bb\u03ae\u03c3\u03b7":"\u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2",""),n.Tb(4),n.jd(n.Dc(10,7,e.sumPliromis,"\u20ac","symbol","1.2")),n.Tb(2),n.Hc("isPaymentFormValid",!0)("doPaymentSubscription",e.onDoPaymentSubject.asObservable())("finApiUrl",e.financeApiUrl)("buttonText","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae")}}function ye(e,i){1&e&&n.hc(0,"p-message",4),2&e&&n.Hc("styleClass","mb-2")}function ke(e,i){if(1&e&&n.hc(0,"p-message",5),2&e){const e=n.yc();n.Hc("severity",e.bankStatusMessageClass)("text",e.bankStatusMessage)("styleClass","mb-2")}}function Ce(e,i){1&e&&(n.mc(0,"div",6),n.mc(1,"span",7),n.hc(2,"i",8),n.lc(),n.lc())}function ve(e,i){1&e&&(n.mc(0,"tr"),n.mc(1,"th",17),n.id(2,"\xa0"),n.lc(),n.mc(3,"th",18),n.id(4,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.lc(),n.mc(5,"th",19),n.id(6,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),n.lc(),n.mc(7,"th",18),n.id(8,"\u039f\u03b4\u03cc\u03c2 - \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2"),n.lc(),n.mc(9,"th",18),n.id(10,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),n.lc(),n.mc(11,"th",19),n.id(12,"\u038c\u03c7\u03b7\u03bc\u03b1"),n.lc(),n.mc(13,"th",20),n.id(14,"\u03a0\u03bf\u03c3\u03cc"),n.lc(),n.mc(15,"th",18),n.id(16,"\u039f\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1"),n.lc(),n.lc())}function Ie(e,i){1&e&&(n.mc(0,"span"),n.hc(1,"i",11),n.lc())}function we(e,i){1&e&&(n.mc(0,"span"),n.hc(1,"i",12),n.lc())}function Pe(e,i){if(1&e&&(n.mc(0,"span",25),n.mc(1,"strong"),n.id(2,"\u0395\u03af\u03b4\u03bf\u03c2: "),n.lc(),n.id(3),n.lc()),2&e){const e=n.yc().$implicit;n.Tb(3),n.jd(e.eidosOximatos)}}function Se(e,i){if(1&e&&(n.mc(0,"span",25),n.mc(1,"strong"),n.id(2,"\u039c\u03ac\u03c1\u03ba\u03b1: "),n.lc(),n.id(3),n.lc()),2&e){const e=n.yc().$implicit;n.Tb(3),n.jd(e.markaOximatos)}}function Me(e,i){if(1&e&&(n.mc(0,"span",25),n.mc(1,"strong"),n.id(2,"\u03a7\u03c1\u03ce\u03bc\u03b1: "),n.lc(),n.id(3),n.lc()),2&e){const e=n.yc().$implicit;n.Tb(3),n.jd(e.xromaOximatos)}}function Oe(e,i){if(1&e&&(n.mc(0,"span"),n.mc(1,"strong"),n.id(2,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2:"),n.lc(),n.id(3),n.lc()),2&e){const e=n.yc().$implicit;n.Tb(3),n.kd(" ",e.stoixeiaBebaiosis,"")}}function xe(e,i){if(1&e&&(n.mc(0,"span"),n.hc(1,"br"),n.mc(2,"strong"),n.id(3,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2:"),n.lc(),n.id(4),n.lc()),2&e){const e=n.yc().$implicit;n.Tb(4),n.kd(" ",e.stoixeiaApodeiksis,"")}}function Ae(e,i){if(1&e&&(n.mc(0,"tr"),n.mc(1,"td",21),n.mc(2,"span",22),n.id(3,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7"),n.lc(),n.gd(4,Ie,2,0,"span",3),n.gd(5,we,2,0,"span",3),n.lc(),n.mc(6,"td",18),n.mc(7,"span",22),n.id(8,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.lc(),n.id(9),n.lc(),n.mc(10,"td",19),n.mc(11,"span",22),n.id(12,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),n.lc(),n.id(13),n.zc(14,"date"),n.lc(),n.mc(15,"td",18),n.mc(16,"span",22),n.id(17,"\u039f\u03b4\u03cc\u03c2 - \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2"),n.lc(),n.id(18),n.lc(),n.mc(19,"td",18),n.mc(20,"span",22),n.id(21,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),n.lc(),n.id(22),n.lc(),n.mc(23,"td",19),n.mc(24,"span",22),n.id(25,"\u038c\u03c7\u03b7\u03bc\u03b1"),n.lc(),n.gd(26,Pe,4,1,"span",23),n.gd(27,Se,4,1,"span",23),n.gd(28,Me,4,1,"span",23),n.lc(),n.mc(29,"td",24),n.mc(30,"span",22),n.id(31,"\u03a0\u03bf\u03c3\u03cc"),n.lc(),n.id(32),n.zc(33,"currency"),n.lc(),n.mc(34,"td",18),n.mc(35,"span",22),n.id(36,"\u039f\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1"),n.lc(),n.gd(37,Oe,4,1,"span",3),n.gd(38,xe,5,1,"span",3),n.lc(),n.lc()),2&e){const e=i.$implicit;n.Tb(4),n.Hc("ngIf",e.statusId&&2==e.statusId),n.Tb(1),n.Hc("ngIf",e.statusId&&6==e.statusId),n.Tb(4),n.kd(" ",e.arithmosKlisis," "),n.Tb(4),n.ld(" ",n.Bc(14,15,e.hmerominiaEkdosis,"dd/MM/yyyy")," ",e.oraEkdosis&&e.hmerominiaEkdosis?"- "+e.oraEkdosis:e.oraEkdosis," "),n.Tb(5),n.md(" ",e.odosPerigrafi," ",e.odosPerigrafi&&e.odosArithmos?"-":""," ",e.odosArithmos," "),n.Tb(4),n.kd(" ",e.arithmosKikloforias," "),n.Tb(4),n.Hc("ngIf",e.eidosOximatos),n.Tb(1),n.Hc("ngIf",e.markaOximatos),n.Tb(1),n.Hc("ngIf",e.xromaOximatos),n.Tb(4),n.kd(" ",n.Dc(33,18,e.pliroteoPoso,"EUR","symbol","1.2-2")," "),n.Tb(5),n.Hc("ngIf",e.stoixeiaBebaiosis),n.Tb(1),n.Hc("ngIf",e.stoixeiaApodeiksis)}}function Te(e,i){if(1&e&&(n.mc(0,"tr"),n.mc(1,"td",26),n.mc(2,"strong"),n.id(3),n.zc(4,"currency"),n.lc(),n.lc(),n.lc()),2&e){const e=n.yc(2);n.Tb(3),n.kd("\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc: ",n.Ec(4,1,n.Oc(7,pe,e.sumPliroteoPoso)),"")}}function _e(e,i){if(1&e&&(n.kc(0),n.mc(1,"legend",9),n.mc(2,"span",10),n.hc(3,"i",11),n.id(4," \u0395\u039e\u039f\u03a6\u039b\u0397\u03a3\u0397 \u03a3\u03a4\u039f \u0394\u0397\u039c\u039f"),n.lc(),n.mc(5,"span",10),n.hc(6,"i",12),n.id(7," \u0395\u039e\u039f\u03a6\u039b\u0397\u03a3\u0397 WEB"),n.lc(),n.lc(),n.mc(8,"p"),n.id(9,"\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u039a\u03bb\u03ae\u03c3\u03b5\u03c9\u03bd: "),n.mc(10,"strong"),n.id(11),n.lc(),n.lc(),n.mc(12,"p-table",13),n.gd(13,ve,17,0,"ng-template",14),n.gd(14,Ae,39,23,"ng-template",15),n.gd(15,Te,5,9,"ng-template",16),n.lc(),n.jc()),2&e){const e=n.yc();n.Tb(11),n.jd(e.model.length),n.Tb(1),n.Hc("value",e.model)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",e.model.length)}}const Re=["klisiAnazitisi"],Ee=["klisiPayUnauthorized"];function He(e,i){if(1&e&&n.hc(0,"p-message",4),2&e){const e=n.yc();n.Hc("severity",e.bankStatusMessageClass)("text",e.bankStatusMessage)("styleClass","mb-2")}}function De(e,i){if(1&e&&(n.mc(0,"a",5),n.hc(1,"i",6),n.id(2," \u0395\u03c0\u03b9\u03c3\u03c4\u03c1\u03bf\u03c6\u03ae"),n.lc()),2&e){const e=n.yc();n.Ic("href",e.callbackUrl,n.bd)}}function Ke(e,i){if(1&e&&n.hc(0,"div",29),2&e){const e=n.yc(2);n.Hc("innerHTML",e.formErrorsMsg,n.ad)}}function je(e,i){1&e&&(n.mc(0,"div",30),n.mc(1,"span",31),n.hc(2,"i",32),n.lc(),n.lc())}function ze(e,i){if(1&e&&n.hc(0,"p-message",36),2&e){const e=n.yc(3);n.Hc("severity",e.requestMsgClass)("text",e.requestMsg)}}function Ue(e,i){if(1&e){const e=n.nc();n.mc(0,"div",9),n.mc(1,"div",19),n.mc(2,"label"),n.id(3,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1*"),n.lc(),n.mc(4,"input",40,41),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(4).model.debtorName=i})("ngModelChange",function(){n.Zc(e);return n.yc(4)._checkDisabled()}),n.lc(),n.mc(6,"div",16),n.id(7," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.lc(),n.lc(),n.mc(8,"div",19),n.mc(9,"label"),n.id(10,"\u0391.\u03a6.\u039c.*"),n.lc(),n.mc(11,"input",42,43),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(4).model.tin=i})("ngModelChange",function(){n.Zc(e);return n.yc(4)._checkDisabled()}),n.lc(),n.mc(13,"div",16),n.id(14," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2 \u03b1\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u0391.\u03a6.\u039c. "),n.lc(),n.lc(),n.lc()}if(2&e){const e=n.Xc(5),i=n.Xc(12),t=n.yc(4);n.Tb(4),n.Hc("ngModel",t.model.debtorName),n.Tb(2),n.Hc("hidden",!t.isFormPaySubmitted||t.isFormPaySubmitted&&e.valid),n.Tb(5),n.Hc("ngModel",t.model.tin),n.Tb(2),n.Hc("hidden",!t.isFormPaySubmitted||t.isFormPaySubmitted&&i.valid)}}function Fe(e,i){if(1&e){const e=n.nc();n.mc(0,"div",45),n.mc(1,"label"),n.id(2,"Email*"),n.lc(),n.mc(3,"input",46,47),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(5).model.email=i})("ngModelChange",function(){n.Zc(e);return n.yc(5)._checkDisabled()}),n.lc(),n.mc(5,"div",16),n.id(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.lc(),n.lc()}if(2&e){const e=n.Xc(4),i=n.yc(5);n.Hc("ngClass",i.unauthorizedPaymentResponse.hasTilefono?"col-md-12":"col-md-6"),n.Tb(3),n.Hc("ngModel",i.model.email),n.Tb(2),n.Hc("hidden",!i.isFormPaySubmitted||i.isFormPaySubmitted&&e.valid)}}function qe(e,i){if(1&e){const e=n.nc();n.mc(0,"div",45),n.mc(1,"label"),n.id(2,"\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf*"),n.lc(),n.mc(3,"input",48,49),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(5).model.tilefono=i})("ngModelChange",function(){n.Zc(e);return n.yc(5)._checkDisabled()}),n.lc(),n.mc(5,"div",16),n.id(6," *\u03a4\u03bf \u03ba\u03b9\u03bd\u03b7\u03c4\u03cc \u03c4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03ad\u03c7\u03b5\u03b9 10 \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 69\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7. "),n.lc(),n.lc()}if(2&e){const e=n.Xc(4),i=n.yc(5);n.Hc("ngClass",i.unauthorizedPaymentResponse.hasEmail?"col-md-12":"col-md-6"),n.Tb(3),n.Hc("ngModel",i.model.tilefono),n.Tb(2),n.Hc("hidden",!i.isFormPaySubmitted||i.isFormPaySubmitted&&e.valid)}}function Le(e,i){if(1&e&&(n.mc(0,"div",9),n.gd(1,Fe,7,3,"div",44),n.gd(2,qe,7,3,"div",44),n.lc()),2&e){const e=n.yc(4);n.Tb(1),n.Hc("ngIf",!e.unauthorizedPaymentResponse.hasEmail),n.Tb(1),n.Hc("ngIf",!e.unauthorizedPaymentResponse.hasTilefono)}}function $e(e,i){if(1&e){const e=n.nc();n.mc(0,"div",9),n.mc(1,"div",50),n.mc(2,"label"),n.id(3,"\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7*"),n.lc(),n.mc(4,"input",51,52),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(4).model.address=i})("ngModelChange",function(){n.Zc(e);return n.yc(4)._checkDisabled()}),n.lc(),n.mc(6,"div",16),n.id(7," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.lc(),n.lc(),n.mc(8,"div",53),n.mc(9,"label"),n.id(10,"\u03a4.\u039a.*"),n.lc(),n.mc(11,"input",54,55),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(4).model.tk=i})("ngModelChange",function(){n.Zc(e);return n.yc(4)._checkDisabled()}),n.lc(),n.mc(13,"div",16),n.id(14," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.lc(),n.lc(),n.mc(15,"div",19),n.mc(16,"label"),n.id(17,"\u03a0\u03cc\u03bb\u03b7*"),n.lc(),n.mc(18,"input",56,57),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(4).model.poli=i})("ngModelChange",function(){n.Zc(e);return n.yc(4)._checkDisabled()}),n.lc(),n.mc(20,"div",16),n.id(21," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.lc(),n.lc(),n.mc(22,"div",13),n.mc(23,"label"),n.id(24,"\u03a7\u03ce\u03c1\u03b1*"),n.lc(),n.mc(25,"ng-select",58,59),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc(4).model.countryId=i})("change",function(){n.Zc(e);return n.yc(4)._checkDisabled()}),n.lc(),n.mc(27,"div",16),n.id(28," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.lc(),n.lc(),n.lc()}if(2&e){const e=n.Xc(5),i=n.Xc(12),t=n.Xc(19),s=n.yc(4);n.Tb(4),n.Hc("ngModel",s.model.address),n.Tb(2),n.Hc("hidden",!s.isFormPaySubmitted||s.isFormPaySubmitted&&e.valid),n.Tb(5),n.Hc("ngModel",s.model.tk),n.Tb(2),n.Hc("hidden",!s.isFormPaySubmitted||s.isFormPaySubmitted&&i.valid),n.Tb(5),n.Hc("ngModel",s.model.poli),n.Tb(2),n.Hc("hidden",!s.isFormPaySubmitted||s.isFormPaySubmitted&&t.valid),n.Tb(5),n.Hc("items",s.countriesList)("virtualScroll",!0)("searchable",!0)("ngModel",s.model.countryId),n.Tb(2),n.Hc("hidden",!s.isFormPaySubmitted||s.isFormPaySubmitted&&s.model.countryId)}}function Ze(e,i){if(1&e&&n.hc(0,"div",29),2&e){const e=n.yc(4);n.Hc("innerHTML",e.formErrorsMsgPay,n.ad)}}function Ne(e,i){if(1&e&&(n.mc(0,"form",37,38),n.gd(2,Ue,15,4,"div",39),n.gd(3,Le,3,2,"div",39),n.gd(4,$e,29,11,"div",39),n.gd(5,Ze,1,1,"div",27),n.lc()),2&e){const e=n.yc(3);n.Tb(2),n.Hc("ngIf",!e.unauthorizedPaymentResponse.hasOfeileti&&e.unauthorizedPaymentResponse.isOfeiletisPay),n.Tb(1),n.Hc("ngIf",!e.unauthorizedPaymentResponse.hasEmail||!e.unauthorizedPaymentResponse.hasTilefono),n.Tb(1),n.Hc("ngIf",!e.unauthorizedPaymentResponse.hasDieuthinsi),n.Tb(1),n.Hc("ngIf",e.formErrorsMsgPay&&""!=e.formErrorsMsgPay)}}function Be(e,i){if(1&e){const e=n.nc();n.mc(0,"div",60),n.mc(1,"app-checkout",61),n.wc("onPayBtnClick",function(i){n.Zc(e);return n.yc(3).onCreatePaymentRequest(i)}),n.lc(),n.lc()}if(2&e){const e=n.yc(3);n.Tb(1),n.Hc("isPaymentFormValid",e.klisiPayUnauthorized.valid)("doPaymentSubscription",e.onDoPaymentSubject.asObservable())("finApiUrl",e.financeApiUrl)("buttonText","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae")}}function We(e,i){if(1&e&&(n.kc(0),n.gd(1,ze,1,2,"p-message",33),n.gd(2,Ne,6,4,"form",34),n.gd(3,Be,2,4,"div",35),n.jc()),2&e){const e=n.yc(2);n.Tb(1),n.Hc("ngIf",e.requestMsg&&""!=e.requestMsg),n.Tb(1),n.Hc("ngIf",e.unauthorizedPaymentResponse.canPay),n.Tb(1),n.Hc("ngIf",e.klisiPayUnauthorized&&e.unauthorizedPaymentResponse.canPay)}}function Xe(e,i){if(1&e){const e=n.nc();n.kc(0),n.mc(1,"form",7,8),n.mc(3,"div",9),n.mc(4,"div",10),n.mc(5,"p-checkbox",11,12),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc().model.isForeign=i}),n.lc(),n.lc(),n.mc(7,"div",13),n.mc(8,"label"),n.id(9,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2*"),n.lc(),n.mc(10,"input",14,15),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc().model.arithmosKlisis=i}),n.lc(),n.mc(12,"div",16),n.id(13," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03ad\u03c0\u03bf\u03bd\u03c4\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03bc\u03ad\u03c7\u03c1\u03b9 12 \u03b1\u03c1\u03b9\u03b8\u03bc\u03bf\u03af. "),n.lc(),n.lc(),n.mc(14,"div",13),n.mc(15,"label"),n.id(16,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2*"),n.lc(),n.mc(17,"input",17,18),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc().model.arithmosKikloforias=i}),n.lc(),n.mc(19,"div",16),n.id(20," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.lc(),n.lc(),n.mc(21,"div",19),n.mc(22,"label"),n.id(23,"\u0388\u03c4\u03bf\u03c2 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2*"),n.lc(),n.mc(24,"input",20,21),n.wc("ngModelChange",function(i){n.Zc(e);return n.yc().model.etos=i}),n.lc(),n.mc(26,"div",16),n.id(27),n.lc(),n.lc(),n.lc(),n.mc(28,"div",22),n.mc(29,"button",23),n.wc("click",function(){n.Zc(e);return n.yc().onSearch()}),n.hc(30,"i",24),n.id(31," \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7"),n.lc(),n.mc(32,"button",25),n.wc("click",function(){n.Zc(e);return n.yc().onCancel()}),n.hc(33,"i",26),n.id(34," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7"),n.lc(),n.lc(),n.gd(35,Ke,1,1,"div",27),n.lc(),n.gd(36,je,3,0,"div",28),n.gd(37,We,4,3,"ng-container",3),n.jc()}if(2&e){const e=n.Xc(11),i=n.Xc(18),t=n.Xc(25),s=n.yc();n.Tb(5),n.Hc("ngModel",s.model.isForeign)("disabled",s.unauthorizedPaymentResponse&&s.unauthorizedPaymentResponse.canPay),n.Tb(5),n.Hc("ngModel",s.model.arithmosKlisis)("disabled",s.unauthorizedPaymentResponse&&s.unauthorizedPaymentResponse.canPay),n.Tb(2),n.Hc("hidden",!s.isFormSubmitted||s.unauthorizedPaymentResponse||s.isFormSubmitted&&e.valid),n.Tb(5),n.Hc("ngModel",s.model.arithmosKikloforias)("disabled",s.unauthorizedPaymentResponse&&s.unauthorizedPaymentResponse.canPay),n.Tb(2),n.Hc("hidden",!s.isFormSubmitted||s.unauthorizedPaymentResponse||s.isFormSubmitted&&i.valid),n.Tb(5),n.Hc("ngModel",s.model.etos)("disabled",s.unauthorizedPaymentResponse&&s.unauthorizedPaymentResponse.canPay),n.Tb(2),n.Hc("hidden",!s.isFormSubmitted||s.unauthorizedPaymentResponse||s.isFormSubmitted&&t.valid),n.Tb(1),n.kd(" \u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf & \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 \u03a7\u03a7\u03a7\u03a7 \u03cc\u03c0\u03bf\u03c5 \u03a7 \u03bc\u03cc\u03bd\u03bf \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bc\u03b9\u03ba\u03c1\u03cc\u03c4\u03b5\u03c1\u03bf \u03ae \u03af\u03c3\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf ",s.thisYear,". "),n.Tb(8),n.Hc("ngIf",s.formErrorsMsg&&""!=s.formErrorsMsg),n.Tb(1),n.Hc("ngIf",s.isLoading),n.Tb(1),n.Hc("ngIf",s.unauthorizedPaymentResponse&&!s.isLoading)}}const Ve=`${(new Date).getFullYear()-50}:${(new Date).getFullYear()+50}`;function Ge(e){return e.setHours(e.getHours()-e.getTimezoneOffset()/60),e}function Ye(e){try{e.detectChanges()}catch(i){}}function Je(e){const i=[];return Object.keys(e.controls).forEach(t=>{const s=e.get(t);s instanceof m.f&&i.push(...Je(s));const n=s.errors;n&&Object.keys(n).forEach(e=>{i.push({control:t,error:e,value:n[e]})})}),i}function Qe(e,i,t){let s="";const n=[],o=e.control;return Object.keys(o.controls).forEach(e=>{const i=o.get(e);i instanceof m.f&&n.push(...Je(i));const t=i.errors;t&&Object.keys(t).forEach(i=>{n.push({control:e,error:i,value:t[i]})})}),!(!n&&!t)&&(s="<ul>",n.forEach(e=>{let t,n=e.control.split("-")[0];"required"==e.error?t="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"minlength"==e.error?t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"maxlength"==e.error?t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03ad\u03b3\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"afmvalidator"==e.error&&(t="\u039f \u0391.\u03a6.\u039c. \u03b4\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9"),s+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+i[n]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+t+"</li>"}),s+=t,s+="</ul>",s)}function ei(e){let i=new RegExp("^[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7]{2}[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7 ][0-9]{4}$"),t=new RegExp("^[\u0394\u039f\u039a][0-9]{4}$");return!(!i.test(e)&&!t.test(e))}function ii(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toUpperCase()).replace("A","\u0391")).replace("B","\u0392")).replace("E","\u0395")).replace("H","\u0397")).replace("I","\u0399")).replace("K","\u039a")).replace("M","\u039c")).replace("N","\u039d")).replace("O","\u039f")).replace("P","\u03a1")).replace("T","\u03a4")).replace("X","\u03a7")).replace("Y","\u03a5")).replace("Z","\u0396")}function ti(e){return e&&""!=e.trim().toString()&&(e=function(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toUpperCase()).replace(new RegExp("\u0393","g"),"")).replace(new RegExp("\u0394","g"),"")).replace(new RegExp("\u0398","g"),"")).replace(new RegExp("\u039b","g"),"")).replace(new RegExp("\u039e","g"),"")).replace(new RegExp("\u03a0","g"),"")).replace(new RegExp("\u03a3","g"),"")).replace(new RegExp("\u03a6","g"),"")).replace(new RegExp("\u03a8","g"),"")).replace(new RegExp("\u03a9","g"),"")).replace(new RegExp("C","g"),"")).replace(new RegExp("D","g"),"")).replace(new RegExp("F","g"),"")).replace(new RegExp("G","g"),"")).replace(new RegExp("J","g"),"")).replace(new RegExp("L","g"),"")).replace(new RegExp("Q","g"),"")).replace(new RegExp("R","g"),"")).replace(new RegExp("S","g"),"")).replace(new RegExp("U","g"),"")).replace(new RegExp("V","g"),"")).replace(new RegExp("W","g"),"")}(e)),e}function si(e,i){let t="";if(e.error instanceof Error&&e.error&&e.error.message||void 0!==e.error&&e.error&&e.error.message)t=`${e.error.message}`;else switch(e.status){case 400:t=e.error;break;case 403:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. \n";break;case 401:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. \n",setTimeout(()=>window.location.reload(),1e3);break;default:t=`\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1 \u03bc\u03b5 \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc ${e.status}, \u03ba\u03b1\u03b9 \u03c0\u03b5\u03c1\u03b9\u03b5\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf: ${void 0!==e.body?e.body.error:void 0!==e.message?e.message:""}`}return console.log("ERRORING: ",e),i.showError("\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1",`${t}`),Object(o.a)(!1)}function ni(e){return e&&"/"==e[e.length-1]&&(e=e.substring(0,e.length-1)),e}class oi{constructor(e){this.toastrSrv=e}show(e,i,t){i&&this.toastrSrv[t](i,e,{progressBar:!0,onActivateTick:!0})}showError(e,i){this.show(e,i,"error")}showInfo(e,i){this.show(e,i,"info")}showSuccess(e,i){this.show(e,i,"success")}showWarning(e,i){this.show(e,i,"warning")}}oi.\u0275fac=function(e){return new(e||oi)(n.tc(u.b))},oi.\u0275prov=n.cc({factory:function(){return new oi(n.tc(u.b))},token:oi,providedIn:"root"}),oi.ctorParameters=()=>[{type:u.b}];class ai{constructor(e){this.toasterSrv=e,this.catchBadResponse=e=>{let i="";if(e.error instanceof Error)i=`\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ${e.message}`;else if(void 0!==e.error)i=`\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ${e.message}`;else switch(e.status){case 403:i=`\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error ${e.status}`;break;case 401:i=`\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n ${e.status}`;break;default:i=`Backend returned code ${e.status}, body was: ${void 0!==e.body?e.body.error:void 0!==e.message?e.message:""}`}return this.toasterSrv.showError("",`${i}`),Object(o.a)(!1)}}}ai.\u0275fac=function(e){return new(e||ai)(n.tc(oi))},ai.\u0275prov=n.cc({factory:function(){return new ai(n.tc(oi))},token:ai,providedIn:"root"}),ai.ctorParameters=()=>[{type:oi}];class ri extends class{constructor(e,i,t){this.http=e,this.exceptionService=i,this.toasterSrv=t,this.getBaseUrl=()=>this.baseUrl,AppConfOptions&&AppConfOptions.kliseis_api?(this.baseUrl=AppConfOptions.kliseis_api,this.financeUrl=AppConfOptions.epayments_api):(this.baseUrl="/",this.financeUrl=AppConfOptions.financeApi),this.baseUrl+="api",this.financeUrl+="api"}}{constructor(e,i,t){super(t,e,i),this.exceptionSrv=e,this.toasterSrv=i,this.http=t,this.kliseisUrl=this.baseUrl+"/KliseisWeb",this.kliseisFinanceUrl=this.baseUrl+"/Finance"}getKliseis(e){return this.http.get(`${this.kliseisUrl}/GetKliseisWebByAfm/${e}`).pipe(Object(c.a)(e=>e),Object(l.a)(e=>si(e,this.toasterSrv)))}getKliseisPayed(e){return this.http.get(`${this.kliseisUrl}/GetKliseisPayedWebByAfm/${e}`).pipe(Object(c.a)(e=>e),Object(l.a)(e=>si(e,this.toasterSrv)))}getKlisiById(e){return this.http.get(`${this.kliseisUrl}/GetById/${e}`).pipe(Object(c.a)(e=>e),Object(l.a)(e=>si(e,this.toasterSrv)))}getStoixeiaKlisisForWebPliromi(e){return this.http.post(`${this.kliseisUrl}/GetStoixeiaKlisisForWebPliromi/`,e).pipe(Object(c.a)(e=>e),Object(l.a)(e=>si(e,this.toasterSrv)))}getStoixeiaKlisisForWebPliromiEtos(e){return this.http.post(`${this.kliseisUrl}/GetStoixeiaKlisisForWebPliromiEtos/`,e).pipe(Object(c.a)(e=>e),Object(l.a)(e=>si(e,this.toasterSrv)))}createKlisiWebAsync(e){const i=`${this.kliseisUrl}/CreateKlisiWebAsync`;return this.http.post(i,e).pipe(Object(c.a)(e=>e),Object(l.a)(e=>si(e,this.toasterSrv)))}markKlisiWebExoflisi(e){const i=`${this.kliseisUrl}/MarkKlisiWebExoflisi`;return this.http.post(i,e).pipe(Object(c.a)(e=>e),Object(l.a)(e=>si(e,this.toasterSrv)))}addPaymentRequest(e){const i=`${this.financeUrl}/Banks/AddPaymentRequest`;return this.http.post(i,e).pipe(Object(c.a)(e=>e),Object(l.a)(e=>si(e,this.toasterSrv)))}getFinancePaymentCallback(e){return this.http.get(`${this.kliseisUrl}/GetFinancePaymentCallback?btId=${e.btId}&returnUrl=${e.returnUrl}&status=${e.status}&messagecode=${e.messagecode}`).pipe(Object(c.a)(e=>e),Object(l.a)(e=>si(e,this.toasterSrv)))}fillPaymentRequestDtoNonAuthorized(e){const i=`${this.kliseisFinanceUrl}/FillPaymentRequestDtoNonAuthorized`;return this.http.post(i,e).pipe(Object(c.a)(e=>e),Object(l.a)(e=>si(e,this.toasterSrv)))}fillPaymentRequestAuthorized(e){const i=`${this.kliseisFinanceUrl}/FillPaymentRequestDtoAuthorized`;return this.http.post(i,e).pipe(Object(c.a)(e=>e),Object(l.a)(e=>si(e,this.toasterSrv)))}getPaymentSettings(){let e=`${this.baseUrl}/oikonomiki/GetPaymentSettings`;return this.paymentSettings?Object(o.a)(this.paymentSettings):this.http.get(e).pipe(Object(c.a)(e=>(this.paymentSettings=e,e)),Object(l.a)(e=>si(e,this.toasterSrv)))}getPluginCustomerOptions(){const e=this.baseUrl+"/Configurations"+"/GetPluginCustomerSpecificOptions";return this.http.get(e).pipe(Object(c.a)(e=>e),Object(l.a)(e=>si(e,this.toasterSrv)))}}ri.\u0275fac=function(e){return new(e||ri)(n.tc(ai),n.tc(oi),n.tc(s.b))},ri.\u0275prov=n.cc({factory:function(){return new ri(n.tc(ai),n.tc(oi),n.tc(s.b))},token:ri,providedIn:"root"}),ri.ctorParameters=()=>[{type:ai},{type:oi},{type:s.b}];class ci{constructor(e){this.http=e,this.isAuthorizedSubject=new a.a(null),this.isAuthorized$=this.isAuthorizedSubject.asObservable(),this.userInfoSubject=new a.a(null),this.userInfo$=this.userInfoSubject.asObservable(),this.applicationOptionsSubject=new a.a(null),this.applicationOptions$=this.applicationOptionsSubject.asObservable(),this.customerSpecificOptionsSubject=new a.a(null),this.customerSpecificOptions$=this.customerSpecificOptionsSubject.asObservable(),this.pluginCustomerSpecificOptionsSubject=new a.a(null),this.pluginCustomerSpecificOptions$=this.pluginCustomerSpecificOptionsSubject.asObservable(),AppConfOptions&&AppConfOptions.kliseis_api?this.baseUrl=AppConfOptions.kliseis_api:this.baseUrl="/",this.baseUrl+="api",this.egOnInit()}egOnInit(){this.isAuthorized$.subscribe(e=>{this.isAuthorized=e}),this.userInfo$.subscribe(e=>{this.userInfo=e}),this.applicationOptions$.subscribe(e=>{this.applicationOptions=e}),this.customerSpecificOptions$.subscribe(e=>{this.customerSpecificOptions=e}),this.pluginCustomerSpecificOptions$.subscribe(e=>{this.pluginCustomerSpecificOptions=e})}initIsAuthorized(){if(!this.isAuthorized){let e,i=window.sessionStorage.length>0?window.sessionStorage:window.localStorage;for(let t=0;t<i.length;t++){const s=i.key(t);s.includes("_isAuthorized")&&(e=JSON.parse(i.getItem(s)),this.isAuthorizedSubject.next(e))}}}initUserInfo(){if(!this.userInfo){let e=null,i=window.sessionStorage.length>0?window.sessionStorage:window.localStorage;for(let t=0;t<i.length;t++){const s=i.key(t);s.includes("userData")&&(e=JSON.parse(i.getItem(s)),this.userInfoSubject.next({email:e.email,username:e.given_name,tin:e.tin,family_name:e.family_name,given_name:e.given_name,fathers_name:e.fathers_name,mothers_name:e.mothers_name,name:e.name,address_city:e.address_city,address_country_code:e.address_country_code,address_zip:e.address_zip,address:e.address,adt:e.adt,phone_number:e.phone_number}))}}}iniApplicationOptions(){if(!this.applicationOptions){const e=this.baseUrl+"/Configurations/GetAllOptions";this.http.get(e).subscribe(e=>{e&&this.applicationOptionsSubject.next(e)})}}initCustomerSpecificOptions(){if(!this.customerSpecificOptions){const e=this.baseUrl+"/Configurations/GetCustomerSpecificOptions";this.http.get(e).subscribe(e=>{e&&this.customerSpecificOptionsSubject.next(e)})}}initPluginCustomerSpecificOptions(){if(!this.pluginCustomerSpecificOptions){const e=this.baseUrl+"/Configurations/GetPluginCustomerSpecificOptions";this.http.get(e).subscribe(e=>{e&&this.pluginCustomerSpecificOptionsSubject.next(e)})}}}ci.\u0275fac=function(e){return new(e||ci)(n.tc(s.b))},ci.\u0275prov=n.cc({factory:function(){return new ci(n.tc(s.b))},token:ci,providedIn:"root"}),ci.ctorParameters=()=>[{type:s.b}];class li{constructor(e,i,t,s,n,o,a){this.kliseisNgSrv=e,this.pluginCacheSrv=i,this.toasterSrv=t,this._http=s,this.router=n,this.route=o,this.cdr=a,this.onDestroy=new r.a,this.paymentResponseDto=null,this.countriesList=[],this.index=0,this.isAddingKlisi=!1,this.isDataChanged=!1,this.isAuthorized=!1,this.isLoadingPaymentRequest=!1,this.applicationUrl="",this.financeApiUrl="",this.returnUrl="",this.onTbChanged=!1,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?(this.applicationUrl=ni(AuthConfOptions.redirect_url),this.financeApiUrl=ni(AppConfOptions.epayments_api),this.returnUrl=encodeURI(this.applicationUrl+"/kliseis/receipts")):(this.applicationUrl=ni(AppConfOptions.applicationUrl),this.financeApiUrl=ni(AppConfOptions.financeApi),this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts"))}ngOnInit(){this.pluginCacheSrv.initIsAuthorized(),this.pluginCacheSrv.initUserInfo(),this.pluginCacheSrv.isAuthorized$.pipe(Object(d.a)(e=>(this.isAuthorized=e,this.isAuthorized=e||!1,this.isAuthorized?(this.router.url.includes("receipts")?this.onTabChanged({index:1}):this.onTabChanged({index:0}),this.pluginCacheSrv.userInfo$):Object(o.a)(!1))),Object(d.a)(e=>{if(e){if(this.userInfo=e,"undefined"!=typeof AuthConfOptions){console.log("AuthConfOptions",AuthConfOptions);let e=ni(AuthConfOptions.stsServer);return this._http.get(`${e}/api/general/GetCountries`)}return this._http.get("http://auth.dev.egritosgroup.gr/api/general/GetCountries")}return Object(o.a)(!1)}),Object(d.a)(e=>e?(this.countriesList=e,this.userInfo.address_country_code&&""!=this.userInfo.address_country_code&&(this.userInfo.address_country_num=this.countriesList.find(e=>e.Alpha2Code==this.userInfo.address_country_code).NumericCode.toString()),this.kliseisNgSrv.getPluginCustomerOptions()):Object(o.a)(!1)),Object(h.a)(this.onDestroy)).subscribe(e=>{if(e){let i=e;i.configurationOptions&&i.configurationOptions.length&&i.configurationOptions.some(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id)&&(this.onlinePaymentsSettingsCompany=i.configurationOptions.find(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id).value)}Ye(this.cdr)}),this.router.events.pipe(Object(h.a)(this.onDestroy)).subscribe(e=>{if(e&&e instanceof p.c){let i=e.url;this.isAuthorized&&(i.includes("receipts")?this.index=1:this.index=0)}})}ngOnDestroy(){this.onDestroy.next()}ngAfterViewInit(){this.router.url.includes("receipts")?this.index=1:this.index=0,Ye(this.cdr)}onTabChanged(e){0==e.index?this.router.navigate(["./debits"],{relativeTo:this.route}):(this.onTbChanged=!0,Ye(this.cdr),this.router.navigate(["./receipts"],{relativeTo:this.route,queryParamsHandling:"preserve"}))}onAddKlisiClicked(){this.isAddingKlisi=!0,Ye(this.cdr)}_klisiAdded(e){this.isDataChanged=!0,this.isAddingKlisi=!1,Ye(this.cdr)}}li.\u0275fac=function(e){return new(e||li)(n.gc(ri),n.gc(ci),n.gc(oi),n.gc(s.b),n.gc(p.d),n.gc(p.a),n.gc(n.j))},li.\u0275cmp=n.ac({type:li,selectors:[["lib-kliseis-ng"]],decls:4,vars:6,consts:[[4,"ngIf"],["header","\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u039d\u03ad\u03b1\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange"],[3,"userInfo","isLoadingPaymentRequest","relatedCallbackUrl","klisiAdded",4,"ngIf"],["class","d-flex justify-content-end mb-1",4,"ngIf"],[3,"activeIndex","onChange"],["header","\u0391\u03c0\u03bb\u03ae\u03c1\u03c9\u03c4\u03b5\u03c2 \u039a\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2"],[3,"isDataChanged","userInfo","onlinePaymentsSettingsCompany"],["header","\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd \u039a\u03bb\u03ae\u03c3\u03b5\u03c9\u03bd"],["pTemplate","content"],[1,"d-flex","justify-content-end","mb-1"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-plus","fa-fw"],[3,"tabChanged","changeTabIndex"],[3,"userInfo","isLoadingPaymentRequest","relatedCallbackUrl","klisiAdded"]],template:function(e,i){1&e&&(n.gd(0,T,2,0,"ng-container",0),n.gd(1,E,7,5,"ng-container",0),n.mc(2,"p-dialog",1),n.wc("visibleChange",function(e){return i.isAddingKlisi=e}),n.gd(3,H,1,3,"lib-kliseis-add-new",2),n.lc()),2&e&&(n.Hc("ngIf",!i.isAuthorized),n.Tb(1),n.Hc("ngIf",i.isAuthorized&&i.userInfo),n.Tb(1),n.Hc("visible",i.isAddingKlisi)("draggable",!1)("closable",!0),n.Tb(1),n.Hc("ngIf",i.isAddingKlisi&&i.userInfo))},directives:function(){return[f.p,I.a,Mi,O.b,O.a,Ii,A.j,wi,vi]},encapsulation:2,changeDetection:0}),li.ctorParameters=()=>[{type:ri},{type:ci},{type:oi},{type:s.b},{type:p.d},{type:p.a},{type:n.j}];class di{constructor(e,i){this.oidcSecuritySrv=e,this.router=i}canActivate(e,i){return this.oidcSecuritySrv.isAuthenticated$.pipe(Object(c.a)(e=>(console.log("AuthorizationGuard, canActivate isAuthorized: "+e),!!e||(this.router.navigateByUrl("/unauthorized"),!1))))}}di.\u0275fac=function(e){return new(e||di)(n.tc(x.e),n.tc(p.d))},di.\u0275prov=n.cc({token:di,factory:di.\u0275fac}),di.ctorParameters=()=>[{type:x.e},{type:p.d}];class hi{constructor(){this.validator=this.afmValidator()}validate(e){return this.validator(e)}afmValidator(){return e=>{if(e&&e.value){if(!function(e){if(!e||e.length<9)return!1;if("000000000"==e)return!0;e=e.split("").reverse().join("");for(var i=0,t=1;t<=8;t++)if(i+=+e.charAt(t)<<t,isNaN(i))return!1;return i%11%10==+e.charAt(0)}(e.value))return{afmvalidator:{valid:!1}}}return null}}}hi.\u0275fac=function(e){return new(e||hi)},hi.\u0275dir=n.bc({type:hi,selectors:[["","validateAfm",""]],features:[n.Sb([{provide:m.j,useExisting:hi,multi:!0}])]}),hi.ctorParameters=()=>[];var mi,ui,pi,fi;!function(e){e[e.apliroti=1]="apliroti",e[e.exoflimeni=2]="exoflimeni",e[e.akiri=3]="akiri",e[e.diagrafiDS=4]="diagrafiDS",e[e.apoWeb=5]="apoWeb",e[e.exoflisiWeb=6]="exoflisiWeb"}(mi||(mi={}));class gi{constructor(){this.arithmosKlisis=null,this.hmerominiaEkdosis=null,this.arithmosKikloforias=null,this.oraEkdosis=null,this.poso=null,this.etos=null,this.isAuthorized=!0,this.debtorName=null,this.tin=null,this.email=null,this.tilefono=null,this.address=null,this.tk=null,this.poli=null,this.isForeign=!1,this.cardholderName=null}}class bi{constructor(){this.bankTransactionId=null,this.tin=null,this.adt=null,this.debtorName=null,this.address_city=null,this.address_country_code=null,this.address_zip=null,this.address=null,this.email=null,this.phone_number=null}}class yi{constructor(){this.remittanceInfo=null,this.amount=null,this.debtorName=null,this.tin=null,this.description=null}}class ki{constructor(){this.tinRelated=null,this.relatedCallbackUrl=null,this.billingAddressCity=null,this.billingAddressCountryCode=null,this.billingAddressZip=null,this.billingAddress=null,this.billingAddressState=null,this.userEmail=null,this.userPhone=null,this.userHomePhone=null,this.userWorkPhone=null,this.cardholderName=null,this.paymentMethodKey=null,this.remittanceInfo=null,this.eponimia=null}}class Ci{constructor(){this.btId=null,this.returnUrl=null,this.status=null,this.messagecode=null}}!function(e){e[e.Ok=1]="Ok",e[e.Error=2]="Error",e[e.Warning=3]="Warning",e[e.UndefinedError=4]="UndefinedError"}(ui||(ui={})),function(e){e.arithmosKlisis="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2",e.arithmosKikloforias="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2",e.poso="\u03a0\u03bf\u03c3\u03cc",e.etosKlisis="\u0388\u03c4\u03bf\u03c2 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2",e.email="Email",e.tilefono="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf",e.address="\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7",e.tk="\u03a4.\u039a.",e.poli="\u03a0\u03cc\u03bb\u03b7",e.hmerominiaEkdosis="\u0397\u03bc. \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2",e.debtorName="\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1",e.tin="\u0391.\u03a6.\u039c.",e.egsCountry="\u03a7\u03ce\u03c1\u03b1",e.cardHolderName="\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2"}(pi||(pi={})),function(e){e.billAddrState="\u03a0\u03b5\u03c1\u03b9\u03c6\u03ad\u03c1\u03b5\u03b9\u03b1",e.cardholderName="\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2",e.mobilePhone="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf"}(fi||(fi={}));class vi{constructor(e,i,t,s){this.kliseisNgSrv=e,this.pluginCacheSrv=i,this.toasterSrv=t,this.cdr=s,this.klisiAdded=new n.t,this.paymentRequestDto=void 0,this.onDoPaymentSubject=new r.a,this.onDestroy=new r.a,this.initPaymentMethods=!1,this.allowsPayment=!0,this.today=new Date,this.thisYear=this.today.getFullYear(),this.yearRange=Ve,this.isLoading=!1,this.isLoadingResponse=!1,this.isFormSubmitted=!1,this.saveFailed=!1,this.showEtos=!1,this.isFormValid=!0,this.formDictionaryEnum=pi}ngOnChanges(e){e&&e.isLoadingPaymentRequest&&(this.isLoadingPaymentRequest=e.isLoadingPaymentRequest.currentValue,Ye(this.cdr))}ngOnInit(){this.model=new gi,this.model.address=this.userInfo.address?this.userInfo.address:null,this.model.poli=this.userInfo.address_city?this.userInfo.address_city:null,this.model.tk=this.userInfo.address_zip?this.userInfo.address_zip:null,this.model.tilefono=this.userInfo.phone_number?this.userInfo.phone_number:null,this.model.email=this.userInfo.email?this.userInfo.email:null,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?this.financeApiUrl=ni(AppConfOptions.epayments_api):this.financeApiUrl=ni(AppConfOptions.financeApi),Ye(this.cdr),this.pluginCacheSrv.initPluginCustomerSpecificOptions(),this.pluginCacheSrv.pluginCustomerSpecificOptions$.pipe(Object(h.a)(this.onDestroy)).subscribe(e=>{e&&(e.configurationOptions.some(e=>"PluginCustomerSpecificOptions:EtosKlisis"==e.id)&&(this.showEtos="true"==e.configurationOptions.find(e=>"PluginCustomerSpecificOptions:EtosKlisis"==e.id).value.toLocaleLowerCase()),e.configurationOptions.some(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id)&&(this.onlinePaymentsSettingsCompany=e.configurationOptions.find(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id).value)),Ye(this.cdr)})}ngOnDestroy(){this.onDestroy.next()}onAnazitisi(){this.isFormSubmitted=!0,this.response=null,this.isFormValid=!0,this.formErrors=null,this.formErrorsMsg="";let e,i="";if(!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias?(e=ii(this.model.arithmosKikloforias),e=ti(e).toUpperCase(),""!=e&&0==ei(e)?(this.toasterSrv.showWarning("","\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000)"),this.isFormValid=!1):this.model.arithmosKikloforias&&this.model.arithmosKikloforias!=e&&(this.isFormValid=!0)):this.isFormValid=!0,(!this.etosKlisis&&!this.model.hmerominiaEkdosis||this.model.hmerominiaEkdosis>new Date)&&(this.isFormValid=!1),this.etosKlisis&&+this.etosKlisis<=+this.thisYear?this.model.hmerominiaEkdosis=new Date(this.etosKlisis+"-01-01"):this.etosKlisis&&+this.etosKlisis>+this.thisYear&&(i="<li>\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf "+this.thisYear+".</li>"),Ye(this.cdr),this.isFormSubmitted&&this.isFormValid)this.isLoadingResponse=!0,this.model.etos=+this.model.hmerominiaEkdosis.getFullYear(),this.model.arithmosKikloforias&&e&&this.model.arithmosKikloforias!=e&&(this.model.arithmosKikloforias=e),Ye(this.cdr),this.kliseisNgSrv.getStoixeiaKlisisForWebPliromiEtos(this.model).subscribe(e=>{e?(this.response=e,this.response&&this.response.poso&&0!=this.response.klisiId&&(this.model.poso=this.response.poso),this.response&&this.response.canPay&&0==this.response.klisiId&&"1"!=this.onlinePaymentsSettingsCompany?(this.allowsPayment=!1,this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03b3\u03ba\u03b5\u03ba\u03c1\u03b9\u03bc\u03ad\u03bd\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2.")):this.allowsPayment=!0):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03bc\u03b5 \u03c4\u03b7\u03bd \u03ba\u03bb\u03ae\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b1\u03bd\u03b1\u03b6\u03b7\u03c4\u03ae\u03c3\u03b1\u03c4\u03b5."),this.isLoadingResponse=!1,Ye(this.cdr)});else{if(this.formErrors=Qe(this.f,this.formDictionaryEnum,""),this.formErrors||!this.isFormValid){if(this.formErrorsMsg="<ul>",this.formErrors&&this.formErrors.forEach(e=>{let i;"required"==e.error?i="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==e.error&&(i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),this.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+this.formDictionaryEnum[e.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+i+"</li>"}),this.etosKlisis||this.model.hmerominiaEkdosis||(this.formErrorsMsg+="<li>\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03b5\u03af\u03c4\u03b5 \u03c4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03c4\u03b5 \u03c4\u03b7\u03bd \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2.</li>"),!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias){let i=ii(this.model.arithmosKikloforias);i=ti(e).toUpperCase(),""!=i&&0==ei(i)&&(this.formErrorsMsg+="<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000).</li>")}this.formErrorsMsg+=i,this.formErrorsMsg+="<ul>"}Ye(this.cdr)}}onCancelKlisi(){this.isFormSubmitted=!1,this.paymentRequestDto=void 0,Ye(this.cdr),this.response?(this.response=null,Ye(this.cdr)):this.klisiAdded.emit(null)}onCreatePaymentRequest(e){let i;this.initPaymentMethods=!0,this.isLoadingResponse=!0,this.paymentRequestDto=void 0,Ye(this.cdr),i={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:this.userInfo.address_city?this.userInfo.address_city:this.model.poli,billingAddressCountryCode:this.userInfo.address_country_code?this.userInfo.address_country_code:"GR",billingAddressZip:this.userInfo.address_zip?this.userInfo.address_zip:this.model.tk,billingAddress:this.userInfo.address?this.userInfo.address:this.model.address,userEmail:this.userInfo.email?this.userInfo.email:this.model.email,userPhone:this.userInfo.phone_number?this.userInfo.phone_number:this.model.tilefono,paymentMethodKey:e.key,entries:[]},"PIRBGRAA"===e.key&&(i.billingAddressCountryCode=null);let t=new yi;if(t.tin=this.userInfo.tin,t.amount=this.model.poso,t.debtorName=this.userInfo.given_name+" "+this.userInfo.family_name,t.description="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2: "+this.model.arithmosKlisis.toString()+", \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2: "+this.model.arithmosKikloforias+", \u0397\u03bc\u03b5\u03c1/\u03bd\u03b9\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2: "+Ge(this.model.hmerominiaEkdosis),Ye(this.cdr),this.response&&0==this.response.klisiId){this.saveFailed=!1;let e=this.model.oraEkdosis?this.model.oraEkdosis.getHours()+":"+this.model.oraEkdosis.getMinutes():null;this.createKlisi={hmerominiaEkdosis:Ge(this.model.hmerominiaEkdosis),oraEkdosis:e?e.toString():null,arithmosKikloforias:this.model.arithmosKikloforias,arithmosKlisis:this.model.arithmosKlisis,pliroteoPoso:this.model.poso,eponimia:this.userInfo.given_name+" "+this.userInfo.family_name,eponimo:this.userInfo.family_name,patronimo:this.userInfo.fathers_name,mitronimo:this.userInfo.mothers_name,onoma:this.userInfo.given_name,afm:this.userInfo.tin,odos:this.userInfo.address?this.userInfo.address:this.model.address,poli:this.userInfo.address_city?this.userInfo.address_city:this.model.poli,tk:this.userInfo.address_zip?this.userInfo.address_zip:this.model.tk,adt:this.userInfo.adt,tilefono:this.userInfo.phone_number?this.userInfo.phone_number:this.model.tilefono,email:this.userInfo.email?this.userInfo.email:this.model.email},this.kliseisNgSrv.createKlisiWebAsync(this.createKlisi).pipe(Object(d.a)(e=>e?(t.remittanceInfo=e.remittanceInfo,i.entries=[],i.entries.push(t),this.paymentRequestDto=i,Ye(this.cdr),this.kliseisNgSrv.addPaymentRequest(this.paymentRequestDto)):Object(o.a)(!1))).subscribe(e=>{if(e){let i=e;this.paymentResponseDto=i.model,this.onDoPaymentSubject.next(this.paymentResponseDto)}else this.saveFailed=!0,Ye(this.cdr),this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2.");this.isLoadingResponse=!1,Ye(this.cdr)})}else 0!=this.response.klisiId&&(t.remittanceInfo=this.response.remittanceInfo,i.entries=[],i.entries.push(t),this.isLoadingResponse=!1,this.paymentRequestDto=i,Ye(this.cdr),this.kliseisNgSrv.addPaymentRequest(this.paymentRequestDto).subscribe(e=>{if(e){let i=e;this.paymentResponseDto=i.model,this.onDoPaymentSubject.next(this.paymentResponseDto)}}))}_checkDisabled(){return!(this.isFormSubmitted&&this.response&&this.response.canPay&&this.allowsPayment&&this.model.poso&&this.model.poso>0&&this.model.email&&this.model.tilefono&&this.model.address&&this.model.tk&&this.model.poli)}_getErrorReason(){return this.model.hmerominiaEkdosis>=new Date?"\u0397 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03ba\u03b1\u03b9 \u03b7 \u03ce\u03c1\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c0\u03c1\u03bf\u03b3\u03b5\u03bd\u03ad\u03c3\u03c4\u03b5\u03c1\u03b5\u03c2.":this.model.arithmosKikloforias?this.model.arithmosKlisis?this.model.poso<=0?"\u03a4\u03bf \u03c0\u03bf\u03c3\u03cc \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf.":"":"\u039f \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2 \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2.":"\u039f \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2."}}vi.\u0275fac=function(e){return new(e||vi)(n.gc(ri),n.gc(ci),n.gc(oi),n.gc(n.j))},vi.\u0275cmp=n.ac({type:vi,selectors:[["lib-kliseis-add-new"]],viewQuery:function(e,i){if(1&e&&n.nd(D,1),2&e){let e;n.Wc(e=n.xc())&&(i.f=e.first)}},inputs:{isLoadingPaymentRequest:"isLoadingPaymentRequest",userInfo:"userInfo",relatedCallbackUrl:"relatedCallbackUrl"},outputs:{klisiAdded:"klisiAdded"},features:[n.Rb],decls:2,vars:2,consts:[["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],["class","form",4,"ngIf"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"form"],["f","ngForm"],[1,"row"],[1,"form-group","col-12","d-inline-flex","align-items-start"],["name","isForeign","value","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","label","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","binary","true",3,"ngModel","readonly","ngModelChange"],["isForeign","ngModel"],[1,"form-group","col-12","col-sm-6"],["name","arithmosKlisis","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2","type","text","pattern","([0-9]{1,12})","maxlength","12","autocomplete","off","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["arithmosKlisisInput","ngModel"],[1,"validation-msg","text-danger","pt-1",3,"hidden"],["name","arithmosKikloforias","placeholder","\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2","type","text","autocomplete","off","required","",1,"form-control",2,"text-transform","uppercase",3,"ngModel","readonly","ngModelChange"],["arithmosKikloforiasInput","ngModel"],[4,"ngIf"],["name","hmerominiaEkdosis","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body",3,"baseZIndex","firstDayOfWeek","maxDate","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","showTime","ngModel","required","disabled","ngModelChange"],["name","oraEkdosis","placeholder","\u03a9\u03a9:\u039b\u039b","hourFormat","24","appendTo","body",3,"baseZIndex","timeOnly","showIcon","ngModel","disabled","ngModelChange"],["class","row",4,"ngIf"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03b3\u03ba\u03b5\u03ba\u03c1\u03b9\u03bc\u03ad\u03bd\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2.",4,"ngIf"],[1,"form-actions","row","justify-content-center","pb-0"],["class","btn btn-primary btn-sm mr-1","type","button",3,"click",4,"ngIf"],["class","d-flex w-100 align-items-start justify-content-between",4,"ngIf"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["class","bg-white","style","width: 100%; height: 50px;",4,"ngIf"],["severity","warn","text","\u0397 \u03b1\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2 \u03b1\u03c0\u03ad\u03c4\u03c5\u03c7\u03b5.",4,"ngIf"],[1,"col-12"],["severity","warn","text","\u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03bc\u03b7 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1\u03c2 \u03c3\u03c5\u03bc\u03c0\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7\u03c2 \u03b1\u03ba\u03c1\u03b9\u03b2\u03bf\u03cd\u03c2 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1\u03c2 & \u03ce\u03c1\u03b1\u03c2 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03c4\u03b5 \u03c4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2.",3,"styleClass"],["name","etosKlisis","placeholder","\u0388\u03c4\u03bf\u03c2","type","text","pattern","([0-9]{4})$",1,"form-control",3,"ngModel","readonly","ngModelChange"],["etosKlisisInput","ngModel"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03b3\u03ba\u03b5\u03ba\u03c1\u03b9\u03bc\u03ad\u03bd\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2."],[1,"form-group","col-12"],["name","poso","placeholder","0,01","type","text","currencyMask","","lang","el-GR","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["posoInput","ngModel"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["name","email","placeholder","Email","type","email","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["emailInput","ngModel"],["name","tilefono","placeholder","69XXXXXXXX","type","text","pattern","^69([0-9]{8})$","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],[1,"col-12","col-md-8"],["name","address","placeholder","\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7","type","text","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],[1,"col-12","col-md-4"],["name","tk","placeholder","\u03a4.\u039a.","type","text","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["name","poli","placeholder","\u03a0\u03cc\u03bb\u03b7","type","text","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["type","button",1,"btn","btn-primary","btn-sm","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],[1,"d-flex","w-100","align-items-start","justify-content-between"],[3,"isPaymentFormValid","doPaymentSubscription","finApiUrl","buttonText","onPayBtnClick"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"bg-white",2,"width","100%","height","50px"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],["severity","warn","text","\u0397 \u03b1\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2 \u03b1\u03c0\u03ad\u03c4\u03c5\u03c7\u03b5."]],template:function(e,i){1&e&&(n.gd(0,K,3,0,"div",0),n.gd(1,Q,41,41,"form",1)),2&e&&(n.Hc("ngIf",!i.model||i.isLoading),n.Tb(1),n.Hc("ngIf",i.model&&!i.isLoading))},directives:[f.p,m.w,m.n,m.o,v.a,m.m,m.p,m.d,m.s,m.h,m.u,k.a,w.b,y.b,f.n,g.a],encapsulation:2,changeDetection:0}),vi.ctorParameters=()=>[{type:ri},{type:ci},{type:oi},{type:n.j}],vi.propDecorators={f:[{type:n.fb,args:["f"]}],userInfo:[{type:n.D}],isLoadingPaymentRequest:[{type:n.D}],relatedCallbackUrl:[{type:n.D}],klisiAdded:[{type:n.O}]};class Ii{constructor(e,i,t){this.kliseisNgSrv=e,this.toasterSrv=i,this.cdr=t,this.model=[],this.checkedKliseis=[],this.onDoPaymentSubject=new r.a,this.kliseisRemittanceInfos=[],this.checkAll=!1,this.checkAllEnabled=!0,this.isLoading=!0,this.errorMsg=null,this.initPaymentMethods=!1,this.sumPliromis=0,this.sumPliroteoPoso=0,this.sumPosoKlisis=0,this.checkedKliseisTotal=0}ngOnInit(){"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?(this.financeApiUrl=ni(AppConfOptions.epayments_api),this.returnUrl=encodeURI(ni(AuthConfOptions.redirect_url)+"/kliseis/receipts")):(this.returnUrl=encodeURI(ni(AppConfOptions.applicationUrl)+"/plugin/receipts"),this.financeApiUrl=ni(AppConfOptions.financeApi)),this._loadData()}onCheckAllKliseisClicked(){this.checkAll=!!this.checkAll,this.model.forEach(e=>{this.checkAll?e.isChecked=!(e.afm!=this.userInfo.tin||!e.canPay):e.isChecked=!1}),Ye(this.cdr),this._calculatePosa()}onCheckKlisiClicked(e){let i;i=this.model.some(e=>e.isChecked)?this.model.find(e=>e.isChecked).afm:null,i?(i=e.afm,this.model.forEach(e=>{e.afm!=i?e.canCheck=!1:e.canCheck=!0})):this.model.forEach(e=>{e.canCheck=!0}),Ye(this.cdr),this._calculatePosa()}onCreatePaymentRequest(e){if(this.initPaymentMethods=!0,this.paymentRequestDto=void 0,this.kliseisRemittanceInfos=[],Ye(this.cdr),this.checkedKliseis&&this.checkedKliseis.length&&this.userInfo){let i;for(let e of this.checkedKliseis)this.kliseisRemittanceInfos=[...this.kliseisRemittanceInfos,this._createRemittanceInfo(e)];if(i={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.returnUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:e.key,entries:[]},"PIRBGRAA"===e.key&&(i.billingAddressCountryCode=null),this.onlinePaymentsSettingsCompany&&"1"==this.onlinePaymentsSettingsCompany||!this.onlinePaymentsSettingsCompany)this.kliseisNgSrv.fillPaymentRequestAuthorized(this.kliseisRemittanceInfos).pipe(Object(d.a)(e=>{if(e){for(let t=0;t<e.length;t++){const s=e[t];if(s.amount&&s.amount>0){let e={remittanceInfo:s.remittanceInfo,amount:s.amount,debtorName:this.userInfo.given_name+" "+this.userInfo.family_name,tin:this.userInfo.tin,description:this._createDescription(this.checkedKliseis[t])};i.entries.push(e)}}return this.paymentRequestDto=i,Ye(this.cdr),this.kliseisNgSrv.addPaymentRequest(this.paymentRequestDto)}return Object(o.a)(!1)})).subscribe(e=>{if(e){let i=e;this.paymentResponseDto=i.model,this.onDoPaymentSubject.next(this.paymentResponseDto)}else this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2.")});else{for(let t of this.checkedKliseis){let s={remittanceInfo:t.remittanceInfo,amount:t.ofeilisPoso,debtorName:this.userInfo.given_name+" "+this.userInfo.family_name,tin:this.userInfo.tin,description:this._createDescription(t),paymentMethodKey:e.key};i.entries.push(s)}this.paymentRequestDto=i,Ye(this.cdr),this.kliseisNgSrv.addPaymentRequest(this.paymentRequestDto).subscribe(e=>{if(e){let i=e;this.paymentResponseDto=i.model,this.onDoPaymentSubject.next(this.paymentResponseDto)}})}}}_loadData(){this.isLoading=!0,this.errorMsg=null,Ye(this.cdr),this.kliseisNgSrv.getKliseis(this.userInfo.tin).subscribe(e=>{e?(this.model=e,this.model.forEach(e=>{e.cannotPayReason=e.cannotPayReason?e.cannotPayReason:"",e.canCheck=!0,e.afm=e.afm?e.afm:this.userInfo.tin,this.checkAllEnabled=this.model.filter(e=>!e.canPay).length!=this.model.length,this.sumPosoKlisis+=e.pliroteoPoso,this.sumPliroteoPoso+=e.ofeilisPoso?e.ofeilisPoso:0,e.afm!=this.userInfo.tin&&(e.cannotPayReason+="<br/>\u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03c3\u03b5 \u0391.\u03a6.\u039c. \u03b4\u03b9\u03b1\u03c6\u03bf\u03c1\u03b5\u03c4\u03b9\u03ba\u03cc \u03b1\u03c0\u03cc \u03c4\u03bf \u03b4\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2, \u03c3\u03b5 \u03c7\u03c1\u03bf\u03bd\u03b9\u03ba\u03ae \u03c3\u03c4\u03b9\u03b3\u03bc\u03ae \u03cc\u03c0\u03bf\u03c5 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c3\u03c4\u03b5 \u03c9\u03c2 \u03ba\u03ac\u03c4\u03bf\u03c7\u03bf\u03c2 \u03c4\u03bf\u03c5 \u03bf\u03c7\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2.")})):this.errorMsg="\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd \u03c3\u03b1\u03c2.",this.isLoading=!1,Ye(this.cdr)})}_calculatePosa(){this.sumPliromis=0,this.checkedKliseisTotal=0,this.checkedKliseis=[],this.checkedKliseisTotal=this.model.filter(e=>e.isChecked).length,this.checkedKliseis=this.model.filter(e=>e.isChecked),this.model.filter(e=>e.isChecked).forEach(e=>{this.sumPliromis+=e.ofeilisPoso?e.ofeilisPoso:0}),Ye(this.cdr)}_createRemittanceInfo(e){return e.remittanceInfo}_createDescription(e){let i="";return i="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2: "+e.arithmosKlisis.toString()+", \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2: "+e.arithmosKikloforias+", \u0397\u03bc\u03b5\u03c1/\u03bd\u03b9\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2: "+e.hmerominiaEkdosis,i}}Ii.\u0275fac=function(e){return new(e||Ii)(n.gc(ri),n.gc(oi),n.gc(n.j))},Ii.\u0275cmp=n.ac({type:Ii,selectors:[["app-kliseis-debits"]],inputs:{userInfo:"userInfo",isDataChanged:"isDataChanged",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany"},decls:6,vars:4,consts:[["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2.",4,"ngIf"],["severity","error",3,"text","styleClass",4,"ngIf"],[4,"ngIf"],["selectedDebits",""],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2."],["severity","error",3,"text","styleClass"],["severity","warn","text","\u0398\u03b1 \u03b8\u03ad\u03bb\u03b1\u03bc\u03b5 \u03bd\u03b1 \u03c3\u03b1\u03c2 \u03b5\u03bd\u03b7\u03bc\u03b5\u03c1\u03ce\u03c3\u03bf\u03c5\u03bc\u03b5 \u03c0\u03c9\u03c2 \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03b5\u03be\u03bf\u03c6\u03bb\u03ae\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1\u03c5\u03c4\u03cc\u03c7\u03c1\u03bf\u03bd\u03b1 \u03bc\u03cc\u03bd\u03bf \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c0\u03bf\u03c5 \u03ad\u03c7\u03bf\u03c5\u03bd \u03c7\u03c1\u03b5\u03c9\u03b8\u03b5\u03af \u03c3\u03c4\u03bf \u03af\u03b4\u03b9\u03bf \u0391.\u03a6.\u039c.",3,"styleClass"],[1,"d-flex","flex-wrap","mb-1",2,"font-size","14px"],[1,"mr-1"],[1,"fas","fa-stop-circle","fa-fw","apliroti"],[1,"fas","fa-stop-circle","fa-fw","kataxorisi_web"],["tableStyleClass","kliseis-debits-table",3,"value","autoLayout","responsive","scrollable","lazy","paginator","resetPageOnSort","alwaysShowPaginator","rows","totalRecords","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"mb-2"],[4,"ngTemplateOutlet"],[1,"fixed-width-col-40","text-center"],[3,"binary","ngModel","disabled","ngModelChange","onChange"],[1,"fixed-width-col-40"],[1,"fixed-width-col-120"],[1,"fixed-width-col-100"],[1,"fixed-width-col-150"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["class","fixed-width-col-40 text-center",4,"ngIf"],[1,"p-column-title"],["class","d-block",4,"ngIf"],[1,"fixed-width-col-100","text-right"],["rowspan","2",1,"fixed-width-col-40","text-center"],["colspan","8",3,"innerHtml"],["aria-label","\u0391\u03c0\u03bb\u03ae\u03c1\u03c9\u03c4\u03b7",1,"fas","fa-stop-circle","fa-fw","apliroti"],["aria-label","\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u03b1\u03c0\u03cc WEB",1,"fas","fa-stop-circle","fa-fw","kataxorisi_web"],[1,"d-block"],["colspan","6",1,"fixed-width-col-570"],["colspan","1",1,"fixed-width-col-100","text-right"],[1,"debits-info","d-flex","flex-wrap","justify-content-around","w-100","align-items-center","pb-1","mb-1","border-bottom","border-light"],[1,"totalPoso"],[1,"text-right"],[3,"isPaymentFormValid","doPaymentSubscription","finApiUrl","buttonText","onPayBtnClick"]],template:function(e,i){1&e&&(n.gd(0,ee,3,0,"div",0),n.gd(1,ie,1,0,"p-message",1),n.gd(2,te,1,2,"p-message",2),n.gd(3,ge,18,13,"ng-container",3),n.gd(4,be,12,12,"ng-template",null,4,n.hd)),2&e&&(n.Hc("ngIf",!i.model||i.isLoading),n.Tb(1),n.Hc("ngIf",i.model&&0===i.model.length&&!i.isLoading&&(!i.errorMsg||""==i.errorMsg)),n.Tb(1),n.Hc("ngIf",i.errorMsg&&""!=i.errorMsg&&!i.isLoading),n.Tb(1),n.Hc("ngIf",i.model&&i.model.length>0&&!i.isLoading))},directives:[f.p,w.b,M.d,A.j,f.u,v.a,m.m,m.p,f.n,g.a],pipes:[f.f,f.d],encapsulation:2,changeDetection:0}),Ii.ctorParameters=()=>[{type:ri},{type:oi},{type:n.j}],Ii.propDecorators={userInfo:[{type:n.D}],isDataChanged:[{type:n.D}],onlinePaymentsSettingsCompany:[{type:n.D}]};class wi{constructor(e,i,t,s,o,a){this.kliseisNgSrv=e,this.pluginCacheSrv=i,this.route=t,this.router=s,this._http=o,this.cdr=a,this.changeTabIndex=new n.t,this.model=[],this.checkAll=!1,this.sumPliroteoPoso=0,this.financeApiUrl="",this.isLoading=!0,this.onDestroy=new r.a,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?this.financeApiUrl=ni(AppConfOptions.epayments_api):this.financeApiUrl=ni(AppConfOptions.financeApi)}ngOnInit(){this.pluginCacheSrv.userInfo$.pipe(Object(h.a)(this.onDestroy)).subscribe(e=>{e&&(this.userInfo=e),Ye(this.cdr)}),this._getBankMessages().pipe(Object(d.a)(e=>e?(this.oikonomikiBankMessages=e,this.pluginCacheSrv.userInfo$.pipe(Object(h.a)(this.onDestroy))):Object(o.a)(!1)),Object(d.a)(e=>e?(this.userInfo=e,this.route.queryParams.pipe(Object(h.a)(this.onDestroy))):Object(o.a)(!1))).subscribe(e=>{if(e){let i=e;if(this.bankMessage=i.messagecode,this.btid=i.btId,this.bankMessage)if(this.changeTabIndex.emit(1),this.bankStatusMessage=this.oikonomikiBankMessages[this.bankMessage],"TRANSACTION_COMPLETED"==this.bankMessage){if(this.bankStatusMessageClass="success",this.btid){let e=new bi;e.address=this.userInfo.address,e.address_city=this.userInfo.address_city,e.address_country_code=this.userInfo.address_country_code,e.address_zip=this.userInfo.address_zip,e.adt=this.userInfo.adt,e.debtorName=this.userInfo.given_name+" "+this.userInfo.family_name,e.email=this.userInfo.email,e.phone_number=this.userInfo.phone_number,e.tin=this.userInfo.tin,e.bankTransactionId=this.btid,this.kliseisNgSrv.markKlisiWebExoflisi(e).subscribe(()=>{this._loadData()})}}else this.bankStatusMessageClass="error",this._loadData();else this._loadData();Ye(this.cdr)}})}ngOnChanges(e){e&&e.tabChanged&&(this.bankStatusMessage=void 0,Ye(this.cdr))}ngOnDestroy(){this.onDestroy.next()}_loadData(){this.isLoading=!0,Ye(this.cdr),this.kliseisNgSrv.getKliseisPayed(this.userInfo.tin).subscribe(e=>{e&&(this.model=e,this.model.forEach(e=>this.sumPliroteoPoso+=e.pliroteoPoso),this.model=this.model.sort(function(e,i){return e.hmerominiaEkdosis!=i.hmerominiaEkdosis?new Date(i.hmerominiaEkdosis).getTime()-new Date(e.hmerominiaEkdosis).getTime():+i.arithmosKlisis-+e.arithmosKlisis})),this.isLoading=!1,Ye(this.cdr)})}_getBankMessages(){return this._http.get(`${this.financeApiUrl}/api/Banks/BankMessages`)}}wi.\u0275fac=function(e){return new(e||wi)(n.gc(ri),n.gc(ci),n.gc(p.a),n.gc(p.d),n.gc(s.b),n.gc(n.j))},wi.\u0275cmp=n.ac({type:wi,selectors:[["app-kliseis-receipts"]],inputs:{tabChanged:"tabChanged"},outputs:{changeTabIndex:"changeTabIndex"},features:[n.Rb],decls:4,vars:4,consts:[["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2.",3,"styleClass",4,"ngIf"],[3,"severity","text","styleClass",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2.",3,"styleClass"],[3,"severity","text","styleClass"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"d-flex","flex-wrap","mb-1",2,"font-size","14px"],[1,"mr-1"],[1,"fas","fa-stop-circle","fa-fw","exoflimeni"],[1,"fas","fa-stop-circle","fa-fw","exoflisi_web"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"fixed-width-col-40"],[1,"fixed-width-col-120"],[1,"fixed-width-col-150"],[1,"fixed-width-col-100"],[1,"fixed-width-col-40","text-center"],[1,"p-column-title"],["class","d-block",4,"ngIf"],[1,"fixed-width-col-100","text-right"],[1,"d-block"],["colspan","8",1,"text-right"]],template:function(e,i){1&e&&(n.gd(0,ye,1,1,"p-message",0),n.gd(1,ke,1,3,"p-message",1),n.gd(2,Ce,3,0,"div",2),n.gd(3,_e,16,10,"ng-container",3)),2&e&&(n.Hc("ngIf",i.model&&0===i.model.length&&!i.isLoading),n.Tb(1),n.Hc("ngIf",i.bankStatusMessage&&""!=i.bankStatusMessage),n.Tb(1),n.Hc("ngIf",!i.model||i.isLoading),n.Tb(1),n.Hc("ngIf",i.model&&i.model.length>0&&!i.isLoading))},directives:[f.p,w.b,M.d,A.j],pipes:[f.f,f.d],encapsulation:2,changeDetection:0}),wi.ctorParameters=()=>[{type:ri},{type:ci},{type:p.a},{type:p.d},{type:s.b},{type:n.j}],wi.propDecorators={tabChanged:[{type:n.D}],changeTabIndex:[{type:n.O}]};const Pi=[{path:"",component:li,children:[{path:"debits",component:Ii,canActivate:[di]},{path:"receipts",component:wi,canActivate:[di]}]}];class Si{}Si.\u0275fac=function(e){return new(e||Si)},Si.\u0275mod=n.ec({type:Si}),Si.\u0275inj=n.dc({imports:[[p.g.forChild(Pi)],p.g]});class Mi{constructor(e,i,t,s,n,o){this.kliseisNgSrv=e,this.toasterSrv=i,this.route=t,this.router=s,this._http=n,this.cdr=o,this.model=new gi,this.countriesList=[],this.onDoPaymentSubject=new r.a,this.onDestroy=new r.a,this.isLoading=!1,this.requestMsg="",this.requestMsgClass="info",this.isFormSubmitted=!1,this.isFormPaySubmitted=!1,this.showCardHolderName=!1,this.today=new Date,this.thisYear=this.today.getFullYear(),this.isFormValid=!0,this.formDictionaryEnum=pi}ngOnInit(){!(AppConfOptions.applicationUrl&&AppConfOptions.applicationUrl.includes("localhost"))?(this.financeApiUrl=ni(AppConfOptions.epayments_api),this.callbackUrl=ni(AppConfOptions.application_url)+"/kliseis"):(this.financeApiUrl=ni(AppConfOptions.financeApi),this.callbackUrl=ni(AppConfOptions.applicationUrl)+"/plugin"),this._http.get("https://auth.dev.egritosgroup.gr/api/general/GetCountries").pipe(Object(d.a)(e=>e?(this.countriesList=e,this._http.get(`${this.financeApiUrl}/api/Banks/BankMessages`)):Object(o.a)(!1)),Object(d.a)(e=>e?(this.oikonomikiBankMessages=e,this.route.queryParams):Object(o.a)(!1)),Object(d.a)(e=>{if(e){let i=e;if(i.messagecode&&"TRANSACTION_COMPLETED"==i.messagecode){this.bankStatusMessage=this.oikonomikiBankMessages[i.messagecode];let e=new Ci;return e.btId=i.btId,e.returnUrl=this.callbackUrl,e.status=i.status,e.messagecode=i.messagecode,Ye(this.cdr),this.kliseisNgSrv.getFinancePaymentCallback(e)}return this.bankStatusMessage=this.oikonomikiBankMessages[i.messagecode],this.bankStatusMessageClass="fail",Ye(this.cdr),Object(o.a)(!1)}return Object(o.a)(!1)}),Object(h.a)(this.onDestroy)).subscribe(e=>{this.bankStatusMessageClass=e?"success":"error",Ye(this.cdr)})}ngOnDestroy(){this.onDestroy.next()}onSearch(){this.isFormSubmitted=!0,this.isFormValid=!0,this.formErrorsMsg="",this.requestMsg="";let e,i="";if(!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias?(e=ii(this.model.arithmosKikloforias),e=ti(e).toUpperCase(),""!=e&&0==ei(e)?(this.toasterSrv.showWarning("","\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000)"),this.isFormValid=!1):this.model.arithmosKikloforias&&this.model.arithmosKikloforias!=e&&(this.isFormValid=!0)):this.isFormValid=!0,this.model.etos&&+this.model.etos>+this.thisYear&&(this.isFormValid=!1,i="<li>\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf "+this.thisYear+".</li>"),Ye(this.cdr),this.isFormSubmitted&&this.klisiAnazitisi.valid&&this.isFormValid)this.isLoading=!0,this.unauthorizedPaymentResponse=null,this.requestMsg="",this.model.isAuthorized=!1,this.model.arithmosKikloforias&&e&&this.model.arithmosKikloforias!=e&&(this.model.arithmosKikloforias=e),Ye(this.cdr),this.kliseisNgSrv.getStoixeiaKlisisForWebPliromiEtos(this.model).subscribe(e=>{e?(this.unauthorizedPaymentResponse=e,this.unauthorizedPaymentResponse.canPay?(this.toasterSrv.showInfo("",this.unauthorizedPaymentResponse.messageResponse),this.requestMsg=this.unauthorizedPaymentResponse.messageResponse):(this.toasterSrv.showWarning("",this.unauthorizedPaymentResponse.messageResponse),this.requestMsg=this.unauthorizedPaymentResponse.messageResponse,this.requestMsgClass="warn")):(this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1."),this.requestMsg="\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1.",this.requestMsgClass="error"),this.isLoading=!1,Ye(this.cdr)});else{let t="";if(t+=i,!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias){let i=ii(this.model.arithmosKikloforias);i=ti(e).toUpperCase(),""!=i&&0==ei(i)&&(t+="<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000).</li>")}this.formErrors=Qe(this.klisiAnazitisi,this.formDictionaryEnum,t),Ye(this.cdr)}}onCancel(){this.model=new gi,this.unauthorizedPaymentResponse=null,this.isFormSubmitted=!1,this.isFormPaySubmitted=!1,this.formErrors=null,this.formErrorsMsg=null,this.requestMsg="",Ye(this.cdr)}onCreatePaymentRequest(e){this.isFormPaySubmitted=!0,this.isFormSubmitted=!1,this.formErrorsMsgPay="",this.formErrorsPay=void 0,this.kliseisUnauthorizedRequest=void 0,Ye(this.cdr);let i=new ki;Ye(this.cdr),this.isFormPaySubmitted&&this.klisiPayUnauthorized.valid?(i.remittanceInfo=this.unauthorizedPaymentResponse.remittanceInfo,i.relatedCallbackUrl=this.callbackUrl,i.paymentMethodKey=e.key,this.unauthorizedPaymentResponse.hasDieuthinsi||(i.billingAddress=this.model.address,i.billingAddressZip=this.model.tk,i.billingAddressCity=this.model.poli,i.billingAddressCountryCode=this.model.countryId,i.userPhone=this.model.tilefono),"PIRBGRAA"===e.key&&(i.billingAddressCountryCode=null),i.userEmail=this.unauthorizedPaymentResponse.hasEmail?null:this.model.email,i.eponimia=this.model.debtorName?this.model.debtorName:null,i.tinRelated=this.model.tin?this.model.tin:null,i.paymentMethodKey="",i.cardholderName=this.model.cardholderName,this.kliseisUnauthorizedRequest=i,Ye(this.cdr),this.kliseisNgSrv.fillPaymentRequestDtoNonAuthorized(this.kliseisUnauthorizedRequest).subscribe(e=>{if(e){let i=e;this.paymentResponseDto=i.model,this.onDoPaymentSubject.next(this.paymentResponseDto)}else this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2.")})):(this.formErrorsMsgPay="",this.formErrorsPay=Qe(this.klisiPayUnauthorized,this.formDictionaryEnum,""),Ye(this.cdr))}_checkDisabled(){return!(this.isFormPaySubmitted&&this.unauthorizedPaymentResponse&&this.unauthorizedPaymentResponse.canPay&&this.model&&this.model.debtorName&&this.model.tin&&this.model.email&&this.model.tilefono&&this.model.address&&this.model.tk&&this.model.poli&&this.model.countryId)}}Mi.\u0275fac=function(e){return new(e||Mi)(n.gc(ri),n.gc(oi),n.gc(p.a),n.gc(p.d),n.gc(s.b),n.gc(n.j))},Mi.\u0275cmp=n.ac({type:Mi,selectors:[["app-kliseis-unauthorized-pay"]],viewQuery:function(e,i){if(1&e&&(n.nd(Re,1),n.nd(Ee,1)),2&e){let e;n.Wc(e=n.xc())&&(i.klisiAnazitisi=e.first),n.Wc(e=n.xc())&&(i.klisiPayUnauthorized=e.first)}},decls:4,vars:3,consts:[[3,"severity","text","styleClass",4,"ngIf"],[1,"w-100","text-center","mb-0","mt-2"],["class","btn btn-primary btn-sm",3,"href",4,"ngIf"],[4,"ngIf"],[3,"severity","text","styleClass"],[1,"btn","btn-primary","btn-sm",3,"href"],["aria-hidden","true",1,"fas","fa-undo","fa-fw"],[1,"form"],["klisiAnazitisi","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6","d-inline-flex","align-items-center"],["name","isForeign","value","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","label","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","binary","true",3,"ngModel","disabled","ngModelChange"],["isForeign","ngModel"],[1,"form-group","col-12","col-md-6"],["name","arithmosKlisis","type","text","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2","pattern","([0-9]{1,12})","maxlength","12","autocomplete","off","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["arithmosKlisisInput","ngModel"],[1,"validation-msg","text-danger","pt-1",3,"hidden"],["name","arithmosKikloforias","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2","type","text","autocomplete","off","required","",1,"form-control",2,"text-transform","uppercase",3,"ngModel","disabled","ngModelChange"],["arithmosKikloforiasInput","ngModel"],[1,"col-12","col-md-6"],["name","etosKlisis","type","text","placeholder","\u0388\u03c4\u03bf\u03c2","pattern","([0-9]{4})","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["etosKlisisInput","ngModel"],[1,"form-actions","row","justify-content-center","pb-0"],["type","button",1,"btn","btn-primary","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["type","button",1,"btn","btn-warning",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["class","bg-white","style","width: 100%; height: 100px",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"bg-white",2,"width","100%","height","100px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[3,"severity","text",4,"ngIf"],["class","form mt-2",4,"ngIf"],["style","width: 350px;","class","m-auto",4,"ngIf"],[3,"severity","text"],[1,"form","mt-2"],["klisiPayUnauthorized","ngForm"],["class","row",4,"ngIf"],["name","debtorName","type","text","placeholder","\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1","required","",1,"form-control",3,"ngModel","ngModelChange"],["debtorNameInput","ngModel"],["name","tin","type","text","placeholder","\u0391.\u03a6.\u039c.","validateAfm","","required","",1,"form-control",3,"ngModel","ngModelChange"],["tinInput","ngModel"],["class","col-12",3,"ngClass",4,"ngIf"],[1,"col-12",3,"ngClass"],["name","email","type","email","placeholder","Email","required","",1,"form-control",3,"ngModel","ngModelChange"],["emailInput","ngModel"],["name","tilefono","type","text","placeholder","69XXXXXXXX","pattern","^69([0-9]{8})$","required","",1,"form-control",3,"ngModel","ngModelChange"],["tilefonoInput","ngModel"],[1,"col-12","col-md-9"],["name","address","type","text","placeholder","\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7","required","",1,"form-control",3,"ngModel","ngModelChange"],["addressInput","ngModel"],[1,"col-12","col-md-3"],["name","tk","type","text","placeholder","\u03a4.\u039a.","required","",1,"form-control",3,"ngModel","ngModelChange"],["tkInput","ngModel"],["name","poli","type","text","placeholder","\u03a0\u03cc\u03bb\u03b7","required","",1,"form-control",3,"ngModel","ngModelChange"],["poliInput","ngModel"],["name","egsCountry","bindLabel","Perigrafi","bindValue","Id","appendTo","body","required","",3,"items","virtualScroll","searchable","ngModel","ngModelChange","change"],["egsCountry","ngModel"],[1,"m-auto",2,"width","350px"],[3,"isPaymentFormValid","doPaymentSubscription","finApiUrl","buttonText","onPayBtnClick"]],template:function(e,i){1&e&&(n.gd(0,He,1,3,"p-message",0),n.mc(1,"div",1),n.gd(2,De,3,1,"a",2),n.lc(),n.gd(3,Xe,38,15,"ng-container",3)),2&e&&(n.Hc("ngIf",i.bankStatusMessage&&""!=i.bankStatusMessage),n.Tb(2),n.Hc("ngIf",i.bankStatusMessage&&""!=i.bankStatusMessage),n.Tb(1),n.Hc("ngIf",!i.bankStatusMessage))},directives:[f.p,w.b,m.w,m.n,m.o,v.a,m.m,m.p,m.d,m.s,m.h,m.u,hi,f.n,b.a,g.a],encapsulation:2,changeDetection:0}),Mi.ctorParameters=()=>[{type:ri},{type:oi},{type:p.a},{type:p.d},{type:s.b},{type:n.j}],Mi.propDecorators={klisiAnazitisi:[{type:n.fb,args:["klisiAnazitisi"]}],klisiPayUnauthorized:[{type:n.fb,args:["klisiPayUnauthorized"]}]};const Oi={align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."};class xi{}xi.\u0275fac=function(e){return new(e||xi)},xi.\u0275mod=n.ec({type:xi}),xi.\u0275inj=n.dc({providers:[di,{provide:y.a,useValue:Oi}],imports:[[f.c,m.g,Si,g.b,O.c,k.b,M.e,v.b,I.b,w.a,P.b,C.a,S.b,y.c,b.c],b.c]});var Ai=t("1kSV"),Ti=t("PCNd"),_i=t("iHy+");function Ri(e,i){if(1&e&&(n.mc(0,"p-panel",1),n.hc(1,"div",2),n.zc(2,"decodeHtmlString"),n.lc()),2&e){const e=n.yc();n.Hc("styleClass","tab-msg mb-3")("toggleable",!0),n.Tb(1),n.Hc("innerHTML",n.Ac(2,3,e.tabMsg),n.ad)}}class Ei{constructor(e,i){this.oidcSecuritySrv=e,this.router=i,this.onDestroy=new r.a}ngOnInit(){this.oidcSecuritySrv.isAuthenticated$.subscribe(e=>{this.isAuthorized=e,this.isAuthorized?(AppConfOptions&&AppConfOptions.kliseis_debits_tab_info&&""!=AppConfOptions.kliseis_debits_tab_info&&this.router.url.includes("debits")&&(this.tabMsg=AppConfOptions.kliseis_debits_tab_info),AppConfOptions&&AppConfOptions.kliseis_receipts_tab_info&&""!=AppConfOptions.kliseis_receipts_tab_info&&this.router.url.includes("receipts")&&(this.tabMsg=AppConfOptions.kliseis_receipts_tab_info)):AppConfOptions&&AppConfOptions.kliseis_unauthorized_info&&""!=AppConfOptions.kliseis_unauthorized_info&&(this.tabMsg=AppConfOptions.kliseis_unauthorized_info)}),this.router.events.pipe(Object(h.a)(this.onDestroy)).subscribe(e=>{if(e&&e instanceof p.c){let i=e.url;this.isAuthorized&&(i.includes("receipts")?AppConfOptions&&AppConfOptions.kliseis_receipts_tab_info&&""!=AppConfOptions.kliseis_receipts_tab_info&&(this.tabMsg=AppConfOptions.kliseis_receipts_tab_info):AppConfOptions&&AppConfOptions.kliseis_debits_tab_info&&""!=AppConfOptions.kliseis_debits_tab_info&&(this.tabMsg=AppConfOptions.kliseis_debits_tab_info))}})}ngOnDestroy(){this.onDestroy.next(null)}}Ei.\u0275fac=function(e){return new(e||Ei)(n.gc(x.e),n.gc(p.d))},Ei.\u0275cmp=n.ac({type:Ei,selectors:[["app-kliseis"]],decls:2,vars:1,consts:[["header","\u03a0\u03bb\u03b7\u03c1\u03bf\u03c6\u03bf\u03c1\u03af\u03b5\u03c2",3,"styleClass","toggleable",4,"ngIf"],["header","\u03a0\u03bb\u03b7\u03c1\u03bf\u03c6\u03bf\u03c1\u03af\u03b5\u03c2",3,"styleClass","toggleable"],[3,"innerHTML"]],template:function(e,i){1&e&&(n.gd(0,Ri,3,5,"p-panel",0),n.hc(1,"lib-kliseis-ng")),2&e&&n.Hc("ngIf",i.tabMsg)},directives:[f.p,li,P.a],pipes:[_i.a],encapsulation:2});const Hi=[{path:"",component:Ei,children:[{path:"",loadChildren:()=>Promise.resolve().then(t.bind(null,"UGYw")).then(e=>e.PublicLibLoader)}]}];class Di{}Di.\u0275fac=function(e){return new(e||Di)},Di.\u0275mod=n.ec({type:Di}),Di.\u0275inj=n.dc({imports:[[p.g.forChild(Hi)],p.g]});class Ki{}Ki.\u0275fac=function(e){return new(e||Ki)},Ki.\u0275mod=n.ec({type:Ki}),Ki.\u0275inj=n.dc({imports:[[Ti.a,Di,Ai.d,xi]]});class ji{}ji.\u0275fac=function(e){return new(e||ji)},ji.\u0275mod=n.ec({type:ji}),ji.\u0275inj=n.dc({imports:[[xi]]})}}]);