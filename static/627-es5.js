!function(){"use strict";function t(i,e){return(t=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(i,e)}function i(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var a,o=n(t);if(i){var s=n(this).constructor;a=Reflect.construct(o,arguments,s)}else a=o.apply(this,arguments);return e(this,a)}}function e(t,i){if(i&&("object"==typeof i||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,i,e){return i&&o(t.prototype,i),e&&o(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkegritos_group_eg_web_apps=self.webpackChunkegritos_group_eg_web_apps||[]).push([[627],{15627:function(e,n,o){o.r(n),o.d(n,{ShdeModule:function(){return Mt}});var r,l=o(29790),c=o(91841),u=o(43645),d=o(35660),p=o(37716),g=((r=function(){function t(){a(this,t)}return s(t,[{key:"intercept",value:function(t,i){return t=t.clone({setHeaders:{"Application-Key":"aitiseis-politon"}}),i.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||r)},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r),f=o(54655),h=o(68214),m=o(79765),Z=o(46782),A=o(43190),v=o(74868),x=o(12622),y=o(38583),b=o(60394),w=o(3379),q=o(24020),k=o(41886);function T(t,i){if(1&t&&(p._UZ(0,"p-message",4),p.ALo(1,"translate")),2&t){var e=p.oxw();p.Q6J("styleClass","mb-2")("text",p.lcZ(1,2,null==e.translation?null:e.translation.egwebapps.egwebappsLoginMesg))}}function D(t,i){if(1&t&&(p.TgZ(0,"p-panel",7),p.ALo(1,"translate"),p._UZ(2,"div",8),p.ALo(3,"decodeHtmlString"),p.qZA()),2&t){var e=p.oxw(2);p.Q6J("header",p.lcZ(1,4,null==e.translation?null:e.translation.egwebapps.information))("styleClass","tab-msg mb-3")("toggleable",!0),p.xp6(2),p.Q6J("innerHTML",p.lcZ(3,6,e.tabMsg),p.oJD)}}function _(t,i){1&t&&(p.TgZ(0,"div",9),p._UZ(1,"router-outlet"),p.qZA())}function C(t,i){if(1&t&&(p.ynx(0),p.YNc(1,D,4,8,"p-panel",5),p.YNc(2,_,2,0,"div",6),p.BQk()),2&t){var e=p.oxw();p.xp6(1),p.Q6J("ngIf",e.isAuthorized&&e.tabMsg&&""!==e.tabMsg),p.xp6(1),p.Q6J("ngIf",e.isAuthorized)}}var U=function(){var t=function(){function t(i,e,n,o,s,r){a(this,t),this.oidcSecuritySrv=i,this.appCacheSv=e,this.location=n,this.cdr=o,this.router=s,this.route=r,this.onDestroy=new m.xQ,this.afmNotFound=!1,this.index=0,this.selectedLang="el"}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.appCacheSv.translation$.pipe((0,Z.R)(this.onDestroy)).subscribe(function(i){i&&(t.translation=i,(0,h.RA)(t.cdr))}),this.appCacheSv.selectedLang$.pipe((0,Z.R)(this.onDestroy)).subscribe(function(i){i&&(t.selectedLang=i),1==AppConfOptions.multilingual&&"el"!=t.selectedLang&&AppConfOptions.shde_tab_info_en&&""!=AppConfOptions.shde_tab_info_en?t.tabMsg=AppConfOptions.shde_tab_info_en:AppConfOptions.shde_tab_info&&""!=AppConfOptions.shde_tab_info&&"el"==t.selectedLang&&(t.tabMsg=AppConfOptions.shde_tab_info),(0,h.RA)(t.cdr)}),this.oidcSecuritySrv.isAuthenticated$.pipe((0,A.w)(function(i){return t.isAuthorized=null!=i&&i.isAuthenticated,t.oidcSecuritySrv.userData$})).subscribe(function(i){i&&i.userData&&(!i.userData.tin||(0,h.Ew)(i.userData.tin))&&1==AppConfOptions.shde_afm_required&&(t.afmNotFound=!0)})}},{key:"ngOnDestroy",value:function(){this.onDestroy.next(null)}},{key:"onTabChanged",value:function(t){}}]),t}();return t.\u0275fac=function(i){return new(i||t)(p.Y36(v.J_),p.Y36(x.g),p.Y36(y.Ye),p.Y36(p.sBO),p.Y36(f.F0),p.Y36(f.gz))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-shde-layout"]],decls:5,vars:4,consts:[[1,"module-title"],["severity","warn",3,"styleClass","text",4,"ngIf"],[3,"afmNotFound"],[4,"ngIf"],["severity","warn",3,"styleClass","text"],[3,"header","styleClass","toggleable",4,"ngIf"],["class","benefits-container bg-white p-2",4,"ngIf"],[3,"header","styleClass","toggleable"],[3,"innerHTML"],[1,"benefits-container","bg-white","p-2"]],template:function(t,i){1&t&&(p.TgZ(0,"h3",0),p._uU(1),p.qZA(),p.YNc(2,T,2,4,"p-message",1),p._UZ(3,"app-afmnotfound",2),p.YNc(4,C,3,2,"ng-container",3)),2&t&&(p.xp6(1),p.Oqu(null==i.translation?null:i.translation.menu.shdeMenuItem),p.xp6(1),p.Q6J("ngIf",!i.isAuthorized),p.xp6(1),p.Q6J("afmNotFound",i.afmNotFound),p.xp6(1),p.Q6J("ngIf",!i.afmNotFound))},directives:[y.O5,b.d,w.q,q.s,f.lC],pipes:[l.X$,k.o],encapsulation:2,changeDetection:0}),t}(),L=s(function t(){a(this,t),this.DiadikasiaId=-1,this.DiadikasiaProtypoEggrafoId=-1,this.Description="\u0386\u03bb\u03bb\u03b1 \u0388\u03b3\u03b3\u03c1\u03b1\u03c6\u03b1",this.sinimena=[]}),I=s(function t(){a(this,t),this.Start=0,this.Length=10,this.Order=[],this.Columns=[]}),S=s(function t(){a(this,t),this.IsPublicInUser=!0}),O=o(88002),E=function(){var e=function(e){!function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&t(i,e)}(o,e);var n=i(o);function o(t,i){var e;return a(this,o),(e=n.call(this,t,i)).http=t,e.exceptionSrv=i,e.apiUrl=AppConfOptions.shde_api+"api/",e}return s(o,[{key:"getDiadikasiaById",value:function(t){return this.http.get("".concat(this.apiUrl,"DiadikasiaData/").concat(t)).pipe((0,O.U)(function(t){return t}),this.catchHttpErrors())}},{key:"getAvailableBooks",value:function(){return this.http.get("".concat(this.apiUrl,"Relatives/GetAvailableBooks"))}},{key:"getAvailableDiadikasies",value:function(){return this.http.get("".concat(this.apiUrl,"Politis/GetDiadikasiesPolti"))}},{key:"createAitisiPoliti",value:function(t){return this.http.post("".concat(this.apiUrl,"Politis/CreateAitisiPoliti"),t).pipe((0,O.U)(function(t){return t}),this.catchHttpErrors())}},{key:"ypovoliAitisisPoliti",value:function(t){return this.http.get("".concat(this.apiUrl,"Politis/YpovoliAitisisPoliti/").concat(t)).pipe((0,O.U)(function(t){return t}),this.catchHttpErrors())}},{key:"akyrosiAitisisPoliti",value:function(t){return this.http.get("".concat(this.apiUrl,"Politis/AkyrosiAitisisPoliti/").concat(t)).pipe((0,O.U)(function(t){return t}),this.catchHttpErrors())}},{key:"getCommentsPoliti",value:function(t){return this.http.post("".concat(this.apiUrl,"Politis/GetCommentsPoliti"),t).pipe((0,O.U)(function(t){return t}),this.catchHttpErrors())}},{key:"createComment",value:function(t){return this.http.post("".concat(this.apiUrl,"Politis/CreateComment"),t).pipe((0,O.U)(function(t){return t}),this.catchHttpErrors())}},{key:"deleteComment",value:function(t){return this.http.post("".concat(this.apiUrl,"Politis/DeleteComment/").concat(t),t).pipe((0,O.U)(function(t){return t}),this.catchHttpErrors())}},{key:"uploadFile",value:function(t,i,e){var n;n=e?"".concat(this.apiUrl,"Politis/SinimenoUpload?ProtypoEggrafoId=").concat(e,"&EggrafoId=").concat(i):"".concat(this.apiUrl,"Politis/SinimenoUpload?EggrafoId=").concat(i);var a=new c.WM;return a.append("Content-Type","multipart/form-data"),a.append("Accept","application/json"),this.http.post(n,t,{headers:a}).pipe((0,O.U)(function(t){return t}),this.catchHttpErrors())}},{key:"deleteFile",value:function(t){var i;return i="".concat(this.apiUrl,"Politis/SinimenoDelete/").concat(t),this.http.post(i,t).pipe((0,O.U)(function(t){return t}),this.catchHttpErrors())}},{key:"getProtypoEggrafoDiadikasia",value:function(t){var i="".concat(this.apiUrl,"Politis/GetSinnimenoProtypoDiadikasias/").concat(t);return(new c.WM).append("Accept","application/octet-stream"),this.http.get(i,{responseType:"blob"}).pipe(this.catchHttpErrors())}},{key:"getSinnimeno",value:function(t){var i="".concat(this.apiUrl,"Politis/GetSinnimeno/").concat(t);return(new c.WM).append("Accept","application/octet-stream"),this.http.get(i,{responseType:"blob"}).pipe(this.catchHttpErrors())}},{key:"getSinimenaList",value:function(t){return this.http.get("".concat(this.apiUrl,"Politis/SinimenaList/").concat(t)).pipe((0,O.U)(function(t){return t}),this.catchHttpErrors())}},{key:"getAitisiPoliti",value:function(t){return this.http.get("".concat(this.apiUrl,"Politis/GetAitisiPoliti/").concat(t)).pipe((0,O.U)(function(t){return t}),this.catchHttpErrors())}},{key:"getMyAitiseis",value:function(t){return this.http.post("".concat(this.apiUrl,"Politis/GetMyAitiseis"),t).pipe((0,O.U)(function(t){return t}),this.catchHttpErrors())}}]),o}(h.FD);return e.\u0275fac=function(t){return new(t||e)(p.LFG(c.eN),p.LFG(h.Hm))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac}),e}(),M=o(3679),J=o(88598),N=o(84439),P=o(33013),Y=["searchAitisisForm"];function F(t,i){if(1&t&&(p.TgZ(0,"div",30),p._UZ(1,"i",31),p.TgZ(2,"span",32),p._uU(3),p.ALo(4,"translate"),p.qZA(),p._UZ(5,"i",33),p.TgZ(6,"span"),p._uU(7),p.ALo(8,"translate"),p.qZA(),p.qZA()),2&t){var e=p.oxw(3);p.xp6(3),p.Oqu(p.lcZ(4,2,null==e.translation?null:e.translation.shde.statusProcessing)),p.xp6(4),p.Oqu(p.lcZ(8,4,null==e.translation?null:e.translation.shde.statusSubmitted))}}function R(t,i){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"th",34),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"th",34),p._uU(5),p.ALo(6,"translate"),p.qZA(),p.TgZ(7,"th",35),p._uU(8),p.ALo(9,"translate"),p.qZA(),p.TgZ(10,"th",36),p._uU(11),p.ALo(12,"translate"),p.qZA(),p.TgZ(13,"th",36),p._uU(14),p.ALo(15,"translate"),p.qZA(),p.TgZ(16,"th",34),p._uU(17),p.ALo(18,"translate"),p.qZA(),p.TgZ(19,"th",34),p._uU(20),p.ALo(21,"translate"),p.qZA(),p.TgZ(22,"th",37),p._uU(23,"\xa0"),p.qZA(),p.qZA()),2&t){var e=p.oxw(3);p.xp6(2),p.Oqu(p.lcZ(3,7,null==e.translation?null:e.translation.egwebapps.egrStatus)),p.xp6(3),p.Oqu(p.lcZ(6,9,null==e.translation?null:e.translation.shde.protocolNbr)),p.xp6(3),p.Oqu(p.lcZ(9,11,null==e.translation?null:e.translation.shde.applicationNbr)),p.xp6(3),p.Oqu(p.lcZ(12,13,null==e.translation?null:e.translation.shde.trafficStatus)),p.xp6(3),p.Oqu(p.lcZ(15,15,null==e.translation?null:e.translation.shde.process)),p.xp6(3),p.Oqu(p.lcZ(18,17,null==e.translation?null:e.translation.shde.creationDate)),p.xp6(3),p.Oqu(p.lcZ(21,19,null==e.translation?null:e.translation.shde.protocolDate))}}function Q(t,i){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",38),p.TgZ(2,"span",39),p._uU(3),p.ALo(4,"translate"),p.qZA(),p._UZ(5,"span",40),p.qZA(),p.TgZ(6,"td",41),p.TgZ(7,"span",39),p._uU(8),p.ALo(9,"translate"),p.qZA(),p._uU(10),p.qZA(),p.TgZ(11,"td",42),p.TgZ(12,"span",39),p._uU(13),p.ALo(14,"translate"),p.qZA(),p._uU(15),p.qZA(),p.TgZ(16,"td",36),p.TgZ(17,"span",39),p._uU(18),p.ALo(19,"translate"),p.qZA(),p._uU(20),p.qZA(),p.TgZ(21,"td",36),p.TgZ(22,"span",39),p._uU(23),p.ALo(24,"translate"),p.qZA(),p._uU(25),p.qZA(),p.TgZ(26,"td",41),p.TgZ(27,"span",39),p._uU(28),p.ALo(29,"translate"),p.qZA(),p._uU(30),p.ALo(31,"date"),p.qZA(),p.TgZ(32,"td",41),p.TgZ(33,"span",39),p._uU(34),p.ALo(35,"translate"),p.qZA(),p._uU(36),p.ALo(37,"date"),p.qZA(),p.TgZ(38,"td",43),p.TgZ(39,"a",44),p._UZ(40,"span",45),p.qZA(),p.qZA(),p.qZA()),2&t){var e=i.$implicit,n=p.oxw(3);p.xp6(3),p.Oqu(p.lcZ(4,16,null==n.translation?null:n.translation.egwebapps.egrStatus)),p.xp6(2),p.Q6J("innerHTML",n._getKatastasiIcon(e.AAProtocol,e.Katastasi),p.oJD),p.xp6(3),p.Oqu(p.lcZ(9,18,null==n.translation?null:n.translation.shde.protocolNbr)),p.xp6(2),p.AsE(" ",e.AAProtocol," ",e.Etos?"/ "+e.Etos:""," "),p.xp6(3),p.Oqu(p.lcZ(14,20,null==n.translation?null:n.translation.shde.applicationNbr)),p.xp6(2),p.hij(" ",e.AitisiId," "),p.xp6(3),p.Oqu(p.lcZ(19,22,null==n.translation?null:n.translation.shde.trafficStatus)),p.xp6(2),p.hij(" ",e.WorkflowPerigrafi," "),p.xp6(3),p.Oqu(p.lcZ(24,24,null==n.translation?null:n.translation.shde.process)),p.xp6(2),p.hij(" ",e.Diadikasia," "),p.xp6(3),p.Oqu(p.lcZ(29,26,null==n.translation?null:n.translation.shde.creationDate)),p.xp6(2),p.hij(" ",p.xi3(31,28,e.ImerominiaDimiourgias,"dd/LL/yyyy")," "),p.xp6(4),p.Oqu(p.lcZ(35,31,null==n.translation?null:n.translation.shde.protocolDate)),p.xp6(2),p.hij(" ",p.xi3(37,33,e.ImerominiaProtokollisis,"dd/LL/yyyy")," "),p.xp6(3),p.MGl("routerLink","/shde-app/aitisi/",e.AitisiId,"")}}function H(t,i){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",46),p.TgZ(2,"strong"),p._uU(3),p.ALo(4,"translate"),p.qZA(),p._uU(5),p.qZA(),p.qZA()),2&t){var e=p.oxw(3);p.xp6(3),p.hij("",p.lcZ(4,2,null==e.translation?null:e.translation.egwebapps.egrTotal),":"),p.xp6(2),p.hij(" ",null==e.aitiseisList.Data?null:e.aitiseisList.Data.length," ")}}function j(t,i){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",46),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.qZA()),2&t){var e=p.oxw(3);p.xp6(2),p.hij(" ",p.lcZ(3,1,null==e.translation?null:e.translation.egwebapps.egrNoResultsFound)," ")}}function B(t,i){if(1&t&&(p.TgZ(0,"p-table",24),p.YNc(1,F,9,6,"ng-template",25),p.YNc(2,R,24,21,"ng-template",26),p.YNc(3,Q,41,36,"ng-template",27),p.YNc(4,H,6,4,"ng-template",28),p.YNc(5,j,4,3,"ng-template",29),p.qZA()),2&t){var e=p.oxw(2);p.Q6J("value",e.aitiseisList.Data)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",e.isLoading)("totalRecords",null==e.aitiseisList.Data?null:e.aitiseisList.Data.length)}}var K=function(){return{width:"100%"}};function z(t,i){if(1&t){var e=p.EpF();p.ynx(0),p.TgZ(1,"div",2),p.TgZ(2,"a",3),p._UZ(3,"span",4),p._uU(4),p.ALo(5,"translate"),p.qZA(),p.qZA(),p.TgZ(6,"p-panel",5),p.ALo(7,"translate"),p.TgZ(8,"form",6,7),p.TgZ(10,"div",8),p.TgZ(11,"div",9),p.TgZ(12,"label"),p._uU(13),p.ALo(14,"translate"),p.qZA(),p.TgZ(15,"p-calendar",10),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().filters.imerominiaApo=t}),p.qZA(),p.qZA(),p.TgZ(16,"div",9),p.TgZ(17,"label"),p._uU(18),p.ALo(19,"translate"),p.qZA(),p.TgZ(20,"p-calendar",11),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().filters.imerominiaEos=t}),p.qZA(),p.qZA(),p.TgZ(21,"div",9),p.TgZ(22,"label"),p._uU(23),p.ALo(24,"translate"),p.qZA(),p.TgZ(25,"select",12),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().filters.katastasi=t}),p.TgZ(26,"option",13),p._uU(27),p.ALo(28,"translate"),p.qZA(),p.TgZ(29,"option",14),p._uU(30),p.ALo(31,"translate"),p.qZA(),p.TgZ(32,"option",15),p._uU(33),p.ALo(34,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(35,"div",9),p.TgZ(36,"label"),p._uU(37),p.ALo(38,"translate"),p.qZA(),p.TgZ(39,"input",16),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().filters.madDiadikasias=t}),p.qZA(),p.qZA(),p.TgZ(40,"div",9),p.TgZ(41,"label"),p._uU(42),p.ALo(43,"translate"),p.qZA(),p.TgZ(44,"input",17),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().filters.aaProtocol=t}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(45,"div",18),p.TgZ(46,"button",19),p.NdJ("click",function(){return p.CHM(e),p.oxw().onSearch()}),p._UZ(47,"i",20),p._uU(48),p.ALo(49,"translate"),p.qZA(),p.TgZ(50,"button",21),p.NdJ("click",function(){return p.CHM(e),p.oxw().onClearFilters()}),p._UZ(51,"i",22),p._uU(52),p.ALo(53,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.YNc(54,B,6,9,"p-table",23),p.BQk()}if(2&t){var n=p.oxw();p.xp6(4),p.hij(" ",p.lcZ(5,41,null==n.translation?null:n.translation.shde.newApplication),""),p.xp6(2),p.Q6J("header",p.lcZ(7,43,null==n.translation?null:n.translation.egwebapps.egrSearchFilters))("styleClass","mb-3"),p.xp6(7),p.Oqu(p.lcZ(14,45,null==n.translation?null:n.translation.shde.dateFrom)),p.xp6(2),p.Akn(p.DdM(65,K)),p.Q6J("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",n.yearRange)("showIcon",!0)("showButtonBar",!0)("readonlyInput",!0)("ngModel",n.filters.imerominiaApo),p.xp6(3),p.Oqu(p.lcZ(19,47,null==n.translation?null:n.translation.shde.dateTo)),p.xp6(2),p.Akn(p.DdM(66,K)),p.Q6J("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",n.yearRange)("showIcon",!0)("showButtonBar",!0)("readonlyInput",!0)("ngModel",n.filters.imerominiaEos),p.xp6(3),p.Oqu(p.lcZ(24,49,null==n.translation?null:n.translation.egwebapps.egrStatus)),p.xp6(2),p.Q6J("ngModel",n.filters.katastasi),p.xp6(2),p.Oqu(p.lcZ(28,51,null==n.translation?null:n.translation.shde.statusNew)),p.xp6(3),p.Oqu(p.lcZ(31,53,null==n.translation?null:n.translation.shde.statusProcessing)),p.xp6(3),p.Oqu(p.lcZ(34,55,null==n.translation?null:n.translation.shde.statusCompleted)),p.xp6(4),p.Oqu(p.lcZ(38,57,null==n.translation?null:n.translation.shde.protocolUID)),p.xp6(2),p.Q6J("ngModel",n.filters.madDiadikasias),p.xp6(3),p.Oqu(p.lcZ(43,59,null==n.translation?null:n.translation.shde.protocolNbr)),p.xp6(2),p.Q6J("ngModel",n.filters.aaProtocol),p.xp6(4),p.hij(" ",p.lcZ(49,61,null==n.translation?null:n.translation.egwebapps.egrSearchBtn)," "),p.xp6(4),p.hij(" ",p.lcZ(53,63,null==n.translation?null:n.translation.egwebapps.egrClearBtn)," "),p.xp6(2),p.Q6J("ngIf",n.aitiseisList&&!n.isLoading)}}var $=function(){var t=function(){function t(i,e,n,o,s){a(this,t),this.toasterSrv=i,this.oidcSecuritySrv=e,this.shdeService=n,this.appCacheSv=o,this.cdr=s,this.filters={},this.yearRange=(0,h.ug)(50,50),this.isLoading=!1,this.isFormSubmitted=!1,this.onDestroy=new m.xQ}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.appCacheSv.translation$.pipe((0,Z.R)(this.onDestroy)).subscribe(function(i){i&&(t.translation=i,(0,h.RA)(t.cdr))}),this.isLoading=!0,this.request=new I,this.request.Order=[{ColumnName:"DateCreated",Dir:"desc"}],(0,h.RA)(this.cdr),this.shdeService.getMyAitiseis(this.request).subscribe(function(i){i&&(t.aitiseisList=i),t.isLoading=!1,(0,h.RA)(t.cdr)})}},{key:"ngOnDestroy",value:function(){this.onDestroy.next(null)}},{key:"onSearch",value:function(){var t=this;this.isFormSubmitted=!0,this.formErrorsMsg=null,(0,h.RA)(this.cdr),this.isFormSubmitted&&this.searchAitisisForm.valid&&(this.isLoading=!0,this.request.Columns=this.getDefaultSearchColumns(),(0,h.RA)(this.cdr),this.shdeService.getMyAitiseis(this.request).subscribe(function(i){i&&(t.aitiseisList=i),t.isLoading=!1,(0,h.RA)(t.cdr)}))}},{key:"onClearFilters",value:function(){this.filters={},this.request.Columns=this.getDefaultSearchColumns(),this.onSearch()}},{key:"_getKatastasiIcon",value:function(t,i){return null===t&&1==i?'<i class="fas fa-pencil-alt mr-1" style="color: orangered;"></i>':""!=t&&1!=i?"<i class='fas fa-paper-plane mr-1' style='color: green;'></i>":void 0}},{key:"getDefaultSearchColumns",value:function(){return[this.filters.imerominiaApo|this.filters.imerominiaEos?{ColumnName:"Eis.dHmProtokollisis",Value:(0,h.UW)(this.filters.imerominiaApo)+"~"+(0,h.UW)(this.filters.imerominiaEos),Regex:!1}:null,this.filters.aaProtocol?{ColumnName:"nAA.Search",Value:this.filters.aaProtocol,Regex:!1}:null,this.filters.madDiadikasias?{ColumnName:"AitisiId",Value:this.filters.madDiadikasias,Regex:!1}:null,this.filters.katastasi?{ColumnName:"KatastasiAitisis",Value:this.filters.katastasi,Regex:!1}:null].filter(function(t){return t})}}]),t}();return t.\u0275fac=function(i){return new(i||t)(p.Y36(h.MJ),p.Y36(v.J_),p.Y36(E),p.Y36(x.g),p.Y36(p.sBO))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-aitiseis-list"]],viewQuery:function(t,i){var e;(1&t&&p.Gf(Y,5),2&t)&&(p.iGM(e=p.CRH())&&(i.searchAitisisForm=e.first))},decls:2,vars:3,consts:[[3,"condition","customClass"],[4,"ngIf"],[1,"d-flex","justify-content-end"],["routerLink","/shde-app/aitisi/0",1,"btn","btn-primary","btn-sm","mb-1"],["aria-hidden","true",1,"fas","fa-plus"],[3,"header","styleClass"],[1,"form"],["searchAitisisForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-4"],["name","imerominiaApo","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","readonlyInput","ngModel","ngModelChange"],["name","imerominiaEos","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","readonlyInput","ngModel","ngModelChange"],["name","katastasi",1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["name","maddiadikasias","placeholder","1","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","aadiadikasias","placeholder","1","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-buttons","d-flex","flex-wrap"],["type","button",1,"btn","btn-primary","btn-sm","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["type","button",1,"btn","btn-warning","btn-sm","text-white",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[1,"ui-helper-clearfix",2,"text-align","left"],[1,"fas","fa-pencil-alt","mr-1",2,"color","orangered"],[1,"mr-2"],[1,"fas","fa-paper-plane","mr-1",2,"color","green"],[1,"fixed-width-col-100"],[1,"fixed-width-col-80"],[1,"fixed-width-col-170"],[1,"fixed-width-col-40"],[1,"fixed-width-col-100","text-center","katastasi"],[1,"p-column-title"],[3,"innerHTML"],[1,"fixed-width-col-100","text-center"],[1,"fixed-width-col-80","text-center"],[1,"fixed-width-col-40","text-center"],[1,"btn","btn-sm","btn-primary","m-0",3,"routerLink"],["aria-label","\u03a0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae \u0391\u03af\u03c4\u03b7\u03c3\u03b7\u03c2",1,"far","fa-eye"],["colspan","8"]],template:function(t,i){1&t&&(p._UZ(0,"lib-egr-loading",0),p.YNc(1,z,55,67,"ng-container",1)),2&t&&(p.Q6J("condition",i.isLoading)("customClass","egr-load-small"),p.xp6(1),p.Q6J("ngIf",!i.isLoading))},directives:[h.IE,y.O5,f.yS,q.s,M._Y,M.JL,M.F,J.f,M.JJ,M.On,M.EJ,M.YN,M.Kr,M.Fj,N.iA,P.jx],pipes:[l.X$,y.uU],encapsulation:2,changeDetection:0}),t}(),G=o(35746),W=o(86640);function X(t,i){if(1&t){var e=p.EpF();p.TgZ(0,"div",6),p.TgZ(1,"label"),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"ng-select",10),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw(2).selectedDiadikasia=t})("change",function(t){return p.CHM(e),p.oxw(2).onDiadikasiaChanged(t)}),p.qZA(),p.qZA()}if(2&t){var n=p.oxw(2);p.xp6(2),p.Oqu(p.lcZ(3,3,null==n.translation?null:n.translation.shde.chooseProcess)),p.xp6(2),p.Q6J("items",n.selectedKatigoria.Diadikasies)("ngModel",n.selectedDiadikasia)}}function V(t,i){if(1&t&&(p.ynx(0),p.TgZ(1,"div",13),p.TgZ(2,"label"),p._uU(3),p.ALo(4,"translate"),p.qZA(),p._UZ(5,"div",14),p.qZA(),p.BQk()),2&t){var e=p.oxw(3);p.xp6(3),p.Oqu(p.lcZ(4,2,null==e.translation?null:e.translation.shde.instructions)),p.xp6(2),p.Q6J("innerHtml",e.selectedDiadikasia.Simeioseis,p.oJD)}}function tt(t,i){if(1&t&&(p.TgZ(0,"ul"),p._UZ(1,"li",14),p.qZA()),2&t){var e=i.$implicit;p.xp6(1),p.Q6J("innerHtml",e.Description,p.oJD)}}function it(t,i){if(1&t&&(p.ynx(0),p.TgZ(1,"div",13),p.TgZ(2,"label"),p._uU(3),p.ALo(4,"translate"),p.qZA(),p.YNc(5,tt,2,1,"ul",15),p.qZA(),p.BQk()),2&t){var e=p.oxw(3);p.xp6(3),p.Oqu(p.lcZ(4,2,null==e.translation?null:e.translation.shde.docTemplates)),p.xp6(2),p.Q6J("ngForOf",e.selectedDiadikasia.ProtypaEggrafa)}}function et(t,i){if(1&t){var e=p.EpF();p.ynx(0),p.YNc(1,V,6,4,"ng-container",9),p.YNc(2,it,6,4,"ng-container",9),p.TgZ(3,"button",11),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).onCreateAitisi()}),p._UZ(4,"span",12),p._uU(5),p.ALo(6,"translate"),p.qZA(),p.BQk()}if(2&t){var n=p.oxw(2);p.xp6(1),p.Q6J("ngIf",n.selectedDiadikasia.Simeioseis),p.xp6(1),p.Q6J("ngIf",n.selectedDiadikasia.ProtypaEggrafa),p.xp6(1),p.Q6J("disabled",n.isLoading),p.xp6(2),p.hij(" ",p.lcZ(6,4,null==n.translation?null:n.translation.shde.createAndContinue)," ")}}function nt(t,i){if(1&t){var e=p.EpF();p.TgZ(0,"form",2,3),p.TgZ(2,"h4",4),p._uU(3),p.ALo(4,"translate"),p.qZA(),p._UZ(5,"hr"),p.TgZ(6,"div",5),p.TgZ(7,"div",6),p.TgZ(8,"label"),p._uU(9),p.ALo(10,"translate"),p.qZA(),p.TgZ(11,"ng-select",7),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().selectedKatigoria=t})("change",function(){return p.CHM(e),p.oxw().onKatigoriaChanged()}),p.qZA(),p.qZA(),p.YNc(12,X,5,5,"div",8),p.qZA(),p.YNc(13,et,7,6,"ng-container",9),p.qZA()}if(2&t){var n=p.oxw();p.xp6(3),p.Oqu(p.lcZ(4,6,null==n.translation?null:n.translation.shde.newApplication)),p.xp6(6),p.Oqu(p.lcZ(10,8,null==n.translation?null:n.translation.shde.chooseCategory)),p.xp6(2),p.Q6J("items",n.katigoriesDiadikasion)("ngModel",n.selectedKatigoria),p.xp6(1),p.Q6J("ngIf",n.selectedKatigoria),p.xp6(1),p.Q6J("ngIf",n.selectedKatigoria&&n.selectedDiadikasia)}}var at=function(){var t=function(){function t(i,e,n,o,s,r,l){a(this,t),this.toasterSrv=i,this.router=e,this.oidcSecuritySrv=n,this.appCacheSv=o,this.shdeService=s,this.cdr=r,this._parent=l,this.closeModal=new p.vpe,this.listHasChanged=new p.vpe,this.onDestroy=new m.xQ,this.isLoading=!1}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.appCacheSv.translation$.pipe((0,Z.R)(this.onDestroy)).subscribe(function(i){i&&(t.translation=i,(0,h.RA)(t.cdr))}),this.isLoading=!0,(0,h.RA)(this.cdr),this.shdeService.getAvailableDiadikasies().subscribe(function(i){i&&(t.katigoriesDiadikasion=i,t.katigoriesDiadikasion&&1==t.katigoriesDiadikasion.length&&(t.selectedKatigoria=t.katigoriesDiadikasion[0]),t.model={}),t.isLoading=!1,(0,h.RA)(t.cdr)})}},{key:"ngOnDestroy",value:function(){this.onDestroy.next(null)}},{key:"onKatigoriaChanged",value:function(){this.selectedDiadikasia=null,(0,h.RA)(this.cdr)}},{key:"onDiadikasiaChanged",value:function(t){this.model.DiadikasiaId=this.selectedKatigoria?t.Id:null,(0,h.RA)(this.cdr)}},{key:"onCreateAitisi",value:function(){var t=this;this.isLoading=!0,(0,h.RA)(this.cdr),this.shdeService.createAitisiPoliti(this.model).subscribe(function(i){i&&(t.toasterSrv.showWarning("",t.translation.shde.warningMsg),t.router.navigate(["/shde-app/aitisi/".concat(i.AitisiId),{}]))}),this.isLoading=!1,(0,h.RA)(this.cdr)}}]),t}();return t.\u0275fac=function(i){return new(i||t)(p.Y36(h.MJ),p.Y36(f.F0),p.Y36(v.J_),p.Y36(x.g),p.Y36(E),p.Y36(p.sBO),p.Y36(G.y))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-aitisi-create"]],outputs:{closeModal:"closeModal",listHasChanged:"listHasChanged"},decls:2,vars:3,consts:[[3,"condition","customClass"],["class","form bg-white",4,"ngIf"],[1,"form","bg-white"],["mAitisiForm","ngForm"],[1,"mb-2"],[1,"row"],[1,"form-group","col-12","col-md-6"],["name","katigoriaDiadikasiasPerigrafi","bindLabel","KatigoriaDiadikasiasPerigrafi",3,"items","ngModel","ngModelChange","change"],["class","form-group col-12 col-md-6",4,"ngIf"],[4,"ngIf"],["name","diadikasia","bindLabel","Titlos",3,"items","ngModel","ngModelChange","change"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["aria-hidden","true",1,"far","fa-save","fa-fw"],[1,"form-group"],[3,"innerHtml"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(p._UZ(0,"lib-egr-loading",0),p.YNc(1,nt,14,10,"form",1)),2&t&&(p.Q6J("condition",i.isLoading)("customClass","egr-load-small"),p.xp6(1),p.Q6J("ngIf",!i.isLoading))},directives:[h.IE,y.O5,M._Y,M.JL,M.F,W.w9,M.JJ,M.On,y.sg],pipes:[l.X$],encapsulation:2,changeDetection:0}),t}(),ot=o(35758),st=o(25917),rt=o(47268),lt=o(45121);function ct(t,i){if(1&t&&(p.TgZ(0,"p",16),p.TgZ(1,"strong"),p._uU(2),p.ALo(3,"translate"),p.qZA(),p._uU(4),p.qZA()),2&t){var e=p.oxw(2);p.xp6(2),p.hij("",p.lcZ(3,2,e.translation.shde.category),":"),p.xp6(2),p.hij(" ",e.selectedKatigoria.KatigoriaDiadikasiasPerigrafi," ")}}function ut(t,i){if(1&t&&(p.TgZ(0,"p",16),p.TgZ(1,"strong"),p._uU(2),p.ALo(3,"translate"),p.qZA(),p._uU(4),p.qZA()),2&t){var e=p.oxw(2);p.xp6(2),p.hij("",p.lcZ(3,2,e.translation.shde.process),":"),p.xp6(2),p.hij(" ",e.selectedDiadikasia.Titlos," ")}}function dt(t,i){if(1&t&&(p.TgZ(0,"div",21),p.TgZ(1,"label"),p._uU(2),p.ALo(3,"translate"),p.qZA(),p._UZ(4,"div",22),p.qZA()),2&t){var e=p.oxw(2);p.xp6(2),p.Oqu(p.lcZ(3,2,e.translation.shde.instructions)),p.xp6(2),p.Q6J("innerHtml",e.selectedDiadikasia.Simeioseis,p.oJD)}}function pt(t,i){if(1&t&&(p.TgZ(0,"div",30),p.TgZ(1,"span"),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.qZA()),2&t){var e=p.oxw(3);p.xp6(2),p.Oqu(p.lcZ(3,1,e.translation.shde.requiredDocuments))}}function gt(t,i){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"th"),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"th"),p._uU(5),p.ALo(6,"translate"),p.qZA(),p.qZA()),2&t){var e=p.oxw(3);p.xp6(2),p.Oqu(p.lcZ(3,2,e.translation.shde.docTemplate)),p.xp6(3),p.Oqu(p.lcZ(6,4,e.translation.shde.files))}}function ft(t,i){if(1&t){var e=p.EpF();p.TgZ(0,"span",36),p.NdJ("click",function(){p.CHM(e);var t=p.oxw().$implicit;return p.oxw(3).onClickEggrafo(t.DiadikasiaProtypoEggrafoId)}),p._UZ(1,"i",37),p.qZA()}}function ht(t,i){if(1&t){var e=p.EpF();p.ynx(0),p.TgZ(1,"div",39),p.TgZ(2,"span",40),p.NdJ("click",function(){p.CHM(e);var t=p.oxw().$implicit;return p.oxw(4).onClickSinimeno(t.DmsId)}),p._UZ(3,"span",41),p.qZA(),p.TgZ(4,"span",42),p.NdJ("click",function(){p.CHM(e);var t=p.oxw().$implicit;return p.oxw(4).onDeleteSinimeno(t.DmsId)}),p._UZ(5,"span",43),p.qZA(),p.qZA(),p.BQk()}}function mt(t,i){if(1&t&&(p.TgZ(0,"div"),p.TgZ(1,"span",38),p._uU(2),p.qZA(),p.YNc(3,ht,6,0,"ng-container",35),p.qZA()),2&t){var e=i.$implicit,n=p.oxw().$implicit,a=p.oxw(3);p.Gre("sinimeno d-flex align-items-center justify-content-between ",n.sinimena.length>1?"border-bottom":""," p-2"),p.xp6(2),p.AsE("",e.Description,"",e.Extension,""),p.xp6(1),p.Q6J("ngIf",!a.model.AAProtocol)}}function Zt(t,i){if(1&t){var e=p.EpF();p.ynx(0),p.TgZ(1,"div",44),p.TgZ(2,"label",45),p._UZ(3,"span",46),p._uU(4),p.ALo(5,"translate"),p.qZA(),p.TgZ(6,"input",47),p.NdJ("change",function(t){p.CHM(e);var i=p.oxw().$implicit;return p.oxw(3)._handleFileInput(t.target.files,i.DiadikasiaProtypoEggrafoId)}),p.qZA(),p.qZA(),p.BQk()}if(2&t){var n=p.oxw().$implicit,a=p.oxw(3);p.xp6(2),p.MGl("for","file-upload-",n.DiadikasiaProtypoEggrafoId,""),p.xp6(2),p.hij(" ",p.lcZ(5,4,a.translation.shde.addFiles)," "),p.xp6(2),p.MGl("name","file-upload-",n.DiadikasiaProtypoEggrafoId,""),p.MGl("id","file-upload-",n.DiadikasiaProtypoEggrafoId,"")}}function At(t,i){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p.TgZ(2,"span",31),p._uU(3),p.ALo(4,"translate"),p.qZA(),p._uU(5),p.YNc(6,ft,2,0,"span",32),p.qZA(),p.TgZ(7,"td",33),p.TgZ(8,"span",31),p._uU(9),p.ALo(10,"translate"),p.qZA(),p.YNc(11,mt,4,6,"div",34),p.YNc(12,Zt,7,6,"ng-container",35),p.qZA(),p.qZA()),2&t){var e=i.$implicit,n=p.oxw(3);p.xp6(3),p.Oqu(p.lcZ(4,6,n.translation.shde.docTemplate)),p.xp6(2),p.hij(" ",e.Description," "),p.xp6(1),p.Q6J("ngIf",-1!=e.DiadikasiaId&&e.ExeiFysikoArxeio),p.xp6(3),p.Oqu(p.lcZ(10,8,n.translation.shde.files)),p.xp6(2),p.Q6J("ngForOf",e.sinimena),p.xp6(1),p.Q6J("ngIf",!n.model.AAProtocol)}}function vt(t,i){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",48),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.qZA()),2&t){var e=p.oxw(3);p.xp6(2),p.hij(" ",p.lcZ(3,1,e.translation.egwebapps.egrNoResultsFound)," ")}}function xt(t,i){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",48),p.TgZ(2,"strong"),p._uU(3),p.ALo(4,"translate"),p.qZA(),p._uU(5),p.qZA(),p.qZA()),2&t){var e=p.oxw(3);p.xp6(3),p.hij("",p.lcZ(4,2,e.translation.egwebapps.egrTotal),":"),p.xp6(2),p.hij(" ",null==e.updatedEiserxomenaData?null:e.updatedEiserxomenaData.length," ")}}function yt(t,i){if(1&t&&(p.TgZ(0,"div",30),p.TgZ(1,"span"),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.qZA()),2&t){var e=p.oxw(3);p.xp6(2),p.Oqu(p.lcZ(3,1,e.translation.shde.publishedDocuments))}}function bt(t,i){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"th"),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"th"),p._uU(5,"\xa0"),p.qZA(),p.qZA()),2&t){var e=p.oxw(3);p.xp6(2),p.Oqu(p.lcZ(3,1,e.translation.shde.files))}}function wt(t,i){if(1&t){var e=p.EpF();p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p.TgZ(4,"span",40),p.NdJ("click",function(){var t=p.CHM(e).$implicit;return p.oxw(3).onClickSinimeno(t.DmsId)}),p._UZ(5,"span",41),p.qZA(),p.qZA(),p.qZA()}if(2&t){var n=i.$implicit;p.xp6(2),p.AsE(" ",n.Description,"",n.Extension," ")}}function qt(t,i){1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",48),p._uU(2," \u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ad\u03c2. "),p.qZA(),p.qZA())}function kt(t,i){if(1&t&&(p.TgZ(0,"tr"),p.TgZ(1,"td",48),p.TgZ(2,"strong"),p._uU(3),p.ALo(4,"translate"),p.qZA(),p._uU(5),p.qZA(),p.qZA()),2&t){var e=p.oxw(3);p.xp6(3),p.hij("",p.lcZ(4,2,e.translation.egwebapps.egrTotal),":"),p.xp6(2),p.hij(" ",null==e.ekserxomena?null:e.ekserxomena.length," ")}}function Tt(t,i){if(1&t&&(p.TgZ(0,"div",23),p.TgZ(1,"p-table",24),p.YNc(2,pt,4,3,"ng-template",25),p.YNc(3,gt,7,6,"ng-template",26),p.YNc(4,At,13,10,"ng-template",27),p.YNc(5,vt,4,3,"ng-template",28),p.YNc(6,xt,6,4,"ng-template",29),p.qZA(),p.TgZ(7,"p-table",24),p.YNc(8,yt,4,3,"ng-template",25),p.YNc(9,bt,6,3,"ng-template",26),p.YNc(10,wt,6,2,"ng-template",27),p.YNc(11,qt,3,0,"ng-template",28),p.YNc(12,kt,6,4,"ng-template",29),p.qZA(),p.qZA()),2&t){var e=p.oxw(2);p.xp6(1),p.Q6J("value",e.updatedEiserxomenaData)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",e.isLoading)("totalRecords",null==e.updatedEiserxomenaData?null:e.updatedEiserxomenaData.length)("styleClass","py-3"),p.xp6(6),p.Q6J("value",e.ekserxomena)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",e.isLoading)("totalRecords",null==e.ekserxomena?null:e.ekserxomena.length)("styleClass","py-3")}}function Dt(t,i){1&t&&(p.TgZ(0,"div",54),p._uU(1," \u0393\u03b9\u03b1 \u03bd\u03b1 \u03c5\u03c0\u03bf\u03b2\u03ac\u03bb\u03b5\u03c4\u03b5 \u03c4\u03b7\u03bd \u03b1\u03af\u03c4\u03b7\u03c3\u03ae \u03c3\u03b1\u03c2 \u03b8\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b1\u03bd\u03b5\u03b2\u03ac\u03c3\u03b5\u03c4\u03b5 \u03c4\u03bf\u03c5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03bf\u03bd \u03ad\u03bd\u03b1 \u03b1\u03c0\u03bf \u03c4\u03b1 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03b1 \u03b4\u03b9\u03ba\u03b1\u03b9\u03bf\u03bb\u03bf\u03b3\u03b7\u03c4\u03b9\u03ba\u03ac "),p.qZA())}function _t(t,i){if(1&t){var e=p.EpF();p.TgZ(0,"button",55),p.NdJ("click",function(){return p.CHM(e),p.oxw(3).onYpovoli()}),p._UZ(1,"span",56),p._uU(2),p.ALo(3,"translate"),p.qZA()}if(2&t){var n=p.oxw(3);p.xp6(2),p.hij(" ",p.lcZ(3,1,n.translation.egwebapps.egrSubmit)," ")}}function Ct(t,i){if(1&t){var e=p.EpF();p.TgZ(0,"div",49),p.YNc(1,Dt,2,0,"div",50),p.YNc(2,_t,4,3,"button",51),p.TgZ(3,"button",52),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).onReturn()}),p._UZ(4,"span",53),p._uU(5),p.ALo(6,"translate"),p.qZA(),p.qZA()}if(2&t){var n=p.oxw(2);p.xp6(1),p.Q6J("ngIf",!n.hasOnlyAllaEggrafa&&n.sinimena&&n.sinimena.length<1),p.xp6(1),p.Q6J("ngIf",n.hasOnlyAllaEggrafa||!n.hasOnlyAllaEggrafa&&n.sinimena&&n.sinimena.length>=1),p.xp6(3),p.hij(" ",p.lcZ(6,3,n.translation.egwebapps.egrReturn)," ")}}function Ut(t,i){if(1&t&&(p.TgZ(0,"form",12,13),p.TgZ(2,"h4",3),p._uU(3),p.ALo(4,"translate"),p.qZA(),p._UZ(5,"hr"),p.TgZ(6,"div",14),p.TgZ(7,"div",15),p.TgZ(8,"p",16),p.TgZ(9,"strong"),p._uU(10),p.ALo(11,"translate"),p.qZA(),p._uU(12),p.qZA(),p.TgZ(13,"p",16),p.TgZ(14,"strong"),p._uU(15),p.ALo(16,"translate"),p.qZA(),p._uU(17),p.qZA(),p.YNc(18,ct,5,4,"p",17),p.YNc(19,ut,5,4,"p",17),p.qZA(),p.TgZ(20,"div",15),p.TgZ(21,"p",16),p.TgZ(22,"strong"),p._uU(23),p.ALo(24,"translate"),p.qZA(),p._uU(25),p.ALo(26,"date"),p.qZA(),p.TgZ(27,"p",16),p.TgZ(28,"strong"),p._uU(29),p.ALo(30,"translate"),p.qZA(),p._uU(31),p.ALo(32,"date"),p.qZA(),p.TgZ(33,"p",16),p.TgZ(34,"strong"),p._uU(35),p.ALo(36,"translate"),p.qZA(),p._uU(37),p.qZA(),p.qZA(),p.YNc(38,dt,5,4,"div",18),p.YNc(39,Tt,13,20,"div",19),p.YNc(40,Ct,7,5,"div",20),p.qZA(),p.qZA()),2&t){var e=p.oxw();p.xp6(3),p.Oqu(p.lcZ(4,16,e.translation.shde.viewApplication)),p.xp6(7),p.hij("",p.lcZ(11,18,e.translation.egwebapps.egrStatus),":"),p.xp6(2),p.hij(" ",e.model.KatastasiPerigrafi," "),p.xp6(3),p.hij("",p.lcZ(16,20,e.translation.shde.applicationNbr),":"),p.xp6(2),p.hij(" ",e.model.AitisiId," "),p.xp6(1),p.Q6J("ngIf",e.selectedKatigoria),p.xp6(1),p.Q6J("ngIf",e.selectedKatigoria),p.xp6(4),p.hij("",p.lcZ(24,22,e.translation.shde.submissionDate),":"),p.xp6(2),p.hij(" ",p.xi3(26,24,e.model.ImerominiaDimiourgias,"dd/LL/yyyy")," "),p.xp6(4),p.hij("",p.lcZ(30,27,e.translation.shde.protocolDate),":"),p.xp6(2),p.hij(" ",p.xi3(32,29,e.model.ImerominiaProtokollisis,"dd/LL/yyyy")," "),p.xp6(4),p.hij("",p.lcZ(36,32,e.translation.shde.protocolNbr),":"),p.xp6(2),p.hij(" ",e.model.AAProtocol," "),p.xp6(1),p.Q6J("ngIf",e.selectedDiadikasia&&e.selectedDiadikasia.Simeioseis),p.xp6(1),p.Q6J("ngIf",e.updatedEiserxomenaData),p.xp6(1),p.Q6J("ngIf",!e.model.AAProtocol)}}function Lt(t,i){if(1&t){var e=p.EpF();p.ynx(0),p._UZ(1,"i",60),p.TgZ(2,"span",62),p.NdJ("click",function(){p.CHM(e);var t=p.oxw().$implicit;return p.oxw(2).onDeleteComment(t.Id)}),p._UZ(3,"i",63),p.qZA(),p.BQk()}}function It(t,i){if(1&t&&(p.TgZ(0,"div"),p.TgZ(1,"div",58),p.TgZ(2,"span",59),p._uU(3),p.qZA(),p._UZ(4,"i",60),p.TgZ(5,"span"),p._uU(6),p.ALo(7,"date"),p.qZA(),p.YNc(8,Lt,4,0,"ng-container",35),p.qZA(),p.TgZ(9,"pre",61),p._uU(10),p.qZA(),p.qZA()),2&t){var e=i.$implicit;p.Gre("comment-body w-75 mb-2 p-2  rounded ",e.isUser?"bg-light":"ml-auto text-right bg-grey",""),p.xp6(1),p.Gre("comment-head d-flex align-items-center ",e.isUser?"":"justify-content-end",""),p.xp6(2),p.Oqu(e.AuthorFullname),p.xp6(3),p.Oqu(p.xi3(7,10,e.DateCreated,"dd/LL/yyyy HH:mm")),p.xp6(2),p.Q6J("ngIf",e.canDelete),p.xp6(2),p.Oqu(e.Keimeno)}}function St(t,i){if(1&t&&(p.TgZ(0,"div",57),p.YNc(1,It,11,13,"div",34),p.qZA()),2&t){var e=p.oxw();p.xp6(1),p.Q6J("ngForOf",e.comments)}}var Ot=[{path:"",component:U,children:[{path:"",pathMatch:"full",redirectTo:"aitiseis"},{path:"aitiseis",component:$},{path:"aitisi/0",component:at},{path:"aitisi/0/:selecteddiadikasiaid",component:at},{path:"aitisi/:id",component:function(){var t=function(){function t(i,e,n,o,s,r,l){a(this,t),this.toasterSrv=i,this.oidcSecuritySrv=e,this.appCacheSv=n,this.shdeSrv=o,this.router=s,this.activatedRoute=r,this.cdr=l,this.closeModal=new p.vpe,this.listHasChanged=new p.vpe,this.commentModalOpen=!1,this.selectedDiadikasia=null,this.hasOnlyAllaEggrafa=!1,this.toCreateComment=new S,this.updatedEiserxomenaData=[],this.sinimena=[],this.eiserxomena=[],this.ekserxomena=[],this.onDestroy=new m.xQ,this.isLoading=!1,this.isCommentsLoading=!1}return s(t,[{key:"ngOnInit",value:function(){var t=this;this.appCacheSv.translation$.pipe((0,Z.R)(this.onDestroy)).subscribe(function(i){i&&(t.translation=i,(0,h.RA)(t.cdr))}),this.aitisiId=this.activatedRoute.snapshot.params.id;var i={StartIndex:0,Length:200,Filters:[{PropertyName:"EggrafoId",Filter:this.aitisiId}]};this.isLoading=!0,(0,h.RA)(this.cdr),this.oidcSecuritySrv.userData$.subscribe(function(i){i&&(t.userData=i.userData),(0,h.RA)(t.cdr)}),(0,ot.D)([this.shdeSrv.getAitisiPoliti(this.aitisiId),this.shdeSrv.getAvailableDiadikasies(),this.shdeSrv.getSinimenaList(this.aitisiId),this.shdeSrv.getCommentsPoliti(i)]).subscribe(function(i){i&&(t.model=i[0]?i[0]:null,t.searchKatigoria=i[1]?i[1]:null,t.sinimena=i[2]?i[2]:null,t.comments=i[3]?t._prepeareComments(i[3]):null,t.searchKatigoria.some(function(i){return i.Diadikasies.find(function(i){return i.Id==t.model.DiadikasiaId})})&&(t.selectedKatigoria=t.searchKatigoria.find(function(i){return i.Diadikasies.find(function(i){return i.Id==t.model.DiadikasiaId})}),t.selectedKatigoria.Diadikasies.some(function(i){return i.Id==t.model.DiadikasiaId})&&(t.selectedDiadikasia=t.selectedKatigoria.Diadikasies.find(function(i){return i.Id==t.model.DiadikasiaId})),t.sinimena&&(t.eiserxomena=t.sinimena.filter(function(t){return 1==t.SinimenaDirection}),t.ekserxomena=t.sinimena.filter(function(t){return 2==t.SinimenaDirection})),t.selectedDiadikasia&&(t.updatedEiserxomenaData=t._createEiserxomenaData(t.selectedDiadikasia.ProtypaEggrafa,t.eiserxomena),t.hasOnlyAllaEggrafa=1==t.selectedDiadikasia.ProtypaEggrafa.length&&-1==t.selectedDiadikasia.ProtypaEggrafa[0].DiadikasiaProtypoEggrafoId))),t.isLoading=!1,(0,h.RA)(t.cdr)})}},{key:"ngOnDestroy",value:function(){this.onDestroy.next(null)}},{key:"onCreateComment",value:function(){var t=this;this.toCreateComment.EggrafoId=this.aitisiId,this.toCreateComment.Keimeno&&(this.isCommentsLoading=!0,(0,h.RA)(this.cdr),this.shdeSrv.createComment(this.toCreateComment).subscribe(function(i){i?(t.comments.push(i),t.toasterSrv.showSuccess("",t.translation.shde.commentCreated)):t.toasterSrv.showSuccess("",t.translation.shde.commentError),t.commentModalOpen=!1,t.isCommentsLoading=!1,(0,h.RA)(t.cdr)}))}},{key:"onDeleteComment",value:function(t){var i=this;t&&(this.isCommentsLoading=!0,(0,h.RA)(this.cdr),this.shdeSrv.deleteComment(t).pipe((0,A.w)(function(t){if(t){var e={StartIndex:0,Length:200,Filters:[{PropertyName:"EggrafoId",Filter:i.aitisiId}]};return i.toasterSrv.showSuccess("",i.translation.shde.commentDelete),i.shdeSrv.getCommentsPoliti(e)}return(0,st.of)(!1)})).subscribe(function(t){t?i.comments=i._prepeareComments(t):i.toasterSrv.showError("",i.translation.shde.commentDeleteError),i.isCommentsLoading=!1,(0,h.RA)(i.cdr)}))}},{key:"onClickEggrafo",value:function(t){this.shdeSrv.getProtypoEggrafoDiadikasia(t).subscribe(function(t){t&&(0,rt.F)(t)})}},{key:"onClickSinimeno",value:function(t){this.shdeSrv.getSinnimeno(t).subscribe(function(t){t&&(0,rt.F)(t)})}},{key:"onDeleteSinimeno",value:function(t){var i=this;this.shdeSrv.deleteFile(t).pipe((0,A.w)(function(t){return t?(i.toasterSrv.showSuccess("",i.translation.shde.fileDelete),i.shdeSrv.getSinimenaList(i.aitisiId)):(0,st.of)(!1)})).subscribe(function(t){t&&(i.sinimena=t,i.updatedEiserxomenaData=i._createEiserxomenaData(i.selectedDiadikasia.ProtypaEggrafa,t)),(0,h.RA)(i.cdr)})}},{key:"onYpovoli",value:function(){var t=this;this.isLoading=!0,(0,h.RA)(this.cdr),this.shdeSrv.ypovoliAitisisPoliti(this.aitisiId).subscribe(function(i){i&&(t.model=i,t.toasterSrv.showSuccess("",t.translation.shde.successMsg)),t.isLoading=!1,(0,h.RA)(t.cdr)})}},{key:"onAkyrosi",value:function(){var t=this;this.isLoading=!0,(0,h.RA)(this.cdr),this.shdeSrv.akyrosiAitisisPoliti(this.aitisiId).subscribe(function(i){i&&(t.model=i,t.toasterSrv.showSuccess("",t.translation.shde.cancelMsg)),t.isLoading=!1,(0,h.RA)(t.cdr)})}},{key:"onReturn",value:function(){this.router.navigate(["/shde-app"])}},{key:"_prepeareComments",value:function(t){var i=this;return t&&t.length>0&&(t.forEach(function(t){if(t.AuthorId&&t.AuthorId==i.userData.sub){t.isUser=!0;var e=Date.now(),n=new Date(t.DateCreated).getTime();t.dateDif=(e-n)/1e3/60/60}else t.isUser=!1}),t[0].AuthorId&&t[0].AuthorId==this.userData.sub&&t[0].dateDif<=4&&(t[0].canDelete=!0),t.sort(function(t,i){var e=new Date(t.DateCreated),n=new Date(i.DateCreated);return Math.floor(e-n)})),(0,h.RA)(this.cdr),t}},{key:"_createEiserxomenaData",value:function(t,i){return t.find(function(t){return-1==t.DiadikasiaProtypoEggrafoId})?t.forEach(function(t){t.sinimena=[]}):t.push(new L),i.forEach(function(i){var e=t.find(function(t){return t.DiadikasiaProtypoEggrafoId==i.DiadikasiaProtypoEggrafoId});e?(e.sinimena||(e.sinimena=[]),e.sinimena.push(i)):t.find(function(t){return-1==t.DiadikasiaProtypoEggrafoId}).sinimena.push(i)}),this.filesCount=i.length,(0,h.RA)(this.cdr),t}},{key:"_handleFileInput",value:function(t,i){var e=this,n=new FormData;Array.from(t).forEach(function(t){n.append("SinimenaFiles",t,t.name)}),this.shdeSrv.uploadFile(n,this.aitisiId,i).pipe((0,A.w)(function(t){return e.shdeSrv.getSinimenaList(e.aitisiId)})).subscribe(function(t){t&&(e.sinimena=t,e.updatedEiserxomenaData=e._createEiserxomenaData(e.selectedDiadikasia.ProtypaEggrafa,t),e.toasterSrv.showSuccess("",e.translation.shde.fileAdd)),(0,h.RA)(e.cdr)}),(0,h.RA)(this.cdr)}},{key:"_fileType",value:function(t){return 1==t?"<i title='\u03b5\u03b9\u03c3\u03b5\u03c1\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf' class='fa fa-arrow-circle-down eiserxomeno'></i>":2==t?"<i title='\u03b5\u03b9\u03c3\u03b5\u03c1\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf' class='fa fa-arrow-circle-up ekserxomeno'></i>":void 0}},{key:"_fileExt",value:function(t){return"pdf"==(t=t.substring(1))?"<i class='far fa-file-pdf'></i>":"docx"==t||"doc"==t?"<i class='far fa-file-word'></i>":"xls"==t||"xlsx"==t?"<i class='far fa-file-excel'></i>":"txt"==t||"rtf"==t||"dwg"==t||"odt"==t?"<i class='far fa-file-alt'></i>":"zip"==t||"7z"==t||"rar"==t?"<i class='far fa-file-archive'></i>":"png"==t||"jpeg"==t||"jpg"==t?"<i class='far fa-file-image'></i>":"eml"==t?"<i class='far fa-file'></i>":void 0}}]),t}();return t.\u0275fac=function(i){return new(i||t)(p.Y36(h.MJ),p.Y36(v.J_),p.Y36(x.g),p.Y36(E),p.Y36(f.F0),p.Y36(f.gz),p.Y36(p.sBO))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-aitisi-detail"]],outputs:{closeModal:"closeModal",listHasChanged:"listHasChanged"},decls:26,vars:29,consts:[[3,"condition","customClass"],["class","form bg-white",4,"ngIf"],[1,"bg-white","mt-4"],[1,"mb-2"],["class","comments-wrapper w-100",4,"ngIf"],["type","button",1,"btn","btn-primary","mt-3",3,"click"],["aria-hidden","true",1,"far","fa-comment-alt"],["appendTo","body","modal","true",3,"header","visible","draggable","closable","resizable","visibleChange"],[1,"form-group"],[1,"text-uppercase","font-weight-bold"],["name","sxolioPoliti","rows","4",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["aria-hidden","true",1,"far","fa-save","fa-fw"],[1,"form","bg-white"],["mAitisiForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6"],[1,"mb-1"],["class","mb-1",4,"ngIf"],["class","form-group col-12",4,"ngIf"],["class","col-12",4,"ngIf"],["class","col-12 mt-2 d-flex flex-wrap",4,"ngIf"],[1,"form-group","col-12"],[3,"innerHtml"],[1,"col-12"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords","styleClass"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","footer"],[1,"d-flex","align-items-center","justify-content-between"],[1,"p-column-title"],["class","m-0 ml-2 btn btn-primary",3,"click",4,"ngIf"],["id","files-td"],[3,"class",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"m-0","ml-2","btn","btn-primary",3,"click"],[1,"fas","fa-file-download"],[1,"mr-2"],[1,"d-flex"],[1,"m-0","mr-2","btn","btn-primary",3,"click"],["aria-label","\u039a\u03b1\u03c4\u03ad\u03b2\u03b1\u03c3\u03bc\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03bf\u03c5",1,"fas","fa-file-download"],[1,"custom-file-delete","btn","btn-danger","m-0",3,"click"],["aria-label","\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae \u03b1\u03c1\u03c7\u03b5\u03af\u03bf\u03c5",1,"far","fa-trash-alt"],[1,"p-2","text-center"],[1,"download","btn","btn-success","m-0","w-100",3,"for"],["aria-hidden","true",1,"fas","fa-file-upload"],["type","file","multiple","",1,"file-upload",3,"name","id","change"],["colspan","2"],[1,"col-12","mt-2","d-flex","flex-wrap"],["class","alert alert-warning w-100",4,"ngIf"],["class","btn btn-primary mr-1","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-undo"],[1,"alert","alert-warning","w-100"],["type","button",1,"btn","btn-primary","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-paper-plane"],[1,"comments-wrapper","w-100"],[2,"font-size","14px"],[1,"font-weight-bold"],[1,"fas","fa-circle","mx-1",2,"font-size","5px"],[1,"comemnt-content","mt-1"],[1,"btn","btn-danger","m-0","px-2","py-1",3,"click"],[1,"far","fa-trash-alt"]],template:function(t,i){1&t&&(p._UZ(0,"lib-egr-loading",0),p.YNc(1,Ut,41,34,"form",1),p.TgZ(2,"div",2),p.TgZ(3,"h4",3),p._uU(4),p.ALo(5,"translate"),p.qZA(),p._UZ(6,"hr"),p._UZ(7,"lib-egr-loading",0),p.YNc(8,St,2,1,"div",4),p.TgZ(9,"button",5),p.NdJ("click",function(){return i.commentModalOpen=!0}),p._UZ(10,"span",6),p._uU(11),p.ALo(12,"translate"),p.qZA(),p.qZA(),p.TgZ(13,"p-dialog",7),p.NdJ("visibleChange",function(t){return i.commentModalOpen=t}),p.ALo(14,"translate"),p.TgZ(15,"div",8),p.TgZ(16,"label",9),p._uU(17),p.ALo(18,"translate"),p.qZA(),p.TgZ(19,"textarea",10),p.NdJ("ngModelChange",function(t){return i.toCreateComment.Keimeno=t}),p.ALo(20,"translate"),p._uU(21,"\t\t"),p.qZA(),p.TgZ(22,"button",5),p.NdJ("click",function(){return i.onCreateComment()}),p._UZ(23,"span",11),p._uU(24),p.ALo(25,"translate"),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.Q6J("condition",!i.model||i.isLoading)("customClass","egr-load-small"),p.xp6(1),p.Q6J("ngIf",i.model&&!i.isLoading),p.xp6(3),p.Oqu(p.lcZ(5,17,i.translation.shde.comments)),p.xp6(3),p.Q6J("condition",i.isCommentsLoading)("customClass","egr-load-small"),p.xp6(1),p.Q6J("ngIf",i.comments&&!i.isCommentsLoading),p.xp6(3),p.hij(" ",p.lcZ(12,19,i.translation.shde.addCmment),""),p.xp6(2),p.Q6J("header",p.lcZ(14,21,i.translation.shde.addCmment))("visible",i.commentModalOpen)("draggable",!1)("closable",!0)("resizable",!0),p.xp6(4),p.Oqu(p.lcZ(18,23,i.translation.shde.comments)),p.xp6(2),p.Q6J("placeholder",p.lcZ(20,25,i.translation.shde.comments))("ngModel",i.toCreateComment.Keimeno),p.xp6(5),p.hij(" ",p.lcZ(25,27,i.translation.egwebapps.egrSubmit)," "))},directives:[h.IE,y.O5,lt.V,M.Fj,M.JJ,M.On,M._Y,M.JL,M.F,N.iA,P.jx,y.sg],pipes:[l.X$,y.uU],encapsulation:2,changeDetection:0}),t}()}]}],Et=function(){var t=s(function t(){a(this,t)});return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[f.Bz.forChild(Ot)],f.Bz]}),t}(),Mt=function(){var t=s(function t(){a(this,t)});return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[E,{provide:c.TP,useClass:g,multi:!0}],imports:[[Et,d.m,u.IJ,l.aw.forChild()]]}),t}()}}])}();