function _createForOfIteratorHelper(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,a=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){a=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(a)throw o}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,n=_getPrototypeOf(e);if(t){var s=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"04IN":function(e,t,i){"use strict";i.r(t),t.default='<div *ngIf="tabMsg"\r\n\t  class="tab-msg"\r\n\t  [innerHTML]="tabMsg | decodeHtmlString"></div>\r\n<lib-kliseis-ng></lib-kliseis-ng>\r\n'},UGYw:function(e,t,i){"use strict";i.r(t),i.d(t,"KliseisModule",(function(){return ei})),i.d(t,"PublicLibLoader",(function(){return ti}));var n=i("fXoL"),s=i("mrSG"),o=i("tk/3"),r=i("LRne"),a=i("2Vo4"),c=i("XNiG"),d=i("lJxs"),l=i("JIr8"),u=i("eIep"),p=i("1G5W"),h=i("5eHb"),f=i("tyNb"),m=i("3Pt+"),g=i("ofXK"),y=i("3u8h"),b=i("9nqD"),v=i("eO1q"),k=i("Ji6n"),S=i("rEr+"),U=i("dPl2"),C=i("zazq"),I=i("7zfz");function O(e,t){1&e&&(n.Tc(0),n.Qc(1,"app-kliseis-unauthorized-pay"),n.Sc())}function P(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",8),n.Vc(1,"button",9),n.hd("click",(function(){return n.Id(i),n.jd(2).onAddKlisiClicked()})),n.Qc(2,"i",10),n.Sd(3," \u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u039d\u03ad\u03b1\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2 "),n.Uc(),n.Uc()}}function _(e,t){if(1&e){var i=n.Wc();n.Vc(0,"app-kliseis-receipts",11),n.hd("changeTabIndex",(function(){return n.Id(i),n.jd(2).index=1})),n.Uc()}}function j(e,t){if(1&e){var i=n.Wc();n.Tc(0),n.Qd(1,P,4,0,"div",2),n.Vc(2,"p-tabView",3),n.hd("onChange",(function(e){return n.Id(i),n.jd().onTabChanged(e)})),n.Vc(3,"p-tabPanel",4),n.Qc(4,"app-kliseis-debits",5),n.Uc(),n.Vc(5,"p-tabPanel",6),n.Qd(6,_,1,0,"ng-template",7),n.Uc(),n.Uc(),n.Sc()}if(2&e){var s=n.jd();n.Bc(1),n.sd("ngIf",s.onlinePaymentsSettingsCompany&&"1"==s.onlinePaymentsSettingsCompany),n.Bc(1),n.sd("activeIndex",s.index),n.Bc(2),n.sd("isDataChanged",s.isDataChanged)("userInfo",s.userInfo)("errorMessageProfile",s.errorMessageProfile)("assetsUrl",s.assetsUrl)("onlinePaymentsSettingsCompany",s.onlinePaymentsSettingsCompany)("relatedCallbackUrl",s.returnUrl)}}function M(e,t){if(1&e){var i=n.Wc();n.Tc(0),n.Vc(1,"div",12),n.Vc(2,"lib-kliseis-add-new",13),n.hd("klisiAdded",(function(e){return n.Id(i),n.jd()._klisiAdded(e)})),n.Uc(),n.Uc(),n.Sc()}if(2&e){var s=n.jd();n.Bc(2),n.sd("userInfo",s.userInfo)("isLoadingPaymentRequest",s.isLoadingPaymentRequest)("relatedCallbackUrl",s.returnUrl)}}var w=["f"];function V(e,t){1&e&&(n.Vc(0,"div",2),n.Vc(1,"span",3),n.Qc(2,"i",4),n.Uc(),n.Uc())}function E(e,t){1&e&&(n.Vc(0,"span"),n.Sd(1,"*"),n.Uc())}function R(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",7),n.Vc(1,"div",29),n.Vc(2,"span",30),n.Qc(3,"i",31),n.Sd(4," \u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03bc\u03b7 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1\u03c2 \u03c3\u03c5\u03bc\u03c0\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7\u03c2 \u03b1\u03ba\u03c1\u03b9\u03b2\u03bf\u03cd\u03c2 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1\u03c2 & \u03ce\u03c1\u03b1\u03c2 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03c4\u03b5 \u03c4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2."),n.Uc(),n.Vc(5,"label"),n.Sd(6,"\u0388\u03c4\u03bf\u03c2"),n.Uc(),n.Vc(7,"input",32,33),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(2).etosKlisis=e})),n.Uc(),n.Vc(9,"div",14),n.Sd(10),n.Uc(),n.Uc(),n.Uc()}if(2&e){var s=n.Gd(8),o=n.jd(2);n.Bc(7),n.sd("ngModel",o.etosKlisis)("readonly",o.model.hmerominiaEkdosis||o.response),n.Bc(2),n.sd("hidden",!o.isFormSubmitted||!o.etosKlisis||o.isFormSubmitted&&o.etosKlisis&&s.valid),n.Bc(1),n.Ud(" \u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 \u03a7\u03a7\u03a7\u03a7 \u03cc\u03c0\u03bf\u03c5 \u03a7 \u03bc\u03cc\u03bd\u03bf \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bc\u03b9\u03ba\u03c1\u03cc\u03c4\u03b5\u03c1\u03bf \u03ae \u03af\u03c3\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf ",o.thisYear,". ")}}function x(e,t){1&e&&(n.Vc(0,"p",34),n.Qc(1,"i",35),n.Sd(2," \u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03b3\u03ba\u03b5\u03ba\u03c1\u03b9\u03bc\u03ad\u03bd\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2."),n.Uc())}function B(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",40),n.Vc(1,"label"),n.Sd(2,"Email*"),n.Uc(),n.Vc(3,"input",41,42),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(4).model.email=e})),n.Uc(),n.Vc(5,"div",14),n.Sd(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc()}if(2&e){var s=n.Gd(4),o=n.jd(4);n.sd("ngClass",o.response.hasTilefono?"col-md-12":"col-md-8"),n.Bc(3),n.sd("ngModel",o.model.email)("readonly",o.response.hasEmail&&o.model.email),n.Bc(2),n.sd("hidden",!o.isFormSubmitted||o.isFormSubmitted&&s.valid)}}function A(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",40),n.Vc(1,"label"),n.Sd(2,"\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb.*"),n.Uc(),n.Vc(3,"input",43,44),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(4).model.tilefono=e})),n.Uc(),n.Vc(5,"div",14),n.Sd(6," *\u03a4\u03bf \u03ba\u03b9\u03bd\u03b7\u03c4\u03cc \u03c4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03ad\u03c7\u03b5\u03b9 10 \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 69\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7. "),n.Uc(),n.Uc()}if(2&e){var s=n.Gd(4),o=n.jd(4);n.sd("ngClass",o.response.hasEmail?"col-md-12":"col-md-4"),n.Bc(3),n.sd("ngModel",o.model.tilefono)("readonly",o.response.hasTilefono&&o.model.tilefono),n.Bc(2),n.sd("hidden",!o.isFormSubmitted||o.isFormSubmitted&&s.valid)}}function D(e,t){if(1&e&&(n.Vc(0,"div",7),n.Qd(1,B,7,4,"div",39),n.Qd(2,A,7,4,"div",39),n.Uc()),2&e){var i=n.jd(3);n.Bc(1),n.sd("ngIf",!i.response.hasEmail),n.Bc(1),n.sd("ngIf",!i.response.hasTilefono)}}function F(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",7),n.Vc(1,"div",45),n.Vc(2,"label"),n.Sd(3,"\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7*"),n.Uc(),n.Vc(4,"input",46,47),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(3).model.address=e})),n.Uc(),n.Vc(6,"div",14),n.Sd(7," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Vc(8,"div",48),n.Vc(9,"label"),n.Sd(10,"\u03a4.\u039a.*"),n.Uc(),n.Vc(11,"input",49,50),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(3).model.tk=e})),n.Uc(),n.Vc(13,"div",14),n.Sd(14," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Uc()}if(2&e){var s=n.Gd(5),o=n.Gd(12),r=n.jd(3);n.Bc(4),n.sd("ngModel",r.model.address)("readonly",r.response.hasDieuthinsi&&r.model.address),n.Bc(2),n.sd("hidden",!r.isFormSubmitted||r.isFormSubmitted&&s.valid),n.Bc(5),n.sd("ngModel",r.model.tk)("readonly",r.response.hasDieuthinsi&&r.model.tk),n.Bc(2),n.sd("hidden",!r.isFormSubmitted||r.isFormSubmitted&&o.valid)}}function K(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",7),n.Vc(1,"div",29),n.Vc(2,"label"),n.Sd(3,"\u03a0\u03cc\u03bb\u03b7*"),n.Uc(),n.Vc(4,"input",51,52),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(3).model.poli=e})),n.Uc(),n.Vc(6,"div",14),n.Sd(7," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Uc()}if(2&e){var s=n.Gd(5),o=n.jd(3);n.Bc(4),n.sd("ngModel",o.model.poli)("readonly",o.response.hasDieuthinsi&&o.model.poli),n.Bc(2),n.sd("hidden",!o.isFormSubmitted||o.isFormSubmitted&&s.valid)}}function Q(e,t){if(1&e){var i=n.Wc();n.Tc(0),n.Vc(1,"div",7),n.Vc(2,"div",36),n.Vc(3,"label"),n.Sd(4,"\u03a0\u03bf\u03c3\u03cc*"),n.Uc(),n.Vc(5,"input",37,38),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(2).model.poso=e})),n.Uc(),n.Vc(7,"div",14),n.Sd(8," *\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03bc\u03b5 \u03bc\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03cc \u03c0\u03bf\u03c3\u03cc. "),n.Uc(),n.Uc(),n.Uc(),n.Qd(9,D,3,2,"div",20),n.Qd(10,F,15,6,"div",20),n.Qd(11,K,8,3,"div",20),n.Sc()}if(2&e){var s=n.jd(2);n.Bc(5),n.sd("ngModel",s.model.poso)("readonly",0!=s.response.klisiId),n.Bc(2),n.sd("hidden",!s.isFormSubmitted||s.isFormSubmitted&&s.model.poso&&s.model.poso>0),n.Bc(2),n.sd("ngIf",!s.response.hasEmail||s.response.hasTilefono),n.Bc(1),n.sd("ngIf",!s.response.hasDieuthinsi),n.Bc(1),n.sd("ngIf",!s.response.hasDieuthinsi)}}function T(e,t){if(1&e){var i=n.Wc();n.Vc(0,"button",53),n.hd("click",(function(){return n.Id(i),n.jd(2).onAnazitisi()})),n.Qc(1,"i",54),n.Sd(2," \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7"),n.Uc()}}function q(e,t){if(1&e){var i=n.Wc();n.Vc(0,"button",53),n.hd("click",(function(){return n.Id(i),n.jd(2).onPliromiClicked()})),n.Qc(1,"i",55),n.Sd(2," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae"),n.Uc()}}function L(e,t){if(1&e&&n.Qc(0,"div",56),2&e){var i=n.jd(2);n.sd("innerHTML",i.formErrorsMsg,n.Jd)}}function N(e,t){1&e&&(n.Vc(0,"div",57),n.Vc(1,"span",3),n.Qc(2,"i",58),n.Uc(),n.Uc())}function z(e,t){if(1&e&&n.Qc(0,"div",56),2&e){var i=n.jd(2);n.sd("innerHTML",i.response.messageResponse,n.Jd)}}function W(e,t){1&e&&(n.Vc(0,"div",59),n.Sd(1," \u0397 \u03b1\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7 \u03c4\u03b7\u03c2 \u03b1\u03af\u03c4\u03b7\u03c3\u03b7\u03c2 \u03b1\u03c0\u03ad\u03c4\u03c5\u03c7\u03b5."),n.Uc())}var G=function(){return{width:"100%"}};function $(e,t){if(1&e){var i=n.Wc();n.Vc(0,"form",5,6),n.Vc(2,"div",7),n.Vc(3,"div",8),n.Vc(4,"p-checkbox",9,10),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().model.isForeign=e})),n.Uc(),n.Uc(),n.Uc(),n.Vc(6,"div",7),n.Vc(7,"div",11),n.Vc(8,"label"),n.Sd(9,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2*"),n.Uc(),n.Vc(10,"input",12,13),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().model.arithmosKlisis=e})),n.Uc(),n.Vc(12,"div",14),n.Sd(13," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03ad\u03c0\u03bf\u03bd\u03c4\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03bc\u03ad\u03c7\u03c1\u03b9 12 \u03b1\u03c1\u03b9\u03b8\u03bc\u03bf\u03af. "),n.Uc(),n.Uc(),n.Vc(14,"div",11),n.Vc(15,"label"),n.Sd(16,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2*"),n.Uc(),n.Vc(17,"input",15,16),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().model.arithmosKikloforias=e})),n.Uc(),n.Vc(19,"div",14),n.Sd(20," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Uc(),n.Vc(21,"div",7),n.Vc(22,"div",11),n.Vc(23,"label"),n.Sd(24,"\u0397\u03bc. \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2"),n.Qd(25,E,2,0,"span",17),n.Uc(),n.Vc(26,"p-calendar",18),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().model.hmerominiaEkdosis=e})),n.Uc(),n.Uc(),n.Vc(27,"div",11),n.Vc(28,"label"),n.Sd(29,"\u038f\u03c1\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2"),n.Uc(),n.Vc(30,"p-calendar",19),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().model.oraEkdosis=e})),n.Uc(),n.Uc(),n.Uc(),n.Qd(31,R,11,4,"div",20),n.Qd(32,x,3,0,"p",21),n.Qd(33,Q,12,6,"ng-container",17),n.Vc(34,"div",22),n.Qd(35,T,3,0,"button",23),n.Qd(36,q,3,0,"button",23),n.Vc(37,"button",24),n.hd("click",(function(){return n.Id(i),n.jd().onCancelKlisiClicked()})),n.Qc(38,"i",25),n.Sd(39," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7"),n.Uc(),n.Uc(),n.Qd(40,L,1,1,"div",26),n.Qd(41,N,3,0,"div",27),n.Qd(42,z,1,1,"div",26),n.Qd(43,W,2,0,"div",28),n.Uc()}if(2&e){var s=n.Gd(11),o=n.Gd(18),r=n.jd();n.Bc(4),n.sd("ngModel",r.model.isForeign)("readonly",r.response),n.Bc(6),n.sd("ngModel",r.model.arithmosKlisis)("readonly",r.response),n.Bc(2),n.sd("hidden",!r.isFormSubmitted||r.isFormSubmitted&&s.valid),n.Bc(5),n.sd("ngModel",r.model.arithmosKikloforias)("readonly",r.response),n.Bc(2),n.sd("hidden",!r.isFormSubmitted||r.isFormSubmitted&&o.valid),n.Bc(6),n.sd("ngIf",!r.showEtos||"False"==r.showEtos),n.Bc(1),n.Od(n.xd(38,G)),n.sd("locale",r.locale)("maxDate",r.today)("monthNavigator",!0)("yearNavigator",!0)("yearRange",r.yearRange)("showIcon",!0)("showButtonBar",!0)("showTime",!1)("ngModel",r.model.hmerominiaEkdosis)("required",!r.showEtos||"False"==r.showEtos)("disabled",r.etosKlisis&&""!=r.etosKlisis||r.response||r.isFormSubmitted),n.Bc(4),n.Od(n.xd(39,G)),n.sd("locale",r.locale)("timeOnly",!0)("showIcon",!0)("ngModel",r.model.oraEkdosis)("disabled",r.etosKlisis&&""!=r.etosKlisis||r.response||r.isFormSubmitted),n.Bc(1),n.sd("ngIf",r.showEtos&&"True"==r.showEtos),n.Bc(1),n.sd("ngIf",!r.allowsPayment),n.Bc(1),n.sd("ngIf",r.response&&r.response.canPay&&r.allowsPayment),n.Bc(2),n.sd("ngIf",!r.isFormSubmitted||!r.response),n.Bc(1),n.sd("ngIf",r.isFormSubmitted&&r.response&&r.response.canPay&&r.allowsPayment),n.Bc(4),n.sd("ngIf",r.formErrorsMsg&&""!=r.formErrorsMsg),n.Bc(1),n.sd("ngIf",r.isLoadingResponse||r.isLoadingPaymentRequest),n.Bc(1),n.sd("ngIf",r.response&&!r.isLoadingResponse&&r.response.messageResponse&&""!=r.response.messageResponse),n.Bc(1),n.sd("ngIf",r.saveFailed)}}var H=["requestBankDataForm"];function J(e,t){1&e&&(n.Vc(0,"div",12),n.Vc(1,"span",13),n.Qc(2,"i",14),n.Uc(),n.Vc(3,"span"),n.Sd(4,"\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bc\u03ad\u03bd\u03b5\u03c4\u03b5, \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03bf\u03cd\u03bc\u03b5 \u03bc\u03b5 \u03c4\u03bf \u0394\u03ae\u03bc\u03bf \u03b3\u03b9\u03b1 \u03bf\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1."),n.Uc(),n.Uc())}function Y(e,t){if(1&e&&(n.Vc(0,"div",15),n.Vc(1,"div",16),n.Sd(2),n.Uc(),n.Uc()),2&e){var i=n.jd();n.Bc(2),n.Ud(" ",i.errorMessageProfile," ")}}function X(e,t){if(1&e&&(n.Vc(0,"h5"),n.Sd(1),n.Uc()),2&e){var i=n.jd().$implicit;n.Bc(1),n.Td(i.label)}}function Z(e,t){if(1&e&&n.Qc(0,"small",24),2&e){var i=n.jd().$implicit;n.sd("innerHTML",i.description,n.Jd)}}function ee(e,t){if(1&e&&(n.Qc(0,"img",27),n.kd(1,"lowercase")),2&e){var i=t.$implicit;n.sd("src","https://egritosgroup.gr/wp-content/uploads/2020/10/"+n.ld(1,2,i)+".jpg",n.Kd)("alt",i)}}function te(e,t){if(1&e&&(n.Tc(0),n.Qd(1,ee,2,4,"img",26),n.Sc()),2&e){var i=n.jd(2).$implicit;n.Bc(1),n.sd("ngForOf",i.services)}}function ie(e,t){if(1&e&&(n.Vc(0,"div",25),n.Qd(1,te,2,1,"ng-container",11),n.Uc()),2&e){var i=n.jd().$implicit;n.Bc(1),n.sd("ngIf",i.services&&i.services.length>0)}}function ne(e,t){1&e&&(n.Vc(0,"div",25),n.Qc(1,"img",28),n.Uc())}function se(e,t){if(1&e){var i=n.Wc();n.Tc(0),n.Vc(1,"div",21),n.hd("click",(function(){n.Id(i);var e=t.$implicit;return n.jd(3).btnPayClicked(e)})),n.Qd(2,X,2,1,"h5",11),n.Qd(3,Z,1,1,"small",22),n.Qd(4,ie,2,1,"div",23),n.Qd(5,ne,2,0,"div",23),n.Uc(),n.Sc()}if(2&e){var s=t.$implicit,o=n.jd(3);n.Bc(1),n.Dc("payment-method btn btn-outline-primary w-100 text-dark mb-2 d-flex align-items-center justify-content-between "+o.paymentMethodsClass),n.sd("id",s.key),n.Bc(1),n.sd("ngIf",s.label),n.Bc(1),n.sd("ngIf",s.description),n.Bc(1),n.sd("ngIf","IRIS"!=s.key),n.Bc(1),n.sd("ngIf","IRIS"==s.key)}}function oe(e,t){if(1&e&&(n.Vc(0,"div",19),n.Qd(1,se,6,7,"ng-container",20),n.Uc()),2&e){var i=n.jd(2);n.Bc(1),n.sd("ngForOf",i.onlinePaymentSettings.paymentMethods)}}function re(e,t){1&e&&(n.Vc(0,"div",12),n.Vc(1,"span",13),n.Qc(2,"i",14),n.Uc(),n.Uc())}function ae(e,t){if(1&e&&(n.Vc(0,"div",17),n.Qd(1,oe,2,1,"div",18),n.Qd(2,re,3,0,"div",0),n.Uc()),2&e){var i=n.jd();n.Bc(1),n.sd("ngIf",i.onlinePaymentSettings),n.Bc(1),n.sd("ngIf",!i.onlinePaymentSettings)}}function ce(e,t){if(1&e&&n.Qc(0,"div",40),2&e){var i=n.jd(2);n.sd("innerHTML",i.formErrorsMsg,n.Jd)}}function de(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",3),n.Vc(1,"form",29,30),n.Vc(3,"div",31),n.Vc(4,"div",32),n.Vc(5,"label",33),n.Sd(6,"\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2*"),n.Uc(),n.Vc(7,"input",34),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().paymentRequestDto.cardholderName=e})),n.Uc(),n.Vc(8,"div",35),n.Sd(9," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Uc(),n.Vc(10,"div",36),n.Vc(11,"button",37),n.hd("click",(function(){return n.Id(i),n.jd()._submitPaymentRequest()})),n.Qc(12,"i",38),n.Sd(13," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),n.Uc(),n.Uc(),n.Qd(14,ce,1,1,"div",39),n.Uc(),n.Uc()}if(2&e){var s=n.jd();n.Bc(7),n.sd("ngModel",s.paymentRequestDto.cardholderName),n.Bc(1),n.sd("hidden",!s.isFormSubmitted||s.isFormSubmitted&&s.paymentRequestDto.cardholderName),n.Bc(6),n.sd("ngIf",s.formErrorsMsg&&""!=s.formErrorsMsg)}}function le(e,t){if(1&e&&(n.Tc(0),n.Qc(1,"input",44),n.Sc()),2&e){var i=t.$implicit;n.Bc(1),n.td("name",i.key),n.td("value",i.value)}}function ue(e,t){if(1&e&&(n.Tc(0),n.Qd(1,le,2,2,"ng-container",20),n.kd(2,"keyvalue"),n.Qc(3,"input",43),n.Sc()),2&e){var i=n.jd(2);n.Bc(1),n.sd("ngForOf",n.ld(2,2,i.paymentResponseDto.postFields)),n.Bc(2),n.td("value",i.everypayToken)}}function pe(e,t){if(1&e&&(n.Vc(0,"form",41),n.Qd(1,ue,4,4,"ng-container",11),n.Qc(2,"div",42),n.Uc()),2&e){var i=n.jd();n.td("action",null==i.paymentResponseDto?null:i.paymentResponseDto.postUrl,n.Kd),n.Bc(1),n.sd("ngIf",i.paymentResponseDto)}}function he(e,t){if(1&e&&n.Qc(0,"form",45),2&e){var i=n.jd();n.td("action",null==i.paymentResponseDto?null:i.paymentResponseDto.postUrl,n.Kd)}}function fe(e,t){if(1&e&&(n.Vc(0,"div"),n.Qc(1,"input",46),n.Uc()),2&e){var i=t.$implicit;n.Bc(1),n.td("name",i.key),n.td("value",i.value)}}function me(e,t){if(1&e&&(n.Tc(0),n.Qd(1,fe,2,2,"div",20),n.Sc()),2&e){var i=n.jd();n.Bc(1),n.sd("ngForOf",i.paymentResponseDto.postFields)}}function ge(e,t){1&e&&(n.Vc(0,"div",4),n.Vc(1,"span",5),n.Qc(2,"i",6),n.Uc(),n.Uc())}function ye(e,t){1&e&&(n.Vc(0,"div",7),n.Qc(1,"span",8),n.Sd(2," \u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2.\n"),n.Uc())}function be(e,t){if(1&e&&(n.Vc(0,"div",7),n.Qc(1,"span",8),n.Sd(2),n.Uc()),2&e){var i=n.jd();n.Bc(2),n.Ud(" ",i.errorMsg,"\n")}}function ve(e,t){if(1&e&&(n.Vc(0,"div",7),n.Sd(1),n.Uc()),2&e){var i=n.jd(2);n.Bc(1),n.Ud(" ",i.errorMessageProfile," ")}}function ke(e,t){1&e&&n.Rc(0)}function Se(e,t){if(1&e&&(n.Tc(0),n.Qd(1,ke,1,0,"ng-container",20),n.Sc()),2&e){n.jd(2);var i=n.Gd(5);n.Bc(1),n.sd("ngTemplateOutlet",i)}}function Ue(e,t){if(1&e){var i=n.Wc();n.Vc(0,"tr"),n.Vc(1,"th",21),n.Vc(2,"p-checkbox",22),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(2).checkAll=e}))("onChange",(function(){return n.Id(i),n.jd(2).onCheckAllKliseisClicked()})),n.Uc(),n.Uc(),n.Vc(3,"th",23),n.Sd(4,"\xa0"),n.Uc(),n.Vc(5,"th",24),n.Sd(6,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.Uc(),n.Vc(7,"th",25),n.Sd(8,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),n.Uc(),n.Vc(9,"th",24),n.Sd(10,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),n.Uc(),n.Vc(11,"th",26),n.Sd(12,"\u038c\u03c7\u03b7\u03bc\u03b1"),n.Uc(),n.Vc(13,"th",25),n.Sd(14,"\u03a0\u03bf\u03c3\u03cc \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.Uc(),n.Vc(15,"th",25),n.Sd(16,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2*"),n.Uc(),n.Vc(17,"th",24),n.Sd(18,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2"),n.Uc(),n.Uc()}if(2&e){var s=n.jd(2);n.Bc(2),n.sd("binary",!0)("ngModel",s.checkAll)("disabled",!s.checkAllEnabled)}}function Ce(e,t){if(1&e){var i=n.Wc();n.Vc(0,"tr",28),n.Vc(1,"td",33),n.Vc(2,"span",30),n.Sd(3,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),n.Uc(),n.Vc(4,"p-checkbox",22),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().$implicit.isChecked=e}))("onChange",(function(){n.Id(i);var e=n.jd().$implicit;return n.jd(2).onCheckKlisiClicked(e)})),n.Uc(),n.Uc(),n.Qc(5,"td",34),n.Uc()}if(2&e){var s=n.jd().$implicit;n.sd("ngClass",s.canPay&&s.canCheck?"":"disabled-row"),n.Bc(4),n.sd("binary",!0)("ngModel",s.isChecked)("disabled",!s.canPay||!s.canCheck),n.Bc(1),n.sd("innerHtml",s.cannotPayReason,n.Jd)}}function Ie(e,t){if(1&e){var i=n.Wc();n.Vc(0,"td",21),n.Vc(1,"span",30),n.Sd(2,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),n.Uc(),n.Vc(3,"p-checkbox",22),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().$implicit.isChecked=e}))("onChange",(function(){n.Id(i);var e=n.jd().$implicit;return n.jd(2).onCheckKlisiClicked(e)})),n.Uc(),n.Uc()}if(2&e){var s=n.jd().$implicit;n.Bc(3),n.sd("binary",!0)("ngModel",s.isChecked)("disabled",!s.canPay||!s.canCheck)}}function Oe(e,t){1&e&&(n.Vc(0,"span"),n.Qc(1,"span",35),n.Uc())}function Pe(e,t){1&e&&(n.Vc(0,"span"),n.Qc(1,"span",36),n.Uc())}function _e(e,t){if(1&e&&(n.Vc(0,"span",37),n.Vc(1,"strong"),n.Sd(2,"\u0395\u03af\u03b4\u03bf\u03c2: "),n.Uc(),n.Sd(3),n.Uc()),2&e){var i=n.jd().$implicit;n.Bc(3),n.Td(i.eidosOximatos)}}function je(e,t){if(1&e&&(n.Vc(0,"span",37),n.Vc(1,"strong"),n.Sd(2,"\u039c\u03ac\u03c1\u03ba\u03b1: "),n.Uc(),n.Sd(3),n.Uc()),2&e){var i=n.jd().$implicit;n.Bc(3),n.Td(i.markaOximatos)}}function Me(e,t){if(1&e&&(n.Vc(0,"span",37),n.Vc(1,"strong"),n.Sd(2,"\u03a7\u03c1\u03ce\u03bc\u03b1: "),n.Uc(),n.Sd(3),n.Uc()),2&e){var i=n.jd().$implicit;n.Bc(3),n.Td(i.xromaOximatos)}}function we(e,t){if(1&e&&(n.Qd(0,Ce,6,5,"tr",27),n.Vc(1,"tr",28),n.Qd(2,Ie,4,3,"td",29),n.Vc(3,"td",21),n.Vc(4,"span",30),n.Sd(5,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7"),n.Uc(),n.Qd(6,Oe,2,0,"span",2),n.Qd(7,Pe,2,0,"span",2),n.Uc(),n.Vc(8,"td",24),n.Vc(9,"span",30),n.Sd(10,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.Uc(),n.Sd(11),n.Uc(),n.Vc(12,"td",25),n.Vc(13,"span",30),n.Sd(14,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),n.Uc(),n.Sd(15),n.kd(16,"date"),n.Uc(),n.Vc(17,"td",24),n.Vc(18,"span",30),n.Sd(19,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),n.Uc(),n.Sd(20),n.Uc(),n.Vc(21,"td",26),n.Vc(22,"span",30),n.Sd(23,"\u038c\u03c7\u03b7\u03bc\u03b1"),n.Uc(),n.Qd(24,_e,4,1,"span",31),n.Qd(25,je,4,1,"span",31),n.Qd(26,Me,4,1,"span",31),n.Uc(),n.Vc(27,"td",32),n.Vc(28,"span",30),n.Sd(29,"\u03a0\u03bf\u03c3\u03cc \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.Uc(),n.Sd(30),n.kd(31,"currency"),n.Uc(),n.Vc(32,"td",32),n.Vc(33,"span",30),n.Sd(34,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2*"),n.Uc(),n.Sd(35),n.kd(36,"currency"),n.Uc(),n.Vc(37,"td",24),n.Vc(38,"span",30),n.Sd(39,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2"),n.Uc(),n.Sd(40),n.Uc(),n.Uc()),2&e){var i=t.$implicit;n.sd("ngIf",i.cannotPayReason&&""!=i.cannotPayReason),n.Bc(1),n.sd("ngClass",i.canPay&&i.canCheck?"":"disabled-row"),n.Bc(1),n.sd("ngIf",!i.cannotPayReason||""==i.cannotPayReason),n.Bc(4),n.sd("ngIf",i.statusId&&1==i.statusId),n.Bc(1),n.sd("ngIf",i.statusId&&5==i.statusId),n.Bc(4),n.Ud(" ",i.arithmosKlisis," "),n.Bc(4),n.Vd(" ",n.md(16,15,i.hmerominiaEkdosis,"dd/MM/yyyy")," ",i.oraEkdosis&&i.hmerominiaEkdosis?"- "+i.oraEkdosis:i.oraEkdosis," "),n.Bc(5),n.Ud(" ",i.arithmosKikloforias," "),n.Bc(4),n.sd("ngIf",i.eidosOximatos),n.Bc(1),n.sd("ngIf",i.markaOximatos),n.Bc(1),n.sd("ngIf",i.xromaOximatos),n.Bc(4),n.Ud(" ",n.od(31,18,i.pliroteoPoso,"EUR","symbol","1.2-2")," "),n.Bc(5),n.Ud(" ",n.od(36,23,i.ofeilisPoso,"EUR","symbol","1.2-2")," "),n.Bc(5),n.Ud(" ",i.stoixeiaBebaiosis," ")}}var Ve=function(e){return[e,"EUR","symbol","1.2-2","el"]};function Ee(e,t){if(1&e&&(n.Vc(0,"tr"),n.Vc(1,"td",38),n.Vc(2,"strong"),n.Sd(3),n.Uc(),n.Uc(),n.Vc(4,"td",39),n.Vc(5,"strong"),n.Sd(6),n.kd(7,"currency"),n.Uc(),n.Uc(),n.Vc(8,"td",39),n.Vc(9,"strong"),n.Sd(10),n.kd(11,"currency"),n.Uc(),n.Uc(),n.Qc(12,"td",24),n.Uc()),2&e){var i=n.jd(2);n.Bc(3),n.Ud("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2: ",i.model.length,""),n.Bc(3),n.Td(n.pd(7,3,n.yd(15,Ve,i.sumPosoKlisis))),n.Bc(4),n.Td(n.pd(11,9,n.yd(17,Ve,i.sumPliroteoPoso)))}}function Re(e,t){1&e&&n.Rc(0)}function xe(e,t){if(1&e&&(n.Tc(0),n.Qd(1,Re,1,0,"ng-container",20),n.Sc()),2&e){n.jd(2);var i=n.Gd(5);n.Bc(1),n.sd("ngTemplateOutlet",i)}}function Be(e,t){if(1&e){var i=n.Wc();n.Vc(0,"app-payment-methods",40),n.hd("createRequest",(function(){return n.Id(i),n.jd(2)._payActions()}))("loadingSimplifyModal",(function(e){return n.Id(i),n.jd(2).isLoadingSimplifyModalChanged(e)})),n.Uc()}if(2&e){var s=n.jd(2);n.sd("assetsUrl",s.assetsUrl)("user",s.userInfo)("isLoadingPaymentResponse",s.isLoadingPaymentResponse)}}function Ae(e,t){if(1&e&&(n.Tc(0),n.Qd(1,ve,2,1,"div",1),n.Vc(2,"div",9),n.Qc(3,"span",8),n.Sd(4," \u0398\u03b1 \u03b8\u03ad\u03bb\u03b1\u03bc\u03b5 \u03bd\u03b1 \u03c3\u03b1\u03c2 \u03b5\u03bd\u03b7\u03bc\u03b5\u03c1\u03ce\u03c3\u03bf\u03c5\u03bc\u03b5 \u03c0\u03c9\u03c2 \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03b5\u03be\u03bf\u03c6\u03bb\u03ae\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1\u03c5\u03c4\u03cc\u03c7\u03c1\u03bf\u03bd\u03b1 \u03bc\u03cc\u03bd\u03bf \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c0\u03bf\u03c5 \u03ad\u03c7\u03bf\u03c5\u03bd \u03c7\u03c1\u03b5\u03c9\u03b8\u03b5\u03af \u03c3\u03c4\u03bf \u03af\u03b4\u03b9\u03bf \u0391.\u03a6.\u039c. "),n.Uc(),n.Qd(5,Se,2,1,"ng-container",2),n.Vc(6,"legend",10),n.Vc(7,"span",11),n.Qc(8,"i",12),n.Sd(9," \u0391\u03a0\u039b\u0397\u03a1\u03a9\u03a4\u0397"),n.Uc(),n.Vc(10,"span",11),n.Qc(11,"i",13),n.Sd(12," \u039a\u0391\u03a4\u0391\u03a7\u03a9\u03a1\u0397\u03a3\u0397 \u0391\u03a0\u039f WEB"),n.Uc(),n.Uc(),n.Vc(13,"p-table",14),n.Qd(14,Ue,19,3,"ng-template",15),n.Qd(15,we,41,28,"ng-template",16),n.Qd(16,Ee,13,19,"ng-template",17),n.Uc(),n.Vc(17,"p",18),n.Vc(18,"small"),n.Vc(19,"em"),n.Sd(20,"* \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u03a0\u03c1\u03bf\u03c3\u03b1\u03c5\u03be\u03ae\u03c3\u03b5\u03b9\u03c2 \u03ba\u03b1\u03b9 \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u039a\u03c1\u03b1\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2"),n.Uc(),n.Uc(),n.Uc(),n.Qd(21,xe,2,1,"ng-container",2),n.Qd(22,Be,1,3,"app-payment-methods",19),n.Sc()),2&e){var i=n.jd();n.Bc(1),n.sd("ngIf",i.errorMessageProfile),n.Bc(4),n.sd("ngIf",i.checkedKliseis&&i.checkedKliseis>0),n.Bc(8),n.sd("value",i.model)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",i.model.length)("loading",i.isLoading),n.Bc(8),n.sd("ngIf",i.checkedKliseis&&i.checkedKliseis>0),n.Bc(1),n.sd("ngIf",i.initPaymentMethods)}}function De(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",41),n.Vc(1,"div"),n.Vc(2,"p"),n.Sd(3,"\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 "),n.Vc(4,"span",42),n.Sd(5),n.Uc(),n.Uc(),n.Vc(6,"p",43),n.Sd(7,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: "),n.Vc(8,"span",42),n.Sd(9),n.kd(10,"currency"),n.Uc(),n.Uc(),n.Uc(),n.Vc(11,"div",44),n.Vc(12,"button",45),n.hd("click",(function(){return n.Id(i),n.jd()._payActions()})),n.Qc(13,"i",46),n.Sd(14," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd"),n.Uc(),n.Uc(),n.Vc(15,"div",47),n.Qc(16,"img",48),n.Qc(17,"img",49),n.Qc(18,"img",50),n.Uc(),n.Uc()}if(2&e){var s=n.jd();n.Bc(5),n.Vd("",s.checkedKliseis," ",1===s.checkedKliseis?"\u03ba\u03bb\u03ae\u03c3\u03b7":"\u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2",""),n.Bc(4),n.Td(n.od(10,3,s.sumPliromis,"\u20ac","symbol","1.2"))}}function Fe(e,t){1&e&&(n.Vc(0,"div",4),n.Vc(1,"p",5),n.Sd(2,"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2."),n.Uc(),n.Uc())}function Ke(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div"),n.Vc(1,"button",6),n.hd("click",(function(){return n.Id(i),n.jd().btnBankStatusMessageClicked()})),n.Qc(2,"i",7),n.Uc(),n.Sd(3),n.Uc()}if(2&e){var s=n.jd();n.Ec("bank-msg alert w-100 mb-2 position-relative ",s.bankStatusMessageClass,""),n.Bc(3),n.Ud(" ",s.bankStatusMessage,"\n")}}function Qe(e,t){1&e&&(n.Vc(0,"div",8),n.Vc(1,"span",9),n.Qc(2,"i",10),n.Uc(),n.Uc())}function Te(e,t){1&e&&(n.Vc(0,"tr"),n.Vc(1,"th",19),n.Sd(2,"\xa0"),n.Uc(),n.Vc(3,"th",20),n.Sd(4,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.Uc(),n.Vc(5,"th",21),n.Sd(6,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),n.Uc(),n.Vc(7,"th",20),n.Sd(8,"\u039f\u03b4\u03cc\u03c2 - \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2"),n.Uc(),n.Vc(9,"th",20),n.Sd(10,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),n.Uc(),n.Vc(11,"th",21),n.Sd(12,"\u038c\u03c7\u03b7\u03bc\u03b1"),n.Uc(),n.Vc(13,"th",22),n.Sd(14,"\u03a0\u03bf\u03c3\u03cc"),n.Uc(),n.Vc(15,"th",20),n.Sd(16,"\u039f\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1"),n.Uc(),n.Uc())}function qe(e,t){1&e&&(n.Vc(0,"span"),n.Qc(1,"i",13),n.Uc())}function Le(e,t){1&e&&(n.Vc(0,"span"),n.Qc(1,"i",14),n.Uc())}function Ne(e,t){if(1&e&&(n.Vc(0,"span",27),n.Vc(1,"strong"),n.Sd(2,"\u0395\u03af\u03b4\u03bf\u03c2: "),n.Uc(),n.Sd(3),n.Uc()),2&e){var i=n.jd().$implicit;n.Bc(3),n.Td(i.eidosOximatos)}}function ze(e,t){if(1&e&&(n.Vc(0,"span",27),n.Vc(1,"strong"),n.Sd(2,"\u039c\u03ac\u03c1\u03ba\u03b1: "),n.Uc(),n.Sd(3),n.Uc()),2&e){var i=n.jd().$implicit;n.Bc(3),n.Td(i.markaOximatos)}}function We(e,t){if(1&e&&(n.Vc(0,"span",27),n.Vc(1,"strong"),n.Sd(2,"\u03a7\u03c1\u03ce\u03bc\u03b1: "),n.Uc(),n.Sd(3),n.Uc()),2&e){var i=n.jd().$implicit;n.Bc(3),n.Td(i.xromaOximatos)}}function Ge(e,t){if(1&e&&(n.Vc(0,"span"),n.Vc(1,"strong"),n.Sd(2,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2:"),n.Uc(),n.Sd(3),n.Uc()),2&e){var i=n.jd().$implicit;n.Bc(3),n.Ud(" ",i.stoixeiaBebaiosis,"")}}function $e(e,t){if(1&e&&(n.Vc(0,"span"),n.Qc(1,"br"),n.Vc(2,"strong"),n.Sd(3,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2:"),n.Uc(),n.Sd(4),n.Uc()),2&e){var i=n.jd().$implicit;n.Bc(4),n.Ud(" ",i.stoixeiaApodeiksis,"")}}function He(e,t){if(1&e&&(n.Vc(0,"tr"),n.Vc(1,"td",23),n.Vc(2,"span",24),n.Sd(3,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7"),n.Uc(),n.Qd(4,qe,2,0,"span",3),n.Qd(5,Le,2,0,"span",3),n.Uc(),n.Vc(6,"td",20),n.Vc(7,"span",24),n.Sd(8,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),n.Uc(),n.Sd(9),n.Uc(),n.Vc(10,"td",21),n.Vc(11,"span",24),n.Sd(12,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),n.Uc(),n.Sd(13),n.kd(14,"date"),n.Uc(),n.Vc(15,"td",20),n.Vc(16,"span",24),n.Sd(17,"\u039f\u03b4\u03cc\u03c2 - \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2"),n.Uc(),n.Sd(18),n.Uc(),n.Vc(19,"td",20),n.Vc(20,"span",24),n.Sd(21,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),n.Uc(),n.Sd(22),n.Uc(),n.Vc(23,"td",21),n.Vc(24,"span",24),n.Sd(25,"\u038c\u03c7\u03b7\u03bc\u03b1"),n.Uc(),n.Qd(26,Ne,4,1,"span",25),n.Qd(27,ze,4,1,"span",25),n.Qd(28,We,4,1,"span",25),n.Uc(),n.Vc(29,"td",26),n.Vc(30,"span",24),n.Sd(31,"\u03a0\u03bf\u03c3\u03cc"),n.Uc(),n.Sd(32),n.kd(33,"currency"),n.Uc(),n.Vc(34,"td",20),n.Vc(35,"span",24),n.Sd(36,"\u039f\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1"),n.Uc(),n.Qd(37,Ge,4,1,"span",3),n.Qd(38,$e,5,1,"span",3),n.Uc(),n.Uc()),2&e){var i=t.$implicit;n.Bc(4),n.sd("ngIf",i.statusId&&2==i.statusId),n.Bc(1),n.sd("ngIf",i.statusId&&6==i.statusId),n.Bc(4),n.Ud(" ",i.arithmosKlisis," "),n.Bc(4),n.Vd(" ",n.md(14,15,i.hmerominiaEkdosis,"dd/MM/yyyy")," ",i.oraEkdosis&&i.hmerominiaEkdosis?"- "+i.oraEkdosis:i.oraEkdosis," "),n.Bc(5),n.Wd(" ",i.odosPerigrafi," ",i.odosPerigrafi&&i.odosArithmos?"-":""," ",i.odosArithmos," "),n.Bc(4),n.Ud(" ",i.arithmosKikloforias," "),n.Bc(4),n.sd("ngIf",i.eidosOximatos),n.Bc(1),n.sd("ngIf",i.markaOximatos),n.Bc(1),n.sd("ngIf",i.xromaOximatos),n.Bc(4),n.Ud(" ",n.od(33,18,i.pliroteoPoso,"EUR","symbol","1.2-2")," "),n.Bc(5),n.sd("ngIf",i.stoixeiaBebaiosis),n.Bc(1),n.sd("ngIf",i.stoixeiaApodeiksis)}}function Je(e,t){if(1&e&&(n.Vc(0,"tr"),n.Vc(1,"td",28),n.Vc(2,"strong"),n.Sd(3),n.kd(4,"currency"),n.Uc(),n.Uc(),n.Uc()),2&e){var i=n.jd(2);n.Bc(3),n.Ud("\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc: ",n.pd(4,1,n.yd(7,Ve,i.sumPliroteoPoso)),"")}}function Ye(e,t){if(1&e&&(n.Tc(0),n.Vc(1,"legend",11),n.Vc(2,"span",12),n.Qc(3,"i",13),n.Sd(4," \u0395\u039e\u039f\u03a6\u039b\u0397\u03a3\u0397 \u03a3\u03a4\u039f \u0394\u0397\u039c\u039f"),n.Uc(),n.Vc(5,"span",12),n.Qc(6,"i",14),n.Sd(7," \u0395\u039e\u039f\u03a6\u039b\u0397\u03a3\u0397 WEB"),n.Uc(),n.Uc(),n.Vc(8,"p"),n.Sd(9,"\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u039a\u03bb\u03ae\u03c3\u03b5\u03c9\u03bd: "),n.Vc(10,"strong"),n.Sd(11),n.Uc(),n.Uc(),n.Vc(12,"p-table",15),n.Qd(13,Te,17,0,"ng-template",16),n.Qd(14,He,39,23,"ng-template",17),n.Qd(15,Je,5,9,"ng-template",18),n.Uc(),n.Sc()),2&e){var i=n.jd();n.Bc(11),n.Td(i.model.length),n.Bc(1),n.sd("value",i.model)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",i.model.length)}}var Xe=["klisiAnazitisi"],Ze=["klisiPayUnauthorized"];function et(e,t){if(1&e&&(n.Vc(0,"div"),n.Sd(1),n.Vc(2,"a",2),n.Qc(3,"i",3),n.Sd(4," \u0395\u03c0\u03b9\u03c3\u03c4\u03c1\u03bf\u03c6\u03ae"),n.Uc(),n.Uc()),2&e){var i=n.jd();n.Ec("bank-msg ",i.bankStatusMessageClass,""),n.Bc(1),n.Ud(" ",i.bankStatusMessage," "),n.Bc(1),n.td("href",i.callbackUrl,n.Kd)}}function tt(e,t){if(1&e&&n.Qc(0,"div",26),2&e){var i=n.jd(2);n.sd("innerHTML",i.formErrorsMsg,n.Jd)}}function it(e,t){1&e&&(n.Vc(0,"div",27),n.Vc(1,"span",28),n.Qc(2,"i",29),n.Uc(),n.Uc())}function nt(e,t){if(1&e&&(n.Vc(0,"div"),n.Sd(1),n.Uc()),2&e){var i=n.jd(3);n.Ec("alert alert-",i.requestMsgClass," text-white"),n.Bc(1),n.Ud(" ",i.requestMsg," ")}}function st(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",6),n.Vc(1,"div",16),n.Vc(2,"label"),n.Sd(3,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1*"),n.Uc(),n.Vc(4,"input",37,38),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(4).model.debtorName=e})),n.Uc(),n.Vc(6,"div",13),n.Sd(7," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Vc(8,"div",16),n.Vc(9,"label"),n.Sd(10,"\u0391.\u03a6.\u039c.*"),n.Uc(),n.Vc(11,"input",39,40),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(4).model.tin=e})),n.Uc(),n.Vc(13,"div",13),n.Sd(14," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2 \u03b1\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u0391.\u03a6.\u039c. "),n.Uc(),n.Uc(),n.Uc()}if(2&e){var s=n.Gd(5),o=n.Gd(12),r=n.jd(4);n.Bc(4),n.sd("ngModel",r.model.debtorName),n.Bc(2),n.sd("hidden",!r.isFormPaySubmitted||r.isFormPaySubmitted&&s.valid),n.Bc(5),n.sd("ngModel",r.model.tin),n.Bc(2),n.sd("hidden",!r.isFormPaySubmitted||r.isFormPaySubmitted&&o.valid)}}function ot(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",42),n.Vc(1,"label"),n.Sd(2,"Email*"),n.Uc(),n.Vc(3,"input",43,44),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(5).model.email=e})),n.Uc(),n.Vc(5,"div",13),n.Sd(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc()}if(2&e){var s=n.Gd(4),o=n.jd(5);n.sd("ngClass",o.response.hasTilefono?"col-md-12":"col-md-6"),n.Bc(3),n.sd("ngModel",o.model.email),n.Bc(2),n.sd("hidden",!o.isFormPaySubmitted||o.isFormPaySubmitted&&s.valid)}}function rt(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",42),n.Vc(1,"label"),n.Sd(2,"\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf*"),n.Uc(),n.Vc(3,"input",45,46),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(5).model.tilefono=e})),n.Uc(),n.Vc(5,"div",13),n.Sd(6," *\u03a4\u03bf \u03ba\u03b9\u03bd\u03b7\u03c4\u03cc \u03c4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03ad\u03c7\u03b5\u03b9 10 \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 69\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7. "),n.Uc(),n.Uc()}if(2&e){var s=n.Gd(4),o=n.jd(5);n.sd("ngClass",o.response.hasEmail?"col-md-12":"col-md-6"),n.Bc(3),n.sd("ngModel",o.model.tilefono),n.Bc(2),n.sd("hidden",!o.isFormPaySubmitted||o.isFormPaySubmitted&&s.valid)}}function at(e,t){if(1&e&&(n.Vc(0,"div",6),n.Qd(1,ot,7,3,"div",41),n.Qd(2,rt,7,3,"div",41),n.Uc()),2&e){var i=n.jd(4);n.Bc(1),n.sd("ngIf",!i.response.hasEmail),n.Bc(1),n.sd("ngIf",!i.response.hasTilefono)}}function ct(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",6),n.Vc(1,"div",47),n.Vc(2,"label"),n.Sd(3,"\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7*"),n.Uc(),n.Vc(4,"input",48,49),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(4).model.address=e})),n.Uc(),n.Vc(6,"div",13),n.Sd(7," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Vc(8,"div",50),n.Vc(9,"label"),n.Sd(10,"\u03a4.\u039a.*"),n.Uc(),n.Vc(11,"input",51,52),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(4).model.tk=e})),n.Uc(),n.Vc(13,"div",13),n.Sd(14," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Vc(15,"div",47),n.Vc(16,"label"),n.Sd(17,"\u03a0\u03cc\u03bb\u03b7*"),n.Uc(),n.Vc(18,"input",53,54),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(4).model.poli=e})),n.Uc(),n.Vc(20,"div",13),n.Sd(21," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Uc()}if(2&e){var s=n.Gd(5),o=n.Gd(12),r=n.Gd(19),a=n.jd(4);n.Bc(4),n.sd("ngModel",a.model.address),n.Bc(2),n.sd("hidden",!a.isFormPaySubmitted||a.isFormPaySubmitted&&s.valid),n.Bc(5),n.sd("ngModel",a.model.tk),n.Bc(2),n.sd("hidden",!a.isFormPaySubmitted||a.isFormPaySubmitted&&o.valid),n.Bc(5),n.sd("ngModel",a.model.poli),n.Bc(2),n.sd("hidden",!a.isFormPaySubmitted||a.isFormPaySubmitted&&r.valid)}}function dt(e,t){if(1&e&&n.Qc(0,"div",26),2&e){var i=n.jd(4);n.sd("innerHTML",i.formErrorsMsgPay,n.Jd)}}function lt(e,t){1&e&&(n.Vc(0,"div",55),n.Vc(1,"span",28),n.Qc(2,"i",56),n.Uc(),n.Uc())}function ut(e,t){if(1&e){var i=n.Wc();n.Vc(0,"form",31,32),n.Qd(2,st,15,4,"div",33),n.Qd(3,at,3,2,"div",33),n.Qd(4,ct,22,6,"div",33),n.Vc(5,"div",19),n.Vc(6,"button",34),n.hd("click",(function(){return n.Id(i),n.jd(3).onPayKlisiClicked()})),n.Qc(7,"i",35),n.Sd(8," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae"),n.Uc(),n.Uc(),n.Qd(9,dt,1,1,"div",24),n.Qd(10,lt,3,0,"div",36),n.Uc()}if(2&e){var s=n.jd(3);n.Bc(2),n.sd("ngIf",!s.response.hasOfeileti&&s.response.isOfeiletisPay),n.Bc(1),n.sd("ngIf",!s.response.hasEmail||!s.response.hasTilefono),n.Bc(1),n.sd("ngIf",!s.response.hasDieuthinsi),n.Bc(5),n.sd("ngIf",s.formErrorsMsgPay&&""!=s.formErrorsMsgPay),n.Bc(1),n.sd("ngIf",s.isLoadingPaymentRequest)}}function pt(e,t){if(1&e&&(n.Tc(0),n.Qd(1,nt,2,4,"div",0),n.Qd(2,ut,11,5,"form",30),n.Sc()),2&e){var i=n.jd(2);n.Bc(1),n.sd("ngIf",i.requestMsg&&""!=i.requestMsg),n.Bc(1),n.sd("ngIf",i.response.canPay)}}function ht(e,t){if(1&e){var i=n.Wc();n.Tc(0),n.Vc(1,"form",4,5),n.Vc(3,"div",6),n.Vc(4,"div",7),n.Vc(5,"p-checkbox",8,9),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().model.isForeign=e})),n.Uc(),n.Uc(),n.Vc(7,"div",10),n.Vc(8,"label"),n.Sd(9,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2*"),n.Uc(),n.Vc(10,"input",11,12),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().model.arithmosKikloforias=e})),n.Uc(),n.Vc(12,"div",13),n.Sd(13," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Uc(),n.Vc(14,"div",6),n.Vc(15,"div",10),n.Vc(16,"label"),n.Sd(17,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2*"),n.Uc(),n.Vc(18,"input",14,15),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().model.arithmosKlisis=e})),n.Uc(),n.Vc(20,"div",13),n.Sd(21," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03ad\u03c0\u03bf\u03bd\u03c4\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03bc\u03ad\u03c7\u03c1\u03b9 12 \u03b1\u03c1\u03b9\u03b8\u03bc\u03bf\u03af. "),n.Uc(),n.Uc(),n.Vc(22,"div",16),n.Vc(23,"label"),n.Sd(24,"\u0388\u03c4\u03bf\u03c2 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2*"),n.Uc(),n.Vc(25,"input",17,18),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().model.etos=e})),n.Uc(),n.Vc(27,"div",13),n.Sd(28),n.Uc(),n.Uc(),n.Uc(),n.Vc(29,"div",19),n.Vc(30,"button",20),n.hd("click",(function(){return n.Id(i),n.jd().onCheckKlisiClicked()})),n.Qc(31,"i",21),n.Sd(32," \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7"),n.Uc(),n.Vc(33,"button",22),n.hd("click",(function(){return n.Id(i),n.jd().onCancelClicked()})),n.Qc(34,"i",23),n.Sd(35," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7"),n.Uc(),n.Uc(),n.Qd(36,tt,1,1,"div",24),n.Uc(),n.Qd(37,it,3,0,"div",25),n.Qd(38,pt,3,2,"ng-container",1),n.Sc()}if(2&e){var s=n.Gd(11),o=n.Gd(19),r=n.Gd(26),a=n.jd();n.Bc(5),n.sd("ngModel",a.model.isForeign)("disabled",a.response&&a.response.canPay),n.Bc(5),n.sd("ngModel",a.model.arithmosKikloforias)("disabled",a.response&&a.response.canPay),n.Bc(2),n.sd("hidden",!a.isFormSubmitted||a.response||a.isFormSubmitted&&s.valid),n.Bc(6),n.sd("ngModel",a.model.arithmosKlisis)("disabled",a.response&&a.response.canPay),n.Bc(2),n.sd("hidden",!a.isFormSubmitted||a.response||a.isFormSubmitted&&o.valid),n.Bc(5),n.sd("ngModel",a.model.etos)("disabled",a.response&&a.response.canPay),n.Bc(2),n.sd("hidden",!a.isFormSubmitted||a.response||a.isFormSubmitted&&r.valid),n.Bc(1),n.Ud(" \u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf & \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 \u03a7\u03a7\u03a7\u03a7 \u03cc\u03c0\u03bf\u03c5 \u03a7 \u03bc\u03cc\u03bd\u03bf \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bc\u03b9\u03ba\u03c1\u03cc\u03c4\u03b5\u03c1\u03bf \u03ae \u03af\u03c3\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf ",a.thisYear,". "),n.Bc(8),n.sd("ngIf",a.formErrorsMsg&&""!=a.formErrorsMsg),n.Bc(1),n.sd("ngIf",a.isLoading),n.Bc(1),n.sd("ngIf",a.response&&!a.isLoading)}}var ft=function(){function e(t){_classCallCheck(this,e),this.toastrSrv=t}return _createClass(e,[{key:"show",value:function(e,t,i){t&&this.toastrSrv[i](t,e,{progressBar:!0,onActivateTick:!0})}},{key:"showError",value:function(e,t){this.show(e,t,"error")}},{key:"showInfo",value:function(e,t){this.show(e,t,"info")}},{key:"showSuccess",value:function(e,t){this.show(e,t,"success")}},{key:"showWarning",value:function(e,t){this.show(e,t,"warning")}}]),e}();ft.\u0275fac=function(e){return new(e||ft)(n.dd(h.b))},ft.ctorParameters=function(){return[{type:h.b}]},ft.\u0275prov=Object(n.Lc)({factory:function(){return new ft(Object(n.dd)(h.b))},token:ft,providedIn:"root"}),ft=Object(s.b)([Object(s.c)("design:paramtypes",[h.b])],ft);var mt=function e(t){var i=this;_classCallCheck(this,e),this.toasterSrv=t,this.catchBadResponse=function(e){var t="";if(e.error instanceof Error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else if(void 0!==e.error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else switch(e.status){case 403:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error "+e.status;break;case 401:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n "+e.status;break;default:t="Backend returned code ".concat(e.status,", body was: ").concat(void 0!==e.body?e.body.error:void 0!==e.message?e.message:"")}return i.toasterSrv.showError("",""+t),Object(r.a)(!1)}};mt.\u0275fac=function(e){return new(e||mt)(n.dd(ft))},mt.ctorParameters=function(){return[{type:ft}]},mt.\u0275prov=Object(n.Lc)({factory:function(){return new mt(Object(n.dd)(ft))},token:mt,providedIn:"root"}),mt=Object(s.b)([Object(s.c)("design:paramtypes",[ft])],mt);var gt=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var s;return _classCallCheck(this,i),(s=t.call(this,n,e)).exceptionSrv=e,s.http=n,s.kliseisUrl=s.baseUrl+"/KliseisWeb",s.kliseisFinanceUrl=s.baseUrl+"/Finance",s}return _createClass(i,[{key:"getKliseis",value:function(e){return this.http.get("".concat(this.kliseisUrl,"/GetKliseisWebByAfm/").concat(e)).pipe(Object(d.a)((function(e){return e})),Object(l.a)(this.exceptionSrv.catchBadResponse))}},{key:"getKliseisPayed",value:function(e){return this.http.get("".concat(this.kliseisUrl,"/GetKliseisPayedWebByAfm/").concat(e)).pipe(Object(d.a)((function(e){return e})),Object(l.a)(this.exceptionSrv.catchBadResponse))}},{key:"getKlisiById",value:function(e){return this.http.get("".concat(this.kliseisUrl,"/GetById/").concat(e)).pipe(Object(d.a)((function(e){return e})),Object(l.a)(this.exceptionSrv.catchBadResponse))}},{key:"getStoixeiaKlisisForWebPliromi",value:function(e){return this.http.post(this.kliseisUrl+"/GetStoixeiaKlisisForWebPliromi/",e).pipe(Object(d.a)((function(e){return e})),Object(l.a)(this.exceptionSrv.catchBadResponse))}},{key:"getStoixeiaKlisisForWebPliromiEtos",value:function(e){return this.http.post(this.kliseisUrl+"/GetStoixeiaKlisisForWebPliromiEtos/",e).pipe(Object(d.a)((function(e){return e})),Object(l.a)(this.exceptionSrv.catchBadResponse))}},{key:"createKlisiWebAsync",value:function(e){var t=this.kliseisUrl+"/CreateKlisiWebAsync";return this.http.post(t,e).pipe(Object(d.a)((function(e){return e})),Object(l.a)(this.exceptionSrv.catchBadResponse))}},{key:"markKlisiWebExoflisi",value:function(e){var t=this.kliseisUrl+"/MarkKlisiWebExoflisi";return this.http.post(t,e).pipe(Object(d.a)((function(e){return e})),Object(l.a)(this.exceptionSrv.catchBadResponse))}},{key:"addPaymentRequest",value:function(e){var t=this.financeUrl+"/Banks/AddPaymentRequest";return this.http.post(t,e).pipe(Object(d.a)((function(e){return e})),Object(l.a)(this.exceptionSrv.catchBadResponse))}},{key:"getFinancePaymentCallback",value:function(e){return this.http.get("".concat(this.kliseisUrl,"/GetFinancePaymentCallback?btId=").concat(e.btId,"&returnUrl=").concat(e.returnUrl,"&status=").concat(e.status,"&messagecode=").concat(e.messagecode)).pipe(Object(d.a)((function(e){return e})),Object(l.a)(this.exceptionSrv.catchBadResponse))}},{key:"fillPaymentRequestDtoNonAuthorized",value:function(e){var t=this.kliseisFinanceUrl+"/FillPaymentRequestDtoNonAuthorized";return this.http.post(t,e).pipe(Object(d.a)((function(e){return e})),Object(l.a)(this.exceptionSrv.catchBadResponse))}},{key:"fillPaymentRequestAuthorized",value:function(e){var t=this.kliseisFinanceUrl+"/FillPaymentRequestDtoAuthorized";return this.http.post(t,e).pipe(Object(d.a)((function(e){return e})),Object(l.a)(this.exceptionSrv.catchBadResponse))}},{key:"getPaymentSettings",value:function(){var e=this,t=this.baseUrl+"/oikonomiki/GetPaymentSettings";return this.paymentSettings?Object(r.a)(this.paymentSettings):this.http.get(t).pipe(Object(d.a)((function(t){return e.paymentSettings=t,t})),Object(l.a)(this.exceptionSrv.catchBadResponse))}},{key:"getPluginCustomerOptions",value:function(){var e=this.baseUrl+"/Configurations/GetPluginCustomerSpecificOptions";return this.http.get(e).pipe(Object(d.a)((function(e){return e})),Object(l.a)(this.exceptionSrv.catchBadResponse))}}]),i}(function(){return function e(t,i){var n=this;_classCallCheck(this,e),this.http=t,this.exceptionService=i,this.getBaseUrl=function(){return n.baseUrl},AppConfOptions&&AppConfOptions.kliseis_api?(this.baseUrl=AppConfOptions.kliseis_api,this.financeUrl=AppConfOptions.epayments_api):(this.baseUrl="/",this.financeUrl=AppConfOptions.financeApi),this.baseUrl+="api",this.financeUrl+="api"}}());gt.\u0275fac=function(e){return new(e||gt)(n.dd(mt),n.dd(o.b))},gt.ctorParameters=function(){return[{type:mt},{type:o.b}]},gt.\u0275prov=Object(n.Lc)({factory:function(){return new gt(Object(n.dd)(mt),Object(n.dd)(o.b))},token:gt,providedIn:"root"}),gt=Object(s.b)([Object(s.c)("design:paramtypes",[mt,o.b])],gt);var yt=function(){function e(t){_classCallCheck(this,e),this.http=t,this.isAuthorizedSubject=new a.a(null),this.isAuthorized$=this.isAuthorizedSubject.asObservable(),this.userInfoSubject=new a.a(null),this.userInfo$=this.userInfoSubject.asObservable(),this.applicationOptionsSubject=new a.a(null),this.applicationOptions$=this.applicationOptionsSubject.asObservable(),this.customerSpecificOptionsSubject=new a.a(null),this.customerSpecificOptions$=this.customerSpecificOptionsSubject.asObservable(),this.pluginCustomerSpecificOptionsSubject=new a.a(null),this.pluginCustomerSpecificOptions$=this.pluginCustomerSpecificOptionsSubject.asObservable(),AppConfOptions&&AppConfOptions.kliseis_api?this.baseUrl=AppConfOptions.kliseis_api:this.baseUrl="/",this.baseUrl+="api",this.egOnInit()}return _createClass(e,[{key:"egOnInit",value:function(){var e=this;this.isAuthorized$.subscribe((function(t){e.isAuthorized=t})),this.userInfo$.subscribe((function(t){e.userInfo=t})),this.applicationOptions$.subscribe((function(t){e.applicationOptions=t})),this.customerSpecificOptions$.subscribe((function(t){e.applicationOptions=t})),this.pluginCustomerSpecificOptions$.subscribe((function(t){e.applicationOptions=t}))}},{key:"initIsAuthorized",value:function(){if(!this.isAuthorized)for(var e,t=0;t<window.localStorage.length;t++){var i=window.localStorage.key(t);"_isAuthorized"===i.slice(0,13)&&(e=JSON.parse(window.localStorage.getItem(i)),this.isAuthorizedSubject.next(e))}}},{key:"initUserInfo",value:function(){if(!this.userInfo)for(var e=null,t=0;t<window.localStorage.length;t++){var i=window.localStorage.key(t);"userData"===i.slice(0,8)&&(e=JSON.parse(window.localStorage.getItem(i)),this.userInfoSubject.next({email:e.email,username:e.given_name,tin:e.tin,family_name:e.family_name,given_name:e.given_name,fathers_name:e.fathers_name,mothers_name:e.mothers_name,name:e.name,address_city:e.address_city,address_country_code:e.address_country_code,address_zip:e.address_zip,address:e.address,adt:e.adt,phone_number:e.phone_number}))}}},{key:"iniApplicationOptions",value:function(){var e=this;if(!this.applicationOptions){var t=this.baseUrl+"/Configurations/GetAllOptions";this.http.get(t).subscribe((function(t){t&&e.applicationOptionsSubject.next(t)}))}}},{key:"initCustomerSpecificOptions",value:function(){var e=this;if(!this.customerSpecificOptions){var t=this.baseUrl+"/Configurations/GetCustomerSpecificOptions";this.http.get(t).subscribe((function(t){t&&e.customerSpecificOptionsSubject.next(t)}))}}},{key:"initPluginCustomerSpecificOptions",value:function(){var e=this;if(!this.pluginCustomerSpecificOptions){var t=this.baseUrl+"/Configurations/GetPluginCustomerSpecificOptions";this.http.get(t).subscribe((function(t){t&&e.pluginCustomerSpecificOptionsSubject.next(t)}))}}}]),e}();yt.\u0275fac=function(e){return new(e||yt)(n.dd(o.b))},yt.ctorParameters=function(){return[{type:o.b}]},yt.\u0275prov=Object(n.Lc)({factory:function(){return new yt(Object(n.dd)(o.b))},token:yt,providedIn:"root"}),yt=Object(s.b)([Object(s.c)("design:paramtypes",[o.b])],yt);var bt={firstDayOfWeek:1,dayNames:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf"],dayNamesShort:["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5\u03c4","\u03a4\u03b5\u03c4","\u03a4\u03c1","\u03a0\u03b5\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03b1\u03b2"],dayNamesMin:["\u039a","\u0394","\u03a4","\u03a4","\u03a0","\u03a0","\u03a3"],monthNames:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],monthNamesShort:["\u0399\u03b1\u03bd","\u03a6\u03b5\u03b2","\u039c\u03ac\u03c1","\u0391\u03c0\u03c1","\u039c\u03ac\u03b9","\u0399\u03bf\u03cd","\u0399\u03bf\u03cd","\u0391\u03cd\u03b3","\u03a3\u03b5\u03c0","\u039f\u03ba\u03c4","\u039d\u03bf\u03ad","\u0394\u03b5\u03ba"],today:"\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1",clear:"\u039a\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"},vt="".concat((new Date).getFullYear()-50,":").concat((new Date).getFullYear()+50);function kt(e){return e.setHours(e.getHours()-e.getTimezoneOffset()/60),e}function St(e){try{e.detectChanges()}catch(t){}}function Ut(e,t,i){var n="",s=[],o=e.control;return Object.keys(o.controls).forEach((function(e){var t=o.get(e);t instanceof m.c&&s.push.apply(s,_toConsumableArray(function e(t){var i=[];return Object.keys(t.controls).forEach((function(n){var s=t.get(n);s instanceof m.c&&i.push.apply(i,_toConsumableArray(e(s)));var o=s.errors;o&&Object.keys(o).forEach((function(e){i.push({control:n,error:e,value:o[e]})}))})),i}(t)));var i=t.errors;i&&Object.keys(i).forEach((function(t){s.push({control:e,error:t,value:i[t]})}))})),!(!s&&!i)&&(n="<ul>",s.forEach((function(e){var i;"required"==e.error?i="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==e.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"max"==e.error&&(i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03ad\u03b3\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),n+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+t[e.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+i+"</li>"})),n+=i,n+="</ul>")}function Ct(e){return!!new RegExp("^[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7]{2}[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7 ][0-9]{4}$").test(e)}function It(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toUpperCase()).replace(new RegExp("A","g"),"\u0391")).replace(new RegExp("B","g"),"\u0392")).replace(new RegExp("E","g"),"\u0395")).replace(new RegExp("H","g"),"\u0397")).replace(new RegExp("I","g"),"\u0399")).replace(new RegExp("K","g"),"\u039a")).replace(new RegExp("M","g"),"\u039c")).replace(new RegExp("N","g"),"\u039d")).replace(new RegExp("O","g"),"\u039f")).replace(new RegExp("T","g"),"\u03a4")).replace(new RegExp("X","g"),"\u03a7")).replace(new RegExp("Y","g"),"\u03a5")).replace(new RegExp("Z","g"),"\u0396")}function Ot(e){return e&&""!=e.trim().toString()&&(e=function(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toUpperCase()).replace(new RegExp("\u0393","g"),"")).replace(new RegExp("\u0394","g"),"")).replace(new RegExp("\u0398","g"),"")).replace(new RegExp("\u039b","g"),"")).replace(new RegExp("\u039e","g"),"")).replace(new RegExp("\u03a0","g"),"")).replace(new RegExp("\u03a3","g"),"")).replace(new RegExp("\u03a6","g"),"")).replace(new RegExp("\u03a8","g"),"")).replace(new RegExp("\u03a9","g"),"")).replace(new RegExp("C","g"),"")).replace(new RegExp("D","g"),"")).replace(new RegExp("F","g"),"")).replace(new RegExp("G","g"),"")).replace(new RegExp("J","g"),"")).replace(new RegExp("L","g"),"")).replace(new RegExp("Q","g"),"")).replace(new RegExp("R","g"),"")).replace(new RegExp("S","g"),"")).replace(new RegExp("U","g"),"")).replace(new RegExp("V","g"),"")).replace(new RegExp("W","g"),"")}(e)),e}var Pt=function(){function e(t,i,n,s,o,r){_classCallCheck(this,e),this.kliseisNgSrv=t,this.pluginCacheSrv=i,this.toasterSrv=n,this.router=s,this.route=o,this.cdr=r,this.onDestroy=new c.a,this.paymentResponseDto=null,this.index=0,this.isAddingKlisi=!1,this.isDataChanged=!1,this.isAuthorized=!1,this.isLoadingPaymentRequest=!1,this.applicationUrl="",this.kliseisApiUrl="",this.financeApiUrl="",this.returnUrl="",this.assetsUrl="",this.errorMessageProfile=null,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.kliseisApiUrl=AppConfOptions.kliseis_api,this.financeApiUrl=AppConfOptions.epayments_api,this.assetsUrl=AuthConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/kliseis/receipts")):(this.applicationUrl=AppConfOptions.applicationUrl,this.kliseisApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi,this.assetsUrl=AppConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts"))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.pluginCacheSrv.initIsAuthorized(),this.pluginCacheSrv.initUserInfo(),this.pluginCacheSrv.isAuthorized$.pipe(Object(u.a)((function(t){return e.isAuthorized=t||!1,e.isAuthorized?(e.router.url.includes("receipts")?e.onTabChanged({index:1}):e.onTabChanged({index:0}),e.pluginCacheSrv.userInfo$):Object(r.a)(!1)})),Object(u.a)((function(t){return t?(e.userInfo=t,e.kliseisNgSrv.getPluginCustomerOptions()):Object(r.a)(!1)})),Object(p.a)(this.onDestroy)).subscribe((function(t){if(t){var i=t.find((function(e){return e.configurationOptions.find((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id}))}));i&&i.configurationOptions.find((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id}))&&(e.onlinePaymentsSettingsCompany=i.configurationOptions.find((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id})).value)}St(e.cdr)})),this.router.events.pipe(Object(p.a)(this.onDestroy)).subscribe((function(t){if(t&&t instanceof f.c){var i=t.url;e.isAuthorized&&(i.includes("receipts")?e.index=1:e.index=0)}}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"ngAfterViewInit",value:function(){this.router.url.includes("receipts")?this.index=1:this.index=0,St(this.cdr)}},{key:"onTabChanged",value:function(e){0==e.index?this.router.navigate(["./debits"],{relativeTo:this.route}):this.router.navigate(["./receipts"],{relativeTo:this.route})}},{key:"onAddKlisiClicked",value:function(){this.isAddingKlisi=!0,St(this.cdr)}},{key:"_klisiAdded",value:function(e){this.isDataChanged=!0,this.isAddingKlisi=!1,St(this.cdr)}}]),e}();Pt.\u0275fac=function(e){return new(e||Pt)(n.Pc(gt),n.Pc(yt),n.Pc(ft),n.Pc(f.d),n.Pc(f.a),n.Pc(n.k))},Pt.\u0275cmp=n.Jc({type:Pt,selectors:[["lib-kliseis-ng"]],decls:4,vars:4,consts:[[4,"ngIf"],["title","\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u039d\u03ad\u03b1\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2",3,"isOpen","isOpenChange"],["class","d-flex justify-content-end mb-1",4,"ngIf"],[3,"activeIndex","onChange"],["header","\u0391\u03c0\u03bb\u03ae\u03c1\u03c9\u03c4\u03b5\u03c2 \u039a\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2"],[3,"isDataChanged","userInfo","errorMessageProfile","assetsUrl","onlinePaymentsSettingsCompany","relatedCallbackUrl"],["header","\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd \u039a\u03bb\u03ae\u03c3\u03b5\u03c9\u03bd"],["pTemplate","content"],[1,"d-flex","justify-content-end","mb-1"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-plus","fa-fw"],[3,"changeTabIndex"],[1,"modal-body"],[3,"userInfo","isLoadingPaymentRequest","relatedCallbackUrl","klisiAdded"]],template:function(e,t){1&e&&(n.Qd(0,O,2,0,"ng-container",0),n.Qd(1,j,7,8,"ng-container",0),n.Vc(2,"eg-modal",1),n.hd("isOpenChange",(function(e){return t.isAddingKlisi=e})),n.Qd(3,M,3,3,"ng-container",0),n.Uc()),2&e&&(n.sd("ngIf",!t.isAuthorized),n.Bc(1),n.sd("ngIf",t.isAuthorized&&t.userInfo),n.Bc(1),n.sd("isOpen",t.isAddingKlisi),n.Bc(1),n.sd("ngIf",t.isAddingKlisi&&t.userInfo))},directives:function(){return[g.p,y.a,zt,U.b,U.a,Tt,I.d,qt,Kt]},encapsulation:2,changeDetection:0}),Pt.ctorParameters=function(){return[{type:gt},{type:yt},{type:ft},{type:f.d},{type:f.a},{type:n.k}]},Pt=Object(s.b)([Object(s.c)("design:paramtypes",[gt,yt,ft,f.d,f.a,n.k])],Pt);var _t,jt=function(){function e(t,i){_classCallCheck(this,e),this.oidcSecuritySrv=t,this.router=i}return _createClass(e,[{key:"canActivate",value:function(e,t){var i=this;return this.oidcSecuritySrv.getIsAuthorized().pipe(Object(d.a)((function(e){return!!e||(i.router.navigate(["/add"]),!1)})))}}]),e}();jt.\u0275fac=function(e){return new(e||jt)(n.dd(C.c),n.dd(f.d))},jt.\u0275prov=n.Lc({token:jt,factory:jt.\u0275fac}),jt.ctorParameters=function(){return[{type:C.c},{type:f.d}]},jt=Object(s.b)([Object(s.c)("design:paramtypes",[C.c,f.d])],jt);var Mt,wt,Vt,Et,Rt=_t=function(){function e(){_classCallCheck(this,e),this.validator=this.afmValidator()}return _createClass(e,[{key:"validate",value:function(e){return this.validator(e)}},{key:"afmValidator",value:function(){return function(e){return e&&e.value&&!function(e){if(!e||e.length<9)return!1;if("000000000"==e)return!0;e=e.split("").reverse().join("");for(var t=0,i=1;i<=8;i++)if(t+=+e.charAt(i)<<i,isNaN(t))return!1;return t%11%10==+e.charAt(0)}(e.value)?{afmvalidator:{valid:!1}}:null}}}]),e}();Rt.\u0275fac=function(e){return new(e||Rt)},Rt.\u0275dir=n.Kc({type:Rt,selectors:[["","validateAfm",""]],features:[n.Ac([{provide:m.g,useExisting:_t,multi:!0}])]}),Rt=_t=Object(s.b)([Object(s.c)("design:paramtypes",[])],Rt),function(e){e[e.apliroti=1]="apliroti",e[e.exoflimeni=2]="exoflimeni",e[e.akiri=3]="akiri",e[e.diagrafiDS=4]="diagrafiDS",e[e.apoWeb=5]="apoWeb",e[e.exoflisiWeb=6]="exoflisiWeb"}(Mt||(Mt={}));var xt=function e(){_classCallCheck(this,e),this.arithmosKlisis=null,this.hmerominiaEkdosis=null,this.arithmosKikloforias=null,this.oraEkdosis=null,this.poso=null,this.etos=null,this.isAuthorized=!0,this.debtorName=null,this.tin=null,this.email=null,this.tilefono=null,this.address=null,this.tk=null,this.poli=null,this.isForeign=!1},Bt=function e(){_classCallCheck(this,e),this.bankTransactionId=null,this.tin=null,this.adt=null,this.debtorName=null,this.address_city=null,this.address_country_code=null,this.address_zip=null,this.address=null,this.email=null,this.phone_number=null},At=function e(){_classCallCheck(this,e),this.remittanceInfo=null,this.amount=null,this.debtorName=null,this.tin=null,this.description=null},Dt=function e(){_classCallCheck(this,e),this.remittanceInfo=null,this.eponimia=null,this.afm=null,this.dieuthinsi=null,this.tk=null,this.poli=null,this.email=null,this.tilefono=null,this.relatedCallbackUrl=null},Ft=function e(){_classCallCheck(this,e),this.btId=null,this.returnUrl=null,this.status=null,this.messagecode=null};!function(e){e[e.Ok=1]="Ok",e[e.Error=2]="Error",e[e.Warning=3]="Warning",e[e.UndefinedError=4]="UndefinedError"}(wt||(wt={})),function(e){e.arithmosKlisis="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2",e.arithmosKikloforias="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2",e.poso="\u03a0\u03bf\u03c3\u03cc",e.etosKlisis="\u0388\u03c4\u03bf\u03c2 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2",e.email="Email",e.tilefono="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf",e.address="\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7",e.tk="\u03a4.\u039a.",e.poli="\u03a0\u03cc\u03bb\u03b7",e.hmerominiaEkdosis="\u0397\u03bc. \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2",e.debtorName="\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1",e.tin="\u0391.\u03a6.\u039c."}(Vt||(Vt={})),function(e){e.billAddrState="\u03a0\u03b5\u03c1\u03b9\u03c6\u03ad\u03c1\u03b5\u03b9\u03b1",e.cardholderName="\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2",e.mobilePhone="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf"}(Et||(Et={}));var Kt=function(){function e(t,i,s,o){_classCallCheck(this,e),this.kliseisNgSrv=t,this.pluginCacheSrv=i,this.toasterSrv=s,this.cdr=o,this.klisiAdded=new n.x,this.payKlisi=new n.x,this.onDestroy=new c.a,this.allowsPayment=!0,this.today=new Date,this.thisYear=this.today.getFullYear(),this.locale=bt,this.yearRange=vt,this.isLoading=!1,this.isLoadingResponse=!1,this.isFormSubmitted=!1,this.saveFailed=!1,this.showEtos="False",this.isFormValid=!0,this.formDictionaryEnum=Vt}return _createClass(e,[{key:"ngOnChanges",value:function(e){e&&e.isLoadingPaymentRequest&&(this.isLoadingPaymentRequest=e.isLoadingPaymentRequest.currentValue,St(this.cdr))}},{key:"ngOnInit",value:function(){var e=this;this.model=new xt,this.userInfo.address&&(this.model.address=this.userInfo.address),this.userInfo.address_city&&(this.model.poli=this.userInfo.address_city),this.userInfo.address_zip&&(this.model.tk=this.userInfo.address_zip),this.userInfo.phone_number&&(this.model.tilefono=this.userInfo.phone_number),this.userInfo.email&&(this.model.email=this.userInfo.email),St(this.cdr),this.pluginCacheSrv.initPluginCustomerSpecificOptions(),this.pluginCacheSrv.pluginCustomerSpecificOptions$.pipe(Object(p.a)(this.onDestroy)).subscribe((function(t){if(t&&t[0]){var i=t[0].configurationOptions;i.some((function(e){return"PluginCustomerSpecificOptions:EtosKlisis"==e.id}))?e.showEtos=i.find((function(e){return"PluginCustomerSpecificOptions:EtosKlisis"==e.id})).value:e.showEtos="False",i.some((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id}))&&(e.onlinePaymentsSettingsCompany=i.find((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id})).value)}}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"onAnazitisi",value:function(){var e=this;this.isFormSubmitted=!0,this.response=null,this.isFormValid=!0,this.formErrors=null,this.formErrorsMsg="";var t,i="";if(!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias?""!=(t=Ot(t=It(this.model.arithmosKikloforias)).toUpperCase())&&0==Ct(t)?(this.toasterSrv.showWarning("","\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000)"),this.isFormValid=!1):this.model.arithmosKikloforias&&this.model.arithmosKikloforias!=t&&(this.isFormValid=!0):this.isFormValid=!0,(!this.etosKlisis&&!this.model.hmerominiaEkdosis||this.model.hmerominiaEkdosis>new Date)&&(this.isFormValid=!1),this.etosKlisis&&+this.etosKlisis<=+this.thisYear?this.model.hmerominiaEkdosis=new Date(this.etosKlisis+"-01-01"):this.etosKlisis&&+this.etosKlisis>+this.thisYear&&(i="<li>\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf "+this.thisYear+".</li>"),St(this.cdr),this.isFormSubmitted&&this.isFormValid)this.isLoadingResponse=!0,this.model.etos=+this.model.hmerominiaEkdosis.getFullYear(),this.model.arithmosKikloforias&&t&&this.model.arithmosKikloforias!=t&&(this.model.arithmosKikloforias=t),St(this.cdr),this.kliseisNgSrv.getStoixeiaKlisisForWebPliromiEtos(this.model).subscribe((function(t){t&&(e.response=t,e.response&&e.response.poso&&0!=e.response.klisiId&&(e.model.poso=e.response.poso),e.response&&e.response.canPay&&0==e.response.klisiId&&"1"!=e.onlinePaymentsSettingsCompany?(e.allowsPayment=!1,e.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03b3\u03ba\u03b5\u03ba\u03c1\u03b9\u03bc\u03ad\u03bd\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2.")):e.allowsPayment=!0,e.isLoadingResponse=!1,St(e.cdr))}));else{if(this.formErrors=Ut(this.f,this.formDictionaryEnum,""),this.formErrors||!this.isFormValid){if(this.formErrorsMsg="<ul>",this.formErrors&&this.formErrors.forEach((function(t){var i;"required"==t.error?i="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==t.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==t.error&&(i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),e.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+e.formDictionaryEnum[t.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+i+"</li>"})),this.etosKlisis||this.model.hmerominiaEkdosis||(this.formErrorsMsg+="<li>\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03b5\u03af\u03c4\u03b5 \u03c4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03c4\u03b5 \u03c4\u03b7\u03bd \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2.</li>"),!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias){var n=It(this.model.arithmosKikloforias);""!=(n=Ot(t).toUpperCase())&&0==Ct(n)&&(this.formErrorsMsg+="<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000).</li>")}this.formErrorsMsg+=i,this.formErrorsMsg+="<ul>"}St(this.cdr)}}},{key:"onCancelKlisiClicked",value:function(){this.isFormSubmitted=!1,this.response?this.response=null:this.klisiAdded.emit(null),St(this.cdr)}},{key:"onPliromiClicked",value:function(){var e=this;this.isLoadingResponse=!0,St(this.cdr),this.paymentRequestDto={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:this.userInfo.address_city?this.userInfo.address_city:this.model.poli,billingAddressCountryCode:this.userInfo.address_country_code?this.userInfo.address_country_code:"GR",billingAddressZip:this.userInfo.address_zip?this.userInfo.address_zip:this.model.tk,billingAddress:this.userInfo.address?this.userInfo.address:this.model.address,userEmail:this.userInfo.email?this.userInfo.email:this.model.email,userPhone:this.userInfo.phone_number?this.userInfo.phone_number:this.model.tilefono,paymentMethodKey:"",entries:[]};var t=new At;if(t.tin=this.userInfo.tin,t.amount=this.model.poso,t.debtorName=this.userInfo.given_name+" "+this.userInfo.family_name,t.description="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2: "+this.model.arithmosKlisis.toString()+", \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2: "+this.model.arithmosKikloforias+", \u0397\u03bc\u03b5\u03c1/\u03bd\u03b9\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2: "+kt(this.model.hmerominiaEkdosis),St(this.cdr),this.response&&0==this.response.klisiId){this.saveFailed=!1;var i=this.model.oraEkdosis?this.model.oraEkdosis.getHours()+":"+this.model.oraEkdosis.getMinutes():null;this.createKlisi={hmerominiaEkdosis:kt(this.model.hmerominiaEkdosis),oraEkdosis:i?i.toString():null,arithmosKikloforias:this.model.arithmosKikloforias,arithmosKlisis:this.model.arithmosKlisis,pliroteoPoso:this.model.poso,eponimia:this.userInfo.given_name+" "+this.userInfo.family_name,eponimo:this.userInfo.family_name,patronimo:this.userInfo.fathers_name,mitronimo:this.userInfo.mothers_name,onoma:this.userInfo.given_name,afm:this.userInfo.tin,odos:this.userInfo.address?this.userInfo.address:this.model.address,poli:this.userInfo.address_city?this.userInfo.address_city:this.model.poli,tk:this.userInfo.address_zip?this.userInfo.address_zip:this.model.tk,adt:this.userInfo.adt,tilefono:this.userInfo.phone_number?this.userInfo.phone_number:this.model.tilefono,email:this.userInfo.email?this.userInfo.email:this.model.email},this.kliseisNgSrv.createKlisiWebAsync(this.createKlisi).subscribe((function(i){i?(t.remittanceInfo=i.remittanceInfo,e.paymentRequestDto.entries=[],e.paymentRequestDto.entries.push(t),e.payKlisi.emit(e.paymentRequestDto)):(e.saveFailed=!0,St(e.cdr)),e.isLoadingResponse=!1,St(e.cdr)}))}else 0!=this.response.klisiId&&(t.remittanceInfo=this.response.remittanceInfo,this.paymentRequestDto.entries=[],this.paymentRequestDto.entries.push(t),this.isLoadingResponse=!1,St(this.cdr),this.payKlisi.emit(this.paymentRequestDto))}},{key:"_getErrorReason",value:function(){return this.model.hmerominiaEkdosis>=new Date?"\u0397 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03ba\u03b1\u03b9 \u03b7 \u03ce\u03c1\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c0\u03c1\u03bf\u03b3\u03b5\u03bd\u03ad\u03c3\u03c4\u03b5\u03c1\u03b5\u03c2.":this.model.arithmosKikloforias?this.model.arithmosKlisis?this.model.poso<=0?"\u03a4\u03bf \u03c0\u03bf\u03c3\u03cc \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf.":"":"\u039f \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2 \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2.":"\u039f \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2."}}]),e}();Kt.\u0275fac=function(e){return new(e||Kt)(n.Pc(gt),n.Pc(yt),n.Pc(ft),n.Pc(n.k))},Kt.\u0275cmp=n.Jc({type:Kt,selectors:[["lib-kliseis-add-new"]],viewQuery:function(e,t){var i;1&e&&n.Yd(w,!0),2&e&&n.Fd(i=n.id())&&(t.f=i.first)},inputs:{isLoadingPaymentRequest:"isLoadingPaymentRequest",userInfo:"userInfo",relatedCallbackUrl:"relatedCallbackUrl"},outputs:{klisiAdded:"klisiAdded",payKlisi:"payKlisi"},features:[n.zc],decls:2,vars:2,consts:[["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],["class","form",4,"ngIf"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"form"],["f","ngForm"],[1,"row"],[1,"form-group","col-12","d-inline-flex","align-items-start"],["name","isForeign","value","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","label","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","binary","true",3,"ngModel","readonly","ngModelChange"],["isForeign","ngModel"],[1,"form-group","col-12","col-sm-6"],["type","text","name","arithmosKlisis","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2","pattern","([0-9]{1,12})","maxlength","12","autocomplete","nope","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["arithmosKlisisInput","ngModel"],[1,"text-danger","pt-1",3,"hidden"],["type","text","name","arithmosKikloforias","placeholder","\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2","autocomplete","nope","required","",1,"form-control",2,"text-transform","uppercase",3,"ngModel","readonly","ngModelChange"],["arithmosKikloforiasInput","ngModel"],[4,"ngIf"],["dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","name","hmerominiaEkdosis",3,"locale","maxDate","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","showTime","ngModel","required","disabled","ngModelChange"],["name","oraEkdosis","placeholder","\u03a9\u03a9:\u039b\u039b","hourFormat","24",3,"locale","timeOnly","showIcon","ngModel","disabled","ngModelChange"],["class","row",4,"ngIf"],["class","badge badge-warning mb-0",4,"ngIf"],[1,"form-actions","row","justify-content-center","pb-0"],["type","button","class","btn btn-primary btn-sm mr-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-warning",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["class","bg-white","style","width: 100%; height: 50px;",4,"ngIf"],["class","alert alert-danger form-msgs",4,"ngIf"],[1,"col-12"],[1,"alert","alert-info","w-100","d-block","mt-2","mb-1",2,"white-space","normal"],[1,"fas","fa-exclamation-circle","fa-fw"],["type","text","name","etosKlisis","placeholder","\u0388\u03c4\u03bf\u03c2","pattern","([0-9]{4})$",1,"form-control",3,"ngModel","readonly","ngModelChange"],["etosKlisisInput","ngModel"],[1,"badge","badge-warning","mb-0"],[1,"fas","fa-exclamation-triangle"],[1,"form-group","col-12"],["name","poso","type","text","placeholder","0,01","currencyMask","","lang","el-GR","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["posoInput","ngModel"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["name","email","type","email","placeholder","Email","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["emailInput","ngModel"],["name","tilefono","type","text","placeholder","69XXXXXXXX","pattern","^69([0-9]{8})$","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["tilefonoInput","ngModel"],[1,"col-12","col-md-8"],["name","address","type","text","placeholder","\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["addressInput","ngModel"],[1,"col-12","col-md-4"],["name","tk","type","text","placeholder","\u03a4.\u039a.","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["tkInput","ngModel"],["name","poli","type","text","placeholder","\u03a0\u03cc\u03bb\u03b7","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["poliInput","ngModel"],["type","button",1,"btn","btn-primary","btn-sm","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["aria-hidden","true",1,"fas","fa-money-check","fa-fw"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"bg-white",2,"width","100%","height","50px"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],[1,"alert","alert-danger","form-msgs"]],template:function(e,t){1&e&&(n.Qd(0,V,3,0,"div",0),n.Qd(1,$,44,40,"form",1)),2&e&&(n.sd("ngIf",!t.model||t.isLoading),n.Bc(1),n.sd("ngIf",t.model&&!t.isLoading))},directives:[g.p,m.t,m.j,m.k,k.a,m.i,m.l,m.b,m.o,m.e,m.q,v.a,b.b,g.n],encapsulation:2,changeDetection:0}),Kt.ctorParameters=function(){return[{type:gt},{type:yt},{type:ft},{type:n.k}]},Object(s.b)([Object(n.lb)("f"),Object(s.c)("design:type",m.k)],Kt.prototype,"f",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Object)],Kt.prototype,"userInfo",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Boolean)],Kt.prototype,"isLoadingPaymentRequest",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",String)],Kt.prototype,"relatedCallbackUrl",void 0),Object(s.b)([Object(n.S)(),Object(s.c)("design:type",Object)],Kt.prototype,"klisiAdded",void 0),Object(s.b)([Object(n.S)(),Object(s.c)("design:type",Object)],Kt.prototype,"payKlisi",void 0),Kt=Object(s.b)([Object(s.c)("design:paramtypes",[gt,yt,ft,n.k])],Kt);var Qt=function(){function e(t,i,s){_classCallCheck(this,e),this.kliseisNgSrv=t,this.toasterSrv=i,this.cdr=s,this.loadingSimplifyModal=new n.x,this.createRequest=new n.x,this.onDestroy=new c.a,this.paymentMethodsClass="pm-size-2",this.requestBankData=!1,this.errorMessageProfile=null,this.isFormSubmitted=!1,this.formDictionaryEnum=Et}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.kliseisNgSrv.getPaymentSettings().pipe(Object(p.a)(this.onDestroy)).subscribe((function(t){if(t){e.onlinePaymentSettings=t,e.onlinePaymentSettings.paymentMethods.length&&e.onlinePaymentSettings.paymentMethods.forEach((function(e){if(e.services&&e.services.length>0)for(var t=0;t<e.services.length;t++)e.services[t]=e.services[t].toLowerCase()})),e.pancretaPaymentMethod=e.onlinePaymentSettings.paymentMethods.find((function(e){return"STPGGRAA"==e.key})),document.getElementById("script_1_pancreta")||e.pancretaPaymentMethod&&e._loadPancretaScripts(e.pancretaPaymentMethod),e.ethnikiPaymentMethod=e.onlinePaymentSettings.paymentMethods.find((function(e){return"ETHNGRAA"==e.key})),document.getElementById("script_1_ethniki")||e.ethnikiPaymentMethod&&e.ethnikiPaymentMethod.parameters&&e._loadEthnikiScripts(e.ethnikiPaymentMethod);var i=e.onlinePaymentSettings.paymentMethods.length;e.paymentMethodsClass=i<=2?"pm-size-2":"pm-size-3"}St(e.cdr)}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"ngOnChanges",value:function(e){e&&e.onlinePaymentSettings&&(this.onlinePaymentSettings=e.onlinePaymentSettings.currentValue),e&&e.paymentResponseDto&&(this.paymentResponseDto=e.paymentResponseDto.currentValue),St(this.cdr)}},{key:"btnPayClicked",value:function(e){var t=this;this.selectedPaymentMethod=e||this.onlinePaymentSettings.paymentMethods.filter((function(e){return e.key==t.onlinePaymentSettings.defaultPaymentMethodKey}))[0],this.paymentRequestDto?this.paymentRequestDto.paymentMethodKey=this.selectedPaymentMethod.key:this.paymentRequestDto=null,AppConfOptions&&AppConfOptions.oroi_xrisis_link&&""!=AppConfOptions.oroi_xrisis_link?(this.termsLink=AppConfOptions.oroi_xrisis_link,this.isTermsModalOpen=!0,St(this.cdr)):this.paymentRequestDto&&"PIRBGRAA"!=this.paymentRequestDto.paymentMethodKey?this.createRequest.emit(!0):this.paymentRequestDto&&"PIRBGRAA"==this.paymentRequestDto.paymentMethodKey&&(this.requestBankData=!0,this.showMethods=!1,St(this.cdr))}},{key:"onEthnikiPaymentRequestSucceded",value:function(e){var t=this;this.paymentResponseDto=e,this.loadingSimplifyModal.emit(!0);var i=document.getElementById("ethnikiPaymentBtn");i.setAttribute("data-amount",e.postFields.amount),i.setAttribute("data-reference",e.postFields.reference),i.setAttribute("data-sc-key",this.ethnikiPaymentMethod.parameters.publicKey),this.loadingSimplifyModal.emit(!1),setTimeout((function(){i.click()})),SimplifyCommerce.hostedPayments((function(i){if(i){var n="data"in i;if("close"in i&&1==i.close){var s=document.createElement("input");s.setAttribute("name","PaymentStatus"),s.setAttribute("value","CLOSED"),s.setAttribute("type","text"),s.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(s);var o=document.createElement("input");o.setAttribute("name","Reference"),o.setAttribute("value",e.postFields.reference),o.setAttribute("type","text"),o.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(o),setTimeout((function(){t._submiToOikonomiki()}))}else if(n){var r=function e(t){var i,n={};for(var s in t)if(t.hasOwnProperty(s))if("object"==typeof t[s])for(var o in i=e(t[s]))i.hasOwnProperty(o)&&(n[o]=i[o]);else n[s]=t[s];return n}(i);("ErrorCode"in r||"declineReason"in r)&&(r.Reference=e.postFields.reference);for(var a=0,c=Object.keys(r);a<c.length;a++){var d=c[a],l=r[d],u=document.createElement("input");u.setAttribute("name",d),u.setAttribute("value",l),u.setAttribute("type","text"),u.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(u)}setTimeout((function(){t._submiToOikonomiki()}))}}}),{operation:"create.payment",scKey:this.ethnikiPaymentMethod.parameters.publicKey,color:"#204969",currency:"EUR",amount:e.postFields.amount,reference:e.postFields.reference,masterpass:e.postFields.masterpass})}},{key:"onPancretaPaymentRequestSucceded",value:function(e){this.paymentResponseDto=e,St(this.cdr);var t=document.createElement("script");t.id="script_2_pancreta",document.body.appendChild(t),document.getElementById("script_2_pancreta").innerHTML='var everypay = Everypay("'+this.pancretaPaymentMethod.parameters.publicKey+'", { locale: "el" });',setTimeout((function(){var t=document.createElement("script");t.id="script_3_pancreta",document.body.appendChild(t),document.getElementById("script_3_pancreta").innerHTML='everypay.button("#everypay-btn-container", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"amount": '.concat(e.postFields.amount,',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"locale": "el",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"on_token_received": function(token, showError, hideForm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (token) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_token").value = token;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_form").submit();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\tdocument.getElementById("everypay-btn-container").querySelectorAll("button")[0].click();')}))}},{key:"onTermsChanged",value:function(e){e&&"true"==e&&this.createRequest.emit(!0),this.isTermsModalOpen=!1,St(this.cdr)}},{key:"_addPaymentRequest",value:function(e){var t=this;if(this.selectedPaymentMethod||(this.onlinePaymentSettings&&this.onlinePaymentSettings.defaultPaymentMethodKey?this.selectedPaymentMethod=this.onlinePaymentSettings.paymentMethods.filter((function(e){return e.key==t.onlinePaymentSettings.defaultPaymentMethodKey}))[0]:this.onlinePaymentSettings&&1==this.onlinePaymentSettings.paymentMethods.length&&(this.selectedPaymentMethod=this.onlinePaymentSettings.paymentMethods[0])),e&&this.selectedPaymentMethod){if(this.paymentRequestDto=e,this.paymentRequestDto.paymentMethodKey=this.selectedPaymentMethod.key,this.paymentRequestDto&&"PIRBGRAA"==this.paymentRequestDto.paymentMethodKey)return void this._fixPeiraiosData();this.kliseisNgSrv.addPaymentRequest(this.paymentRequestDto).subscribe((function(e){if(e){var i=e;i.model?t.paymentResponseDto=i.model:t.paymentResponseDto=null,t.paymentResponseDto=i.model,i.statusCode&&i.statusCode==wt.Ok?i.model.getUrl&&""!=i.model.getUrl?i.model.getUrl&&""!=i.model.getUrl&&window.open(i.model.getUrl,"_self"):t._postBankForm(i.model):i.statusCode&&i.statusCode==wt.Error?"DEBTOR_ADDRESS_REQUIRED"==i.messageId&&(t.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",t.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.")):t.toasterSrv.showError("",i.message)}t.isLoadingPaymentResponse=!1,St(t.cdr)}))}else e&&!this.selectedPaymentMethod&&setTimeout((function(){t.paymentRequestDto=e,t.showMethods=!0,t.isLoadingPaymentResponse=!1,St(t.cdr)}))}},{key:"_postBankForm",value:function(e){if("ETHNGRAA"==this.selectedPaymentMethod.key&&null!=this.selectedPaymentMethod.parameters)this.onEthnikiPaymentRequestSucceded(e);else if("STPGGRAA"==this.selectedPaymentMethod.key)this.onPancretaPaymentRequestSucceded(e);else{var t=Object.keys(e.postFields).map((function(t){return{key:t,value:e.postFields[t]}}));e.postFields=t,this.paymentResponseDto=e,St(this.cdr),setTimeout((function(){document.querySelector("#bankPaymentForm").submit()}))}}},{key:"_submiToOikonomiki",value:function(){document.querySelector("#ethniki_form").submit()}},{key:"_loadEthnikiScripts",value:function(e){return new Promise((function(t,i){var n=document.createElement("script");n.id="script_1_ethniki",n.src=e.parameters.javaScriptSource,n.onload=t,document.body.appendChild(n)}))}},{key:"_loadPancretaScripts",value:function(e){return new Promise((function(t,i){var n=document.createElement("script");n.id="script_1_pancreta",n.src=e.parameters.javaScriptSource,n.onload=t,document.body.appendChild(n)}))}},{key:"_fixPeiraiosData",value:function(){this.requestBankData=!0,St(this.cdr)}},{key:"_submitPaymentRequest",value:function(){var e,t,i=this;if(this.isFormSubmitted=!0,this.formErrorsMsg=null,St(this.cdr),this.isFormSubmitted&&this.requestBankDataForm.valid){this.showMethods=!1,this.requestBankData=!1,this.isFormSubmitted=!1,this.formErrorsMsg=null;var n=null,s=null;if(this.user.phone_number.includes("+")?(n=this.user.phone_number.substring(0,3).replace("+",""),s=this.user.phone_number.substring(3)):s=this.user.phone_number,this.paymentRequestDto.userPhone=n?n+"-"+s:"30-"+s,this.paymentRequestDto.userHomePhone=this.paymentRequestDto.userPhone,this.paymentRequestDto.userWorkPhone=this.paymentRequestDto.userPhone,this.paymentRequestDto.billingAddressCountryCode=this.user.address_country_num,this.user.address_zip){var o=+this.user.address_zip.substring(0,2);this.paymentRequestDto.billingAddressState=([10,11,12,13,14,15,16,17,18,19].includes(e=o)&&(t="I"),[66,65,64,67,68,69].includes(e)&&(t="A"),[54,55,56,57,58,59,60,61,62,63].includes(e)&&(t="B"),[50,51,52,53].includes(e)&&(t="C"),[44,45,46,47,48].includes(e)&&(t="D"),[37,38,40,41,42,43].includes(e)&&(t="E"),[28,29,31,49].includes(e)&&(t="F"),[25,26,27,30].includes(e)&&(t="G"),[32,33,34,35,36].includes(e)&&(t="H"),[20,21,22,23,24].includes(e)&&(t="J"),[81,82,83].includes(e)&&(t="K"),[84,85].includes(e)&&(t="L"),[70,71,72,73,74].includes(e)&&(t="M"),t||(t="I"),t)}St(this.cdr),this.kliseisNgSrv.addPaymentRequest(this.paymentRequestDto).subscribe((function(e){if(e){var t=e;i.paymentResponseDto=t.model,t.statusCode==wt.Ok?t.model.getUrl&&""!=t.model.getUrl?t.model.getUrl&&""!=t.model.getUrl&&window.open(t.model.getUrl,"_self"):i._postBankForm(t.model):t.statusCode==wt.Error&&"DEBTOR_ADDRESS_REQUIRED"==t.messageId&&(i.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",i.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb."))}i.isLoadingPaymentResponse=!1,St(i.cdr)}))}else this.formErrorsMsg=Ut(this.requestBankDataForm,this.formDictionaryEnum,""),St(this.cdr)}},{key:"_closePaymentMethods",value:function(){var e=this;setTimeout((function(){e.showMethods=!1,St(e.cdr)}))}}]),e}();Qt.\u0275fac=function(e){return new(e||Qt)(n.Pc(gt),n.Pc(ft),n.Pc(n.k))},Qt.\u0275cmp=n.Jc({type:Qt,selectors:[["app-payment-methods"]],viewQuery:function(e,t){var i;1&e&&n.Yd(H,!0),2&e&&n.Fd(i=n.id())&&(t.requestBankDataForm=i.first)},inputs:{paymentResponseDto:"paymentResponseDto",isLoadingPaymentResponse:"isLoadingPaymentResponse",user:"user",assetsUrl:"assetsUrl"},outputs:{loadingSimplifyModal:"loadingSimplifyModal",createRequest:"createRequest"},features:[n.zc],decls:13,vars:10,consts:[["class","bg-white","style","width: 100%; height: 100px; text-align: center;",4,"ngIf"],["class","d-flex w-100 justify-content-center",4,"ngIf"],["title","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03a4\u03c1\u03cc\u03c0\u03bf \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2","size","md",3,"isOpen","isOpenChange"],[1,"modal-body"],["class","debits-info__payment text-center mt-3","id","debits-info__payment",4,"ngIf"],["title","\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2","size","md",3,"isOpen","isOpenChange"],["class","modal-body",4,"ngIf"],["id","everypay_form","method","post",3,"action",4,"ngIf"],["id","ethniki_form","method","post",3,"action",4,"ngIf"],["id","ethnikiPaymentBtn","data-name","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae",1,"d-none"],["id","bankPaymentForm","method","POST",1,"d-none",3,"action"],[4,"ngIf"],[1,"bg-white",2,"width","100%","height","100px","text-align","center"],[1,"d-flex","justify-content-center","align-items-center","w-100",2,"height","70%"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"d-flex","w-100","justify-content-center"],[1,"screen-msg","mt-2","p-1"],["id","debits-info__payment",1,"debits-info__payment","text-center","mt-3"],["class","payment-method__cont d-flex flex-wrap text-center justify-content-center",4,"ngIf"],[1,"payment-method__cont","d-flex","flex-wrap","text-center","justify-content-center"],[4,"ngFor","ngForOf"],[3,"id","click"],[3,"innerHTML",4,"ngIf"],["class","payment-method__icon ml-2",4,"ngIf"],[3,"innerHTML"],[1,"payment-method__icon","ml-2"],["width","40",3,"src","alt",4,"ngFor","ngForOf"],["width","40",3,"src","alt"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/iris.jpg","alt","Iris"],[1,"form"],["requestBankDataForm","ngForm"],[1,"row"],[1,"form-group","col-12"],["for","cardholderName"],["id","cardholderName","name","cardholderName","type","text","placeholder","\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-danger","pt-1",3,"hidden"],[1,"row","align-items-center","justify-content-center"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-money-check"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],["id","everypay_form","method","post",3,"action"],["id","everypay-btn-container",1,"d-none"],["name","everypay_token","id","everypay_token","type","text",1,"d-none",3,"value"],["type","text",1,"d-none",3,"name","value"],["id","ethniki_form","method","post",3,"action"],["type","text",3,"name","value"]],template:function(e,t){1&e&&(n.Qd(0,J,5,0,"div",0),n.Qd(1,Y,3,1,"div",1),n.Vc(2,"eg-modal",2),n.hd("isOpenChange",(function(e){return t.showMethods=e}))("isOpenChange",(function(){return t._closePaymentMethods()})),n.Vc(3,"div",3),n.Qd(4,ae,3,2,"div",4),n.Uc(),n.Uc(),n.Vc(5,"eg-modal",5),n.hd("isOpenChange",(function(e){return t.requestBankData=e})),n.Qd(6,de,15,3,"div",6),n.Uc(),n.Qd(7,pe,3,2,"form",7),n.Qd(8,he,1,1,"form",8),n.Vc(9,"button",9),n.Sd(10," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\n"),n.Uc(),n.Vc(11,"form",10),n.Qd(12,me,2,1,"ng-container",11),n.Uc()),2&e&&(n.sd("ngIf",t.isLoadingPaymentResponse),n.Bc(1),n.sd("ngIf",t.errorMessageProfile),n.Bc(1),n.sd("isOpen",t.showMethods),n.Bc(2),n.sd("ngIf",0==t.isLoadingPaymentResponse),n.Bc(1),n.sd("isOpen",t.requestBankData),n.Bc(1),n.sd("ngIf",t.paymentRequestDto),n.Bc(1),n.sd("ngIf",t.pancretaPaymentMethod),n.Bc(1),n.sd("ngIf",t.ethnikiPaymentMethod),n.Bc(3),n.td("action",null==t.paymentResponseDto?null:t.paymentResponseDto.postUrl,n.Kd),n.Bc(1),n.sd("ngIf",t.paymentResponseDto))},directives:[g.p,y.a,m.t,m.j,m.k,g.o,m.b,m.q,m.i,m.l],pipes:[g.m,g.i],encapsulation:2,changeDetection:0}),Qt.ctorParameters=function(){return[{type:gt},{type:ft},{type:n.k}]},Object(s.b)([Object(n.lb)("requestBankDataForm",{static:!1}),Object(s.c)("design:type",m.k)],Qt.prototype,"requestBankDataForm",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Object)],Qt.prototype,"paymentResponseDto",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Object)],Qt.prototype,"user",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",String)],Qt.prototype,"assetsUrl",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Boolean)],Qt.prototype,"isLoadingPaymentResponse",void 0),Object(s.b)([Object(n.S)(),Object(s.c)("design:type",Object)],Qt.prototype,"loadingSimplifyModal",void 0),Object(s.b)([Object(n.S)(),Object(s.c)("design:type",Object)],Qt.prototype,"createRequest",void 0),Qt=Object(s.b)([Object(s.c)("design:paramtypes",[gt,ft,n.k])],Qt);var Tt=function(){function e(t,i){_classCallCheck(this,e),this.kliseisNgSrv=t,this.cdr=i,this.payKliseis=new n.x,this.model=[],this.checkAll=!1,this.checkAllEnabled=!0,this.isLoading=!0,this.errorMsg=null,this.isLoadingPaymentResponse=!1,this.isLoadingSimplifyModal=!1,this.initPaymentMethods=!1,this.sumPliromis=0,this.sumPliroteoPoso=0,this.sumPosoKlisis=0,this.checkedKliseis=0}return _createClass(e,[{key:"ngOnInit",value:function(){this._loadData()}},{key:"_loadData",value:function(){var e=this;this.isLoading=!0,this.errorMsg=null,St(this.cdr),this.kliseisNgSrv.getKliseis(this.userInfo.tin).subscribe((function(t){t?(e.model=t,e.model.forEach((function(t){t.cannotPayReason?t.cannotPayReason=t.cannotPayReason:t.cannotPayReason="",t.canCheck=!0,t.afm?t.afm=t.afm:t.afm=e.userInfo.tin,e.model.filter((function(e){return!e.canPay})).length==e.model.length?e.checkAllEnabled=!1:e.checkAllEnabled=!0,e.sumPosoKlisis+=t.pliroteoPoso,e.sumPliroteoPoso+=t.ofeilisPoso?t.ofeilisPoso:0,t.afm!=e.userInfo.tin&&(t.cannotPayReason+="<br/>\u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03c3\u03b5 \u0391.\u03a6.\u039c. \u03b4\u03b9\u03b1\u03c6\u03bf\u03c1\u03b5\u03c4\u03b9\u03ba\u03cc \u03b1\u03c0\u03cc \u03c4\u03bf \u03b4\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2, \u03c3\u03b5 \u03c7\u03c1\u03bf\u03bd\u03b9\u03ba\u03ae \u03c3\u03c4\u03b9\u03b3\u03bc\u03ae \u03cc\u03c0\u03bf\u03c5 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c3\u03c4\u03b5 \u03c9\u03c2 \u03ba\u03ac\u03c4\u03bf\u03c7\u03bf\u03c2 \u03c4\u03bf\u03c5 \u03bf\u03c7\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2.")}))):e.errorMsg="\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd \u03c3\u03b1\u03c2.",e.isLoading=!1,St(e.cdr)}))}},{key:"_calculatePosa",value:function(){var e=this;this.sumPliromis=0,this.checkedKliseis=0,this.checkedKliseis=this.model.filter((function(e){return e.isChecked})).length,this.model.filter((function(e){return e.isChecked})).forEach((function(t){e.sumPliromis+=t.ofeilisPoso?t.ofeilisPoso:0})),St(this.cdr)}},{key:"onCheckAllKliseisClicked",value:function(){var e=this;this.checkAll=!!this.checkAll,this.model.forEach((function(t){e.checkAll&&t.afm==e.userInfo.tin&&t.canPay?t.isChecked=!0:t.isChecked=!1})),St(this.cdr),this._calculatePosa()}},{key:"onCheckKlisiClicked",value:function(e){var t;this.model.some((function(e){return e.isChecked}))&&(t=this.model.find((function(e){return e.isChecked})).afm),t?(t=e.afm,this.model.forEach((function(e){e.afm!=t?e.canCheck=!1:e.canCheck=!0}))):this.model.forEach((function(e){e.canCheck=!0})),St(this.cdr),this._calculatePosa()}},{key:"isLoadingSimplifyModalChanged",value:function(e){this.isLoadingSimplifyModal=e,St(this.cdr)}},{key:"_payActions",value:function(){var e=this;this.initPaymentMethods=!0,St(this.cdr);var t,i={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:"",entries:[]},n=[],s=_createForOfIteratorHelper(this.model.filter((function(e){return e.isChecked})));try{for(s.s();!(t=s.n()).done;){var o=t.value;n=[].concat(_toConsumableArray(n),[this._createRemittanceInfo(o)])}}catch(l){s.e(l)}finally{s.f()}if(this.onlinePaymentsSettingsCompany&&"1"==this.onlinePaymentsSettingsCompany)this.kliseisNgSrv.fillPaymentRequestAuthorized(n).subscribe((function(t){t&&(t.forEach((function(t){var n=e.model.find((function(i){return e._createRemittanceInfo(i)==t.remittanceInfo}));if(n&&t.amount&&t.amount>0){var s={remittanceInfo:t.remittanceInfo,amount:t.amount,debtorName:e.userInfo.given_name+" "+e.userInfo.family_name,tin:e.userInfo.tin,description:e._createDescription(n)};i.entries.push(s)}})),e.isLoadingPaymentResponse=!0,e.paymentMethodsComp._addPaymentRequest(i))}));else{var r,a=_createForOfIteratorHelper(this.model.filter((function(e){return e.isChecked})));try{for(a.s();!(r=a.n()).done;){var c=r.value,d={remittanceInfo:c.remittanceInfo,amount:c.ofeilisPoso,debtorName:this.userInfo.given_name+" "+this.userInfo.family_name,tin:this.userInfo.tin,description:this._createDescription(c)};i.entries.push(d)}}catch(l){a.e(l)}finally{a.f()}this.isLoadingPaymentResponse=!0,this.paymentMethodsComp._addPaymentRequest(i)}}},{key:"_createRemittanceInfo",value:function(e){return e.remittanceInfo}},{key:"_createDescription",value:function(e){return"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2: "+e.arithmosKlisis.toString()+", \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2: "+e.arithmosKikloforias+", \u0397\u03bc\u03b5\u03c1/\u03bd\u03b9\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2: "+e.hmerominiaEkdosis}}]),e}();Tt.\u0275fac=function(e){return new(e||Tt)(n.Pc(gt),n.Pc(n.k))},Tt.\u0275cmp=n.Jc({type:Tt,selectors:[["app-kliseis-debits"]],viewQuery:function(e,t){var i;1&e&&n.Yd(Qt,!0),2&e&&n.Fd(i=n.id())&&(t.paymentMethodsComp=i.first)},inputs:{isDataChanged:"isDataChanged",assetsUrl:"assetsUrl",errorMessageProfile:"errorMessageProfile",userInfo:"userInfo",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",relatedCallbackUrl:"relatedCallbackUrl"},outputs:{payKliseis:"payKliseis"},decls:6,vars:4,consts:[["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],["class","w-100 mt-2 alert alert-warning",4,"ngIf"],[4,"ngIf"],["selectedDebits",""],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"w-100","mt-2","alert","alert-warning"],["aria-hidden","true",1,"fas","fa-exclamation-circle"],[1,"w-100","mt-3","alert","alert-warning"],[1,"d-flex","flex-wrap","mb-1",2,"font-size","14px"],[1,"mr-1"],[1,"fas","fa-stop-circle","fa-fw","apliroti"],[1,"fas","fa-stop-circle","fa-fw","kataxorisi_web"],["tableStyleClass","kliseis-debits-table",3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"mb-2"],[3,"assetsUrl","user","isLoadingPaymentResponse","createRequest","loadingSimplifyModal",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"fixed-width-col-40","text-center"],[3,"binary","ngModel","disabled","ngModelChange","onChange"],[1,"fixed-width-col-40"],[1,"fixed-width-col-120"],[1,"fixed-width-col-100"],[1,"fixed-width-col-150"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["class","fixed-width-col-40 text-center",4,"ngIf"],[1,"ui-column-title"],["class","d-block",4,"ngIf"],[1,"fixed-width-col-100","text-right"],["rowspan","2",1,"fixed-width-col-40","text-center"],["colspan","8",3,"innerHtml"],["aria-label","\u0391\u03c0\u03bb\u03ae\u03c1\u03c9\u03c4\u03b7",1,"fas","fa-stop-circle","fa-fw","apliroti"],["aria-label","\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u03b1\u03c0\u03cc WEB",1,"fas","fa-stop-circle","fa-fw","kataxorisi_web"],[1,"d-block"],["colspan","6",1,"fixed-width-col-640"],["colspan","1",1,"fixed-width-col-100","text-right"],[3,"assetsUrl","user","isLoadingPaymentResponse","createRequest","loadingSimplifyModal"],[1,"debits-info","d-flex","flex-wrap","justify-content-around","w-100","align-items-center","pb-1","mb-1","border-bottom","border-light"],[1,"totalPoso"],[1,"text-right"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center"],["id","btnPayDebits","type","button",1,"paymentBtn","btn","btn-primary","btn-sm","mb-0","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-money-check","fa-fw"],[1,"d-flex","align-items-center","justify-content-between"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/visa.jpg","alt","visa","width","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/mastercard.jpg","alt","mastercard","width","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/maestro.jpg","alt","maestro","width","40"]],template:function(e,t){1&e&&(n.Qd(0,ge,3,0,"div",0),n.Qd(1,ye,3,0,"div",1),n.Qd(2,be,3,1,"div",1),n.Qd(3,Ae,23,14,"ng-container",2),n.Qd(4,De,19,8,"ng-template",null,3,n.Rd)),2&e&&(n.sd("ngIf",!t.model||t.isLoading),n.Bc(1),n.sd("ngIf",t.model&&0===t.model.length&&!t.isLoading),n.Bc(1),n.sd("ngIf",t.errorMsg&&""!=t.errorMsg&&!t.isLoading),n.Bc(1),n.sd("ngIf",t.model&&t.model.length>0&&!t.isLoading))},directives:[g.p,S.a,I.d,g.u,k.a,m.i,m.l,g.n,Qt],pipes:[g.f,g.d],encapsulation:2,changeDetection:0}),Tt.ctorParameters=function(){return[{type:gt},{type:n.k}]},Object(s.b)([Object(n.lb)(Qt,{static:!1}),Object(s.c)("design:type",Qt)],Tt.prototype,"paymentMethodsComp",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Boolean)],Tt.prototype,"isDataChanged",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",String)],Tt.prototype,"assetsUrl",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",String)],Tt.prototype,"errorMessageProfile",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Object)],Tt.prototype,"userInfo",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",String)],Tt.prototype,"onlinePaymentsSettingsCompany",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",String)],Tt.prototype,"relatedCallbackUrl",void 0),Object(s.b)([Object(n.S)(),Object(s.c)("design:type",Object)],Tt.prototype,"payKliseis",void 0),Tt=Object(s.b)([Object(s.c)("design:paramtypes",[gt,n.k])],Tt);var qt=function(){function e(t,i,s,o,r){_classCallCheck(this,e),this.kliseisNgSrv=t,this.pluginCacheSrv=i,this.route=s,this._http=o,this.cdr=r,this.model=[],this.changeTabIndex=new n.x,this.checkAll=!1,this.sumPliroteoPoso=0,this.applicationUrl="",this.kliseisApiUrl="",this.financeApiUrl="",this.isLoading=!0,this.onDestroy=new c.a,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.kliseisApiUrl=AppConfOptions.kliseis_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.kliseisApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.pluginCacheSrv.userInfo$.pipe(Object(p.a)(this.onDestroy)).subscribe((function(t){t&&(e.userInfo=t),e.cdr.detectChanges()})),this._getBankMessages().pipe(Object(u.a)((function(t){return t?(e.oikonomikiBankMessages=t,e.route.queryParams.pipe(Object(p.a)(e.onDestroy))):Object(r.a)(!1)}))).subscribe((function(t){if(t){var i=t,n=i.messagecode,s=i.btId;if(e.cdr.detectChanges(),n)if(e.changeTabIndex.emit(1),e.bankStatusMessage=e.oikonomikiBankMessages[n],"TRANSACTION_COMPLETED"==n){if(e.bankStatusMessageClass="success",s){var o=new Bt;o.address=e.userInfo.address,o.address_city=e.userInfo.address_city,o.address_country_code=e.userInfo.address_country_code,o.address_zip=e.userInfo.address_zip,o.adt=e.userInfo.adt,o.debtorName=e.userInfo.given_name+" "+e.userInfo.family_name,o.email=e.userInfo.email,o.phone_number=e.userInfo.phone_number,o.tin=e.userInfo.tin,o.bankTransactionId=s,e.kliseisNgSrv.markKlisiWebExoflisi(o).subscribe((function(){e._loadData()}))}}else e.bankStatusMessageClass="fail"}e.cdr.detectChanges(),e._loadData()}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"btnBankStatusMessageClicked",value:function(){this.bankStatusMessage=null,this.cdr.detectChanges()}},{key:"_loadData",value:function(){var e=this;this.isLoading=!0,this.kliseisNgSrv.getKliseisPayed(this.userInfo.tin).subscribe((function(t){t&&(e.model=t,e.model.forEach((function(t){return e.sumPliroteoPoso+=t.pliroteoPoso})),e.model=e.model.sort((function(e,t){return e.hmerominiaEkdosis!=t.hmerominiaEkdosis?new Date(t.hmerominiaEkdosis).getTime()-new Date(e.hmerominiaEkdosis).getTime():+t.arithmosKlisis-+e.arithmosKlisis})),e.cdr.detectChanges()),e.isLoading=!1,e.cdr.detectChanges()}))}},{key:"_getBankMessages",value:function(){var e=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(e)}}]),e}();qt.\u0275fac=function(e){return new(e||qt)(n.Pc(gt),n.Pc(yt),n.Pc(f.a),n.Pc(o.b),n.Pc(n.k))},qt.\u0275cmp=n.Jc({type:qt,selectors:[["app-kliseis-receipts"]],outputs:{changeTabIndex:"changeTabIndex"},decls:4,vars:4,consts:[["class","d-flex w-100 justify-content-center",4,"ngIf"],[3,"class",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center"],[1,"alert","alert-warning","p-1"],["type","button",1,"close-bank-msg","position-absolute",2,"right","5px","top","5px","background-color","transparent","border","0 none","color","#ffffff",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"d-flex","flex-wrap","mb-1",2,"font-size","14px"],[1,"mr-1"],[1,"fas","fa-stop-circle","fa-fw","exoflimeni"],[1,"fas","fa-stop-circle","fa-fw","exoflisi_web"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"fixed-width-col-40"],[1,"fixed-width-col-120"],[1,"fixed-width-col-150"],[1,"fixed-width-col-100"],[1,"fixed-width-col-40","text-center"],[1,"ui-column-title"],["class","d-block",4,"ngIf"],[1,"fixed-width-col-100","text-right"],[1,"d-block"],["colspan","8",1,"text-right"]],template:function(e,t){1&e&&(n.Qd(0,Fe,3,0,"div",0),n.Qd(1,Ke,4,4,"div",1),n.Qd(2,Qe,3,0,"div",2),n.Qd(3,Ye,16,10,"ng-container",3)),2&e&&(n.sd("ngIf",t.model&&0===t.model.length&&!t.isLoading),n.Bc(1),n.sd("ngIf",t.bankStatusMessage),n.Bc(1),n.sd("ngIf",!t.model||t.isLoading),n.Bc(1),n.sd("ngIf",t.model&&t.model.length>0&&!t.isLoading))},directives:[g.p,S.a,I.d],pipes:[g.f,g.d],encapsulation:2,changeDetection:0}),qt.ctorParameters=function(){return[{type:gt},{type:yt},{type:f.a},{type:o.b},{type:n.k}]},Object(s.b)([Object(n.S)(),Object(s.c)("design:type",Object)],qt.prototype,"changeTabIndex",void 0),qt=Object(s.b)([Object(s.c)("design:paramtypes",[gt,yt,f.a,o.b,n.k])],qt);var Lt=[{path:"",component:Pt,children:[{path:"debits",component:Tt,canActivate:[jt]},{path:"receipts",component:qt,canActivate:[jt]}]}],Nt=function e(){_classCallCheck(this,e)};Nt.\u0275mod=n.Nc({type:Nt}),Nt.\u0275inj=n.Mc({factory:function(e){return new(e||Nt)},imports:[[f.g.forChild(Lt)],f.g]});var zt=function(){function e(t,i,n,s,o,r){_classCallCheck(this,e),this.kliseisNgSrv=t,this.toasterSrv=i,this.route=n,this.router=s,this._http=o,this.cdr=r,this.model=new xt,this.onDestroy=new c.a,this.isLoading=!1,this.isLoadingPaymentRequest=!1,this.requestMsg="",this.requestMsgClass="info",this.isFormSubmitted=!1,this.isFormPaySubmitted=!1,this.oikonomikiBankMessages={CODE_HAS_NO_BALANCE:"\u039f \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2 \u03ad\u03c7\u03b5\u03b9 \u03bc\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03cc \u03c5\u03c0\u03cc\u03bb\u03bf\u03b9\u03c0\u03bf",CODE_NOT_FOUND:"\u039f \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2 \u03b4\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b5",DEBTOR_ADDRESS_REQUIRED:"\u0394\u03b5\u03bd \u03ad\u03c7\u03bf\u03c5\u03bd \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03c9\u03b8\u03b5\u03af \u03c4\u03b1 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2",DEBTOR_NOT_UNIQUE:"\u039f \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c4\u03b7\u03c2 \u03b4\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03c4\u03b1\u03c5\u03c4\u03bf\u03c0\u03bf\u03b9\u03b7\u03b8\u03b5\u03af \u03bc\u03bf\u03bd\u03b1\u03b4\u03b9\u03ba\u03ac \u03bc\u03b5 \u03b2\u03ac\u03c3\u03b7 \u03c4\u03bf \u0391\u03a6\u039c",DEBTOR_TIN_REQUIRED:"\u0391\u03c0\u03b1\u03b9\u03c4\u03b5\u03af\u03c4\u03b1\u03b9 \u0391\u03a6\u039c",HASH_MISMATCH:"\u0391\u03b4\u03c5\u03bd\u03b1\u03bc\u03af\u03b1 \u03b5\u03c0\u03b1\u03bb\u03ae\u03b8\u03b5\u03c5\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2",INVALID_CULTURE:"\u0386\u03b3\u03bd\u03c9\u03c3\u03c4\u03b7 \u03ba\u03c9\u03b4\u03b9\u03ba\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7 \u03b3\u03bb\u03ce\u03c3\u03c3\u03b1\u03c2",OK:"",SETTLEMENT_PENDING:"\u0397 \u03c7\u03c1\u03ad\u03c9\u03c3\u03b7 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c3\u03b5 \u03b5\u03ba\u03ba\u03c1\u03b5\u03bc\u03cc\u03c4\u03b7\u03c4\u03b1",TICKET_NOT_ISSUED:"\u0394\u03b5\u03bd \u03b5\u03ba\u03b4\u03cc\u03b8\u03b7\u03ba\u03b5 Ticket",TRANSACTION_CANCELED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b1\u03ba\u03c5\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u03b1\u03c0\u03bf \u03c4\u03bf \u03c7\u03c1\u03ae\u03c3\u03c4\u03b7.",TRANSACTION_COMPLETED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1.",TRANSACTION_ERROR:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b4\u03b5\u03bd \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5",TRANSACTION_REJECTED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b1\u03c0\u03bf\u03c1\u03c1\u03af\u03c6\u03b8\u03b7\u03ba\u03b5 \u03b1\u03c0\u03bf \u03c4\u03b7\u03bd \u03c4\u03c1\u03ac\u03c0\u03b5\u03b6\u03b1",UNKNOWN_ERROR:"\u0386\u03b3\u03bd\u03c9\u03c3\u03c4\u03bf \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1"},this.today=new Date,this.thisYear=this.today.getFullYear(),this.isFormValid=!0,this.formDictionaryEnum=Vt}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;AppConfOptions.applicationUrl&&AppConfOptions.applicationUrl.includes("localhost")?(this.financeApi=AppConfOptions.financeApi,this.callbackUrl=AppConfOptions.applicationUrl+"/plugin"):(this.financeApi=AppConfOptions.epayments_api,this.callbackUrl=AuthConfOptions.post_logout_redirect_uri+"/egwebapps/kliseis"),this.route.queryParams.pipe(Object(u.a)((function(t){if(t){var i=t;if(i.messagecode&&"TRANSACTION_COMPLETED"==i.messagecode){e.bankStatusMessage=e.oikonomikiBankMessages[i.messagecode];var n=new Ft;return n.btId=i.btId,n.returnUrl=e.callbackUrl,n.status=i.status,n.messagecode=i.messagecode,St(e.cdr),e.kliseisNgSrv.getFinancePaymentCallback(n)}return e.bankStatusMessage=e.oikonomikiBankMessages[i.messagecode],e.bankStatusMessageClass="fail",St(e.cdr),Object(r.a)(!1)}return Object(r.a)(!1)})),Object(p.a)(this.onDestroy)).subscribe((function(t){e.bankStatusMessageClass=t?"success":"fail",St(e.cdr)}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"onCheckKlisiClicked",value:function(){var e=this;this.isFormSubmitted=!0,this.isFormValid=!0,this.formErrorsMsg="",this.requestMsg="";var t,i="";if(!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias?""!=(t=Ot(t=It(this.model.arithmosKikloforias)).toUpperCase())&&0==Ct(t)?(this.toasterSrv.showWarning("","\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000)"),this.isFormValid=!1):this.model.arithmosKikloforias&&this.model.arithmosKikloforias!=t&&(this.isFormValid=!0):this.isFormValid=!0,this.model.etos&&+this.model.etos>+this.thisYear&&(this.isFormValid=!1,i="<li>\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf "+this.thisYear+".</li>"),St(this.cdr),this.isFormSubmitted&&this.klisiAnazitisi.valid&&this.isFormValid)this.isLoading=!0,this.response=null,this.requestMsg="",this.model.isAuthorized=!1,this.model.arithmosKikloforias&&t&&this.model.arithmosKikloforias!=t&&(this.model.arithmosKikloforias=t),St(this.cdr),this.kliseisNgSrv.getStoixeiaKlisisForWebPliromiEtos(this.model).subscribe((function(t){t?(e.response=t,e.response.canPay?(e.toasterSrv.showInfo("",e.response.messageResponse),e.requestMsg=e.response.messageResponse):(e.toasterSrv.showWarning("",e.response.messageResponse),e.requestMsg=e.response.messageResponse,e.requestMsgClass="warning")):(e.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1."),e.requestMsg="\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1.",e.requestMsgClass="error"),e.isLoading=!1,St(e.cdr)}));else{if(this.formErrors=Ut(this.klisiAnazitisi,this.formDictionaryEnum,""),this.formErrors||!this.isFormValid){if(this.formErrorsMsg="<ul>",this.formErrors&&this.formErrors.forEach((function(t){var i;"required"==t.error?i="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==t.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==t.error&&(i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),e.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+e.formDictionaryEnum[t.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+i+"</li>"})),this.formErrorsMsg+=i,!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias){var n=It(this.model.arithmosKikloforias);""!=(n=Ot(t).toUpperCase())&&0==Ct(n)&&(this.formErrorsMsg+="<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000).</li>")}this.formErrorsMsg+="<ul>"}St(this.cdr)}}},{key:"onCancelClicked",value:function(){this.model=new xt,this.response=null,this.isFormSubmitted=!1,this.isFormPaySubmitted=!1,this.formErrors=null,this.formErrorsMsg=null,this.requestMsg="",St(this.cdr)}},{key:"onPayKlisiClicked",value:function(){var e=this;if(this.isLoadingPaymentRequest=!0,this.isFormPaySubmitted=!0,this.isFormSubmitted=!1,this.formErrorsMsgPay="",this.formErrorsPay=null,St(this.cdr),this.isFormPaySubmitted&&this.klisiPayUnauthorized.valid){var t=new Dt;t.remittanceInfo=this.response.remittanceInfo,t.relatedCallbackUrl=this.callbackUrl,!this.response.hasDieuthinsi&&(t.dieuthinsi=this.model.address),!this.response.hasDieuthinsi&&(t.tk=this.model.tk),!this.response.hasDieuthinsi&&(t.poli=this.model.poli),!this.response.hasEmail&&(t.email=this.model.email),!this.response.hasTilefono&&(t.tilefono=this.model.tilefono),this.model.debtorName?t.eponimia=this.model.debtorName:t.eponimia=null,this.model.tin?t.afm=this.model.tin:t.afm=null,this.kliseisNgSrv.fillPaymentRequestDtoNonAuthorized(t).subscribe((function(t){if(t){var i=t;i.statusCode==wt.Ok?e._postBankForm(i.model):i.statusCode==wt.Error&&"DEBTOR_ADDRESS_REQUIRED"==i.messageId&&(e.bankMsg="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",e.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.")),e.isLoadingPaymentRequest=!1,St(e.cdr)}}))}else this.isLoadingPaymentRequest=!1,this.formErrorsMsgPay="",this.formErrorsPay=Ut(this.klisiPayUnauthorized,this.formDictionaryEnum,""),St(this.cdr),this.formErrorsPay&&(this.formErrorsMsgPay="<ul>",this.formErrorsPay.forEach((function(t){var i;"required"==t.error?i="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==t.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==t.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"afmvalidator"==t.error&&(i="\u039f \u0391.\u03a6.\u039c. \u03b4\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9"),e.formErrorsMsgPay+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+e.formDictionaryEnum[t.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+i+"</li>"})),this.formErrorsMsgPay+="<ul>"),St(this.cdr)}},{key:"_postBankForm",value:function(e){var t=Object.keys(e.postFields).map((function(t){return{key:t,value:e.postFields[t]}}));e.postFields=t,this.paymentResponseDto=e,setTimeout((function(){document.getElementById("bankPaymentForm").submit()}),50),St(this.cdr)}}]),e}();zt.\u0275fac=function(e){return new(e||zt)(n.Pc(gt),n.Pc(ft),n.Pc(f.a),n.Pc(f.d),n.Pc(o.b),n.Pc(n.k))},zt.\u0275cmp=n.Jc({type:zt,selectors:[["app-kliseis-unauthorized-pay"]],viewQuery:function(e,t){var i;1&e&&(n.Yd(Xe,!0),n.Yd(Ze,!0)),2&e&&(n.Fd(i=n.id())&&(t.klisiAnazitisi=i.first),n.Fd(i=n.id())&&(t.klisiPayUnauthorized=i.first))},decls:2,vars:2,consts:[[3,"class",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-primary","btn-sm","mb-0","mt-2",3,"href"],["aria-hidden","true",1,"fas","fa-undo","fa-fw"],[1,"form"],["klisiAnazitisi","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6","d-inline-flex","align-items-center"],["name","isForeign","value","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","label","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","binary","true",1,"rowCheckbox",3,"ngModel","disabled","ngModelChange"],["isForeign","ngModel"],[1,"form-group","col-12","col-md-6"],["name","arithmosKikloforias","type","text","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2","autocomplete","nope","required","",1,"form-control",2,"text-transform","uppercase",3,"ngModel","disabled","ngModelChange"],["arithmosKikloforiasInput","ngModel"],[1,"text-danger","pt-1",3,"hidden"],["name","arithmosKlisis","type","text","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2","pattern","([0-9]{1,12})","maxlength","12","autocomplete","nope","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["arithmosKlisisInput","ngModel"],[1,"col-12","col-md-6"],["name","etosKlisis","type","text","placeholder","\u0388\u03c4\u03bf\u03c2","pattern","([0-9]{4})","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["etosKlisisInput","ngModel"],[1,"form-actions","row","justify-content-center","pb-0"],["type","button",1,"btn","btn-primary","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["type","button",1,"btn","btn-warning",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["class","bg-white","style","width: 100%; height: 100px",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"bg-white",2,"width","100%","height","100px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],["class","form mt-2",4,"ngIf"],[1,"form","mt-2"],["klisiPayUnauthorized","ngForm"],["class","row",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-money-check","fa-fw"],["class","bg-white","style","width: 100%; height: 50px;",4,"ngIf"],["name","debtorName","type","text","placeholder","\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1","required","",1,"form-control",3,"ngModel","ngModelChange"],["debtorNameInput","ngModel"],["name","tin","type","text","placeholder","\u0391.\u03a6.\u039c.","validateAfm","","required","",1,"form-control",3,"ngModel","ngModelChange"],["tinInput","ngModel"],["class","col-12",3,"ngClass",4,"ngIf"],[1,"col-12",3,"ngClass"],["name","email","type","email","placeholder","Email","required","",1,"form-control",3,"ngModel","ngModelChange"],["emailInput","ngModel"],["name","tilefono","type","text","placeholder","69XXXXXXXX","pattern","^69([0-9]{8})$","required","",1,"form-control",3,"ngModel","ngModelChange"],["tilefonoInput","ngModel"],[1,"col-12","col-md-5"],["name","address","type","text","placeholder","\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7","required","",1,"form-control",3,"ngModel","ngModelChange"],["addressInput","ngModel"],[1,"col-12","col-md-2"],["name","tk","type","text","placeholder","\u03a4.\u039a.","required","",1,"form-control",3,"ngModel","ngModelChange"],["tkInput","ngModel"],["name","poli","type","text","placeholder","\u03a0\u03cc\u03bb\u03b7","required","",1,"form-control",3,"ngModel","ngModelChange"],["poliInput","ngModel"],[1,"bg-white",2,"width","100%","height","50px"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"]],template:function(e,t){1&e&&(n.Qd(0,et,5,5,"div",0),n.Qd(1,ht,39,15,"ng-container",1)),2&e&&(n.sd("ngIf",t.bankStatusMessage),n.Bc(1),n.sd("ngIf",!t.bankStatusMessage))},directives:[g.p,m.t,m.j,m.k,k.a,m.i,m.l,m.b,m.q,m.o,m.e,Rt,g.n],encapsulation:2,changeDetection:0}),zt.ctorParameters=function(){return[{type:gt},{type:ft},{type:f.a},{type:f.d},{type:o.b},{type:n.k}]},Object(s.b)([Object(n.lb)("klisiAnazitisi"),Object(s.c)("design:type",m.k)],zt.prototype,"klisiAnazitisi",void 0),Object(s.b)([Object(n.lb)("klisiPayUnauthorized"),Object(s.c)("design:type",m.k)],zt.prototype,"klisiPayUnauthorized",void 0),zt=Object(s.b)([Object(s.c)("design:paramtypes",[gt,ft,f.a,f.d,o.b,n.k])],zt);var Wt=function e(){_classCallCheck(this,e)};Wt.\u0275mod=n.Nc({type:Wt}),Wt.\u0275inj=n.Mc({factory:function(e){return new(e||Wt)},providers:[jt,{provide:b.a,useValue:{align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."}}],imports:[[g.c,m.d,Nt,y.b,U.c,v.b,S.b,k.b,b.c]]}),("undefined"==typeof ngJitMode||ngJitMode)&&n.Ld(Nt,{imports:function(){return[f.g]},exports:function(){return[f.g]}}),("undefined"==typeof ngJitMode||ngJitMode)&&n.Ld(Wt,{declarations:function(){return[Pt,Tt,qt,zt,Kt,Rt,Qt]},imports:function(){return[g.c,m.d,Nt,y.b,U.c,v.b,S.b,k.b,b.c]},exports:function(){return[Pt,Tt,qt,zt,Kt,Rt]}});var Gt,$t=i("1kSV"),Ht=i("PCNd"),Jt=function(){function e(t,i){_classCallCheck(this,e),this.oidcSecuritySrv=t,this.router=i,this.onDestroy=new c.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.oidcSecuritySrv.getIsAuthorized().subscribe((function(t){e.isAuthorized=t,e.isAuthorized?(AppConfOptions&&AppConfOptions.kliseis_debits_tab_info&&""!=AppConfOptions.kliseis_debits_tab_info&&e.router.url.includes("debits")&&(e.tabMsg=AppConfOptions.kliseis_debits_tab_info),AppConfOptions&&AppConfOptions.kliseis_receipts_tab_info&&""!=AppConfOptions.kliseis_receipts_tab_info&&e.router.url.includes("receipts")&&(e.tabMsg=AppConfOptions.kliseis_receipts_tab_info)):AppConfOptions&&AppConfOptions.kliseis_unauthorized_info&&""!=AppConfOptions.kliseis_unauthorized_info&&(e.tabMsg=AppConfOptions.kliseis_unauthorized_info)})),this.router.events.pipe(Object(p.a)(this.onDestroy)).subscribe((function(t){if(t&&t instanceof f.c){var i=t.url;e.isAuthorized&&(i.includes("receipts")?AppConfOptions&&AppConfOptions.kliseis_receipts_tab_info&&""!=AppConfOptions.kliseis_receipts_tab_info&&(e.tabMsg=AppConfOptions.kliseis_receipts_tab_info):AppConfOptions&&AppConfOptions.kliseis_debits_tab_info&&""!=AppConfOptions.kliseis_debits_tab_info&&(e.tabMsg=AppConfOptions.kliseis_debits_tab_info))}}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}}]),e}();Jt.ctorParameters=function(){return[{type:C.c},{type:f.d}]};var Yt=[{path:"",component:Jt=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}([Object(n.n)({selector:"app-kliseis",template:(Gt=i("04IN"),Gt&&Gt.__esModule?Gt:{default:Gt}).default}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[C.c,f.d])],Jt),children:[{path:"",loadChildren:function(){return Promise.resolve().then(i.bind(null,"UGYw")).then((function(e){return e.PublicLibLoader}))}}]}],Xt=function e(){_classCallCheck(this,e)};Xt=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}([Object(n.L)({imports:[f.g.forChild(Yt)],exports:[f.g]})],Xt);var Zt=function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},ei=function e(){_classCallCheck(this,e)};ei=Zt([Object(n.L)({declarations:[Jt],imports:[Ht.a,Xt,$t.d,Wt]})],ei);var ti=function e(){_classCallCheck(this,e)};ti=Zt([Object(n.L)({imports:[Wt]})],ti)}}]);