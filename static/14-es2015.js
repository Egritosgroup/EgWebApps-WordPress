(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"04IN":function(e,t,i){"use strict";i.r(t),t.default='<div *ngIf="tabMsg"\r\n\t  class="tab-msg"\r\n\t  [innerHTML]="tabMsg | decodeHtmlString"></div>\r\n<lib-kliseis-ng></lib-kliseis-ng>\r\n'},UGYw:function(e,t,i){"use strict";i.r(t),i.d(t,"KliseisModule",(function(){return ei})),i.d(t,"PublicLibLoader",(function(){return ti}));var s=i("fXoL"),n=i("mrSG"),o=i("tk/3"),c=i("LRne"),r=i("2Vo4"),a=i("XNiG"),d=i("lJxs"),l=i("JIr8"),h=i("eIep"),p=i("1G5W"),m=i("5eHb"),u=i("tyNb"),f=i("3Pt+"),g=i("ofXK"),b=i("3u8h"),y=i("9nqD"),k=i("eO1q"),S=i("Ji6n"),U=i("rEr+"),I=i("dPl2"),v=i("zazq"),O=i("7zfz");function P(e,t){1&e&&(s.Tc(0),s.Qc(1,"app-kliseis-unauthorized-pay"),s.Sc())}function C(e,t){if(1&e){const e=s.Wc();s.Vc(0,"div",8),s.Vc(1,"button",9),s.hd("click",(function(){s.Id(e);return s.jd(2).onAddKlisiClicked()})),s.Qc(2,"i",10),s.Sd(3," \u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u039d\u03ad\u03b1\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2 "),s.Uc(),s.Uc()}}function j(e,t){if(1&e){const e=s.Wc();s.Vc(0,"app-kliseis-receipts",11),s.hd("changeTabIndex",(function(){s.Id(e);return s.jd(2).index=1})),s.Uc()}}function M(e,t){if(1&e){const e=s.Wc();s.Tc(0),s.Qd(1,C,4,0,"div",2),s.Vc(2,"p-tabView",3),s.hd("onChange",(function(t){s.Id(e);return s.jd().onTabChanged(t)})),s.Vc(3,"p-tabPanel",4),s.Qc(4,"app-kliseis-debits",5),s.Uc(),s.Vc(5,"p-tabPanel",6),s.Qd(6,j,1,0,"ng-template",7),s.Uc(),s.Uc(),s.Sc()}if(2&e){const e=s.jd();s.Bc(1),s.sd("ngIf",e.onlinePaymentsSettingsCompany&&"1"==e.onlinePaymentsSettingsCompany),s.Bc(1),s.sd("activeIndex",e.index),s.Bc(2),s.sd("isDataChanged",e.isDataChanged)("userInfo",e.userInfo)("errorMessageProfile",e.errorMessageProfile)("assetsUrl",e.assetsUrl)("onlinePaymentsSettingsCompany",e.onlinePaymentsSettingsCompany)("relatedCallbackUrl",e.returnUrl)}}function V(e,t){if(1&e){const e=s.Wc();s.Tc(0),s.Vc(1,"div",12),s.Vc(2,"lib-kliseis-add-new",13),s.hd("klisiAdded",(function(t){s.Id(e);return s.jd()._klisiAdded(t)})),s.Uc(),s.Uc(),s.Sc()}if(2&e){const e=s.jd();s.Bc(2),s.sd("userInfo",e.userInfo)("isLoadingPaymentRequest",e.isLoadingPaymentRequest)("relatedCallbackUrl",e.returnUrl)}}const w=["f"];function E(e,t){1&e&&(s.Vc(0,"div",2),s.Vc(1,"span",3),s.Qc(2,"i",4),s.Uc(),s.Uc())}function _(e,t){1&e&&(s.Vc(0,"span"),s.Sd(1,"*"),s.Uc())}function x(e,t){if(1&e){const e=s.Wc();s.Vc(0,"div",7),s.Vc(1,"div",29),s.Vc(2,"span",30),s.Qc(3,"i",31),s.Sd(4," \u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03bc\u03b7 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1\u03c2 \u03c3\u03c5\u03bc\u03c0\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7\u03c2 \u03b1\u03ba\u03c1\u03b9\u03b2\u03bf\u03cd\u03c2 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1\u03c2 & \u03ce\u03c1\u03b1\u03c2 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03c4\u03b5 \u03c4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2."),s.Uc(),s.Vc(5,"label"),s.Sd(6,"\u0388\u03c4\u03bf\u03c2"),s.Uc(),s.Vc(7,"input",32,33),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(2).etosKlisis=t})),s.Uc(),s.Vc(9,"div",14),s.Sd(10),s.Uc(),s.Uc(),s.Uc()}if(2&e){const e=s.Gd(8),t=s.jd(2);s.Bc(7),s.sd("ngModel",t.etosKlisis)("readonly",t.model.hmerominiaEkdosis||t.response),s.Bc(2),s.sd("hidden",!t.isFormSubmitted||!t.etosKlisis||t.isFormSubmitted&&t.etosKlisis&&e.valid),s.Bc(1),s.Ud(" \u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 \u03a7\u03a7\u03a7\u03a7 \u03cc\u03c0\u03bf\u03c5 \u03a7 \u03bc\u03cc\u03bd\u03bf \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bc\u03b9\u03ba\u03c1\u03cc\u03c4\u03b5\u03c1\u03bf \u03ae \u03af\u03c3\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf ",t.thisYear,". ")}}function B(e,t){1&e&&(s.Vc(0,"p",34),s.Qc(1,"i",35),s.Sd(2," \u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03b3\u03ba\u03b5\u03ba\u03c1\u03b9\u03bc\u03ad\u03bd\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2."),s.Uc())}function R(e,t){if(1&e){const e=s.Wc();s.Vc(0,"div",40),s.Vc(1,"label"),s.Sd(2,"Email*"),s.Uc(),s.Vc(3,"input",41,42),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(4).model.email=t})),s.Uc(),s.Vc(5,"div",14),s.Sd(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),s.Uc(),s.Uc()}if(2&e){const e=s.Gd(4),t=s.jd(4);s.sd("ngClass",t.response.hasTilefono?"col-md-12":"col-md-8"),s.Bc(3),s.sd("ngModel",t.model.email)("readonly",t.response.hasEmail&&t.model.email),s.Bc(2),s.sd("hidden",!t.isFormSubmitted||t.isFormSubmitted&&e.valid)}}function A(e,t){if(1&e){const e=s.Wc();s.Vc(0,"div",40),s.Vc(1,"label"),s.Sd(2,"\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb.*"),s.Uc(),s.Vc(3,"input",43,44),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(4).model.tilefono=t})),s.Uc(),s.Vc(5,"div",14),s.Sd(6," *\u03a4\u03bf \u03ba\u03b9\u03bd\u03b7\u03c4\u03cc \u03c4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03ad\u03c7\u03b5\u03b9 10 \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 69\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7. "),s.Uc(),s.Uc()}if(2&e){const e=s.Gd(4),t=s.jd(4);s.sd("ngClass",t.response.hasEmail?"col-md-12":"col-md-4"),s.Bc(3),s.sd("ngModel",t.model.tilefono)("readonly",t.response.hasTilefono&&t.model.tilefono),s.Bc(2),s.sd("hidden",!t.isFormSubmitted||t.isFormSubmitted&&e.valid)}}function K(e,t){if(1&e&&(s.Vc(0,"div",7),s.Qd(1,R,7,4,"div",39),s.Qd(2,A,7,4,"div",39),s.Uc()),2&e){const e=s.jd(3);s.Bc(1),s.sd("ngIf",!e.response.hasEmail),s.Bc(1),s.sd("ngIf",!e.response.hasTilefono)}}function F(e,t){if(1&e){const e=s.Wc();s.Vc(0,"div",7),s.Vc(1,"div",45),s.Vc(2,"label"),s.Sd(3,"\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7*"),s.Uc(),s.Vc(4,"input",46,47),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(3).model.address=t})),s.Uc(),s.Vc(6,"div",14),s.Sd(7," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),s.Uc(),s.Uc(),s.Vc(8,"div",48),s.Vc(9,"label"),s.Sd(10,"\u03a4.\u039a.*"),s.Uc(),s.Vc(11,"input",49,50),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(3).model.tk=t})),s.Uc(),s.Vc(13,"div",14),s.Sd(14," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),s.Uc(),s.Uc(),s.Uc()}if(2&e){const e=s.Gd(5),t=s.Gd(12),i=s.jd(3);s.Bc(4),s.sd("ngModel",i.model.address)("readonly",i.response.hasDieuthinsi&&i.model.address),s.Bc(2),s.sd("hidden",!i.isFormSubmitted||i.isFormSubmitted&&e.valid),s.Bc(5),s.sd("ngModel",i.model.tk)("readonly",i.response.hasDieuthinsi&&i.model.tk),s.Bc(2),s.sd("hidden",!i.isFormSubmitted||i.isFormSubmitted&&t.valid)}}function Q(e,t){if(1&e){const e=s.Wc();s.Vc(0,"div",7),s.Vc(1,"div",29),s.Vc(2,"label"),s.Sd(3,"\u03a0\u03cc\u03bb\u03b7*"),s.Uc(),s.Vc(4,"input",51,52),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(3).model.poli=t})),s.Uc(),s.Vc(6,"div",14),s.Sd(7," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),s.Uc(),s.Uc(),s.Uc()}if(2&e){const e=s.Gd(5),t=s.jd(3);s.Bc(4),s.sd("ngModel",t.model.poli)("readonly",t.response.hasDieuthinsi&&t.model.poli),s.Bc(2),s.sd("hidden",!t.isFormSubmitted||t.isFormSubmitted&&e.valid)}}function D(e,t){if(1&e){const e=s.Wc();s.Tc(0),s.Vc(1,"div",7),s.Vc(2,"div",36),s.Vc(3,"label"),s.Sd(4,"\u03a0\u03bf\u03c3\u03cc*"),s.Uc(),s.Vc(5,"input",37,38),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(2).model.poso=t})),s.Uc(),s.Vc(7,"div",14),s.Sd(8," *\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03bc\u03b5 \u03bc\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03cc \u03c0\u03bf\u03c3\u03cc. "),s.Uc(),s.Uc(),s.Uc(),s.Qd(9,K,3,2,"div",20),s.Qd(10,F,15,6,"div",20),s.Qd(11,Q,8,3,"div",20),s.Sc()}if(2&e){const e=s.jd(2);s.Bc(5),s.sd("ngModel",e.model.poso)("readonly",0!=e.response.klisiId),s.Bc(2),s.sd("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.model.poso&&e.model.poso>0),s.Bc(2),s.sd("ngIf",!e.response.hasEmail||e.response.hasTilefono),s.Bc(1),s.sd("ngIf",!e.response.hasDieuthinsi),s.Bc(1),s.sd("ngIf",!e.response.hasDieuthinsi)}}function T(e,t){if(1&e){const e=s.Wc();s.Vc(0,"button",53),s.hd("click",(function(){s.Id(e);return s.jd(2).onAnazitisi()})),s.Qc(1,"i",54),s.Sd(2," \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7"),s.Uc()}}function L(e,t){if(1&e){const e=s.Wc();s.Vc(0,"button",53),s.hd("click",(function(){s.Id(e);return s.jd(2).onPliromiClicked()})),s.Qc(1,"i",55),s.Sd(2," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae"),s.Uc()}}function q(e,t){if(1&e&&s.Qc(0,"div",56),2&e){const e=s.jd(2);s.sd("innerHTML",e.formErrorsMsg,s.Jd)}}function N(e,t){1&e&&(s.Vc(0,"div",57),s.Vc(1,"span",3),s.Qc(2,"i",58),s.Uc(),s.Uc())}function z(e,t){if(1&e&&s.Qc(0,"div",56),2&e){const e=s.jd(2);s.sd("innerHTML",e.response.messageResponse,s.Jd)}}function W(e,t){1&e&&(s.Vc(0,"div",59),s.Sd(1," \u0397 \u03b1\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7 \u03c4\u03b7\u03c2 \u03b1\u03af\u03c4\u03b7\u03c3\u03b7\u03c2 \u03b1\u03c0\u03ad\u03c4\u03c5\u03c7\u03b5."),s.Uc())}const $=function(){return{width:"100%"}};function G(e,t){if(1&e){const e=s.Wc();s.Vc(0,"form",5,6),s.Vc(2,"div",7),s.Vc(3,"div",8),s.Vc(4,"p-checkbox",9,10),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd().model.isForeign=t})),s.Uc(),s.Uc(),s.Uc(),s.Vc(6,"div",7),s.Vc(7,"div",11),s.Vc(8,"label"),s.Sd(9,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2*"),s.Uc(),s.Vc(10,"input",12,13),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd().model.arithmosKlisis=t})),s.Uc(),s.Vc(12,"div",14),s.Sd(13," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03ad\u03c0\u03bf\u03bd\u03c4\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03bc\u03ad\u03c7\u03c1\u03b9 12 \u03b1\u03c1\u03b9\u03b8\u03bc\u03bf\u03af. "),s.Uc(),s.Uc(),s.Vc(14,"div",11),s.Vc(15,"label"),s.Sd(16,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2*"),s.Uc(),s.Vc(17,"input",15,16),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd().model.arithmosKikloforias=t})),s.Uc(),s.Vc(19,"div",14),s.Sd(20," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),s.Uc(),s.Uc(),s.Uc(),s.Vc(21,"div",7),s.Vc(22,"div",11),s.Vc(23,"label"),s.Sd(24,"\u0397\u03bc. \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2"),s.Qd(25,_,2,0,"span",17),s.Uc(),s.Vc(26,"p-calendar",18),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd().model.hmerominiaEkdosis=t})),s.Uc(),s.Uc(),s.Vc(27,"div",11),s.Vc(28,"label"),s.Sd(29,"\u038f\u03c1\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2"),s.Uc(),s.Vc(30,"p-calendar",19),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd().model.oraEkdosis=t})),s.Uc(),s.Uc(),s.Uc(),s.Qd(31,x,11,4,"div",20),s.Qd(32,B,3,0,"p",21),s.Qd(33,D,12,6,"ng-container",17),s.Vc(34,"div",22),s.Qd(35,T,3,0,"button",23),s.Qd(36,L,3,0,"button",23),s.Vc(37,"button",24),s.hd("click",(function(){s.Id(e);return s.jd().onCancelKlisiClicked()})),s.Qc(38,"i",25),s.Sd(39," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7"),s.Uc(),s.Uc(),s.Qd(40,q,1,1,"div",26),s.Qd(41,N,3,0,"div",27),s.Qd(42,z,1,1,"div",26),s.Qd(43,W,2,0,"div",28),s.Uc()}if(2&e){const e=s.Gd(11),t=s.Gd(18),i=s.jd();s.Bc(4),s.sd("ngModel",i.model.isForeign)("readonly",i.response),s.Bc(6),s.sd("ngModel",i.model.arithmosKlisis)("readonly",i.response),s.Bc(2),s.sd("hidden",!i.isFormSubmitted||i.isFormSubmitted&&e.valid),s.Bc(5),s.sd("ngModel",i.model.arithmosKikloforias)("readonly",i.response),s.Bc(2),s.sd("hidden",!i.isFormSubmitted||i.isFormSubmitted&&t.valid),s.Bc(6),s.sd("ngIf",!i.showEtos||"False"==i.showEtos),s.Bc(1),s.Od(s.xd(38,$)),s.sd("locale",i.locale)("maxDate",i.today)("monthNavigator",!0)("yearNavigator",!0)("yearRange",i.yearRange)("showIcon",!0)("showButtonBar",!0)("showTime",!1)("ngModel",i.model.hmerominiaEkdosis)("required",!i.showEtos||"False"==i.showEtos)("disabled",i.etosKlisis&&""!=i.etosKlisis||i.response||i.isFormSubmitted),s.Bc(4),s.Od(s.xd(39,$)),s.sd("locale",i.locale)("timeOnly",!0)("showIcon",!0)("ngModel",i.model.oraEkdosis)("disabled",i.etosKlisis&&""!=i.etosKlisis||i.response||i.isFormSubmitted),s.Bc(1),s.sd("ngIf",i.showEtos&&"True"==i.showEtos),s.Bc(1),s.sd("ngIf",!i.allowsPayment),s.Bc(1),s.sd("ngIf",i.response&&i.response.canPay&&i.allowsPayment),s.Bc(2),s.sd("ngIf",!i.isFormSubmitted||!i.response),s.Bc(1),s.sd("ngIf",i.isFormSubmitted&&i.response&&i.response.canPay&&i.allowsPayment),s.Bc(4),s.sd("ngIf",i.formErrorsMsg&&""!=i.formErrorsMsg),s.Bc(1),s.sd("ngIf",i.isLoadingResponse||i.isLoadingPaymentRequest),s.Bc(1),s.sd("ngIf",i.response&&!i.isLoadingResponse&&i.response.messageResponse&&""!=i.response.messageResponse),s.Bc(1),s.sd("ngIf",i.saveFailed)}}function H(e,t){1&e&&(s.Vc(0,"div",10),s.Vc(1,"span",11),s.Qc(2,"i",12),s.Uc(),s.Vc(3,"span"),s.Sd(4,"\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bc\u03ad\u03bd\u03b5\u03c4\u03b5, \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03bf\u03cd\u03bc\u03b5 \u03bc\u03b5 \u03c4\u03bf \u0394\u03ae\u03bc\u03bf \u03b3\u03b9\u03b1 \u03bf\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1."),s.Uc(),s.Uc())}function J(e,t){if(1&e&&(s.Vc(0,"div",13),s.Vc(1,"div",14),s.Sd(2),s.Uc(),s.Uc()),2&e){const e=s.jd();s.Bc(2),s.Ud(" ",e.errorMessageProfile," ")}}function Y(e,t){if(1&e&&(s.Vc(0,"h5"),s.Sd(1),s.Uc()),2&e){const e=s.jd().$implicit;s.Bc(1),s.Td(e.label)}}function X(e,t){if(1&e&&s.Qc(0,"small",22),2&e){const e=s.jd().$implicit;s.sd("innerHTML",e.description,s.Jd)}}function Z(e,t){if(1&e&&(s.Qc(0,"img",25),s.kd(1,"lowercase")),2&e){const e=t.$implicit;s.sd("src","https://egritosgroup.gr/wp-content/uploads/2020/10/"+s.ld(1,2,e)+".jpg",s.Kd)("alt",e)}}function ee(e,t){if(1&e&&(s.Tc(0),s.Qd(1,Z,2,4,"img",24),s.Sc()),2&e){const e=s.jd(2).$implicit;s.Bc(1),s.sd("ngForOf",e.services)}}function te(e,t){if(1&e&&(s.Vc(0,"div",23),s.Qd(1,ee,2,1,"ng-container",9),s.Uc()),2&e){const e=s.jd().$implicit;s.Bc(1),s.sd("ngIf",e.services&&e.services.length>0)}}function ie(e,t){1&e&&(s.Vc(0,"div",23),s.Qc(1,"img",26),s.Uc())}function se(e,t){if(1&e){const e=s.Wc();s.Tc(0),s.Vc(1,"button",19),s.hd("click",(function(){s.Id(e);const i=t.$implicit;return s.jd(3).btnPayClicked(i)})),s.Qd(2,Y,2,1,"h5",9),s.Qd(3,X,1,1,"small",20),s.Qd(4,te,2,1,"div",21),s.Qd(5,ie,2,0,"div",21),s.Uc(),s.Sc()}if(2&e){const e=t.$implicit,i=s.jd(3);s.Bc(1),s.Dc("payment-method btn btn-outline-primary w-100 text-dark mb-2 d-flex align-items-center justify-content-between "+i.paymentMethodsClass),s.sd("ngClass",(null==i.selectedPaymentMethod?null:i.selectedPaymentMethod.key)==e.key?"selected":"")("id",e.key),s.Bc(1),s.sd("ngIf",e.label),s.Bc(1),s.sd("ngIf",e.description),s.Bc(1),s.sd("ngIf","IRIS"!=e.key),s.Bc(1),s.sd("ngIf","IRIS"==e.key)}}function ne(e,t){if(1&e&&(s.Vc(0,"div",17),s.Qd(1,se,6,8,"ng-container",18),s.Uc()),2&e){const e=s.jd(2);s.Bc(1),s.sd("ngForOf",e.onlinePaymentSettings.paymentMethods)}}function oe(e,t){1&e&&(s.Vc(0,"div",10),s.Vc(1,"span",11),s.Qc(2,"i",12),s.Uc(),s.Uc())}function ce(e,t){if(1&e&&(s.Vc(0,"div",15),s.Qd(1,ne,2,1,"div",16),s.Qd(2,oe,3,0,"div",0),s.Uc()),2&e){const e=s.jd();s.Bc(1),s.sd("ngIf",e.onlinePaymentSettings),s.Bc(1),s.sd("ngIf",!e.onlinePaymentSettings)}}function re(e,t){if(1&e&&(s.Tc(0),s.Qc(1,"input",30),s.Sc()),2&e){const e=t.$implicit;s.Bc(1),s.td("name",e.key),s.td("value",e.value)}}function ae(e,t){if(1&e&&(s.Tc(0),s.Qd(1,re,2,2,"ng-container",18),s.kd(2,"keyvalue"),s.Qc(3,"input",29),s.Sc()),2&e){const e=s.jd(2);s.Bc(1),s.sd("ngForOf",s.ld(2,2,e.paymentResponseDto.postFields)),s.Bc(2),s.td("value",e.everypayToken)}}function de(e,t){if(1&e&&(s.Vc(0,"form",27),s.Qd(1,ae,4,4,"ng-container",9),s.Qc(2,"div",28),s.Uc()),2&e){const e=s.jd();s.td("action",null==e.paymentResponseDto?null:e.paymentResponseDto.postUrl,s.Kd),s.Bc(1),s.sd("ngIf",e.paymentResponseDto)}}function le(e,t){if(1&e&&s.Qc(0,"form",31),2&e){const e=s.jd();s.td("action",null==e.paymentResponseDto?null:e.paymentResponseDto.postUrl,s.Kd)}}function he(e,t){if(1&e&&(s.Vc(0,"div"),s.Qc(1,"input",32),s.Uc()),2&e){const e=t.$implicit;s.Bc(1),s.td("name",e.key),s.td("value",e.value)}}function pe(e,t){if(1&e&&(s.Tc(0),s.Qd(1,he,2,2,"div",18),s.Sc()),2&e){const e=s.jd();s.Bc(1),s.sd("ngForOf",e.paymentResponseDto.postFields)}}function me(e,t){1&e&&(s.Vc(0,"div",4),s.Vc(1,"span",5),s.Qc(2,"i",6),s.Uc(),s.Uc())}function ue(e,t){1&e&&(s.Vc(0,"div",7),s.Qc(1,"span",8),s.Sd(2," \u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2.\n"),s.Uc())}function fe(e,t){if(1&e&&(s.Vc(0,"div",7),s.Qc(1,"span",8),s.Sd(2),s.Uc()),2&e){const e=s.jd();s.Bc(2),s.Ud(" ",e.errorMsg,"\n")}}function ge(e,t){if(1&e&&(s.Vc(0,"div",7),s.Sd(1),s.Uc()),2&e){const e=s.jd(2);s.Bc(1),s.Ud(" ",e.errorMessageProfile," ")}}function be(e,t){1&e&&s.Rc(0)}function ye(e,t){if(1&e&&(s.Tc(0),s.Qd(1,be,1,0,"ng-container",20),s.Sc()),2&e){s.jd(2);const e=s.Gd(5);s.Bc(1),s.sd("ngTemplateOutlet",e)}}function ke(e,t){if(1&e){const e=s.Wc();s.Vc(0,"tr"),s.Vc(1,"th",21),s.Vc(2,"p-checkbox",22),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(2).checkAll=t}))("onChange",(function(){s.Id(e);return s.jd(2).onCheckAllKliseisClicked()})),s.Uc(),s.Uc(),s.Vc(3,"th",23),s.Sd(4,"\xa0"),s.Uc(),s.Vc(5,"th",24),s.Sd(6,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),s.Uc(),s.Vc(7,"th",25),s.Sd(8,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),s.Uc(),s.Vc(9,"th",24),s.Sd(10,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),s.Uc(),s.Vc(11,"th",26),s.Sd(12,"\u038c\u03c7\u03b7\u03bc\u03b1"),s.Uc(),s.Vc(13,"th",25),s.Sd(14,"\u03a0\u03bf\u03c3\u03cc \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),s.Uc(),s.Vc(15,"th",25),s.Sd(16,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2*"),s.Uc(),s.Vc(17,"th",24),s.Sd(18,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2"),s.Uc(),s.Uc()}if(2&e){const e=s.jd(2);s.Bc(2),s.sd("binary",!0)("ngModel",e.checkAll)("disabled",!e.checkAllEnabled)}}function Se(e,t){if(1&e){const e=s.Wc();s.Vc(0,"tr",28),s.Vc(1,"td",33),s.Vc(2,"span",30),s.Sd(3,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),s.Uc(),s.Vc(4,"p-checkbox",22),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd().$implicit.isChecked=t}))("onChange",(function(){s.Id(e);const t=s.jd().$implicit;return s.jd(2).onCheckKlisiClicked(t)})),s.Uc(),s.Uc(),s.Qc(5,"td",34),s.Uc()}if(2&e){const e=s.jd().$implicit;s.sd("ngClass",e.canPay&&e.canCheck?"":"disabled-row"),s.Bc(4),s.sd("binary",!0)("ngModel",e.isChecked)("disabled",!e.canPay||!e.canCheck),s.Bc(1),s.sd("innerHtml",e.cannotPayReason,s.Jd)}}function Ue(e,t){if(1&e){const e=s.Wc();s.Vc(0,"td",21),s.Vc(1,"span",30),s.Sd(2,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),s.Uc(),s.Vc(3,"p-checkbox",22),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd().$implicit.isChecked=t}))("onChange",(function(){s.Id(e);const t=s.jd().$implicit;return s.jd(2).onCheckKlisiClicked(t)})),s.Uc(),s.Uc()}if(2&e){const e=s.jd().$implicit;s.Bc(3),s.sd("binary",!0)("ngModel",e.isChecked)("disabled",!e.canPay||!e.canCheck)}}function Ie(e,t){1&e&&(s.Vc(0,"span"),s.Qc(1,"span",35),s.Uc())}function ve(e,t){1&e&&(s.Vc(0,"span"),s.Qc(1,"span",36),s.Uc())}function Oe(e,t){if(1&e&&(s.Vc(0,"span",37),s.Vc(1,"strong"),s.Sd(2,"\u0395\u03af\u03b4\u03bf\u03c2: "),s.Uc(),s.Sd(3),s.Uc()),2&e){const e=s.jd().$implicit;s.Bc(3),s.Td(e.eidosOximatos)}}function Pe(e,t){if(1&e&&(s.Vc(0,"span",37),s.Vc(1,"strong"),s.Sd(2,"\u039c\u03ac\u03c1\u03ba\u03b1: "),s.Uc(),s.Sd(3),s.Uc()),2&e){const e=s.jd().$implicit;s.Bc(3),s.Td(e.markaOximatos)}}function Ce(e,t){if(1&e&&(s.Vc(0,"span",37),s.Vc(1,"strong"),s.Sd(2,"\u03a7\u03c1\u03ce\u03bc\u03b1: "),s.Uc(),s.Sd(3),s.Uc()),2&e){const e=s.jd().$implicit;s.Bc(3),s.Td(e.xromaOximatos)}}function je(e,t){if(1&e&&(s.Qd(0,Se,6,5,"tr",27),s.Vc(1,"tr",28),s.Qd(2,Ue,4,3,"td",29),s.Vc(3,"td",21),s.Vc(4,"span",30),s.Sd(5,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7"),s.Uc(),s.Qd(6,Ie,2,0,"span",2),s.Qd(7,ve,2,0,"span",2),s.Uc(),s.Vc(8,"td",24),s.Vc(9,"span",30),s.Sd(10,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),s.Uc(),s.Sd(11),s.Uc(),s.Vc(12,"td",25),s.Vc(13,"span",30),s.Sd(14,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),s.Uc(),s.Sd(15),s.kd(16,"date"),s.Uc(),s.Vc(17,"td",24),s.Vc(18,"span",30),s.Sd(19,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),s.Uc(),s.Sd(20),s.Uc(),s.Vc(21,"td",26),s.Vc(22,"span",30),s.Sd(23,"\u038c\u03c7\u03b7\u03bc\u03b1"),s.Uc(),s.Qd(24,Oe,4,1,"span",31),s.Qd(25,Pe,4,1,"span",31),s.Qd(26,Ce,4,1,"span",31),s.Uc(),s.Vc(27,"td",32),s.Vc(28,"span",30),s.Sd(29,"\u03a0\u03bf\u03c3\u03cc \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),s.Uc(),s.Sd(30),s.kd(31,"currency"),s.Uc(),s.Vc(32,"td",32),s.Vc(33,"span",30),s.Sd(34,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2*"),s.Uc(),s.Sd(35),s.kd(36,"currency"),s.Uc(),s.Vc(37,"td",24),s.Vc(38,"span",30),s.Sd(39,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2"),s.Uc(),s.Sd(40),s.Uc(),s.Uc()),2&e){const e=t.$implicit;s.sd("ngIf",e.cannotPayReason&&""!=e.cannotPayReason),s.Bc(1),s.sd("ngClass",e.canPay&&e.canCheck?"":"disabled-row"),s.Bc(1),s.sd("ngIf",!e.cannotPayReason||""==e.cannotPayReason),s.Bc(4),s.sd("ngIf",e.statusId&&1==e.statusId),s.Bc(1),s.sd("ngIf",e.statusId&&5==e.statusId),s.Bc(4),s.Ud(" ",e.arithmosKlisis," "),s.Bc(4),s.Vd(" ",s.md(16,15,e.hmerominiaEkdosis,"dd/MM/yyyy")," ",e.oraEkdosis&&e.hmerominiaEkdosis?"- "+e.oraEkdosis:e.oraEkdosis," "),s.Bc(5),s.Ud(" ",e.arithmosKikloforias," "),s.Bc(4),s.sd("ngIf",e.eidosOximatos),s.Bc(1),s.sd("ngIf",e.markaOximatos),s.Bc(1),s.sd("ngIf",e.xromaOximatos),s.Bc(4),s.Ud(" ",s.od(31,18,e.pliroteoPoso,"EUR","symbol","1.2-2")," "),s.Bc(5),s.Ud(" ",s.od(36,23,e.ofeilisPoso,"EUR","symbol","1.2-2")," "),s.Bc(5),s.Ud(" ",e.stoixeiaBebaiosis," ")}}const Me=function(e){return[e,"EUR","symbol","1.2-2","el"]};function Ve(e,t){if(1&e&&(s.Vc(0,"tr"),s.Vc(1,"td",38),s.Vc(2,"strong"),s.Sd(3),s.Uc(),s.Uc(),s.Vc(4,"td",39),s.Vc(5,"strong"),s.Sd(6),s.kd(7,"currency"),s.Uc(),s.Uc(),s.Vc(8,"td",39),s.Vc(9,"strong"),s.Sd(10),s.kd(11,"currency"),s.Uc(),s.Uc(),s.Qc(12,"td",24),s.Uc()),2&e){const e=s.jd(2);s.Bc(3),s.Ud("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2: ",e.model.length,""),s.Bc(3),s.Td(s.pd(7,3,s.yd(15,Me,e.sumPosoKlisis))),s.Bc(4),s.Td(s.pd(11,9,s.yd(17,Me,e.sumPliroteoPoso)))}}function we(e,t){1&e&&s.Rc(0)}function Ee(e,t){if(1&e&&(s.Tc(0),s.Qd(1,we,1,0,"ng-container",20),s.Sc()),2&e){s.jd(2);const e=s.Gd(5);s.Bc(1),s.sd("ngTemplateOutlet",e)}}function _e(e,t){if(1&e){const e=s.Wc();s.Vc(0,"app-payment-methods",40),s.hd("createRequest",(function(){s.Id(e);return s.jd(2)._payActions()}))("loadingSimplifyModal",(function(t){s.Id(e);return s.jd(2).isLoadingSimplifyModalChanged(t)})),s.Uc()}if(2&e){const e=s.jd(2);s.sd("assetsUrl",e.assetsUrl)("isLoadingPaymentResponse",e.isLoadingPaymentResponse)}}function xe(e,t){if(1&e&&(s.Tc(0),s.Qd(1,ge,2,1,"div",1),s.Vc(2,"div",9),s.Vc(3,"small"),s.Qc(4,"span",8),s.Sd(5," \u0398\u03b1 \u03b8\u03ad\u03bb\u03b1\u03bc\u03b5 \u03bd\u03b1 \u03c3\u03b1\u03c2 \u03b5\u03bd\u03b7\u03bc\u03b5\u03c1\u03ce\u03c3\u03bf\u03c5\u03bc\u03b5 \u03c0\u03c9\u03c2 \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03b5\u03be\u03bf\u03c6\u03bb\u03ae\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1\u03c5\u03c4\u03cc\u03c7\u03c1\u03bf\u03bd\u03b1 \u03bc\u03cc\u03bd\u03bf \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c0\u03bf\u03c5 \u03ad\u03c7\u03bf\u03c5\u03bd \u03c7\u03c1\u03b5\u03c9\u03b8\u03b5\u03af \u03c3\u03c4\u03bf \u03af\u03b4\u03b9\u03bf \u0391.\u03a6.\u039c."),s.Uc(),s.Uc(),s.Qd(6,ye,2,1,"ng-container",2),s.Vc(7,"legend",10),s.Vc(8,"span",11),s.Qc(9,"i",12),s.Sd(10," \u0391\u03a0\u039b\u0397\u03a1\u03a9\u03a4\u0397"),s.Uc(),s.Vc(11,"span",11),s.Qc(12,"i",13),s.Sd(13," \u039a\u0391\u03a4\u0391\u03a7\u03a9\u03a1\u0397\u03a3\u0397 \u0391\u03a0\u039f WEB"),s.Uc(),s.Uc(),s.Vc(14,"p-table",14),s.Qd(15,ke,19,3,"ng-template",15),s.Qd(16,je,41,28,"ng-template",16),s.Qd(17,Ve,13,19,"ng-template",17),s.Uc(),s.Vc(18,"p",18),s.Vc(19,"small"),s.Vc(20,"em"),s.Sd(21,"* \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u03a0\u03c1\u03bf\u03c3\u03b1\u03c5\u03be\u03ae\u03c3\u03b5\u03b9\u03c2 \u03ba\u03b1\u03b9 \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u039a\u03c1\u03b1\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2"),s.Uc(),s.Uc(),s.Uc(),s.Qd(22,Ee,2,1,"ng-container",2),s.Qd(23,_e,1,2,"app-payment-methods",19),s.Sc()),2&e){const e=s.jd();s.Bc(1),s.sd("ngIf",e.errorMessageProfile),s.Bc(5),s.sd("ngIf",e.checkedKliseis&&e.checkedKliseis>0),s.Bc(8),s.sd("value",e.model)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",e.model.length)("loading",e.isLoading),s.Bc(8),s.sd("ngIf",e.checkedKliseis&&e.checkedKliseis>0),s.Bc(1),s.sd("ngIf",e.initPaymentMethods)}}function Be(e,t){if(1&e){const e=s.Wc();s.Vc(0,"div",41),s.Vc(1,"div"),s.Vc(2,"p"),s.Sd(3,"\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 "),s.Vc(4,"span",42),s.Sd(5),s.Uc(),s.Uc(),s.Vc(6,"p",43),s.Sd(7,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: "),s.Vc(8,"span",42),s.Sd(9),s.kd(10,"currency"),s.Uc(),s.Uc(),s.Uc(),s.Vc(11,"div",44),s.Vc(12,"button",45),s.hd("click",(function(){s.Id(e);return s.jd()._payActions()})),s.Qc(13,"i",46),s.Sd(14," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd"),s.Uc(),s.Uc(),s.Vc(15,"div",47),s.Qc(16,"img",48),s.Qc(17,"img",49),s.Qc(18,"img",50),s.Uc(),s.Uc()}if(2&e){const e=s.jd();s.Bc(5),s.Vd("",e.checkedKliseis," ",1===e.checkedKliseis?"\u03ba\u03bb\u03ae\u03c3\u03b7":"\u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2",""),s.Bc(4),s.Td(s.od(10,3,e.sumPliromis,"\u20ac","symbol","1.2"))}}function Re(e,t){1&e&&(s.Vc(0,"div",4),s.Vc(1,"p",5),s.Sd(2,"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2."),s.Uc(),s.Uc())}function Ae(e,t){if(1&e){const e=s.Wc();s.Vc(0,"div"),s.Vc(1,"button",6),s.hd("click",(function(){s.Id(e);return s.jd().btnBankStatusMessageClicked()})),s.Qc(2,"i",7),s.Uc(),s.Sd(3),s.Uc()}if(2&e){const e=s.jd();s.Ec("bank-msg alert w-100 mb-2 position-relative ",e.bankStatusMessageClass,""),s.Bc(3),s.Ud(" ",e.bankStatusMessage,"\n")}}function Ke(e,t){1&e&&(s.Vc(0,"div",8),s.Vc(1,"span",9),s.Qc(2,"i",10),s.Uc(),s.Uc())}function Fe(e,t){1&e&&(s.Vc(0,"tr"),s.Vc(1,"th",19),s.Sd(2,"\xa0"),s.Uc(),s.Vc(3,"th",20),s.Sd(4,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),s.Uc(),s.Vc(5,"th",21),s.Sd(6,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),s.Uc(),s.Vc(7,"th",20),s.Sd(8,"\u039f\u03b4\u03cc\u03c2 - \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2"),s.Uc(),s.Vc(9,"th",20),s.Sd(10,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),s.Uc(),s.Vc(11,"th",21),s.Sd(12,"\u038c\u03c7\u03b7\u03bc\u03b1"),s.Uc(),s.Vc(13,"th",22),s.Sd(14,"\u03a0\u03bf\u03c3\u03cc"),s.Uc(),s.Vc(15,"th",20),s.Sd(16,"\u039f\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1"),s.Uc(),s.Uc())}function Qe(e,t){1&e&&(s.Vc(0,"span"),s.Qc(1,"i",13),s.Uc())}function De(e,t){1&e&&(s.Vc(0,"span"),s.Qc(1,"i",14),s.Uc())}function Te(e,t){if(1&e&&(s.Vc(0,"span",27),s.Vc(1,"strong"),s.Sd(2,"\u0395\u03af\u03b4\u03bf\u03c2: "),s.Uc(),s.Sd(3),s.Uc()),2&e){const e=s.jd().$implicit;s.Bc(3),s.Td(e.eidosOximatos)}}function Le(e,t){if(1&e&&(s.Vc(0,"span",27),s.Vc(1,"strong"),s.Sd(2,"\u039c\u03ac\u03c1\u03ba\u03b1: "),s.Uc(),s.Sd(3),s.Uc()),2&e){const e=s.jd().$implicit;s.Bc(3),s.Td(e.markaOximatos)}}function qe(e,t){if(1&e&&(s.Vc(0,"span",27),s.Vc(1,"strong"),s.Sd(2,"\u03a7\u03c1\u03ce\u03bc\u03b1: "),s.Uc(),s.Sd(3),s.Uc()),2&e){const e=s.jd().$implicit;s.Bc(3),s.Td(e.xromaOximatos)}}function Ne(e,t){if(1&e&&(s.Vc(0,"span"),s.Vc(1,"strong"),s.Sd(2,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2:"),s.Uc(),s.Sd(3),s.Uc()),2&e){const e=s.jd().$implicit;s.Bc(3),s.Ud(" ",e.stoixeiaBebaiosis,"")}}function ze(e,t){if(1&e&&(s.Vc(0,"span"),s.Qc(1,"br"),s.Vc(2,"strong"),s.Sd(3,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2:"),s.Uc(),s.Sd(4),s.Uc()),2&e){const e=s.jd().$implicit;s.Bc(4),s.Ud(" ",e.stoixeiaApodeiksis,"")}}function We(e,t){if(1&e&&(s.Vc(0,"tr"),s.Vc(1,"td",23),s.Vc(2,"span",24),s.Sd(3,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7"),s.Uc(),s.Qd(4,Qe,2,0,"span",3),s.Qd(5,De,2,0,"span",3),s.Uc(),s.Vc(6,"td",20),s.Vc(7,"span",24),s.Sd(8,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),s.Uc(),s.Sd(9),s.Uc(),s.Vc(10,"td",21),s.Vc(11,"span",24),s.Sd(12,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),s.Uc(),s.Sd(13),s.kd(14,"date"),s.Uc(),s.Vc(15,"td",20),s.Vc(16,"span",24),s.Sd(17,"\u039f\u03b4\u03cc\u03c2 - \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2"),s.Uc(),s.Sd(18),s.Uc(),s.Vc(19,"td",20),s.Vc(20,"span",24),s.Sd(21,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),s.Uc(),s.Sd(22),s.Uc(),s.Vc(23,"td",21),s.Vc(24,"span",24),s.Sd(25,"\u038c\u03c7\u03b7\u03bc\u03b1"),s.Uc(),s.Qd(26,Te,4,1,"span",25),s.Qd(27,Le,4,1,"span",25),s.Qd(28,qe,4,1,"span",25),s.Uc(),s.Vc(29,"td",26),s.Vc(30,"span",24),s.Sd(31,"\u03a0\u03bf\u03c3\u03cc"),s.Uc(),s.Sd(32),s.kd(33,"currency"),s.Uc(),s.Vc(34,"td",20),s.Vc(35,"span",24),s.Sd(36,"\u039f\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1"),s.Uc(),s.Qd(37,Ne,4,1,"span",3),s.Qd(38,ze,5,1,"span",3),s.Uc(),s.Uc()),2&e){const e=t.$implicit;s.Bc(4),s.sd("ngIf",e.statusId&&2==e.statusId),s.Bc(1),s.sd("ngIf",e.statusId&&6==e.statusId),s.Bc(4),s.Ud(" ",e.arithmosKlisis," "),s.Bc(4),s.Vd(" ",s.md(14,15,e.hmerominiaEkdosis,"dd/MM/yyyy")," ",e.oraEkdosis&&e.hmerominiaEkdosis?"- "+e.oraEkdosis:e.oraEkdosis," "),s.Bc(5),s.Wd(" ",e.odosPerigrafi," ",e.odosPerigrafi&&e.odosArithmos?"-":""," ",e.odosArithmos," "),s.Bc(4),s.Ud(" ",e.arithmosKikloforias," "),s.Bc(4),s.sd("ngIf",e.eidosOximatos),s.Bc(1),s.sd("ngIf",e.markaOximatos),s.Bc(1),s.sd("ngIf",e.xromaOximatos),s.Bc(4),s.Ud(" ",s.od(33,18,e.pliroteoPoso,"EUR","symbol","1.2-2")," "),s.Bc(5),s.sd("ngIf",e.stoixeiaBebaiosis),s.Bc(1),s.sd("ngIf",e.stoixeiaApodeiksis)}}function $e(e,t){if(1&e&&(s.Vc(0,"tr"),s.Vc(1,"td",28),s.Vc(2,"strong"),s.Sd(3),s.kd(4,"currency"),s.Uc(),s.Uc(),s.Uc()),2&e){const e=s.jd(2);s.Bc(3),s.Ud("\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc: ",s.pd(4,1,s.yd(7,Me,e.sumPliroteoPoso)),"")}}function Ge(e,t){if(1&e&&(s.Tc(0),s.Vc(1,"legend",11),s.Vc(2,"span",12),s.Qc(3,"i",13),s.Sd(4," \u0395\u039e\u039f\u03a6\u039b\u0397\u03a3\u0397 \u03a3\u03a4\u039f \u0394\u0397\u039c\u039f"),s.Uc(),s.Vc(5,"span",12),s.Qc(6,"i",14),s.Sd(7," \u0395\u039e\u039f\u03a6\u039b\u0397\u03a3\u0397 WEB"),s.Uc(),s.Uc(),s.Vc(8,"p"),s.Sd(9,"\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u039a\u03bb\u03ae\u03c3\u03b5\u03c9\u03bd: "),s.Vc(10,"strong"),s.Sd(11),s.Uc(),s.Uc(),s.Vc(12,"p-table",15),s.Qd(13,Fe,17,0,"ng-template",16),s.Qd(14,We,39,23,"ng-template",17),s.Qd(15,$e,5,9,"ng-template",18),s.Uc(),s.Sc()),2&e){const e=s.jd();s.Bc(11),s.Td(e.model.length),s.Bc(1),s.sd("value",e.model)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",e.model.length)}}const He=["klisiAnazitisi"],Je=["klisiPayUnauthorized"];function Ye(e,t){if(1&e&&(s.Vc(0,"div"),s.Sd(1),s.Vc(2,"a",2),s.Qc(3,"i",3),s.Sd(4," \u0395\u03c0\u03b9\u03c3\u03c4\u03c1\u03bf\u03c6\u03ae"),s.Uc(),s.Uc()),2&e){const e=s.jd();s.Ec("bank-msg ",e.bankStatusMessageClass,""),s.Bc(1),s.Ud(" ",e.bankStatusMessage," "),s.Bc(1),s.td("href",e.callbackUrl,s.Kd)}}function Xe(e,t){if(1&e&&s.Qc(0,"div",26),2&e){const e=s.jd(2);s.sd("innerHTML",e.formErrorsMsg,s.Jd)}}function Ze(e,t){1&e&&(s.Vc(0,"div",27),s.Vc(1,"span",28),s.Qc(2,"i",29),s.Uc(),s.Uc())}function et(e,t){if(1&e&&(s.Vc(0,"div"),s.Sd(1),s.Uc()),2&e){const e=s.jd(3);s.Ec("alert alert-",e.requestMsgClass," text-white"),s.Bc(1),s.Ud(" ",e.requestMsg," ")}}function tt(e,t){if(1&e){const e=s.Wc();s.Vc(0,"div",6),s.Vc(1,"div",16),s.Vc(2,"label"),s.Sd(3,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1*"),s.Uc(),s.Vc(4,"input",37,38),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(4).model.debtorName=t})),s.Uc(),s.Vc(6,"div",13),s.Sd(7," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),s.Uc(),s.Uc(),s.Vc(8,"div",16),s.Vc(9,"label"),s.Sd(10,"\u0391.\u03a6.\u039c.*"),s.Uc(),s.Vc(11,"input",39,40),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(4).model.tin=t})),s.Uc(),s.Vc(13,"div",13),s.Sd(14," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2 \u03b1\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u0391.\u03a6.\u039c. "),s.Uc(),s.Uc(),s.Uc()}if(2&e){const e=s.Gd(5),t=s.Gd(12),i=s.jd(4);s.Bc(4),s.sd("ngModel",i.model.debtorName),s.Bc(2),s.sd("hidden",!i.isFormPaySubmitted||i.isFormPaySubmitted&&e.valid),s.Bc(5),s.sd("ngModel",i.model.tin),s.Bc(2),s.sd("hidden",!i.isFormPaySubmitted||i.isFormPaySubmitted&&t.valid)}}function it(e,t){if(1&e){const e=s.Wc();s.Vc(0,"div",42),s.Vc(1,"label"),s.Sd(2,"Email*"),s.Uc(),s.Vc(3,"input",43,44),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(5).model.email=t})),s.Uc(),s.Vc(5,"div",13),s.Sd(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),s.Uc(),s.Uc()}if(2&e){const e=s.Gd(4),t=s.jd(5);s.sd("ngClass",t.response.hasTilefono?"col-md-12":"col-md-6"),s.Bc(3),s.sd("ngModel",t.model.email),s.Bc(2),s.sd("hidden",!t.isFormPaySubmitted||t.isFormPaySubmitted&&e.valid)}}function st(e,t){if(1&e){const e=s.Wc();s.Vc(0,"div",42),s.Vc(1,"label"),s.Sd(2,"\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf*"),s.Uc(),s.Vc(3,"input",45,46),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(5).model.tilefono=t})),s.Uc(),s.Vc(5,"div",13),s.Sd(6," *\u03a4\u03bf \u03ba\u03b9\u03bd\u03b7\u03c4\u03cc \u03c4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03ad\u03c7\u03b5\u03b9 10 \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 69\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7. "),s.Uc(),s.Uc()}if(2&e){const e=s.Gd(4),t=s.jd(5);s.sd("ngClass",t.response.hasEmail?"col-md-12":"col-md-6"),s.Bc(3),s.sd("ngModel",t.model.tilefono),s.Bc(2),s.sd("hidden",!t.isFormPaySubmitted||t.isFormPaySubmitted&&e.valid)}}function nt(e,t){if(1&e&&(s.Vc(0,"div",6),s.Qd(1,it,7,3,"div",41),s.Qd(2,st,7,3,"div",41),s.Uc()),2&e){const e=s.jd(4);s.Bc(1),s.sd("ngIf",!e.response.hasEmail),s.Bc(1),s.sd("ngIf",!e.response.hasTilefono)}}function ot(e,t){if(1&e){const e=s.Wc();s.Vc(0,"div",6),s.Vc(1,"div",47),s.Vc(2,"label"),s.Sd(3,"\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7*"),s.Uc(),s.Vc(4,"input",48,49),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(4).model.address=t})),s.Uc(),s.Vc(6,"div",13),s.Sd(7," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),s.Uc(),s.Uc(),s.Vc(8,"div",50),s.Vc(9,"label"),s.Sd(10,"\u03a4.\u039a.*"),s.Uc(),s.Vc(11,"input",51,52),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(4).model.tk=t})),s.Uc(),s.Vc(13,"div",13),s.Sd(14," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),s.Uc(),s.Uc(),s.Vc(15,"div",47),s.Vc(16,"label"),s.Sd(17,"\u03a0\u03cc\u03bb\u03b7*"),s.Uc(),s.Vc(18,"input",53,54),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd(4).model.poli=t})),s.Uc(),s.Vc(20,"div",13),s.Sd(21," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),s.Uc(),s.Uc(),s.Uc()}if(2&e){const e=s.Gd(5),t=s.Gd(12),i=s.Gd(19),n=s.jd(4);s.Bc(4),s.sd("ngModel",n.model.address),s.Bc(2),s.sd("hidden",!n.isFormPaySubmitted||n.isFormPaySubmitted&&e.valid),s.Bc(5),s.sd("ngModel",n.model.tk),s.Bc(2),s.sd("hidden",!n.isFormPaySubmitted||n.isFormPaySubmitted&&t.valid),s.Bc(5),s.sd("ngModel",n.model.poli),s.Bc(2),s.sd("hidden",!n.isFormPaySubmitted||n.isFormPaySubmitted&&i.valid)}}function ct(e,t){if(1&e&&s.Qc(0,"div",26),2&e){const e=s.jd(4);s.sd("innerHTML",e.formErrorsMsgPay,s.Jd)}}function rt(e,t){1&e&&(s.Vc(0,"div",55),s.Vc(1,"span",28),s.Qc(2,"i",56),s.Uc(),s.Uc())}function at(e,t){if(1&e){const e=s.Wc();s.Vc(0,"form",31,32),s.Qd(2,tt,15,4,"div",33),s.Qd(3,nt,3,2,"div",33),s.Qd(4,ot,22,6,"div",33),s.Vc(5,"div",19),s.Vc(6,"button",34),s.hd("click",(function(){s.Id(e);return s.jd(3).onPayKlisiClicked()})),s.Qc(7,"i",35),s.Sd(8," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae"),s.Uc(),s.Uc(),s.Qd(9,ct,1,1,"div",24),s.Qd(10,rt,3,0,"div",36),s.Uc()}if(2&e){const e=s.jd(3);s.Bc(2),s.sd("ngIf",!e.response.hasOfeileti&&e.response.isOfeiletisPay),s.Bc(1),s.sd("ngIf",!e.response.hasEmail||!e.response.hasTilefono),s.Bc(1),s.sd("ngIf",!e.response.hasDieuthinsi),s.Bc(5),s.sd("ngIf",e.formErrorsMsgPay&&""!=e.formErrorsMsgPay),s.Bc(1),s.sd("ngIf",e.isLoadingPaymentRequest)}}function dt(e,t){if(1&e&&(s.Tc(0),s.Qd(1,et,2,4,"div",0),s.Qd(2,at,11,5,"form",30),s.Sc()),2&e){const e=s.jd(2);s.Bc(1),s.sd("ngIf",e.requestMsg&&""!=e.requestMsg),s.Bc(1),s.sd("ngIf",e.response.canPay)}}function lt(e,t){if(1&e){const e=s.Wc();s.Tc(0),s.Vc(1,"form",4,5),s.Vc(3,"div",6),s.Vc(4,"div",7),s.Vc(5,"p-checkbox",8,9),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd().model.isForeign=t})),s.Uc(),s.Uc(),s.Vc(7,"div",10),s.Vc(8,"label"),s.Sd(9,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2*"),s.Uc(),s.Vc(10,"input",11,12),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd().model.arithmosKikloforias=t})),s.Uc(),s.Vc(12,"div",13),s.Sd(13," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),s.Uc(),s.Uc(),s.Uc(),s.Vc(14,"div",6),s.Vc(15,"div",10),s.Vc(16,"label"),s.Sd(17,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2*"),s.Uc(),s.Vc(18,"input",14,15),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd().model.arithmosKlisis=t})),s.Uc(),s.Vc(20,"div",13),s.Sd(21," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03ad\u03c0\u03bf\u03bd\u03c4\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03bc\u03ad\u03c7\u03c1\u03b9 12 \u03b1\u03c1\u03b9\u03b8\u03bc\u03bf\u03af. "),s.Uc(),s.Uc(),s.Vc(22,"div",16),s.Vc(23,"label"),s.Sd(24,"\u0388\u03c4\u03bf\u03c2 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2*"),s.Uc(),s.Vc(25,"input",17,18),s.hd("ngModelChange",(function(t){s.Id(e);return s.jd().model.etos=t})),s.Uc(),s.Vc(27,"div",13),s.Sd(28),s.Uc(),s.Uc(),s.Uc(),s.Vc(29,"div",19),s.Vc(30,"button",20),s.hd("click",(function(){s.Id(e);return s.jd().onCheckKlisiClicked()})),s.Qc(31,"i",21),s.Sd(32," \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7"),s.Uc(),s.Vc(33,"button",22),s.hd("click",(function(){s.Id(e);return s.jd().onCancelClicked()})),s.Qc(34,"i",23),s.Sd(35," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7"),s.Uc(),s.Uc(),s.Qd(36,Xe,1,1,"div",24),s.Uc(),s.Qd(37,Ze,3,0,"div",25),s.Qd(38,dt,3,2,"ng-container",1),s.Sc()}if(2&e){const e=s.Gd(11),t=s.Gd(19),i=s.Gd(26),n=s.jd();s.Bc(5),s.sd("ngModel",n.model.isForeign)("disabled",n.response&&n.response.canPay),s.Bc(5),s.sd("ngModel",n.model.arithmosKikloforias)("disabled",n.response&&n.response.canPay),s.Bc(2),s.sd("hidden",!n.isFormSubmitted||n.response||n.isFormSubmitted&&e.valid),s.Bc(6),s.sd("ngModel",n.model.arithmosKlisis)("disabled",n.response&&n.response.canPay),s.Bc(2),s.sd("hidden",!n.isFormSubmitted||n.response||n.isFormSubmitted&&t.valid),s.Bc(5),s.sd("ngModel",n.model.etos)("disabled",n.response&&n.response.canPay),s.Bc(2),s.sd("hidden",!n.isFormSubmitted||n.response||n.isFormSubmitted&&i.valid),s.Bc(1),s.Ud(" \u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf & \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 \u03a7\u03a7\u03a7\u03a7 \u03cc\u03c0\u03bf\u03c5 \u03a7 \u03bc\u03cc\u03bd\u03bf \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bc\u03b9\u03ba\u03c1\u03cc\u03c4\u03b5\u03c1\u03bf \u03ae \u03af\u03c3\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf ",n.thisYear,". "),s.Bc(8),s.sd("ngIf",n.formErrorsMsg&&""!=n.formErrorsMsg),s.Bc(1),s.sd("ngIf",n.isLoading),s.Bc(1),s.sd("ngIf",n.response&&!n.isLoading)}}let ht=class{constructor(e){this.toastrSrv=e}show(e,t,i){t&&this.toastrSrv[i](t,e,{progressBar:!0,onActivateTick:!0})}showError(e,t){this.show(e,t,"error")}showInfo(e,t){this.show(e,t,"info")}showSuccess(e,t){this.show(e,t,"success")}showWarning(e,t){this.show(e,t,"warning")}};ht.\u0275fac=function(e){return new(e||ht)(s.dd(m.b))},ht.ctorParameters=()=>[{type:m.b}],ht.\u0275prov=Object(s.Lc)({factory:function(){return new ht(Object(s.dd)(m.b))},token:ht,providedIn:"root"}),ht=Object(n.b)([Object(n.c)("design:paramtypes",[m.b])],ht);let pt=class{constructor(e){this.toasterSrv=e,this.catchBadResponse=e=>{console.log(e);let t="";if(e.error instanceof Error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else if(void 0!==e.error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else switch(e.status){case 403:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error "+e.status;break;case 401:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n "+e.status;break;default:t=`Backend returned code ${e.status}, body was: ${void 0!==e.body?e.body.error:void 0!==e.message?e.message:""}`}return this.toasterSrv.showError("",""+t),Object(c.a)(!1)}}};pt.\u0275fac=function(e){return new(e||pt)(s.dd(ht))},pt.ctorParameters=()=>[{type:ht}],pt.\u0275prov=Object(s.Lc)({factory:function(){return new pt(Object(s.dd)(ht))},token:pt,providedIn:"root"}),pt=Object(n.b)([Object(n.c)("design:paramtypes",[ht])],pt);let mt=class extends class{constructor(e,t){this.http=e,this.exceptionService=t,this.getBaseUrl=()=>this.baseUrl,AppConfOptions&&AppConfOptions.kliseis_api?(this.baseUrl=AppConfOptions.kliseis_api,this.financeUrl=AppConfOptions.epayments_api):(this.baseUrl="/",this.financeUrl=AppConfOptions.financeApi),this.baseUrl+="api",this.financeUrl+="api"}}{constructor(e,t){super(t,e),this.exceptionSrv=e,this.http=t,this.kliseisUrl=this.baseUrl+"/KliseisWeb",this.kliseisFinanceUrl=this.baseUrl+"/Finance"}getKliseis(e){return this.http.get(`${this.kliseisUrl}/GetKliseisWebByAfm/${e}`).pipe(Object(d.a)(e=>e),Object(l.a)(this.exceptionSrv.catchBadResponse))}getKliseisPayed(e){return this.http.get(`${this.kliseisUrl}/GetKliseisPayedWebByAfm/${e}`).pipe(Object(d.a)(e=>e),Object(l.a)(this.exceptionSrv.catchBadResponse))}getKlisiById(e){return this.http.get(`${this.kliseisUrl}/GetById/${e}`).pipe(Object(d.a)(e=>e),Object(l.a)(this.exceptionSrv.catchBadResponse))}getStoixeiaKlisisForWebPliromi(e){return this.http.post(this.kliseisUrl+"/GetStoixeiaKlisisForWebPliromi/",e).pipe(Object(d.a)(e=>e),Object(l.a)(this.exceptionSrv.catchBadResponse))}getStoixeiaKlisisForWebPliromiEtos(e){return this.http.post(this.kliseisUrl+"/GetStoixeiaKlisisForWebPliromiEtos/",e).pipe(Object(d.a)(e=>e),Object(l.a)(this.exceptionSrv.catchBadResponse))}createKlisiWebAsync(e){const t=this.kliseisUrl+"/CreateKlisiWebAsync";return this.http.post(t,e).pipe(Object(d.a)(e=>e),Object(l.a)(this.exceptionSrv.catchBadResponse))}markKlisiWebExoflisi(e){const t=this.kliseisUrl+"/MarkKlisiWebExoflisi";return this.http.post(t,e).pipe(Object(d.a)(e=>e),Object(l.a)(this.exceptionSrv.catchBadResponse))}addPaymentRequest(e){const t=this.financeUrl+"/Banks/AddPaymentRequest";return this.http.post(t,e).pipe(Object(d.a)(e=>e),Object(l.a)(this.exceptionSrv.catchBadResponse))}getFinancePaymentCallback(e){return this.http.get(`${this.kliseisUrl}/GetFinancePaymentCallback?btId=${e.btId}&returnUrl=${e.returnUrl}&status=${e.status}&messagecode=${e.messagecode}`).pipe(Object(d.a)(e=>e),Object(l.a)(this.exceptionSrv.catchBadResponse))}fillPaymentRequestDtoNonAuthorized(e){const t=this.kliseisFinanceUrl+"/FillPaymentRequestDtoNonAuthorized";return this.http.post(t,e).pipe(Object(d.a)(e=>e),Object(l.a)(this.exceptionSrv.catchBadResponse))}fillPaymentRequestAuthorized(e){const t=this.kliseisFinanceUrl+"/FillPaymentRequestDtoAuthorized";return this.http.post(t,e).pipe(Object(d.a)(e=>e),Object(l.a)(this.exceptionSrv.catchBadResponse))}getPaymentSettings(){let e=this.baseUrl+"/oikonomiki/GetPaymentSettings";return this.paymentSettings?Object(c.a)(this.paymentSettings):this.http.get(e).pipe(Object(d.a)(e=>(this.paymentSettings=e,e)),Object(l.a)(this.exceptionSrv.catchBadResponse))}getPluginCustomerOptions(){const e=this.baseUrl+"/Configurations"+"/GetPluginCustomerSpecificOptions";return this.http.get(e).pipe(Object(d.a)(e=>e),Object(l.a)(this.exceptionSrv.catchBadResponse))}};mt.\u0275fac=function(e){return new(e||mt)(s.dd(pt),s.dd(o.b))},mt.ctorParameters=()=>[{type:pt},{type:o.b}],mt.\u0275prov=Object(s.Lc)({factory:function(){return new mt(Object(s.dd)(pt),Object(s.dd)(o.b))},token:mt,providedIn:"root"}),mt=Object(n.b)([Object(n.c)("design:paramtypes",[pt,o.b])],mt);let ut=class{constructor(e){this.http=e,this.isAuthorizedSubject=new r.a(null),this.isAuthorized$=this.isAuthorizedSubject.asObservable(),this.userInfoSubject=new r.a(null),this.userInfo$=this.userInfoSubject.asObservable(),this.applicationOptionsSubject=new r.a(null),this.applicationOptions$=this.applicationOptionsSubject.asObservable(),this.customerSpecificOptionsSubject=new r.a(null),this.customerSpecificOptions$=this.customerSpecificOptionsSubject.asObservable(),this.pluginCustomerSpecificOptionsSubject=new r.a(null),this.pluginCustomerSpecificOptions$=this.pluginCustomerSpecificOptionsSubject.asObservable(),AppConfOptions&&AppConfOptions.kliseis_api?this.baseUrl=AppConfOptions.kliseis_api:this.baseUrl="/",this.baseUrl+="api",this.egOnInit()}egOnInit(){this.isAuthorized$.subscribe(e=>{this.isAuthorized=e}),this.userInfo$.subscribe(e=>{this.userInfo=e}),this.applicationOptions$.subscribe(e=>{this.applicationOptions=e}),this.customerSpecificOptions$.subscribe(e=>{this.applicationOptions=e}),this.pluginCustomerSpecificOptions$.subscribe(e=>{this.applicationOptions=e})}initIsAuthorized(){if(!this.isAuthorized){let e;for(let t=0;t<window.localStorage.length;t++){const i=window.localStorage.key(t);"_isAuthorized"===i.slice(0,13)&&(e=JSON.parse(window.localStorage.getItem(i)),this.isAuthorizedSubject.next(e))}}}initUserInfo(){if(!this.userInfo){let e=null;for(let t=0;t<window.localStorage.length;t++){const i=window.localStorage.key(t);"userData"===i.slice(0,8)&&(e=JSON.parse(window.localStorage.getItem(i)),this.userInfoSubject.next({email:e.email,username:e.given_name,tin:e.tin,family_name:e.family_name,given_name:e.given_name,fathers_name:e.fathers_name,mothers_name:e.mothers_name,name:e.name,address_city:e.address_city,address_country_code:e.address_country_code,address_zip:e.address_zip,address:e.address,adt:e.adt,phone_number:e.phone_number}))}}}iniApplicationOptions(){if(!this.applicationOptions){const e=this.baseUrl+"/Configurations/GetAllOptions";this.http.get(e).subscribe(e=>{e&&this.applicationOptionsSubject.next(e)})}}initCustomerSpecificOptions(){if(!this.customerSpecificOptions){const e=this.baseUrl+"/Configurations/GetCustomerSpecificOptions";this.http.get(e).subscribe(e=>{e&&this.customerSpecificOptionsSubject.next(e)})}}initPluginCustomerSpecificOptions(){if(!this.pluginCustomerSpecificOptions){const e=this.baseUrl+"/Configurations/GetPluginCustomerSpecificOptions";this.http.get(e).subscribe(e=>{e&&this.pluginCustomerSpecificOptionsSubject.next(e)})}}};ut.\u0275fac=function(e){return new(e||ut)(s.dd(o.b))},ut.ctorParameters=()=>[{type:o.b}],ut.\u0275prov=Object(s.Lc)({factory:function(){return new ut(Object(s.dd)(o.b))},token:ut,providedIn:"root"}),ut=Object(n.b)([Object(n.c)("design:paramtypes",[o.b])],ut);const ft={firstDayOfWeek:1,dayNames:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf"],dayNamesShort:["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5\u03c4","\u03a4\u03b5\u03c4","\u03a4\u03c1","\u03a0\u03b5\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03b1\u03b2"],dayNamesMin:["\u039a","\u0394","\u03a4","\u03a4","\u03a0","\u03a0","\u03a3"],monthNames:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],monthNamesShort:["\u0399\u03b1\u03bd","\u03a6\u03b5\u03b2","\u039c\u03ac\u03c1","\u0391\u03c0\u03c1","\u039c\u03ac\u03b9","\u0399\u03bf\u03cd","\u0399\u03bf\u03cd","\u0391\u03cd\u03b3","\u03a3\u03b5\u03c0","\u039f\u03ba\u03c4","\u039d\u03bf\u03ad","\u0394\u03b5\u03ba"],today:"\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1",clear:"\u039a\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"},gt=`${(new Date).getFullYear()-50}:${(new Date).getFullYear()+50}`;function bt(e){return e.setHours(e.getHours()-e.getTimezoneOffset()/60),e}function yt(e){try{e.detectChanges()}catch(t){}}function kt(e){const t=[],i=e.control;return Object.keys(i.controls).forEach(e=>{const s=i.get(e);s instanceof f.c&&t.push(...function e(t){const i=[];return Object.keys(t.controls).forEach(s=>{const n=t.get(s);n instanceof f.c&&i.push(...e(n));const o=n.errors;o&&Object.keys(o).forEach(e=>{i.push({control:s,error:e,value:o[e]})})}),i}(s));const n=s.errors;n&&Object.keys(n).forEach(i=>{t.push({control:e,error:i,value:n[i]})})}),t}function St(e){return!!new RegExp("^[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7]{2}[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7 ][0-9]{4}$").test(e)}function Ut(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toUpperCase()).replace(new RegExp("A","g"),"\u0391")).replace(new RegExp("B","g"),"\u0392")).replace(new RegExp("E","g"),"\u0395")).replace(new RegExp("H","g"),"\u0397")).replace(new RegExp("I","g"),"\u0399")).replace(new RegExp("K","g"),"\u039a")).replace(new RegExp("M","g"),"\u039c")).replace(new RegExp("N","g"),"\u039d")).replace(new RegExp("O","g"),"\u039f")).replace(new RegExp("T","g"),"\u03a4")).replace(new RegExp("X","g"),"\u03a7")).replace(new RegExp("Y","g"),"\u03a5")).replace(new RegExp("Z","g"),"\u0396")}function It(e){return e&&""!=e.trim().toString()&&(e=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toUpperCase()).replace(new RegExp("\u0393","g"),"")).replace(new RegExp("\u0394","g"),"")).replace(new RegExp("\u0398","g"),"")).replace(new RegExp("\u039b","g"),"")).replace(new RegExp("\u039e","g"),"")).replace(new RegExp("\u03a0","g"),"")).replace(new RegExp("\u03a3","g"),"")).replace(new RegExp("\u03a6","g"),"")).replace(new RegExp("\u03a8","g"),"")).replace(new RegExp("\u03a9","g"),"")).replace(new RegExp("C","g"),"")).replace(new RegExp("D","g"),"")).replace(new RegExp("F","g"),"")).replace(new RegExp("G","g"),"")).replace(new RegExp("J","g"),"")).replace(new RegExp("L","g"),"")).replace(new RegExp("Q","g"),"")).replace(new RegExp("R","g"),"")).replace(new RegExp("S","g"),"")).replace(new RegExp("U","g"),"")).replace(new RegExp("V","g"),"")).replace(new RegExp("W","g"),"")}(e)),e}let vt=class{constructor(e,t,i,s,n,o){this.kliseisNgSrv=e,this.pluginCacheSrv=t,this.toasterSrv=i,this.router=s,this.route=n,this.cdr=o,this.onDestroy=new a.a,this.paymentResponseDto=null,this.index=0,this.isAddingKlisi=!1,this.isDataChanged=!1,this.isAuthorized=!1,this.isLoadingPaymentRequest=!1,this.applicationUrl="",this.kliseisApiUrl="",this.financeApiUrl="",this.returnUrl="",this.assetsUrl="",this.errorMessageProfile=null,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.kliseisApiUrl=AppConfOptions.kliseis_api,this.financeApiUrl=AppConfOptions.epayments_api,this.assetsUrl=AuthConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/kliseis/receipts")):(this.applicationUrl=AppConfOptions.applicationUrl,this.kliseisApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi,this.assetsUrl=AppConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts"))}ngOnInit(){this.pluginCacheSrv.initIsAuthorized(),this.pluginCacheSrv.initUserInfo(),this.pluginCacheSrv.isAuthorized$.pipe(Object(h.a)(e=>(this.isAuthorized=e||!1,this.isAuthorized?(this.router.url.includes("receipts")?this.onTabChanged({index:1}):this.onTabChanged({index:0}),this.pluginCacheSrv.userInfo$):Object(c.a)(!1))),Object(h.a)(e=>e?(this.userInfo=e,this.kliseisNgSrv.getPluginCustomerOptions()):Object(c.a)(!1)),Object(p.a)(this.onDestroy)).subscribe(e=>{if(e){let t=e.find(e=>e.configurationOptions.find(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id));t&&t.configurationOptions.find(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id)&&(this.onlinePaymentsSettingsCompany=t.configurationOptions.find(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id).value)}yt(this.cdr)}),this.router.events.pipe(Object(p.a)(this.onDestroy)).subscribe(e=>{if(e&&e instanceof u.c){let t=e.url;this.isAuthorized&&(t.includes("receipts")?this.index=1:this.index=0)}})}ngOnDestroy(){this.onDestroy.next()}ngAfterViewInit(){this.router.url.includes("receipts")?this.index=1:this.index=0,yt(this.cdr)}onTabChanged(e){0==e.index?this.router.navigate(["./debits"],{relativeTo:this.route}):this.router.navigate(["./receipts"],{relativeTo:this.route})}onAddKlisiClicked(){this.isAddingKlisi=!0,yt(this.cdr)}_klisiAdded(e){this.isDataChanged=!0,this.isAddingKlisi=!1,yt(this.cdr)}};vt.\u0275fac=function(e){return new(e||vt)(s.Pc(mt),s.Pc(ut),s.Pc(ht),s.Pc(u.d),s.Pc(u.a),s.Pc(s.k))},vt.\u0275cmp=s.Jc({type:vt,selectors:[["lib-kliseis-ng"]],decls:4,vars:4,consts:[[4,"ngIf"],["title","\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u039d\u03ad\u03b1\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2",3,"isOpen","isOpenChange"],["class","d-flex justify-content-end mb-1",4,"ngIf"],[3,"activeIndex","onChange"],["header","\u0391\u03c0\u03bb\u03ae\u03c1\u03c9\u03c4\u03b5\u03c2 \u039a\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2"],[3,"isDataChanged","userInfo","errorMessageProfile","assetsUrl","onlinePaymentsSettingsCompany","relatedCallbackUrl"],["header","\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd \u039a\u03bb\u03ae\u03c3\u03b5\u03c9\u03bd"],["pTemplate","content"],[1,"d-flex","justify-content-end","mb-1"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-plus","fa-fw"],[3,"changeTabIndex"],[1,"modal-body"],[3,"userInfo","isLoadingPaymentRequest","relatedCallbackUrl","klisiAdded"]],template:function(e,t){1&e&&(s.Qd(0,P,2,0,"ng-container",0),s.Qd(1,M,7,8,"ng-container",0),s.Vc(2,"eg-modal",1),s.hd("isOpenChange",(function(e){return t.isAddingKlisi=e})),s.Qd(3,V,3,3,"ng-container",0),s.Uc()),2&e&&(s.sd("ngIf",!t.isAuthorized),s.Bc(1),s.sd("ngIf",t.isAuthorized&&t.userInfo),s.Bc(1),s.sd("isOpen",t.isAddingKlisi),s.Bc(1),s.sd("ngIf",t.isAddingKlisi&&t.userInfo))},directives:function(){return[g.p,b.a,Tt,I.b,I.a,Kt,O.d,Ft,Rt]},encapsulation:2,changeDetection:0}),vt.ctorParameters=()=>[{type:mt},{type:ut},{type:ht},{type:u.d},{type:u.a},{type:s.k}],vt=Object(n.b)([Object(n.c)("design:paramtypes",[mt,ut,ht,u.d,u.a,s.k])],vt);let Ot=class{constructor(e,t){this.oidcSecuritySrv=e,this.router=t}canActivate(e,t){return this.oidcSecuritySrv.getIsAuthorized().pipe(Object(d.a)(e=>!!e||(this.router.navigate(["/add"]),!1)))}};var Pt;Ot.\u0275fac=function(e){return new(e||Ot)(s.dd(v.c),s.dd(u.d))},Ot.\u0275prov=s.Lc({token:Ot,factory:Ot.\u0275fac}),Ot.ctorParameters=()=>[{type:v.c},{type:u.d}],Ot=Object(n.b)([Object(n.c)("design:paramtypes",[v.c,u.d])],Ot);let Ct=Pt=class{constructor(){this.validator=this.afmValidator()}validate(e){return this.validator(e)}afmValidator(){return e=>{if(e&&e.value){if(!function(e){if(!e||e.length<9)return!1;if("000000000"==e)return!0;e=e.split("").reverse().join("");for(var t=0,i=1;i<=8;i++)if(t+=+e.charAt(i)<<i,isNaN(t))return!1;return t%11%10==+e.charAt(0)}(e.value))return{afmvalidator:{valid:!1}}}return null}}};Ct.\u0275fac=function(e){return new(e||Ct)},Ct.\u0275dir=s.Kc({type:Ct,selectors:[["","validateAfm",""]],features:[s.Ac([{provide:f.g,useExisting:Pt,multi:!0}])]}),Ct=Pt=Object(n.b)([Object(n.c)("design:paramtypes",[])],Ct);var jt,Mt,Vt;!function(e){e[e.apliroti=1]="apliroti",e[e.exoflimeni=2]="exoflimeni",e[e.akiri=3]="akiri",e[e.diagrafiDS=4]="diagrafiDS",e[e.apoWeb=5]="apoWeb",e[e.exoflisiWeb=6]="exoflisiWeb"}(jt||(jt={}));class wt{constructor(){this.arithmosKlisis=null,this.hmerominiaEkdosis=null,this.arithmosKikloforias=null,this.oraEkdosis=null,this.poso=null,this.etos=null,this.isAuthorized=!0,this.debtorName=null,this.tin=null,this.email=null,this.tilefono=null,this.address=null,this.tk=null,this.poli=null,this.isForeign=!1}}class Et{constructor(){this.bankTransactionId=null,this.tin=null,this.adt=null,this.debtorName=null,this.address_city=null,this.address_country_code=null,this.address_zip=null,this.address=null,this.email=null,this.phone_number=null}}class _t{constructor(){this.remittanceInfo=null,this.amount=null,this.debtorName=null,this.tin=null,this.description=null}}class xt{constructor(){this.remittanceInfo=null,this.eponimia=null,this.afm=null,this.dieuthinsi=null,this.tk=null,this.poli=null,this.email=null,this.tilefono=null,this.relatedCallbackUrl=null}}class Bt{constructor(){this.btId=null,this.returnUrl=null,this.status=null,this.messagecode=null}}!function(e){e[e.Ok=1]="Ok",e[e.Error=2]="Error",e[e.Warning=3]="Warning",e[e.UndefinedError=4]="UndefinedError"}(Mt||(Mt={})),function(e){e.arithmosKlisis="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2",e.arithmosKikloforias="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2",e.poso="\u03a0\u03bf\u03c3\u03cc",e.etosKlisis="\u0388\u03c4\u03bf\u03c2 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2",e.email="Email",e.tilefono="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf",e.address="\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7",e.tk="\u03a4.\u039a.",e.poli="\u03a0\u03cc\u03bb\u03b7",e.hmerominiaEkdosis="\u0397\u03bc. \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2",e.debtorName="\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1",e.tin="\u0391.\u03a6.\u039c."}(Vt||(Vt={}));let Rt=class{constructor(e,t,i,n){this.kliseisNgSrv=e,this.pluginCacheSrv=t,this.toasterSrv=i,this.cdr=n,this.klisiAdded=new s.x,this.payKlisi=new s.x,this.onDestroy=new a.a,this.allowsPayment=!0,this.today=new Date,this.thisYear=this.today.getFullYear(),this.locale=ft,this.yearRange=gt,this.isLoading=!1,this.isLoadingResponse=!1,this.isFormSubmitted=!1,this.saveFailed=!1,this.showEtos="False",this.isFormValid=!0,this.formDictionaryEnum=Vt}ngOnChanges(e){e&&e.isLoadingPaymentRequest&&(this.isLoadingPaymentRequest=e.isLoadingPaymentRequest.currentValue,yt(this.cdr))}ngOnInit(){this.model=new wt,this.userInfo.address&&(this.model.address=this.userInfo.address),this.userInfo.address_city&&(this.model.poli=this.userInfo.address_city),this.userInfo.address_zip&&(this.model.tk=this.userInfo.address_zip),this.userInfo.phone_number&&(this.model.tilefono=this.userInfo.phone_number),this.userInfo.email&&(this.model.email=this.userInfo.email),yt(this.cdr),this.pluginCacheSrv.initPluginCustomerSpecificOptions(),this.pluginCacheSrv.pluginCustomerSpecificOptions$.pipe(Object(p.a)(this.onDestroy)).subscribe(e=>{if(e&&e[0]){let t=e[0].configurationOptions;t.some(e=>"PluginCustomerSpecificOptions:EtosKlisis"==e.id)?this.showEtos=t.find(e=>"PluginCustomerSpecificOptions:EtosKlisis"==e.id).value:this.showEtos="False",t.some(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id)&&(this.onlinePaymentsSettingsCompany=t.find(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id).value)}})}ngOnDestroy(){this.onDestroy.next()}onAnazitisi(){this.isFormSubmitted=!0,this.response=null,this.isFormValid=!0,this.formErrors=null,this.formErrorsMsg="";let e,t="";if(!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias?(e=Ut(this.model.arithmosKikloforias),e=It(e).toUpperCase(),""!=e&&0==St(e)?(this.toasterSrv.showWarning("","\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000)"),this.isFormValid=!1):this.model.arithmosKikloforias&&this.model.arithmosKikloforias!=e&&(this.isFormValid=!0)):this.isFormValid=!0,(!this.etosKlisis&&!this.model.hmerominiaEkdosis||this.model.hmerominiaEkdosis>new Date)&&(this.isFormValid=!1),this.etosKlisis&&+this.etosKlisis<=+this.thisYear?this.model.hmerominiaEkdosis=new Date(this.etosKlisis+"-01-01"):this.etosKlisis&&+this.etosKlisis>+this.thisYear&&(t="<li>\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf "+this.thisYear+".</li>"),yt(this.cdr),this.isFormSubmitted&&this.isFormValid)this.isLoadingResponse=!0,this.model.etos=+this.model.hmerominiaEkdosis.getFullYear(),this.model.arithmosKikloforias&&e&&this.model.arithmosKikloforias!=e&&(this.model.arithmosKikloforias=e),yt(this.cdr),this.kliseisNgSrv.getStoixeiaKlisisForWebPliromiEtos(this.model).subscribe(e=>{e&&(this.response=e,this.response&&this.response.poso&&0!=this.response.klisiId&&(this.model.poso=this.response.poso),this.response&&this.response.canPay&&0==this.response.klisiId&&"1"!=this.onlinePaymentsSettingsCompany?(this.allowsPayment=!1,this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03b3\u03ba\u03b5\u03ba\u03c1\u03b9\u03bc\u03ad\u03bd\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2.")):this.allowsPayment=!0,this.isLoadingResponse=!1,yt(this.cdr))});else{if(this.formErrors=kt(this.f),this.formErrors||!this.isFormValid){if(this.formErrorsMsg="<ul>",this.formErrors&&this.formErrors.forEach(e=>{let t;"required"==e.error?t="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==e.error&&(t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),this.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+this.formDictionaryEnum[e.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+t+"</li>"}),this.etosKlisis||this.model.hmerominiaEkdosis||(this.formErrorsMsg+="<li>\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03b5\u03af\u03c4\u03b5 \u03c4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03c4\u03b5 \u03c4\u03b7\u03bd \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2.</li>"),!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias){let t=Ut(this.model.arithmosKikloforias);t=It(e).toUpperCase(),""!=t&&0==St(t)&&(this.formErrorsMsg+="<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000).</li>")}this.formErrorsMsg+=t,this.formErrorsMsg+="<ul>"}yt(this.cdr)}}onCancelKlisiClicked(){this.isFormSubmitted=!1,this.response?this.response=null:this.klisiAdded.emit(null),yt(this.cdr)}onPliromiClicked(){this.isLoadingResponse=!0,yt(this.cdr),this.paymentRequestDto={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:this.userInfo.address_city?this.userInfo.address_city:this.model.poli,billingAddressCountryCode:this.userInfo.address_country_code?this.userInfo.address_country_code:"GR",billingAddressZip:this.userInfo.address_zip?this.userInfo.address_zip:this.model.tk,billingAddress:this.userInfo.address?this.userInfo.address:this.model.address,userEmail:this.userInfo.email?this.userInfo.email:this.model.email,userPhone:this.userInfo.phone_number?this.userInfo.phone_number:this.model.tilefono,paymentMethodKey:"",entries:[]};let e=new _t;if(e.tin=this.userInfo.tin,e.amount=this.model.poso,e.debtorName=this.userInfo.given_name+" "+this.userInfo.family_name,e.description="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2: "+this.model.arithmosKlisis.toString()+", \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2: "+this.model.arithmosKikloforias+", \u0397\u03bc\u03b5\u03c1/\u03bd\u03b9\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2: "+bt(this.model.hmerominiaEkdosis),yt(this.cdr),this.response&&0==this.response.klisiId){this.saveFailed=!1;let t=this.model.oraEkdosis?this.model.oraEkdosis.getHours()+":"+this.model.oraEkdosis.getMinutes():null;this.createKlisi={hmerominiaEkdosis:bt(this.model.hmerominiaEkdosis),oraEkdosis:t?t.toString():null,arithmosKikloforias:this.model.arithmosKikloforias,arithmosKlisis:this.model.arithmosKlisis,pliroteoPoso:this.model.poso,eponimia:this.userInfo.given_name+" "+this.userInfo.family_name,eponimo:this.userInfo.family_name,patronimo:this.userInfo.fathers_name,mitronimo:this.userInfo.mothers_name,onoma:this.userInfo.given_name,afm:this.userInfo.tin,odos:this.userInfo.address?this.userInfo.address:this.model.address,poli:this.userInfo.address_city?this.userInfo.address_city:this.model.poli,tk:this.userInfo.address_zip?this.userInfo.address_zip:this.model.tk,adt:this.userInfo.adt,tilefono:this.userInfo.phone_number?this.userInfo.phone_number:this.model.tilefono,email:this.userInfo.email?this.userInfo.email:this.model.email},this.kliseisNgSrv.createKlisiWebAsync(this.createKlisi).subscribe(t=>{t?(e.remittanceInfo=t.remittanceInfo,this.paymentRequestDto.entries=[],this.paymentRequestDto.entries.push(e),this.payKlisi.emit(this.paymentRequestDto)):(this.saveFailed=!0,yt(this.cdr)),this.isLoadingResponse=!1,yt(this.cdr)})}else 0!=this.response.klisiId&&(e.remittanceInfo=this.response.remittanceInfo,this.paymentRequestDto.entries=[],this.paymentRequestDto.entries.push(e),this.isLoadingResponse=!1,yt(this.cdr),this.payKlisi.emit(this.paymentRequestDto))}_getErrorReason(){return this.model.hmerominiaEkdosis>=new Date?"\u0397 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03ba\u03b1\u03b9 \u03b7 \u03ce\u03c1\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c0\u03c1\u03bf\u03b3\u03b5\u03bd\u03ad\u03c3\u03c4\u03b5\u03c1\u03b5\u03c2.":this.model.arithmosKikloforias?this.model.arithmosKlisis?this.model.poso<=0?"\u03a4\u03bf \u03c0\u03bf\u03c3\u03cc \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf.":"":"\u039f \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2 \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2.":"\u039f \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2."}};Rt.\u0275fac=function(e){return new(e||Rt)(s.Pc(mt),s.Pc(ut),s.Pc(ht),s.Pc(s.k))},Rt.\u0275cmp=s.Jc({type:Rt,selectors:[["lib-kliseis-add-new"]],viewQuery:function(e,t){var i;(1&e&&s.Yd(w,!0),2&e)&&(s.Fd(i=s.id())&&(t.f=i.first))},inputs:{isLoadingPaymentRequest:"isLoadingPaymentRequest",userInfo:"userInfo",relatedCallbackUrl:"relatedCallbackUrl"},outputs:{klisiAdded:"klisiAdded",payKlisi:"payKlisi"},features:[s.zc],decls:2,vars:2,consts:[["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],["class","form",4,"ngIf"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"form"],["f","ngForm"],[1,"row"],[1,"form-group","col-12","d-inline-flex","align-items-start"],["name","isForeign","value","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","label","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","binary","true",3,"ngModel","readonly","ngModelChange"],["isForeign","ngModel"],[1,"form-group","col-12","col-sm-6"],["type","text","name","arithmosKlisis","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2","pattern","([0-9]{1,12})","maxlength","12","autocomplete","nope","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["arithmosKlisisInput","ngModel"],[1,"text-danger","pt-1",3,"hidden"],["type","text","name","arithmosKikloforias","placeholder","\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2","autocomplete","nope","required","",1,"form-control",2,"text-transform","uppercase",3,"ngModel","readonly","ngModelChange"],["arithmosKikloforiasInput","ngModel"],[4,"ngIf"],["dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","name","hmerominiaEkdosis",3,"locale","maxDate","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","showTime","ngModel","required","disabled","ngModelChange"],["name","oraEkdosis","placeholder","\u03a9\u03a9:\u039b\u039b","hourFormat","24",3,"locale","timeOnly","showIcon","ngModel","disabled","ngModelChange"],["class","row",4,"ngIf"],["class","badge badge-warning mb-0",4,"ngIf"],[1,"form-actions","row","justify-content-center","pb-0"],["type","button","class","btn btn-primary btn-sm mr-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-warning",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["class","bg-white","style","width: 100%; height: 50px;",4,"ngIf"],["class","alert alert-danger form-msgs",4,"ngIf"],[1,"col-12"],[1,"alert","alert-info","w-100","d-block","mt-2","mb-1",2,"white-space","normal"],[1,"fas","fa-exclamation-circle","fa-fw"],["type","text","name","etosKlisis","placeholder","\u0388\u03c4\u03bf\u03c2","pattern","([0-9]{4})$",1,"form-control",3,"ngModel","readonly","ngModelChange"],["etosKlisisInput","ngModel"],[1,"badge","badge-warning","mb-0"],[1,"fas","fa-exclamation-triangle"],[1,"form-group","col-12"],["name","poso","type","text","placeholder","0,01","currencyMask","","lang","el-GR","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["posoInput","ngModel"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["name","email","type","email","placeholder","Email","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["emailInput","ngModel"],["name","tilefono","type","text","placeholder","69XXXXXXXX","pattern","^69([0-9]{8})$","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["tilefonoInput","ngModel"],[1,"col-12","col-md-8"],["name","address","type","text","placeholder","\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["addressInput","ngModel"],[1,"col-12","col-md-4"],["name","tk","type","text","placeholder","\u03a4.\u039a.","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["tkInput","ngModel"],["name","poli","type","text","placeholder","\u03a0\u03cc\u03bb\u03b7","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["poliInput","ngModel"],["type","button",1,"btn","btn-primary","btn-sm","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["aria-hidden","true",1,"fas","fa-money-check","fa-fw"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"bg-white",2,"width","100%","height","50px"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],[1,"alert","alert-danger","form-msgs"]],template:function(e,t){1&e&&(s.Qd(0,E,3,0,"div",0),s.Qd(1,G,44,40,"form",1)),2&e&&(s.sd("ngIf",!t.model||t.isLoading),s.Bc(1),s.sd("ngIf",t.model&&!t.isLoading))},directives:[g.p,f.t,f.j,f.k,S.a,f.i,f.l,f.b,f.o,f.e,f.q,k.a,y.b,g.n],encapsulation:2,changeDetection:0}),Rt.ctorParameters=()=>[{type:mt},{type:ut},{type:ht},{type:s.k}],Object(n.b)([Object(s.lb)("f"),Object(n.c)("design:type",f.k)],Rt.prototype,"f",void 0),Object(n.b)([Object(s.G)(),Object(n.c)("design:type",Object)],Rt.prototype,"userInfo",void 0),Object(n.b)([Object(s.G)(),Object(n.c)("design:type",Boolean)],Rt.prototype,"isLoadingPaymentRequest",void 0),Object(n.b)([Object(s.G)(),Object(n.c)("design:type",String)],Rt.prototype,"relatedCallbackUrl",void 0),Object(n.b)([Object(s.S)(),Object(n.c)("design:type",Object)],Rt.prototype,"klisiAdded",void 0),Object(n.b)([Object(s.S)(),Object(n.c)("design:type",Object)],Rt.prototype,"payKlisi",void 0),Rt=Object(n.b)([Object(n.c)("design:paramtypes",[mt,ut,ht,s.k])],Rt);let At=class{constructor(e,t,i){this.kliseisNgSrv=e,this.toasterSrv=t,this.cdr=i,this.loadingSimplifyModal=new s.x,this.createRequest=new s.x,this.onDestroy=new a.a,this.paymentMethodsClass="pm-size-2",this.errorMessageProfile=null}ngOnInit(){this.kliseisNgSrv.getPaymentSettings().pipe(Object(p.a)(this.onDestroy)).subscribe(e=>{if(e){this.onlinePaymentSettings=e,this.onlinePaymentSettings.paymentMethods.length&&this.onlinePaymentSettings.paymentMethods.forEach(e=>{if(e.services&&e.services.length>0)for(let t=0;t<e.services.length;t++)e.services[t]=e.services[t].toLowerCase()}),this.pancretaPaymentMethod=this.onlinePaymentSettings.paymentMethods.find(e=>"STPGGRAA"==e.key),document.getElementById("script_1_pancreta")||this.pancretaPaymentMethod&&this._loadPancretaScripts(this.pancretaPaymentMethod),this.ethnikiPaymentMethod=this.onlinePaymentSettings.paymentMethods.find(e=>"ETHNGRAA"==e.key),document.getElementById("script_1_ethniki")||this.ethnikiPaymentMethod&&this.ethnikiPaymentMethod.parameters&&this._loadEthnikiScripts(this.ethnikiPaymentMethod);let t=this.onlinePaymentSettings.paymentMethods.length;this.paymentMethodsClass=t<=2?"pm-size-2":"pm-size-3"}yt(this.cdr)})}ngOnDestroy(){this.onDestroy.next()}ngOnChanges(e){e&&e.onlinePaymentSettings&&(this.onlinePaymentSettings=e.onlinePaymentSettings.currentValue),e&&e.paymentResponseDto&&(this.paymentResponseDto=e.paymentResponseDto.currentValue),yt(this.cdr)}btnPayClicked(e){this.selectedPaymentMethod=e||this.onlinePaymentSettings.paymentMethods.filter(e=>e.key==this.onlinePaymentSettings.defaultPaymentMethodKey)[0],AppConfOptions&&AppConfOptions.oroi_xrisis_link&&""!=AppConfOptions.oroi_xrisis_link?(this.termsLink=AppConfOptions.oroi_xrisis_link,this.isTermsModalOpen=!0,yt(this.cdr)):this.createRequest.emit(!0)}onEthnikiPaymentRequestSucceded(e){this.paymentResponseDto=e,this.loadingSimplifyModal.emit(!0);let t=document.getElementById("ethnikiPaymentBtn");t.setAttribute("data-amount",e.postFields.amount),t.setAttribute("data-reference",e.postFields.reference),t.setAttribute("data-sc-key",this.ethnikiPaymentMethod.parameters.publicKey),this.loadingSimplifyModal.emit(!1),setTimeout(()=>{t.click()}),SimplifyCommerce.hostedPayments(t=>{if(t){var i="data"in t;if("close"in t&&1==t.close){let t=document.createElement("input");t.setAttribute("name","PaymentStatus"),t.setAttribute("value","CLOSED"),t.setAttribute("type","text"),t.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(t);let i=document.createElement("input");i.setAttribute("name","Reference"),i.setAttribute("value",e.postFields.reference),i.setAttribute("type","text"),i.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(i),setTimeout(()=>{this._submiToOikonomiki()})}else if(i){let i=function e(t){var i,s={};for(var n in t)if(t.hasOwnProperty(n))if("object"==typeof t[n])for(var o in i=e(t[n]))i.hasOwnProperty(o)&&(s[o]=i[o]);else s[n]=t[n];return s}(t);("ErrorCode"in i||"declineReason"in i)&&(i.Reference=e.postFields.reference);for(let e of Object.keys(i)){let t=i[e],s=document.createElement("input");s.setAttribute("name",e),s.setAttribute("value",t),s.setAttribute("type","text"),s.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(s)}setTimeout(()=>{this._submiToOikonomiki()})}}},{operation:"create.payment",scKey:this.ethnikiPaymentMethod.parameters.publicKey,color:"#204969",currency:"EUR",amount:e.postFields.amount,reference:e.postFields.reference,masterpass:e.postFields.masterpass})}onPancretaPaymentRequestSucceded(e){this.paymentResponseDto=e,yt(this.cdr);let t=document.createElement("script");t.id="script_2_pancreta",document.body.appendChild(t),document.getElementById("script_2_pancreta").innerHTML='var everypay = Everypay("'+this.pancretaPaymentMethod.parameters.publicKey+'", { locale: "el" });',setTimeout(()=>{let t=document.createElement("script");t.id="script_3_pancreta",document.body.appendChild(t),document.getElementById("script_3_pancreta").innerHTML=`everypay.button("#everypay-btn-container", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"amount": ${e.postFields.amount},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"locale": "el",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"on_token_received": function(token, showError, hideForm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (token) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_token").value = token;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_form").submit();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\tdocument.getElementById("everypay-btn-container").querySelectorAll("button")[0].click();`})}onTermsChanged(e){e&&"true"==e&&this.createRequest.emit(!0),this.isTermsModalOpen=!1,yt(this.cdr)}_addPaymentRequest(e){this.selectedPaymentMethod||(this.onlinePaymentSettings&&this.onlinePaymentSettings.defaultPaymentMethodKey?this.selectedPaymentMethod=this.onlinePaymentSettings.paymentMethods.filter(e=>e.key==this.onlinePaymentSettings.defaultPaymentMethodKey)[0]:this.onlinePaymentSettings&&1==this.onlinePaymentSettings.paymentMethods.length&&(this.selectedPaymentMethod=this.onlinePaymentSettings.paymentMethods[0])),e&&this.selectedPaymentMethod?(e.paymentMethodKey=this.selectedPaymentMethod.key,this.kliseisNgSrv.addPaymentRequest(e).subscribe(e=>{if(e){let t=e;this.paymentResponseDto=t.model,t.statusCode==Mt.Ok?t.model.getUrl&&""!=t.model.getUrl?t.model.getUrl&&""!=t.model.getUrl&&window.open(t.model.getUrl,"_self"):this._postBankForm(t.model):t.statusCode==Mt.Error&&"DEBTOR_ADDRESS_REQUIRED"==t.messageId&&(this.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",this.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb."))}this.isLoadingPaymentResponse=!1,yt(this.cdr)})):e&&!this.selectedPaymentMethod&&(this.showMethods=!0,yt(this.cdr))}_postBankForm(e){if("ETHNGRAA"==this.selectedPaymentMethod.key&&null!=this.selectedPaymentMethod.parameters)this.onEthnikiPaymentRequestSucceded(e);else if("STPGGRAA"==this.selectedPaymentMethod.key)this.onPancretaPaymentRequestSucceded(e);else{var t=Object.keys(e.postFields).map((function(t){return{key:t,value:e.postFields[t]}}));e.postFields=t,this.paymentResponseDto=e,yt(this.cdr),setTimeout(()=>{document.querySelector("#bankPaymentForm").submit()})}}_submiToOikonomiki(){document.querySelector("#ethniki_form").submit()}_loadEthnikiScripts(e){return new Promise((t,i)=>{const s=document.createElement("script");s.id="script_1_ethniki",s.src=e.parameters.javaScriptSource,s.onload=t,document.body.appendChild(s)})}_loadPancretaScripts(e){return new Promise((t,i)=>{const s=document.createElement("script");s.id="script_1_pancreta",s.src=e.parameters.javaScriptSource,s.onload=t,document.body.appendChild(s)})}};At.\u0275fac=function(e){return new(e||At)(s.Pc(mt),s.Pc(ht),s.Pc(s.k))},At.\u0275cmp=s.Jc({type:At,selectors:[["app-payment-methods"]],inputs:{paymentResponseDto:"paymentResponseDto",isLoadingPaymentResponse:"isLoadingPaymentResponse",assetsUrl:"assetsUrl"},outputs:{loadingSimplifyModal:"loadingSimplifyModal",createRequest:"createRequest"},features:[s.zc],decls:11,vars:8,consts:[["class","bg-white","style","width: 100%; height: 100px; text-align: center;",4,"ngIf"],["class","d-flex w-100 justify-content-center",4,"ngIf"],["title","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03a4\u03c1\u03cc\u03c0\u03bf \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2","size","md",3,"isOpen","isOpenChange"],[1,"modal-body"],["class","debits-info__payment text-center mt-3","id","debits-info__payment",4,"ngIf"],["id","everypay_form","method","post",3,"action",4,"ngIf"],["id","ethniki_form","method","post",3,"action",4,"ngIf"],["id","ethnikiPaymentBtn","data-name","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae",1,"d-none"],["id","bankPaymentForm","method","POST",1,"d-none",3,"action"],[4,"ngIf"],[1,"bg-white",2,"width","100%","height","100px","text-align","center"],[1,"d-flex","justify-content-center","align-items-center","w-100",2,"height","70%"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"d-flex","w-100","justify-content-center"],[1,"screen-msg","mt-2","p-1"],["id","debits-info__payment",1,"debits-info__payment","text-center","mt-3"],["class","payment-method__cont",4,"ngIf"],[1,"payment-method__cont"],[4,"ngFor","ngForOf"],[3,"ngClass","id","click"],[3,"innerHTML",4,"ngIf"],["class","payment-method__icon ml-2",4,"ngIf"],[3,"innerHTML"],[1,"payment-method__icon","ml-2"],["width","40",3,"src","alt",4,"ngFor","ngForOf"],["width","40",3,"src","alt"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/iris.jpg","alt","Iris"],["id","everypay_form","method","post",3,"action"],["id","everypay-btn-container",1,"d-none"],["name","everypay_token","id","everypay_token","type","text",1,"d-none",3,"value"],["type","text",1,"d-none",3,"name","value"],["id","ethniki_form","method","post",3,"action"],["type","text",3,"name","value"]],template:function(e,t){1&e&&(s.Qd(0,H,5,0,"div",0),s.Qd(1,J,3,1,"div",1),s.Vc(2,"eg-modal",2),s.hd("isOpenChange",(function(e){return t.showMethods=e})),s.Vc(3,"div",3),s.Qd(4,ce,3,2,"div",4),s.Uc(),s.Uc(),s.Qd(5,de,3,2,"form",5),s.Qd(6,le,1,1,"form",6),s.Vc(7,"button",7),s.Sd(8," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\n"),s.Uc(),s.Vc(9,"form",8),s.Qd(10,pe,2,1,"ng-container",9),s.Uc()),2&e&&(s.sd("ngIf",t.isLoadingPaymentResponse),s.Bc(1),s.sd("ngIf",t.errorMessageProfile),s.Bc(1),s.sd("isOpen",t.showMethods),s.Bc(2),s.sd("ngIf",!t.isLoadingPaymentResponse),s.Bc(1),s.sd("ngIf",t.pancretaPaymentMethod),s.Bc(1),s.sd("ngIf",t.ethnikiPaymentMethod),s.Bc(3),s.td("action",null==t.paymentResponseDto?null:t.paymentResponseDto.postUrl,s.Kd),s.Bc(1),s.sd("ngIf",t.paymentResponseDto))},directives:[g.p,b.a,f.t,f.j,f.k,g.o,g.n],pipes:[g.m,g.i],encapsulation:2,changeDetection:0}),At.ctorParameters=()=>[{type:mt},{type:ht},{type:s.k}],Object(n.b)([Object(s.G)(),Object(n.c)("design:type",Object)],At.prototype,"paymentResponseDto",void 0),Object(n.b)([Object(s.G)(),Object(n.c)("design:type",String)],At.prototype,"assetsUrl",void 0),Object(n.b)([Object(s.G)(),Object(n.c)("design:type",Boolean)],At.prototype,"isLoadingPaymentResponse",void 0),Object(n.b)([Object(s.S)(),Object(n.c)("design:type",Object)],At.prototype,"loadingSimplifyModal",void 0),Object(n.b)([Object(s.S)(),Object(n.c)("design:type",Object)],At.prototype,"createRequest",void 0),At=Object(n.b)([Object(n.c)("design:paramtypes",[mt,ht,s.k])],At);let Kt=class{constructor(e,t){this.kliseisNgSrv=e,this.cdr=t,this.payKliseis=new s.x,this.model=[],this.checkAll=!1,this.checkAllEnabled=!0,this.isLoading=!0,this.errorMsg=null,this.isLoadingPaymentResponse=!1,this.isLoadingSimplifyModal=!1,this.initPaymentMethods=!1,this.sumPliromis=0,this.sumPliroteoPoso=0,this.sumPosoKlisis=0,this.checkedKliseis=0}ngOnInit(){this._loadData()}_loadData(){this.isLoading=!0,this.errorMsg=null,yt(this.cdr),this.kliseisNgSrv.getKliseis(this.userInfo.tin).subscribe(e=>{e?(this.model=e,this.model.forEach(e=>{e.cannotPayReason?e.cannotPayReason=e.cannotPayReason:e.cannotPayReason="",e.canCheck=!0,e.afm?e.afm=e.afm:e.afm=this.userInfo.tin,this.model.filter(e=>!e.canPay).length==this.model.length?this.checkAllEnabled=!1:this.checkAllEnabled=!0,this.sumPosoKlisis+=e.pliroteoPoso,this.sumPliroteoPoso+=e.ofeilisPoso?e.ofeilisPoso:0,e.afm!=this.userInfo.tin&&(e.cannotPayReason+="<br/>\u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03c3\u03b5 \u0391.\u03a6.\u039c. \u03b4\u03b9\u03b1\u03c6\u03bf\u03c1\u03b5\u03c4\u03b9\u03ba\u03cc \u03b1\u03c0\u03cc \u03c4\u03bf \u03b4\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2, \u03c3\u03b5 \u03c7\u03c1\u03bf\u03bd\u03b9\u03ba\u03ae \u03c3\u03c4\u03b9\u03b3\u03bc\u03ae \u03cc\u03c0\u03bf\u03c5 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c3\u03c4\u03b5 \u03c9\u03c2 \u03ba\u03ac\u03c4\u03bf\u03c7\u03bf\u03c2 \u03c4\u03bf\u03c5 \u03bf\u03c7\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2.")})):this.errorMsg="\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd \u03c3\u03b1\u03c2.",this.isLoading=!1,yt(this.cdr)})}_calculatePosa(){this.sumPliromis=0,this.checkedKliseis=0,this.checkedKliseis=this.model.filter(e=>e.isChecked).length,this.model.filter(e=>e.isChecked).forEach(e=>{this.sumPliromis+=e.ofeilisPoso?e.ofeilisPoso:0}),yt(this.cdr)}onCheckAllKliseisClicked(){this.checkAll=!!this.checkAll,this.model.forEach(e=>{this.checkAll&&e.afm==this.userInfo.tin&&e.canPay?e.isChecked=!0:e.isChecked=!1}),yt(this.cdr),this._calculatePosa()}onCheckKlisiClicked(e){let t;this.model.some(e=>e.isChecked)&&(t=this.model.find(e=>e.isChecked).afm),t?(t=e.afm,this.model.forEach(e=>{e.afm!=t?e.canCheck=!1:e.canCheck=!0})):this.model.forEach(e=>{e.canCheck=!0}),yt(this.cdr),this._calculatePosa()}isLoadingSimplifyModalChanged(e){this.isLoadingSimplifyModal=e,yt(this.cdr)}_payActions(){this.initPaymentMethods=!0,yt(this.cdr);let e={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:"",entries:[]},t=[];for(let i of this.model.filter(e=>e.isChecked))t=[...t,this._createRemittanceInfo(i)];if(this.onlinePaymentsSettingsCompany&&"1"==this.onlinePaymentsSettingsCompany)this.kliseisNgSrv.fillPaymentRequestAuthorized(t).subscribe(t=>{t&&(t.forEach(t=>{let i=this.model.find(e=>this._createRemittanceInfo(e)==t.remittanceInfo);if(i&&t.amount&&t.amount>0){let s={remittanceInfo:t.remittanceInfo,amount:t.amount,debtorName:this.userInfo.given_name+" "+this.userInfo.family_name,tin:this.userInfo.tin,description:this._createDescription(i)};e.entries.push(s)}}),this.isLoadingPaymentResponse=!0,this.paymentMethodsComp._addPaymentRequest(e))});else{for(let t of this.model.filter(e=>e.isChecked)){let i={remittanceInfo:t.remittanceInfo,amount:t.ofeilisPoso,debtorName:this.userInfo.given_name+" "+this.userInfo.family_name,tin:this.userInfo.tin,description:this._createDescription(t)};e.entries.push(i)}this.isLoadingPaymentResponse=!0,this.paymentMethodsComp._addPaymentRequest(e)}}_createRemittanceInfo(e){return e.remittanceInfo}_createDescription(e){let t="";return t="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2: "+e.arithmosKlisis.toString()+", \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2: "+e.arithmosKikloforias+", \u0397\u03bc\u03b5\u03c1/\u03bd\u03b9\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2: "+e.hmerominiaEkdosis,t}};Kt.\u0275fac=function(e){return new(e||Kt)(s.Pc(mt),s.Pc(s.k))},Kt.\u0275cmp=s.Jc({type:Kt,selectors:[["app-kliseis-debits"]],viewQuery:function(e,t){var i;(1&e&&s.Yd(At,!0),2&e)&&(s.Fd(i=s.id())&&(t.paymentMethodsComp=i.first))},inputs:{isDataChanged:"isDataChanged",assetsUrl:"assetsUrl",errorMessageProfile:"errorMessageProfile",userInfo:"userInfo",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",relatedCallbackUrl:"relatedCallbackUrl"},outputs:{payKliseis:"payKliseis"},decls:6,vars:4,consts:[["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],["class","w-100 mt-2 alert alert-warning",4,"ngIf"],[4,"ngIf"],["selectedDebits",""],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"w-100","mt-2","alert","alert-warning"],["aria-hidden","true",1,"fas","fa-exclamation-circle"],[1,"w-100","mt-3","alert","alert-warning"],[1,"d-flex","flex-wrap","mb-1",2,"font-size","14px"],[1,"mr-1"],[1,"fas","fa-stop-circle","fa-fw","apliroti"],[1,"fas","fa-stop-circle","fa-fw","kataxorisi_web"],["tableStyleClass","kliseis-debits-table",3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"mb-2"],[3,"assetsUrl","isLoadingPaymentResponse","createRequest","loadingSimplifyModal",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"fixed-width-col-40","text-center"],[3,"binary","ngModel","disabled","ngModelChange","onChange"],[1,"fixed-width-col-40"],[1,"fixed-width-col-120"],[1,"fixed-width-col-100"],[1,"fixed-width-col-150"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["class","fixed-width-col-40 text-center",4,"ngIf"],[1,"ui-column-title"],["class","d-block",4,"ngIf"],[1,"fixed-width-col-100","text-right"],["rowspan","2",1,"fixed-width-col-40","text-center"],["colspan","8",3,"innerHtml"],["aria-label","\u0391\u03c0\u03bb\u03ae\u03c1\u03c9\u03c4\u03b7",1,"fas","fa-stop-circle","fa-fw","apliroti"],["aria-label","\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u03b1\u03c0\u03cc WEB",1,"fas","fa-stop-circle","fa-fw","kataxorisi_web"],[1,"d-block"],["colspan","6",1,"fixed-width-col-640"],["colspan","1",1,"fixed-width-col-100","text-right"],[3,"assetsUrl","isLoadingPaymentResponse","createRequest","loadingSimplifyModal"],[1,"debits-info","d-flex","flex-wrap","justify-content-around","w-100","align-items-center","pb-1","mb-1","border-bottom","border-light"],[1,"totalPoso"],[1,"text-right"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center"],["id","btnPayDebits","type","button",1,"paymentBtn","btn","btn-primary","btn-sm","mb-0","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-money-check","fa-fw"],[1,"d-flex","align-items-center","justify-content-between"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/visa.jpg","alt","visa","width","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/mastercard.jpg","alt","mastercard","width","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/maestro.jpg","alt","maestro","width","40"]],template:function(e,t){1&e&&(s.Qd(0,me,3,0,"div",0),s.Qd(1,ue,3,0,"div",1),s.Qd(2,fe,3,1,"div",1),s.Qd(3,xe,24,14,"ng-container",2),s.Qd(4,Be,19,8,"ng-template",null,3,s.Rd)),2&e&&(s.sd("ngIf",!t.model||t.isLoading),s.Bc(1),s.sd("ngIf",t.model&&0===t.model.length&&!t.isLoading),s.Bc(1),s.sd("ngIf",t.errorMsg&&""!=t.errorMsg&&!t.isLoading),s.Bc(1),s.sd("ngIf",t.model&&t.model.length>0&&!t.isLoading))},directives:[g.p,U.a,O.d,g.u,S.a,f.i,f.l,g.n,At],pipes:[g.f,g.d],encapsulation:2,changeDetection:0}),Kt.ctorParameters=()=>[{type:mt},{type:s.k}],Object(n.b)([Object(s.lb)(At,{static:!1}),Object(n.c)("design:type",At)],Kt.prototype,"paymentMethodsComp",void 0),Object(n.b)([Object(s.G)(),Object(n.c)("design:type",Boolean)],Kt.prototype,"isDataChanged",void 0),Object(n.b)([Object(s.G)(),Object(n.c)("design:type",String)],Kt.prototype,"assetsUrl",void 0),Object(n.b)([Object(s.G)(),Object(n.c)("design:type",String)],Kt.prototype,"errorMessageProfile",void 0),Object(n.b)([Object(s.G)(),Object(n.c)("design:type",Object)],Kt.prototype,"userInfo",void 0),Object(n.b)([Object(s.G)(),Object(n.c)("design:type",String)],Kt.prototype,"onlinePaymentsSettingsCompany",void 0),Object(n.b)([Object(s.G)(),Object(n.c)("design:type",String)],Kt.prototype,"relatedCallbackUrl",void 0),Object(n.b)([Object(s.S)(),Object(n.c)("design:type",Object)],Kt.prototype,"payKliseis",void 0),Kt=Object(n.b)([Object(n.c)("design:paramtypes",[mt,s.k])],Kt);let Ft=class{constructor(e,t,i,n,o){this.kliseisNgSrv=e,this.pluginCacheSrv=t,this.route=i,this._http=n,this.cdr=o,this.model=[],this.changeTabIndex=new s.x,this.checkAll=!1,this.sumPliroteoPoso=0,this.applicationUrl="",this.kliseisApiUrl="",this.financeApiUrl="",this.isLoading=!0,this.onDestroy=new a.a,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.kliseisApiUrl=AppConfOptions.kliseis_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.kliseisApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}ngOnInit(){this.pluginCacheSrv.userInfo$.pipe(Object(p.a)(this.onDestroy)).subscribe(e=>{e&&(this.userInfo=e),this.cdr.detectChanges()}),this._getBankMessages().pipe(Object(h.a)(e=>e?(this.oikonomikiBankMessages=e,this.route.queryParams.pipe(Object(p.a)(this.onDestroy))):Object(c.a)(!1))).subscribe(e=>{if(e){let t=e,i=t.messagecode,s=t.btId;if(this.cdr.detectChanges(),i)if(this.changeTabIndex.emit(1),this.bankStatusMessage=this.oikonomikiBankMessages[i],"TRANSACTION_COMPLETED"==i){if(this.bankStatusMessageClass="success",s){let e=new Et;e.address=this.userInfo.address,e.address_city=this.userInfo.address_city,e.address_country_code=this.userInfo.address_country_code,e.address_zip=this.userInfo.address_zip,e.adt=this.userInfo.adt,e.debtorName=this.userInfo.given_name+" "+this.userInfo.family_name,e.email=this.userInfo.email,e.phone_number=this.userInfo.phone_number,e.tin=this.userInfo.tin,e.bankTransactionId=s,this.kliseisNgSrv.markKlisiWebExoflisi(e).subscribe(()=>{this._loadData()})}}else this.bankStatusMessageClass="fail"}this.cdr.detectChanges(),this._loadData()})}ngOnDestroy(){this.onDestroy.next()}btnBankStatusMessageClicked(){this.bankStatusMessage=null,this.cdr.detectChanges()}_loadData(){this.isLoading=!0,this.kliseisNgSrv.getKliseisPayed(this.userInfo.tin).subscribe(e=>{e&&(this.model=e,this.model.forEach(e=>this.sumPliroteoPoso+=e.pliroteoPoso),this.model=this.model.sort((function(e,t){return e.hmerominiaEkdosis!=t.hmerominiaEkdosis?new Date(t.hmerominiaEkdosis).getTime()-new Date(e.hmerominiaEkdosis).getTime():+t.arithmosKlisis-+e.arithmosKlisis})),this.cdr.detectChanges()),this.isLoading=!1,this.cdr.detectChanges()})}_getBankMessages(){let e=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(e)}};Ft.\u0275fac=function(e){return new(e||Ft)(s.Pc(mt),s.Pc(ut),s.Pc(u.a),s.Pc(o.b),s.Pc(s.k))},Ft.\u0275cmp=s.Jc({type:Ft,selectors:[["app-kliseis-receipts"]],outputs:{changeTabIndex:"changeTabIndex"},decls:4,vars:4,consts:[["class","d-flex w-100 justify-content-center",4,"ngIf"],[3,"class",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center"],[1,"alert","alert-warning","p-1"],["type","button",1,"close-bank-msg","position-absolute",2,"right","5px","top","5px","background-color","transparent","border","0 none","color","#ffffff",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"d-flex","flex-wrap","mb-1",2,"font-size","14px"],[1,"mr-1"],[1,"fas","fa-stop-circle","fa-fw","exoflimeni"],[1,"fas","fa-stop-circle","fa-fw","exoflisi_web"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"fixed-width-col-40"],[1,"fixed-width-col-120"],[1,"fixed-width-col-150"],[1,"fixed-width-col-100"],[1,"fixed-width-col-40","text-center"],[1,"ui-column-title"],["class","d-block",4,"ngIf"],[1,"fixed-width-col-100","text-right"],[1,"d-block"],["colspan","8",1,"text-right"]],template:function(e,t){1&e&&(s.Qd(0,Re,3,0,"div",0),s.Qd(1,Ae,4,4,"div",1),s.Qd(2,Ke,3,0,"div",2),s.Qd(3,Ge,16,10,"ng-container",3)),2&e&&(s.sd("ngIf",t.model&&0===t.model.length&&!t.isLoading),s.Bc(1),s.sd("ngIf",t.bankStatusMessage),s.Bc(1),s.sd("ngIf",!t.model||t.isLoading),s.Bc(1),s.sd("ngIf",t.model&&t.model.length>0&&!t.isLoading))},directives:[g.p,U.a,O.d],pipes:[g.f,g.d],encapsulation:2,changeDetection:0}),Ft.ctorParameters=()=>[{type:mt},{type:ut},{type:u.a},{type:o.b},{type:s.k}],Object(n.b)([Object(s.S)(),Object(n.c)("design:type",Object)],Ft.prototype,"changeTabIndex",void 0),Ft=Object(n.b)([Object(n.c)("design:paramtypes",[mt,ut,u.a,o.b,s.k])],Ft);const Qt=[{path:"",component:vt,children:[{path:"debits",component:Kt,canActivate:[Ot]},{path:"receipts",component:Ft,canActivate:[Ot]}]}];let Dt=class{};Dt.\u0275mod=s.Nc({type:Dt}),Dt.\u0275inj=s.Mc({factory:function(e){return new(e||Dt)},imports:[[u.g.forChild(Qt)],u.g]});let Tt=class{constructor(e,t,i,s,n,o){this.kliseisNgSrv=e,this.toasterSrv=t,this.route=i,this.router=s,this._http=n,this.cdr=o,this.model=new wt,this.onDestroy=new a.a,this.isLoading=!1,this.isLoadingPaymentRequest=!1,this.requestMsg="",this.requestMsgClass="info",this.isFormSubmitted=!1,this.isFormPaySubmitted=!1,this.oikonomikiBankMessages={CODE_HAS_NO_BALANCE:"\u039f \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2 \u03ad\u03c7\u03b5\u03b9 \u03bc\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03cc \u03c5\u03c0\u03cc\u03bb\u03bf\u03b9\u03c0\u03bf",CODE_NOT_FOUND:"\u039f \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2 \u03b4\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b5",DEBTOR_ADDRESS_REQUIRED:"\u0394\u03b5\u03bd \u03ad\u03c7\u03bf\u03c5\u03bd \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03c9\u03b8\u03b5\u03af \u03c4\u03b1 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2",DEBTOR_NOT_UNIQUE:"\u039f \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c4\u03b7\u03c2 \u03b4\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03c4\u03b1\u03c5\u03c4\u03bf\u03c0\u03bf\u03b9\u03b7\u03b8\u03b5\u03af \u03bc\u03bf\u03bd\u03b1\u03b4\u03b9\u03ba\u03ac \u03bc\u03b5 \u03b2\u03ac\u03c3\u03b7 \u03c4\u03bf \u0391\u03a6\u039c",DEBTOR_TIN_REQUIRED:"\u0391\u03c0\u03b1\u03b9\u03c4\u03b5\u03af\u03c4\u03b1\u03b9 \u0391\u03a6\u039c",HASH_MISMATCH:"\u0391\u03b4\u03c5\u03bd\u03b1\u03bc\u03af\u03b1 \u03b5\u03c0\u03b1\u03bb\u03ae\u03b8\u03b5\u03c5\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2",INVALID_CULTURE:"\u0386\u03b3\u03bd\u03c9\u03c3\u03c4\u03b7 \u03ba\u03c9\u03b4\u03b9\u03ba\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7 \u03b3\u03bb\u03ce\u03c3\u03c3\u03b1\u03c2",OK:"",SETTLEMENT_PENDING:"\u0397 \u03c7\u03c1\u03ad\u03c9\u03c3\u03b7 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c3\u03b5 \u03b5\u03ba\u03ba\u03c1\u03b5\u03bc\u03cc\u03c4\u03b7\u03c4\u03b1",TICKET_NOT_ISSUED:"\u0394\u03b5\u03bd \u03b5\u03ba\u03b4\u03cc\u03b8\u03b7\u03ba\u03b5 Ticket",TRANSACTION_CANCELED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b1\u03ba\u03c5\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u03b1\u03c0\u03bf \u03c4\u03bf \u03c7\u03c1\u03ae\u03c3\u03c4\u03b7.",TRANSACTION_COMPLETED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1.",TRANSACTION_ERROR:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b4\u03b5\u03bd \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5",TRANSACTION_REJECTED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b1\u03c0\u03bf\u03c1\u03c1\u03af\u03c6\u03b8\u03b7\u03ba\u03b5 \u03b1\u03c0\u03bf \u03c4\u03b7\u03bd \u03c4\u03c1\u03ac\u03c0\u03b5\u03b6\u03b1",UNKNOWN_ERROR:"\u0386\u03b3\u03bd\u03c9\u03c3\u03c4\u03bf \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1"},this.today=new Date,this.thisYear=this.today.getFullYear(),this.isFormValid=!0,this.formDictionaryEnum=Vt}ngOnInit(){AppConfOptions.applicationUrl&&AppConfOptions.applicationUrl.includes("localhost")?(this.financeApi=AppConfOptions.financeApi,this.callbackUrl=AppConfOptions.applicationUrl+"/plugin"):(this.financeApi=AppConfOptions.epayments_api,this.callbackUrl=AuthConfOptions.post_logout_redirect_uri+"/egwebapps/kliseis"),this.route.queryParams.pipe(Object(h.a)(e=>{if(e){let t=e;if(t.messagecode&&"TRANSACTION_COMPLETED"==t.messagecode){this.bankStatusMessage=this.oikonomikiBankMessages[t.messagecode];let e=new Bt;return e.btId=t.btId,e.returnUrl=this.callbackUrl,e.status=t.status,e.messagecode=t.messagecode,yt(this.cdr),this.kliseisNgSrv.getFinancePaymentCallback(e)}return this.bankStatusMessage=this.oikonomikiBankMessages[t.messagecode],this.bankStatusMessageClass="fail",yt(this.cdr),Object(c.a)(!1)}return Object(c.a)(!1)}),Object(p.a)(this.onDestroy)).subscribe(e=>{this.bankStatusMessageClass=e?"success":"fail",yt(this.cdr)})}ngOnDestroy(){this.onDestroy.next()}onCheckKlisiClicked(){this.isFormSubmitted=!0,this.isFormValid=!0,this.formErrorsMsg="",this.requestMsg="";let e,t="";if(!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias?(e=Ut(this.model.arithmosKikloforias),e=It(e).toUpperCase(),""!=e&&0==St(e)?(this.toasterSrv.showWarning("","\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000)"),this.isFormValid=!1):this.model.arithmosKikloforias&&this.model.arithmosKikloforias!=e&&(this.isFormValid=!0)):this.isFormValid=!0,this.model.etos&&+this.model.etos>+this.thisYear&&(this.isFormValid=!1,t="<li>\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf "+this.thisYear+".</li>"),yt(this.cdr),this.isFormSubmitted&&this.klisiAnazitisi.valid&&this.isFormValid)this.isLoading=!0,this.response=null,this.requestMsg="",this.model.isAuthorized=!1,this.model.arithmosKikloforias&&e&&this.model.arithmosKikloforias!=e&&(this.model.arithmosKikloforias=e),yt(this.cdr),this.kliseisNgSrv.getStoixeiaKlisisForWebPliromiEtos(this.model).subscribe(e=>{e?(this.response=e,this.response.canPay?(this.toasterSrv.showInfo("",this.response.messageResponse),this.requestMsg=this.response.messageResponse):(this.toasterSrv.showWarning("",this.response.messageResponse),this.requestMsg=this.response.messageResponse,this.requestMsgClass="warning")):(this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1."),this.requestMsg="\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1.",this.requestMsgClass="error"),this.isLoading=!1,yt(this.cdr)});else{if(this.formErrors=kt(this.klisiAnazitisi),this.formErrors||!this.isFormValid){if(this.formErrorsMsg="<ul>",this.formErrors&&this.formErrors.forEach(e=>{let t;"required"==e.error?t="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==e.error&&(t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),this.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+this.formDictionaryEnum[e.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+t+"</li>"}),this.formErrorsMsg+=t,!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias){let t=Ut(this.model.arithmosKikloforias);t=It(e).toUpperCase(),""!=t&&0==St(t)&&(this.formErrorsMsg+="<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000).</li>")}this.formErrorsMsg+="<ul>"}yt(this.cdr)}}onCancelClicked(){this.model=new wt,this.response=null,this.isFormSubmitted=!1,this.isFormPaySubmitted=!1,this.formErrors=null,this.formErrorsMsg=null,this.requestMsg="",yt(this.cdr)}onPayKlisiClicked(){if(this.isLoadingPaymentRequest=!0,this.isFormPaySubmitted=!0,this.isFormSubmitted=!1,this.formErrorsMsgPay="",this.formErrorsPay=null,yt(this.cdr),this.isFormPaySubmitted&&this.klisiPayUnauthorized.valid){let e=new xt;e.remittanceInfo=this.response.remittanceInfo,e.relatedCallbackUrl=this.callbackUrl,!this.response.hasDieuthinsi&&(e.dieuthinsi=this.model.address),!this.response.hasDieuthinsi&&(e.tk=this.model.tk),!this.response.hasDieuthinsi&&(e.poli=this.model.poli),!this.response.hasEmail&&(e.email=this.model.email),!this.response.hasTilefono&&(e.tilefono=this.model.tilefono),this.model.debtorName?e.eponimia=this.model.debtorName:e.eponimia=null,this.model.tin?e.afm=this.model.tin:e.afm=null,this.kliseisNgSrv.fillPaymentRequestDtoNonAuthorized(e).subscribe(e=>{if(e){let t=e;t.statusCode==Mt.Ok?this._postBankForm(t.model):t.statusCode==Mt.Error&&"DEBTOR_ADDRESS_REQUIRED"==t.messageId&&(this.bankMsg="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",this.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.")),this.isLoadingPaymentRequest=!1,yt(this.cdr)}})}else this.isLoadingPaymentRequest=!1,this.formErrorsMsgPay="",this.formErrorsPay=kt(this.klisiPayUnauthorized),yt(this.cdr),this.formErrorsPay&&(this.formErrorsMsgPay="<ul>",this.formErrorsPay.forEach(e=>{let t;"required"==e.error?t="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==e.error?t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"afmvalidator"==e.error&&(t="\u039f \u0391.\u03a6.\u039c. \u03b4\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9"),this.formErrorsMsgPay+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+this.formDictionaryEnum[e.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+t+"</li>"}),this.formErrorsMsgPay+="<ul>"),yt(this.cdr)}_postBankForm(e){var t=Object.keys(e.postFields).map((function(t){return{key:t,value:e.postFields[t]}}));e.postFields=t,this.paymentResponseDto=e,setTimeout((function(){document.getElementById("bankPaymentForm").submit()}),50),yt(this.cdr)}};Tt.\u0275fac=function(e){return new(e||Tt)(s.Pc(mt),s.Pc(ht),s.Pc(u.a),s.Pc(u.d),s.Pc(o.b),s.Pc(s.k))},Tt.\u0275cmp=s.Jc({type:Tt,selectors:[["app-kliseis-unauthorized-pay"]],viewQuery:function(e,t){var i;(1&e&&(s.Yd(He,!0),s.Yd(Je,!0)),2&e)&&(s.Fd(i=s.id())&&(t.klisiAnazitisi=i.first),s.Fd(i=s.id())&&(t.klisiPayUnauthorized=i.first))},decls:2,vars:2,consts:[[3,"class",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-primary","btn-sm","mb-0","mt-2",3,"href"],["aria-hidden","true",1,"fas","fa-undo","fa-fw"],[1,"form"],["klisiAnazitisi","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6","d-inline-flex","align-items-center"],["name","isForeign","value","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","label","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","binary","true",1,"rowCheckbox",3,"ngModel","disabled","ngModelChange"],["isForeign","ngModel"],[1,"form-group","col-12","col-md-6"],["name","arithmosKikloforias","type","text","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2","autocomplete","nope","required","",1,"form-control",2,"text-transform","uppercase",3,"ngModel","disabled","ngModelChange"],["arithmosKikloforiasInput","ngModel"],[1,"text-danger","pt-1",3,"hidden"],["name","arithmosKlisis","type","text","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2","pattern","([0-9]{1,12})","maxlength","12","autocomplete","nope","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["arithmosKlisisInput","ngModel"],[1,"col-12","col-md-6"],["name","etosKlisis","type","text","placeholder","\u0388\u03c4\u03bf\u03c2","pattern","([0-9]{4})","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["etosKlisisInput","ngModel"],[1,"form-actions","row","justify-content-center","pb-0"],["type","button",1,"btn","btn-primary","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["type","button",1,"btn","btn-warning",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["class","bg-white","style","width: 100%; height: 100px",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"bg-white",2,"width","100%","height","100px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],["class","form mt-2",4,"ngIf"],[1,"form","mt-2"],["klisiPayUnauthorized","ngForm"],["class","row",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-money-check","fa-fw"],["class","bg-white","style","width: 100%; height: 50px;",4,"ngIf"],["name","debtorName","type","text","placeholder","\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1","required","",1,"form-control",3,"ngModel","ngModelChange"],["debtorNameInput","ngModel"],["name","tin","type","text","placeholder","\u0391.\u03a6.\u039c.","validateAfm","","required","",1,"form-control",3,"ngModel","ngModelChange"],["tinInput","ngModel"],["class","col-12",3,"ngClass",4,"ngIf"],[1,"col-12",3,"ngClass"],["name","email","type","email","placeholder","Email","required","",1,"form-control",3,"ngModel","ngModelChange"],["emailInput","ngModel"],["name","tilefono","type","text","placeholder","69XXXXXXXX","pattern","^69([0-9]{8})$","required","",1,"form-control",3,"ngModel","ngModelChange"],["tilefonoInput","ngModel"],[1,"col-12","col-md-5"],["name","address","type","text","placeholder","\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7","required","",1,"form-control",3,"ngModel","ngModelChange"],["addressInput","ngModel"],[1,"col-12","col-md-2"],["name","tk","type","text","placeholder","\u03a4.\u039a.","required","",1,"form-control",3,"ngModel","ngModelChange"],["tkInput","ngModel"],["name","poli","type","text","placeholder","\u03a0\u03cc\u03bb\u03b7","required","",1,"form-control",3,"ngModel","ngModelChange"],["poliInput","ngModel"],[1,"bg-white",2,"width","100%","height","50px"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"]],template:function(e,t){1&e&&(s.Qd(0,Ye,5,5,"div",0),s.Qd(1,lt,39,15,"ng-container",1)),2&e&&(s.sd("ngIf",t.bankStatusMessage),s.Bc(1),s.sd("ngIf",!t.bankStatusMessage))},directives:[g.p,f.t,f.j,f.k,S.a,f.i,f.l,f.b,f.q,f.o,f.e,Ct,g.n],encapsulation:2,changeDetection:0}),Tt.ctorParameters=()=>[{type:mt},{type:ht},{type:u.a},{type:u.d},{type:o.b},{type:s.k}],Object(n.b)([Object(s.lb)("klisiAnazitisi"),Object(n.c)("design:type",f.k)],Tt.prototype,"klisiAnazitisi",void 0),Object(n.b)([Object(s.lb)("klisiPayUnauthorized"),Object(n.c)("design:type",f.k)],Tt.prototype,"klisiPayUnauthorized",void 0),Tt=Object(n.b)([Object(n.c)("design:paramtypes",[mt,ht,u.a,u.d,o.b,s.k])],Tt);const Lt={align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."};let qt=class{};qt.\u0275mod=s.Nc({type:qt}),qt.\u0275inj=s.Mc({factory:function(e){return new(e||qt)},providers:[Ot,{provide:y.a,useValue:Lt}],imports:[[g.c,f.d,Dt,b.b,I.c,k.b,U.b,S.b,y.c]]}),("undefined"==typeof ngJitMode||ngJitMode)&&s.Ld(Dt,{imports:function(){return[u.g]},exports:function(){return[u.g]}}),("undefined"==typeof ngJitMode||ngJitMode)&&s.Ld(qt,{declarations:function(){return[vt,Kt,Ft,Tt,Rt,Ct,At]},imports:function(){return[g.c,f.d,Dt,b.b,I.c,k.b,U.b,S.b,y.c]},exports:function(){return[vt,Kt,Ft,Tt,Rt,Ct]}});var Nt=i("1kSV"),zt=i("PCNd"),Wt=function(e,t,i,s){var n,o=arguments.length,c=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,i,s);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(c=(o<3?n(c):o>3?n(t,i,c):n(t,i))||c);return o>3&&c&&Object.defineProperty(t,i,c),c},$t=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Gt=function(e){return e&&e.__esModule?e:{default:e}};let Ht=class{constructor(e,t){this.oidcSecuritySrv=e,this.router=t,this.onDestroy=new a.a}ngOnInit(){this.oidcSecuritySrv.getIsAuthorized().subscribe(e=>{this.isAuthorized=e,this.isAuthorized?(AppConfOptions&&AppConfOptions.kliseis_debits_tab_info&&""!=AppConfOptions.kliseis_debits_tab_info&&this.router.url.includes("debits")&&(this.tabMsg=AppConfOptions.kliseis_debits_tab_info),AppConfOptions&&AppConfOptions.kliseis_receipts_tab_info&&""!=AppConfOptions.kliseis_receipts_tab_info&&this.router.url.includes("receipts")&&(this.tabMsg=AppConfOptions.kliseis_receipts_tab_info)):AppConfOptions&&AppConfOptions.kliseis_unauthorized_info&&""!=AppConfOptions.kliseis_unauthorized_info&&(this.tabMsg=AppConfOptions.kliseis_unauthorized_info)}),this.router.events.pipe(Object(p.a)(this.onDestroy)).subscribe(e=>{if(e&&e instanceof u.c){let t=e.url;this.isAuthorized&&(t.includes("receipts")?AppConfOptions&&AppConfOptions.kliseis_receipts_tab_info&&""!=AppConfOptions.kliseis_receipts_tab_info&&(this.tabMsg=AppConfOptions.kliseis_receipts_tab_info):AppConfOptions&&AppConfOptions.kliseis_debits_tab_info&&""!=AppConfOptions.kliseis_debits_tab_info&&(this.tabMsg=AppConfOptions.kliseis_debits_tab_info))}})}ngOnDestroy(){this.onDestroy.next()}};Ht.ctorParameters=()=>[{type:v.c},{type:u.d}],Ht=Wt([Object(s.n)({selector:"app-kliseis",template:Gt(i("04IN")).default}),$t("design:paramtypes",[v.c,u.d])],Ht);var Jt=function(e,t,i,s){var n,o=arguments.length,c=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,i,s);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(c=(o<3?n(c):o>3?n(t,i,c):n(t,i))||c);return o>3&&c&&Object.defineProperty(t,i,c),c};const Yt=[{path:"",component:Ht,children:[{path:"",loadChildren:()=>Promise.resolve().then(i.bind(null,"UGYw")).then(e=>e.PublicLibLoader)}]}];let Xt=class{};Xt=Jt([Object(s.L)({imports:[u.g.forChild(Yt)],exports:[u.g]})],Xt);var Zt=function(e,t,i,s){var n,o=arguments.length,c=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,i,s);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(c=(o<3?n(c):o>3?n(t,i,c):n(t,i))||c);return o>3&&c&&Object.defineProperty(t,i,c),c};let ei=class{};ei=Zt([Object(s.L)({declarations:[Ht],imports:[zt.a,Xt,Nt.d,qt]})],ei);let ti=class{};ti=Zt([Object(s.L)({imports:[qt]})],ti)}}]);