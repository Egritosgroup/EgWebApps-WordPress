"use strict";(self.webpackChunkegritos_group_eg_web_apps=self.webpackChunkegritos_group_eg_web_apps||[]).push([[228],{8228:(li,$,r)=>{r.r($),r.d($,{KliseisModule:()=>ni,PublicLibLoader:()=>oi});var O=r(7048),e=r(4496),a=r(3228),c=r(4704),h=r(9144),y=r(7368),g=r(3616),b=r(6700),f=r(5657),k=r(2700),p=r(7921),_=r(6230),A=r(7564),m=r(1368),K=r(1123),D=r(3856),P=r(2116),d=r(6504),C=r(8552),G=r(312),R=r(6328),E=r(120),M=r(5544),x=r(4344),J=r(6835),U=r(1148),H=r(5328),Q=r(3340);const W=["AllagiOdigouForm"];function Z(s,l){if(1&s&&(e.wR5(0,"p-message",13),e.wVc(1,"translate")),2&s){const t=e.GaO();e.E7m("text",e.kDX(1,1,null==t.translation?null:t.translation.kliseis.emptyArrayMsg))}}function ee(s,l){if(1&s&&e.wR5(0,"p-message",14),2&s){const t=e.GaO();e.E7m("text",t.errorMsg)("styleClass","px-2 mb-2")}}function te(s,l){if(1&s&&(e.wR5(0,"p-message",15),e.wVc(1,"translate")),2&s){const t=e.GaO();e.E7m("text",e.kDX(1,2,null==t.translation?null:t.translation.kliseis.sameTinMsg))("styleClass","px-2 my-2")}}function ie(s,l){1&s&&e.C_f(0)}function se(s,l){if(1&s&&(e.SAx(0),e.yuY(1,ie,1,0,"ng-container",16),e.k70()),2&s){e.GaO();const t=e.Gew(17);e.yG2(),e.E7m("ngTemplateOutlet",t)}}function ne(s,l){if(1&s&&(e.I0R(0,"div",17)(1,"span",18),e.wR5(2,"i",19),e.OEk(3),e.wVc(4,"translate"),e.C$Y(),e.I0R(5,"span"),e.wR5(6,"i",20),e.OEk(7),e.wVc(8,"translate"),e.C$Y()()),2&s){const t=e.GaO();e.yG2(3),e.oRS(" ",e.kDX(4,2,null==t.translation?null:t.translation.kliseis.notPayedStatus),""),e.yG2(4),e.oRS(" ",e.kDX(8,4,null==t.translation?null:t.translation.kliseis.webStatus),"")}}function oe(s,l){1&s&&e.wR5(0,"th",35),2&s&&e.E7m("frozen",!0)}function ae(s,l){if(1&s){const t=e.KQA();e.I0R(0,"tr")(1,"th",21)(2,"p-checkbox",22),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.checkAll,i)||(o.checkAll=i),e.CGJ(i)}),e.qCj("onChange",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.onCheckAllKliseisClicked())}),e.C$Y()(),e.I0R(3,"th",23),e.OEk(4,"\xa0"),e.C$Y(),e.I0R(5,"th",24),e.OEk(6),e.wVc(7,"translate"),e.wR5(8,"p-sortIcon",25),e.C$Y(),e.I0R(9,"th",26),e.OEk(10),e.wVc(11,"translate"),e.wR5(12,"p-sortIcon",27),e.C$Y(),e.I0R(13,"th",28),e.OEk(14,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2/"),e.wR5(15,"br"),e.OEk(16,"\u039f\u03b4\u03b7\u03b3\u03cc\u03c2 / "),e.wR5(17,"br"),e.OEk(18),e.wVc(19,"translate"),e.C$Y(),e.I0R(20,"th",29),e.OEk(21),e.wVc(22,"translate"),e.C$Y(),e.I0R(23,"th",30),e.OEk(24),e.wVc(25,"translate"),e.wR5(26,"p-sortIcon",31),e.C$Y(),e.I0R(27,"th",32),e.OEk(28),e.wVc(29,"translate"),e.wR5(30,"p-sortIcon",33),e.C$Y(),e.I0R(31,"th",29),e.OEk(32),e.wVc(33,"translate"),e.C$Y(),e.yuY(34,oe,1,1,"th",34),e.C$Y()}if(2&s){const t=e.GaO();e.yG2(2),e.E7m("binary",!0),e.OKB("ngModel",t.checkAll),e.E7m("disabled",!t.checkAllEnabled),e.yG2(4),e.oRS("",e.kDX(7,11,null==t.translation?null:t.translation.kliseis.arithmosKlisis)," "),e.yG2(4),e.oRS("",e.kDX(11,13,null==t.translation?null:t.translation.kliseis.dateTimeColumn)," "),e.yG2(8),e.oRS(" ",e.kDX(19,15,null==t.translation?null:t.translation.kliseis.odigos)," "),e.yG2(3),e.cNF(e.kDX(22,17,null==t.translation?null:t.translation.kliseis.oxima)),e.yG2(3),e.oRS("",e.kDX(25,19,null==t.translation?null:t.translation.kliseis.posoKlisisColumn)," "),e.yG2(4),e.oRS("",e.kDX(29,21,null==t.translation?null:t.translation.kliseis.posoPliromisColumn),"* "),e.yG2(4),e.cNF(e.kDX(33,23,null==t.translation?null:t.translation.egwebapps.egrStoixeiaVevaiosis)),e.yG2(2),e.E7m("ngIf",t.isEtairia&&(null==t.model?null:t.model.length))}}function le(s,l){if(1&s&&(e.I0R(0,"tr",37)(1,"td",45),e.wR5(2,"div",46),e.C$Y()()),2&s){const t=e.GaO().$implicit,n=e.GaO();e.E7m("ngClass",t.canPay&&t.canCheck?"":"disabled-row"),e.yG2(),e.e48("colspan",n.isEtairia&&null!=n.model&&n.model.length?10:9),e.yG2(),e.E7m("innerHtml",t.cannotPayReason,e.E3n)}}function re(s,l){1&s&&(e.I0R(0,"span"),e.wR5(1,"span",47),e.C$Y())}function ue(s,l){1&s&&(e.I0R(0,"span"),e.wR5(1,"span",48),e.C$Y())}function de(s,l){if(1&s&&(e.I0R(0,"span"),e.wR5(1,"br"),e.OEk(2),e.C$Y()),2&s){const t=e.GaO().$implicit;e.yG2(2),e.cNF(t.oraEkdosis)}}function me(s,l){if(1&s&&(e.SAx(0),e.OEk(1,"/ "),e.wR5(2,"br"),e.OEk(3),e.k70()),2&s){const t=e.GaO().$implicit;e.yG2(3),e.oRS("",t.eponimia," ")}}function ce(s,l){if(1&s&&(e.I0R(0,"span",49),e.wR5(1,"br"),e.OEk(2),e.C$Y()),2&s){const t=e.GaO().$implicit;e.yG2(2),e.oRS("(\u0391\u03a6\u039c: ",t.afm,") ")}}function he(s,l){if(1&s&&(e.I0R(0,"span")(1,"strong"),e.OEk(2),e.wVc(3,"translate"),e.C$Y(),e.OEk(4),e.C$Y()),2&s){const t=e.GaO().$implicit,n=e.GaO();e.yG2(2),e.oRS("",e.kDX(3,2,null==n.translation?null:n.translation.kliseis.oximaEidos),": "),e.yG2(2),e.cNF(t.eidosOximatos)}}function pe(s,l){if(1&s&&(e.I0R(0,"span")(1,"strong"),e.OEk(2),e.wVc(3,"translate"),e.C$Y(),e.OEk(4),e.C$Y()),2&s){const t=e.GaO().$implicit,n=e.GaO();e.yG2(2),e.oRS("",e.kDX(3,2,null==n.translation?null:n.translation.kliseis.oximaMarka),": "),e.yG2(2),e.cNF(t.markaOximatos)}}function ge(s,l){if(1&s&&(e.I0R(0,"span")(1,"strong"),e.OEk(2),e.wVc(3,"translate"),e.C$Y(),e.OEk(4),e.C$Y()),2&s){const t=e.GaO().$implicit,n=e.GaO();e.yG2(2),e.oRS("",e.kDX(3,2,null==n.translation?null:n.translation.kliseis.oximaXroma),": "),e.yG2(2),e.cNF(t.xromaOximatos)}}function _e(s,l){1&s&&(e.SAx(0),e.wR5(1,"i",52),e.I0R(2,"span"),e.OEk(3,"\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u039f\u03b4\u03b7\u03b3\u03bf\u03cd"),e.C$Y(),e.k70())}function fe(s,l){1&s&&(e.SAx(0),e.wR5(1,"i",53),e.I0R(2,"span"),e.OEk(3,"\u0391\u03bb\u03bb\u03b1\u03b3\u03ae \u039f\u03b4\u03b7\u03b3\u03bf\u03cd"),e.C$Y(),e.k70())}function Ce(s,l){if(1&s){const t=e.KQA();e.I0R(0,"td",50)(1,"button",51),e.qCj("click",function(){e.usT(t);const i=e.GaO().$implicit,o=e.GaO();return e.CGJ(o.onAllagiOdikouClicked(i))}),e.yuY(2,_e,4,0,"ng-container",3)(3,fe,4,0,"ng-container",3),e.C$Y()()}if(2&s){const t=e.GaO().$implicit;e.E7m("frozen",!0),e.yG2(),e.E7m("disabled",t.isChecked),e.yG2(),e.E7m("ngIf",!t.afm),e.yG2(),e.E7m("ngIf",!!t.afm)}}function ye(s,l){if(1&s){const t=e.KQA();e.yuY(0,le,3,3,"tr",36),e.I0R(1,"tr",37)(2,"td",21)(3,"span",38),e.OEk(4),e.wVc(5,"translate"),e.C$Y(),e.I0R(6,"p-checkbox",22),e.iHE("ngModelChange",function(i){const u=e.usT(t).$implicit;return e.kNx(u.isChecked,i)||(u.isChecked=i),e.CGJ(i)}),e.qCj("onChange",function(){const o=e.usT(t).$implicit,u=e.GaO();return e.CGJ(u.onCheckKlisiClicked(o))}),e.C$Y()(),e.I0R(7,"td",21)(8,"span",38),e.OEk(9),e.wVc(10,"translate"),e.C$Y(),e.yuY(11,re,2,0,"span",3)(12,ue,2,0,"span",3),e.C$Y(),e.I0R(13,"td",28)(14,"span",38),e.OEk(15),e.wVc(16,"translate"),e.C$Y(),e.OEk(17),e.C$Y(),e.I0R(18,"td",28)(19,"span",38),e.OEk(20),e.wVc(21,"translate"),e.C$Y(),e.OEk(22),e.wVc(23,"date"),e.yuY(24,de,3,1,"span",3),e.C$Y(),e.I0R(25,"td",39)(26,"span",38),e.OEk(27),e.wVc(28,"translate"),e.C$Y(),e.OEk(29),e.yuY(30,me,4,1,"ng-container",3)(31,ce,3,1,"span",40),e.C$Y(),e.I0R(32,"td",29)(33,"span",38),e.OEk(34),e.wVc(35,"translate"),e.C$Y(),e.I0R(36,"div",41),e.yuY(37,he,5,4,"span",3)(38,pe,5,4,"span",3)(39,ge,5,4,"span",3),e.C$Y()(),e.I0R(40,"td",42)(41,"span",38),e.OEk(42),e.wVc(43,"translate"),e.C$Y(),e.OEk(44),e.wVc(45,"currency"),e.C$Y(),e.I0R(46,"td",43)(47,"span",38),e.OEk(48),e.wVc(49,"translate"),e.C$Y(),e.OEk(50),e.wVc(51,"currency"),e.C$Y(),e.I0R(52,"td",29)(53,"span",38),e.OEk(54),e.wVc(55,"translate"),e.C$Y(),e.OEk(56),e.C$Y(),e.yuY(57,Ce,4,4,"td",44),e.C$Y()}if(2&s){const t=l.$implicit,n=e.GaO();e.E7m("ngIf",t.cannotPayReason&&""!==t.cannotPayReason),e.yG2(),e.E7m("ngClass",t.canPay&&t.canCheck?"":"disabled-row"),e.yG2(3),e.cNF(e.kDX(5,29,null==n.translation?null:n.translation.egwebapps.egrSelect)),e.yG2(2),e.E7m("binary",!0),e.OKB("ngModel",t.isChecked),e.E7m("disabled",!t.canPay||!t.canCheck),e.yG2(3),e.cNF(e.kDX(10,31,null==n.translation?null:n.translation.egwebapps.egrStatus)),e.yG2(2),e.E7m("ngIf",t.statusId&&1===t.statusId),e.yG2(),e.E7m("ngIf",t.statusId&&5===t.statusId),e.yG2(3),e.cNF(e.kDX(16,33,null==n.translation?null:n.translation.kliseis.arithmosKlisis)),e.yG2(2),e.oRS(" ",t.arithmosKlisis," "),e.yG2(3),e.cNF(e.kDX(21,35,null==n.translation?null:n.translation.kliseis.dateTimeColumn)),e.yG2(2),e.oRS(" ",e.g7$(23,37,t.hmerominiaEkdosis,"dd/MM/yyyy")," "),e.yG2(2),e.E7m("ngIf",t.oraEkdosis),e.yG2(3),e.cNF(e.kDX(28,40,null==n.translation?null:n.translation.kliseis.arithmosKikloforias)),e.yG2(2),e.oRS(" ",t.arithmosKikloforias," "),e.yG2(),e.E7m("ngIf",t.afm),e.yG2(),e.E7m("ngIf",t.afm&&t.afm!=n.userInfo.tin),e.yG2(3),e.cNF(e.kDX(35,42,null==n.translation?null:n.translation.kliseis.oxima)),e.yG2(3),e.E7m("ngIf",t.eidosOximatos),e.yG2(),e.E7m("ngIf",t.markaOximatos),e.yG2(),e.E7m("ngIf",t.xromaOximatos),e.yG2(3),e.oRS("",e.kDX(43,44,null==n.translation?null:n.translation.kliseis.posoKlisisColumn),"*"),e.yG2(2),e.oRS(" ",e.wB1(45,46,t.pliroteoPoso,"EUR","symbol","1.2-2")," "),e.yG2(4),e.oRS("",e.kDX(49,51,null==n.translation?null:n.translation.kliseis.posoPliromisColumn),"*"),e.yG2(2),e.oRS(" ",e.wB1(51,53,t.ofeilisPoso,"EUR","symbol","1.2-2")," "),e.yG2(4),e.cNF(e.kDX(55,58,null==n.translation?null:n.translation.kliseis.egrStoixeiaVevaiosis)),e.yG2(2),e.oRS(" ",t.stoixeiaBebaiosis," "),e.yG2(),e.E7m("ngIf",n.isEtairia&&(null==n.model?null:n.model.length))}}function be(s,l){if(1&s&&(e.I0R(0,"tr")(1,"td",54),e.OEk(2),e.wVc(3,"translate"),e.C$Y()()),2&s){const t=e.GaO();e.yG2(2),e.oRS(" ",e.kDX(3,1,null==t.translation?null:t.translation.egwebapps.egrNoResultsFound)," ")}}function ke(s,l){1&s&&e.wR5(0,"i",58)}const we=s=>({"justify-content-between":s}),z=s=>[s,"EUR","symbol","1.2-2","el"];function Ee(s,l){if(1&s&&(e.I0R(0,"tr")(1,"td",55)(2,"div",56)(3,"strong"),e.OEk(4),e.wVc(5,"translate"),e.C$Y(),e.I0R(6,"div"),e.yuY(7,ke,1,0,"i",57),e.I0R(8,"strong"),e.OEk(9),e.wVc(10,"translate"),e.wVc(11,"currency"),e.C$Y()()()()()),2&s){const t=e.GaO();e.yG2(),e.e48("colspan",t.isEtairia&&null!=t.model&&t.model.length?10:9),e.yG2(),e.E7m("ngClass",e.S45(17,we,!t.isEtairia)),e.yG2(2),e.CAO("",e.kDX(5,7,t.translation.egwebapps.egrTotal),": ",null==t.model?null:t.model.length,""),e.yG2(3),e.E7m("ngIf",t.isEtairia),e.yG2(2),e.CAO("",e.kDX(10,9,t.translation.egwebapps.egrTotalCostToPay),": ",e.MxA(11,11,e.S45(19,z,t.sumPliroteoPoso)),"")}}function Ie(s,l){1&s&&e.C_f(0)}function Oe(s,l){if(1&s&&(e.SAx(0),e.yuY(1,Ie,1,0,"ng-container",16),e.k70()),2&s){e.GaO();const t=e.Gew(17);e.yG2(),e.E7m("ngTemplateOutlet",t)}}function Re(s,l){if(1&s){const t=e.KQA();e.I0R(0,"div",59)(1,"div")(2,"p",60),e.OEk(3),e.wVc(4,"translate"),e.I0R(5,"span",61),e.OEk(6),e.wVc(7,"translate"),e.wVc(8,"translate"),e.C$Y()(),e.I0R(9,"p",60),e.OEk(10),e.wVc(11,"translate"),e.I0R(12,"span",61),e.OEk(13),e.wVc(14,"currency"),e.C$Y()()(),e.I0R(15,"eg-checkout",62),e.qCj("payBtnClick",function(i){e.usT(t);const o=e.GaO();return e.CGJ(o.onCreatePaymentRequest(i))}),e.wVc(16,"translate"),e.C$Y()()}if(2&s){const t=e.GaO();e.yG2(3),e.oRS("",e.kDX(4,9,null==t.translation?null:t.translation.egwebapps.egrSelected)," "),e.yG2(3),e.CAO("",t.checkedKliseisTotal," ",1===t.checkedKliseisTotal?e.kDX(7,11,t.translation.kliseis.klisi):e.kDX(8,13,t.translation.kliseis.kliseis),""),e.yG2(4),e.oRS("",e.kDX(11,15,null==t.translation?null:t.translation.egwebapps.egrTotalCost),": "),e.yG2(3),e.cNF(e.wB1(14,17,t.sumPliromis,"\u20ac","symbol","1.2")),e.yG2(2),e.E7m("isPaymentFormValid",!0)("doPaymentSubscription",t.onDoPaymentSubject.asObservable())("govPaymentGatewayApiUrl",t.govPaymentGatewayApiUrl)("buttonText",e.kDX(16,22,t.translation.egwebapps.egrPaymentBtnText))}}function Ae(s,l){1&s&&(e.I0R(0,"span"),e.OEk(1,"\u0391\u03bb\u03bb\u03b1\u03b3\u03ae "),e.C$Y())}function Ge(s,l){1&s&&(e.I0R(0,"span"),e.OEk(1,"\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 "),e.C$Y())}function xe(s,l){if(1&s&&(e.I0R(0,"div",80),e.yuY(1,Ae,2,0,"span",3)(2,Ge,2,0,"span",3),e.OEk(3," \u039f\u03b4\u03b7\u03b3\u03bf\u03cd \u039a\u03bb\u03ae\u03c3\u03b7\u03c2 "),e.I0R(4,"span",81),e.OEk(5),e.C$Y()()),2&s){const t=e.GaO(2);e.yG2(),e.E7m("ngIf",!!t.selectedKlisi.afm),e.yG2(),e.E7m("ngIf",!t.selectedKlisi.afm),e.yG2(3),e.CAO(" (\u0391\u03c1.\u039a\u03bb\u03ae\u03c3\u03b7\u03c2: ",t.selectedKlisi.arithmosKlisis,", \u0391\u03a6\u039c: ",t.selectedKlisi.afm,")")}}function Be(s,l){if(1&s&&e.OEk(0),2&s){const t=l.item;e.CAO(" ",t.onomasia," (",t.kodikos,") ")}}function Se(s,l){if(1&s&&e.OEk(0),2&s){const t=l.item;e.CAO(" ",t.onomasia," (",t.kodikos,") ")}}function Ke(s,l){1&s&&e.wR5(0,"p-message",91)}function De(s,l){if(1&s&&(e.SAx(0),e.I0R(1,"div",92),e.OEk(2," *\u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ad\u03bd\u03b1 \u03c4\u03bf\u03c5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03bf\u03bd \u03ad\u03bd\u03b1 \u03b1\u03c0\u03cc \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 '\u0391\u0394\u03a4' \u03ae '\u0394\u03b9\u03b1\u03b2\u03b1\u03c4\u03ae\u03c1\u03b9\u03bf' "),e.C$Y(),e.k70()),2&s){const t=e.GaO(3);e.yG2(),e.E7m("hidden",!t.isAllagiOdigouFormSubmitted||t.isAllagiOdigouFormSubmitted&&(t.allagiOdigouKlisisRequest.adt||t.allagiOdigouKlisisRequest.diavatirio))}}function Pe(s,l){if(1&s){const t=e.KQA();e.SAx(0),e.I0R(1,"div",82)(2,"label"),e.OEk(3,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1 *"),e.C$Y(),e.I0R(4,"input",83),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(2);return e.kNx(o.allagiOdigouKlisisRequest.eponymia,i)||(o.allagiOdigouKlisisRequest.eponymia=i),e.CGJ(i)}),e.C$Y(),e.I0R(5,"div",71),e.OEk(6," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf "),e.C$Y()(),e.I0R(7,"div",84)(8,"label"),e.OEk(9,"\u039f\u03b4\u03cc\u03c2 *"),e.C$Y(),e.I0R(10,"input",85),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(2);return e.kNx(o.allagiOdigouKlisisRequest.odos,i)||(o.allagiOdigouKlisisRequest.odos=i),e.CGJ(i)}),e.C$Y(),e.I0R(11,"div",71),e.OEk(12," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf "),e.C$Y()(),e.I0R(13,"div",84)(14,"label"),e.OEk(15,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 *"),e.C$Y(),e.I0R(16,"input",86),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(2);return e.kNx(o.allagiOdigouKlisisRequest.arithmos,i)||(o.allagiOdigouKlisisRequest.arithmos=i),e.CGJ(i)}),e.C$Y(),e.I0R(17,"div",71),e.OEk(18," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf "),e.C$Y()(),e.yuY(19,Ke,1,0,"p-message",87),e.I0R(20,"div",88)(21,"label"),e.OEk(22,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u03a4\u03b1\u03c5\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1\u03c2 "),e.C$Y(),e.I0R(23,"input",89),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(2);return e.kNx(o.allagiOdigouKlisisRequest.adt,i)||(o.allagiOdigouKlisisRequest.adt=i),e.CGJ(i)}),e.C$Y()(),e.I0R(24,"div",88)(25,"label"),e.OEk(26,"\u0394\u03b9\u03b1\u03b2\u03b1\u03c4\u03ae\u03c1\u03b9\u03bf "),e.C$Y(),e.I0R(27,"input",90),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(2);return e.kNx(o.allagiOdigouKlisisRequest.diavatirio,i)||(o.allagiOdigouKlisisRequest.diavatirio=i),e.CGJ(i)}),e.C$Y()(),e.yuY(28,De,3,1,"ng-container",3),e.k70()}if(2&s){const t=e.GaO(2);e.yG2(4),e.OKB("ngModel",t.allagiOdigouKlisisRequest.eponymia),e.E7m("disabled",t.allagiOdigouRunning),e.yG2(),e.E7m("hidden",!t.isAllagiOdigouFormSubmitted||t.isAllagiOdigouFormSubmitted&&t.allagiOdigouKlisisRequest.eponymia),e.yG2(5),e.OKB("ngModel",t.allagiOdigouKlisisRequest.odos),e.E7m("disabled",t.allagiOdigouRunning),e.yG2(),e.E7m("hidden",!t.isAllagiOdigouFormSubmitted||t.isAllagiOdigouFormSubmitted&&t.allagiOdigouKlisisRequest.odos),e.yG2(5),e.OKB("ngModel",t.allagiOdigouKlisisRequest.arithmos),e.E7m("disabled",t.allagiOdigouRunning),e.yG2(),e.E7m("hidden",!t.isAllagiOdigouFormSubmitted||t.isAllagiOdigouFormSubmitted&&t.allagiOdigouKlisisRequest.arithmos),e.yG2(2),e.E7m("ngIf","EL"!=t.allagiOdigouKlisisRequest.xoraAfm),e.yG2(4),e.OKB("ngModel",t.allagiOdigouKlisisRequest.adt),e.E7m("disabled",t.allagiOdigouRunning)("required","EL"!=t.allagiOdigouKlisisRequest.xoraAfm&&!t.allagiOdigouKlisisRequest.diavatirio),e.yG2(4),e.OKB("ngModel",t.allagiOdigouKlisisRequest.diavatirio),e.E7m("disabled",t.allagiOdigouRunning)("required","EL"!=t.allagiOdigouKlisisRequest.xoraAfm&&!t.allagiOdigouKlisisRequest.adt),e.yG2(),e.E7m("ngIf","EL"!=t.allagiOdigouKlisisRequest.xoraAfm)}}function Me(s,l){if(1&s){const t=e.KQA();e.I0R(0,"button",93),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.onAnazitisiAfmClicked())}),e.wR5(1,"i",94),e.OEk(2,"\u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7 \u039f\u03c6\u03b5\u03b9\u03bb\u03ad\u03c4\u03b7 "),e.C$Y()}if(2&s){const t=e.GaO(2);e.E7m("disabled",t.allagiOdigouRunning)}}function ve(s,l){if(1&s){const t=e.KQA();e.I0R(0,"button",95),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.onDimiourgiaOfiletiClicked())}),e.wR5(1,"i",96),e.OEk(2,"\u0394\u03b7\u03bc\u03b9\u03bf\u03c5\u03c1\u03b3\u03af\u03b1 \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c4\u03b7"),e.C$Y()}if(2&s){const t=e.GaO(2);e.E7m("disabled",t.allagiOdigouRunning)}}const Te=()=>({width:"40vw"}),Fe=()=>({"1200px":"60vw","992px":"75vw","768px":"90vw"});function Ye(s,l){if(1&s){const t=e.KQA();e.I0R(0,"p-dialog",63),e.iHE("visibleChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.isAllagiOdigouModalOpen,i)||(o.isAllagiOdigouModalOpen=i),e.CGJ(i)}),e.qCj("onHide",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.onAllagiOdigouModalClose())}),e.yuY(1,xe,6,4,"ng-template",6),e.I0R(2,"form",64,65)(4,"div",66)(5,"div",67)(6,"label"),e.OEk(7,"\u03a7\u03ce\u03c1\u03b1 \u0391.\u03a6.\u039c.*"),e.C$Y(),e.I0R(8,"ng-select",68),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.selectedXoraAfm,i)||(o.selectedXoraAfm=i),e.CGJ(i)}),e.qCj("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.CGJ(o.onXoraChanged(i))}),e.yuY(9,Be,1,2,"ng-template",69)(10,Se,1,2,"ng-template",70),e.C$Y(),e.I0R(11,"div",71),e.OEk(12," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),e.C$Y()(),e.I0R(13,"div",72)(14,"label"),e.OEk(15,"\u0391\u03a6\u039c *"),e.C$Y(),e.I0R(16,"input",73,74),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.allagiOdigouKlisisRequest.afm,i)||(o.allagiOdigouKlisisRequest.afm=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.isAfmValid=!0)}),e.C$Y(),e.I0R(18,"div",71),e.OEk(19," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf "),e.C$Y(),e.I0R(20,"div",71),e.OEk(21," *\u039c\u03b7 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf \u0391\u03a6\u039c "),e.C$Y()(),e.yuY(22,Pe,29,17,"ng-container",3),e.I0R(23,"div",75)(24,"button",76),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.onAllagiOdigouModalClose())}),e.wR5(25,"i",77),e.OEk(26,"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 "),e.C$Y(),e.yuY(27,Me,3,1,"button",78)(28,ve,3,1,"button",79),e.C$Y()()()()}if(2&s){const t=e.GaO();e.m_g(e.q4q(24,Te)),e.OKB("visible",t.isAllagiOdigouModalOpen),e.E7m("draggable",!1)("resizable",!1)("modal",!0)("closeOnEscape",!1)("breakpoints",e.q4q(25,Fe)),e.yG2(8),e.E7m("appendTo","body")("searchable",!0)("virtualScroll",!0)("clearable",!1)("items",t.xores),e.OKB("ngModel",t.selectedXoraAfm),e.E7m("disabled",t.allagiOdigouRunning),e.yG2(3),e.E7m("hidden",!t.isAllagiOdigouFormSubmitted||t.isAllagiOdigouFormSubmitted&&""!==t.allagiOdigouKlisisRequest.xoraAfm&&null!==t.allagiOdigouKlisisRequest.xoraAfm),e.yG2(5),e.OKB("ngModel",t.allagiOdigouKlisisRequest.afm),e.E7m("disabled",t.allagiOdigouRunning),e.yG2(2),e.E7m("hidden",!t.isAllagiOdigouFormSubmitted||t.isAllagiOdigouFormSubmitted&&t.allagiOdigouKlisisRequest.afm),e.yG2(2),e.E7m("hidden",!t.isAllagiOdigouFormSubmitted||t.isAllagiOdigouFormSubmitted&&t.isAfmValid),e.yG2(2),e.E7m("ngIf",t.showCreateOfeiletiPedia),e.yG2(2),e.E7m("disabled",t.allagiOdigouRunning),e.yG2(3),e.E7m("ngIf",!t.showCreateOfeiletiPedia),e.yG2(),e.E7m("ngIf",t.showCreateOfeiletiPedia)}}function Ne(s,l){if(1&s&&(e.wR5(0,"p-message",9),e.wVc(1,"translate")),2&s){const t=e.GaO();e.E7m("text",e.kDX(1,2,null==t.translation?null:t.translation.kliseis.emptyArrayPayedMsg))("styleClass","mb-2")}}function $e(s,l){if(1&s&&e.wR5(0,"p-message",10),2&s){const t=e.GaO();e.E7m("severity",t.bankStatusMessageClass)("text",t.bankStatusMessage)("styleClass","mb-2")}}function Ue(s,l){1&s&&(e.I0R(0,"div",11)(1,"span",12),e.wR5(2,"i",13),e.OEk(3," \u0395\u039e\u039f\u03a6\u039b\u0397\u03a3\u0397 \u03a3\u03a4\u039f \u0394\u0397\u039c\u039f"),e.C$Y(),e.I0R(4,"span"),e.wR5(5,"i",14),e.OEk(6," \u0395\u039e\u039f\u03a6\u039b\u0397\u03a3\u0397 WEB"),e.C$Y()())}function ze(s,l){if(1&s&&(e.I0R(0,"tr")(1,"th",15),e.OEk(2,"\xa0"),e.C$Y(),e.I0R(3,"th",16),e.OEk(4),e.wVc(5,"translate"),e.wR5(6,"p-sortIcon",17),e.C$Y(),e.I0R(7,"th",18),e.OEk(8),e.wVc(9,"translate"),e.wR5(10,"p-sortIcon",19),e.C$Y(),e.I0R(11,"th",20),e.OEk(12),e.wVc(13,"translate"),e.C$Y(),e.I0R(14,"th",21),e.OEk(15),e.wVc(16,"translate"),e.C$Y(),e.I0R(17,"th",20),e.OEk(18),e.wVc(19,"translate"),e.C$Y(),e.I0R(20,"th",22),e.OEk(21),e.wVc(22,"translate"),e.wR5(23,"p-sortIcon",23),e.C$Y(),e.I0R(24,"th",20),e.OEk(25),e.wVc(26,"translate"),e.C$Y()()),2&s){const t=e.GaO();e.yG2(4),e.oRS("",e.kDX(5,7,null==t.translation?null:t.translation.kliseis.arithmosKlisis)," "),e.yG2(4),e.oRS("",e.kDX(9,9,null==t.translation?null:t.translation.kliseis.dateTimeColumn)," "),e.yG2(4),e.cNF(e.kDX(13,11,null==t.translation?null:t.translation.kliseis.addressColumn)),e.yG2(3),e.cNF(e.kDX(16,13,null==t.translation?null:t.translation.kliseis.arithmosKikloforias)),e.yG2(3),e.cNF(e.kDX(19,15,null==t.translation?null:t.translation.kliseis.oxima)),e.yG2(3),e.oRS("",e.kDX(22,17,null==t.translation?null:t.translation.kliseis.posoKlisisColumn)," "),e.yG2(4),e.cNF(e.kDX(26,19,null==t.translation?null:t.translation.egwebapps.egrOikonomikaStoixeia))}}function qe(s,l){1&s&&(e.I0R(0,"span"),e.wR5(1,"i",13),e.C$Y())}function Ve(s,l){1&s&&(e.I0R(0,"span"),e.wR5(1,"i",14),e.C$Y())}function Le(s,l){if(1&s&&(e.I0R(0,"span"),e.wR5(1,"br"),e.OEk(2),e.C$Y()),2&s){const t=e.GaO().$implicit;e.yG2(2),e.cNF(t.oraEkdosis)}}function Xe(s,l){if(1&s&&(e.I0R(0,"span",30)(1,"strong"),e.OEk(2),e.wVc(3,"translate"),e.C$Y(),e.OEk(4),e.C$Y()),2&s){const t=e.GaO().$implicit,n=e.GaO();e.yG2(2),e.oRS("",e.kDX(3,2,null==n.translation?null:n.translation.kliseis.oximaEidos),": "),e.yG2(2),e.cNF(t.eidosOximatos)}}function je(s,l){if(1&s&&(e.I0R(0,"span",30)(1,"strong"),e.OEk(2),e.wVc(3,"translate"),e.C$Y(),e.OEk(4),e.C$Y()),2&s){const t=e.GaO().$implicit,n=e.GaO();e.yG2(2),e.oRS("",e.kDX(3,2,null==n.translation?null:n.translation.kliseis.oximaMarka),": "),e.yG2(2),e.cNF(t.markaOximatos)}}function Je(s,l){if(1&s&&(e.I0R(0,"span",30)(1,"strong"),e.OEk(2),e.wVc(3,"translate"),e.C$Y(),e.OEk(4),e.C$Y()),2&s){const t=e.GaO().$implicit,n=e.GaO();e.yG2(2),e.oRS("",e.kDX(3,2,null==n.translation?null:n.translation.kliseis.oximaXroma),": "),e.yG2(2),e.cNF(t.xromaOximatos)}}function He(s,l){if(1&s&&(e.I0R(0,"span")(1,"strong"),e.OEk(2,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2:"),e.C$Y(),e.OEk(3),e.C$Y()),2&s){const t=e.GaO().$implicit;e.yG2(3),e.oRS(" ",t.stoixeiaBebaiosis,"")}}function Qe(s,l){if(1&s&&(e.I0R(0,"span")(1,"strong"),e.OEk(2,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2:"),e.C$Y(),e.OEk(3),e.C$Y()),2&s){const t=e.GaO().$implicit;e.yG2(3),e.oRS(" ",t.stoixeiaApodeiksis,"")}}function We(s,l){if(1&s&&(e.I0R(0,"tr")(1,"td",24)(2,"span",25),e.OEk(3),e.wVc(4,"translate"),e.C$Y(),e.yuY(5,qe,2,0,"span",26)(6,Ve,2,0,"span",26),e.C$Y(),e.I0R(7,"td",21)(8,"span",25),e.OEk(9),e.wVc(10,"translate"),e.C$Y(),e.OEk(11),e.C$Y(),e.I0R(12,"td",21)(13,"span",25),e.OEk(14),e.wVc(15,"translate"),e.C$Y(),e.OEk(16),e.wVc(17,"date"),e.yuY(18,Le,3,1,"span",26),e.C$Y(),e.I0R(19,"td",20)(20,"span",25),e.OEk(21),e.wVc(22,"translate"),e.C$Y(),e.OEk(23),e.C$Y(),e.I0R(24,"td",21)(25,"span",25),e.OEk(26),e.wVc(27,"translate"),e.C$Y(),e.OEk(28),e.C$Y(),e.I0R(29,"td",20)(30,"span",25),e.OEk(31),e.wVc(32,"translate"),e.C$Y(),e.I0R(33,"div",27),e.yuY(34,Xe,5,4,"span",28)(35,je,5,4,"span",28)(36,Je,5,4,"span",28),e.C$Y()(),e.I0R(37,"td",29)(38,"span",25),e.OEk(39),e.wVc(40,"translate"),e.C$Y(),e.OEk(41),e.wVc(42,"currency"),e.C$Y(),e.I0R(43,"td",20)(44,"span",25),e.OEk(45),e.wVc(46,"translate"),e.C$Y(),e.I0R(47,"div",27),e.yuY(48,He,4,1,"span",26)(49,Qe,4,1,"span",26),e.C$Y()()()),2&s){const t=l.$implicit,n=e.GaO();e.yG2(3),e.cNF(e.kDX(4,23,null==n.translation?null:n.translation.egwebapps.egrStatus)),e.yG2(2),e.E7m("ngIf",t.statusId&&2===t.statusId),e.yG2(),e.E7m("ngIf",t.statusId&&6===t.statusId),e.yG2(3),e.cNF(e.kDX(10,25,null==n.translation?null:n.translation.kliseis.arithmosKlisis)),e.yG2(2),e.oRS(" ",t.arithmosKlisis," "),e.yG2(3),e.cNF(e.kDX(15,27,null==n.translation?null:n.translation.kliseis.dateTimeColumn)),e.yG2(2),e.oRS(" ",e.g7$(17,29,t.hmerominiaEkdosis,"dd/MM/yyyy")," "),e.yG2(2),e.E7m("ngIf",t.oraEkdosis),e.yG2(3),e.cNF(e.kDX(22,32,null==n.translation?null:n.translation.kliseis.addressColumn)),e.yG2(2),e.MjK(" ",t.odosPerigrafi," ",t.odosPerigrafi&&t.odosArithmos?"-":""," ",t.odosArithmos," "),e.yG2(3),e.cNF(e.kDX(27,34,null==n.translation?null:n.translation.kliseis.arithmosKikloforias)),e.yG2(2),e.oRS(" ",t.arithmosKikloforias," "),e.yG2(3),e.cNF(e.kDX(32,36,null==n.translation?null:n.translation.kliseis.oxima)),e.yG2(3),e.E7m("ngIf",t.eidosOximatos),e.yG2(),e.E7m("ngIf",t.markaOximatos),e.yG2(),e.E7m("ngIf",t.xromaOximatos),e.yG2(3),e.cNF(e.kDX(40,38,null==n.translation?null:n.translation.kliseis.posoKlisisColumn)),e.yG2(2),e.oRS(" ",e.wB1(42,40,t.pliroteoPoso,"EUR","symbol","1.2-2")," "),e.yG2(4),e.cNF(e.kDX(46,45,null==n.translation?null:n.translation.egwebapps.egrOikonomikaStoixeia)),e.yG2(3),e.E7m("ngIf",t.stoixeiaBebaiosis),e.yG2(),e.E7m("ngIf",t.stoixeiaApodeiksis)}}function Ze(s,l){1&s&&(e.I0R(0,"tr")(1,"td",31),e.OEk(2," \u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ad\u03c2. "),e.C$Y()())}function et(s,l){if(1&s&&(e.I0R(0,"tr")(1,"td",32)(2,"strong"),e.OEk(3),e.wVc(4,"translate"),e.C$Y()(),e.I0R(5,"td",33)(6,"strong"),e.OEk(7),e.wVc(8,"translate"),e.wVc(9,"currency"),e.C$Y()()()),2&s){const t=e.GaO();e.yG2(3),e.CAO("",e.kDX(4,4,t.translation.egwebapps.egrTotal),": ",null==t.model?null:t.model.length,""),e.yG2(4),e.CAO("",e.kDX(8,6,null==t.translation?null:t.translation.egwebapps.egrTotalCostToPay),": ",e.MxA(9,8,e.S45(14,z,t.sumPliroteoPoso)),"")}}const tt=["klisiAnazitisi"],it=["klisiPayUnauthorized"];function st(s,l){if(1&s&&e.wR5(0,"p-message",4),2&s){const t=e.GaO();e.E7m("severity",t.bankStatusMessageClass)("text",t.bankStatusMessage)("styleClass","my-2")}}function nt(s,l){if(1&s&&(e.I0R(0,"div",5)(1,"a",6),e.wR5(2,"i",7),e.OEk(3),e.wVc(4,"translate"),e.C$Y()()),2&s){const t=e.GaO();e.yG2(),e._6D("href",t.callbackUrl,e.K6U),e.yG2(2),e.oRS(" ",e.kDX(4,2,null==t.translation?null:t.translation.egwebapps.egrReturn),"")}}function ot(s,l){if(1&s&&e.wR5(0,"p-message",26),2&s){const t=e.GaO(2);e.E7m("styleClass","my-1 form-msgs")("escape",!1)("text",t.formErrorsMsg)}}function at(s,l){if(1&s&&e.wR5(0,"p-message",30),2&s){const t=e.GaO(3);e.E7m("severity",t.requestMsgClass)("styleClass","my-2")("text",t.requestMsg)}}function lt(s,l){if(1&s){const t=e.KQA();e.I0R(0,"div",10)(1,"div",17)(2,"label"),e.OEk(3),e.wVc(4,"translate"),e.C$Y(),e.I0R(5,"input",36),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(4);return e.kNx(o.model.debtorName,i)||(o.model.debtorName=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO(4);return e.CGJ(i._checkDisabled())}),e.wVc(6,"translate"),e.C$Y(),e.I0R(7,"div",15),e.OEk(8),e.wVc(9,"translate"),e.C$Y()(),e.I0R(10,"div",17)(11,"label"),e.OEk(12),e.wVc(13,"translate"),e.C$Y(),e.I0R(14,"input",37),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(4);return e.kNx(o.model.tin,i)||(o.model.tin=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO(4);return e.CGJ(i._checkDisabled())}),e.wVc(15,"translate"),e.C$Y(),e.I0R(16,"div",15),e.OEk(17),e.wVc(18,"translate"),e.C$Y()()()}if(2&s){const t=e.GaO(4);e.yG2(3),e.oRS("",e.kDX(4,11,null==t.translation?null:t.translation.egwebapps.egrDebtorName),"*"),e.yG2(2),e.E7m("placeholder",e.kDX(6,13,null==t.translation?null:t.translation.egwebapps.egrDebtorName)),e.OKB("ngModel",t.model.debtorName),e.yG2(2),e.E7m("hidden",!t.isFormPaySubmitted||t.isFormPaySubmitted&&t.model.debtorName),e.yG2(),e.oRS(" *",e.kDX(9,15,null==t.translation?null:t.translation.egwebapps.egrRequiredField)," "),e.yG2(4),e.oRS("",e.kDX(13,17,null==t.translation?null:t.translation.egwebapps.egrTin),"*"),e.yG2(2),e.E7m("egValidateAfm",!1)("placeholder",e.kDX(15,19,null==t.translation?null:t.translation.egwebapps.egrTin)),e.OKB("ngModel",t.model.tin),e.yG2(2),e.E7m("hidden",!t.isFormPaySubmitted||t.isFormPaySubmitted&&t.model.tin),e.yG2(),e.oRS(" *",e.kDX(18,21,null==t.translation?null:t.translation.egwebapps.egrTinValidationMsg)," ")}}function rt(s,l){if(1&s){const t=e.KQA();e.I0R(0,"div",39)(1,"label"),e.OEk(2,"Email*"),e.C$Y(),e.I0R(3,"input",40),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(5);return e.kNx(o.model.email,i)||(o.model.email=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO(5);return e.CGJ(i._checkDisabled())}),e.C$Y(),e.I0R(4,"div",15),e.OEk(5),e.wVc(6,"translate"),e.C$Y()()}if(2&s){const t=e.GaO(5);e.E7m("ngClass",t.unauthorizedPaymentResponse.hasTilefono?"col-md-12":"col-md-6"),e.yG2(3),e.OKB("ngModel",t.model.email),e.yG2(),e.E7m("hidden",!t.isFormPaySubmitted||t.isFormPaySubmitted&&t.model.email),e.yG2(),e.oRS(" *",e.kDX(6,4,null==t.translation?null:t.translation.egwebapps.egrRequiredField)," ")}}function ut(s,l){if(1&s){const t=e.KQA();e.I0R(0,"div",39)(1,"label"),e.OEk(2),e.wVc(3,"translate"),e.C$Y(),e.I0R(4,"eg-phone-code",41),e.qCj("numberWithCode",function(i){e.usT(t);const o=e.GaO(5);return o.model.tilefono=i,e.CGJ(o._checkDisabled())}),e.C$Y(),e.I0R(5,"div",15),e.OEk(6),e.wVc(7,"translate"),e.C$Y()()}if(2&s){const t=e.GaO(5);e.E7m("ngClass",t.unauthorizedPaymentResponse.hasEmail?"col-md-12":"col-md-6"),e.yG2(2),e.oRS("",e.kDX(3,8,null==t.translation?null:t.translation.egwebapps.egrTilefono),"*"),e.yG2(2),e.E7m("name","tel-national-mobile")("isRequired",!0)("isFormSubmitted",t.isFormPaySubmitted)("value",t.model.tilefono),e.yG2(),e.E7m("hidden",!t.isFormPaySubmitted||t.isFormPaySubmitted&&t.model.tilefono),e.yG2(),e.oRS(" *",e.kDX(7,10,null==t.translation?null:t.translation.egwebapps.egrTilefonoValidationMsg)," ")}}function dt(s,l){if(1&s&&(e.I0R(0,"div",10),e.yuY(1,rt,7,6,"div",38)(2,ut,8,12,"div",38),e.C$Y()),2&s){const t=e.GaO(4);e.yG2(),e.E7m("ngIf",!t.unauthorizedPaymentResponse.hasEmail),e.yG2(),e.E7m("ngIf",!t.unauthorizedPaymentResponse.hasTilefono)}}function mt(s,l){if(1&s){const t=e.KQA();e.I0R(0,"div",10)(1,"div",42)(2,"label"),e.OEk(3),e.wVc(4,"translate"),e.C$Y(),e.I0R(5,"input",43),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(4);return e.kNx(o.model.address,i)||(o.model.address=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO(4);return e.CGJ(i._checkDisabled())}),e.wVc(6,"translate"),e.C$Y(),e.I0R(7,"div",15),e.OEk(8),e.wVc(9,"translate"),e.C$Y()(),e.I0R(10,"div",44)(11,"label"),e.OEk(12),e.wVc(13,"translate"),e.C$Y(),e.I0R(14,"input",45),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(4);return e.kNx(o.model.tk,i)||(o.model.tk=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO(4);return e.CGJ(i._checkDisabled())}),e.wVc(15,"translate"),e.C$Y(),e.I0R(16,"div",15),e.OEk(17),e.wVc(18,"translate"),e.C$Y()(),e.I0R(19,"div",17)(20,"label"),e.OEk(21),e.wVc(22,"translate"),e.C$Y(),e.I0R(23,"input",46),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(4);return e.kNx(o.model.poli,i)||(o.model.poli=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO(4);return e.CGJ(i._checkDisabled())}),e.wVc(24,"translate"),e.C$Y(),e.I0R(25,"div",15),e.OEk(26),e.wVc(27,"translate"),e.C$Y()(),e.I0R(28,"div",13)(29,"label"),e.OEk(30),e.wVc(31,"translate"),e.C$Y(),e.I0R(32,"ng-select",47),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(4);return e.kNx(o.model.countryId,i)||(o.model.countryId=i),e.CGJ(i)}),e.qCj("change",function(){e.usT(t);const i=e.GaO(4);return e.CGJ(i._checkDisabled())}),e.C$Y(),e.I0R(33,"div",15),e.OEk(34),e.wVc(35,"translate"),e.C$Y()()()}if(2&s){const t=e.GaO(4);e.yG2(3),e.oRS("",e.kDX(4,22,null==t.translation?null:t.translation.egwebapps.egrAddress),"*"),e.yG2(2),e.E7m("placeholder",e.kDX(6,24,null==t.translation?null:t.translation.egwebapps.egrAddress)),e.OKB("ngModel",t.model.address),e.yG2(2),e.E7m("hidden",!t.isFormPaySubmitted||t.isFormPaySubmitted&&t.model.address),e.yG2(),e.oRS(" *",e.kDX(9,26,null==t.translation?null:t.translation.egwebapps.egrRequiredField)," "),e.yG2(4),e.oRS("",e.kDX(13,28,null==t.translation?null:t.translation.egwebapps.egrTk),"*"),e.yG2(2),e.E7m("placeholder",e.kDX(15,30,null==t.translation?null:t.translation.egwebapps.egrTk)),e.OKB("ngModel",t.model.tk),e.yG2(2),e.E7m("hidden",!t.isFormPaySubmitted||t.isFormPaySubmitted&&t.model.tk),e.yG2(),e.oRS(" *",e.kDX(18,32,null==t.translation?null:t.translation.egwebapps.egrRequiredField)," "),e.yG2(4),e.oRS("",e.kDX(22,34,null==t.translation?null:t.translation.egwebapps.egrPoli),"*"),e.yG2(2),e.E7m("placeholder",e.kDX(24,36,null==t.translation?null:t.translation.egwebapps.egrPoli)),e.OKB("ngModel",t.model.poli),e.yG2(2),e.E7m("hidden",!t.isFormPaySubmitted||t.isFormPaySubmitted&&t.model.poli),e.yG2(),e.oRS(" *",e.kDX(27,38,null==t.translation?null:t.translation.egwebapps.egrRequiredField)," "),e.yG2(4),e.oRS("",e.kDX(31,40,null==t.translation?null:t.translation.egwebapps.egrEgsCountry),"*"),e.yG2(2),e.E7m("items",t.countriesList)("virtualScroll",!0)("searchable",!0),e.OKB("ngModel",t.model.countryId),e.yG2(),e.E7m("hidden",!t.isFormPaySubmitted||t.isFormPaySubmitted&&t.model.countryId),e.yG2(),e.oRS(" *",e.kDX(35,42,null==t.translation?null:t.translation.egwebapps.egrRequiredField)," ")}}function ct(s,l){if(1&s&&e.wR5(0,"p-message",26),2&s){const t=e.GaO(4);e.E7m("styleClass","my-1 form-msgs")("escape",!1)("text",t.formErrorsMsgPay)}}function ht(s,l){if(1&s){const t=e.KQA();e.I0R(0,"form",31,32)(2,"div",33)(3,"label"),e.OEk(4),e.wVc(5,"translate"),e.C$Y(),e.I0R(6,"input",34),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(3);return e.kNx(o.unauthorizedPaymentResponse.poso,i)||(o.unauthorizedPaymentResponse.poso=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO(3);return e.CGJ(i._checkDisabled())}),e.C$Y(),e.I0R(7,"div",15),e.OEk(8),e.wVc(9,"translate"),e.C$Y()(),e.yuY(10,lt,19,23,"div",35)(11,dt,3,2,"div",35)(12,mt,36,44,"div",35)(13,ct,1,3,"p-message",24),e.C$Y()}if(2&s){const t=e.GaO(3);e.yG2(4),e.oRS("",e.kDX(5,9,null==t.translation?null:t.translation.epayments.poso),"*"),e.yG2(2),e.OKB("ngModel",t.unauthorizedPaymentResponse.poso),e.E7m("disabled",0!==t.unauthorizedPaymentResponse.klisiId),e.yG2(),e.E7m("hidden",!t.isFormSubmitted||t.isFormSubmitted&&t.unauthorizedPaymentResponse.poso&&t.unauthorizedPaymentResponse.poso>0),e.yG2(),e.oRS(" *",e.kDX(9,11,null==t.translation?null:t.translation.kliseis.posoValidationMsg)," "),e.yG2(2),e.E7m("ngIf",!t.unauthorizedPaymentResponse.hasOfeileti&&t.unauthorizedPaymentResponse.isOfeiletisPay),e.yG2(),e.E7m("ngIf",!t.unauthorizedPaymentResponse.hasEmail||!t.unauthorizedPaymentResponse.hasTilefono),e.yG2(),e.E7m("ngIf",!t.unauthorizedPaymentResponse.hasDieuthinsi),e.yG2(),e.E7m("ngIf",t.formErrorsMsgPay&&""!==t.formErrorsMsgPay&&"el"===t.selectedLang)}}function pt(s,l){if(1&s){const t=e.KQA();e.I0R(0,"div",48)(1,"eg-checkout",49),e.qCj("showValidationMsgs",function(i){e.usT(t);const o=e.GaO(3);return e.CGJ(o.onShowValidationMsgs(i))})("payBtnClick",function(i){e.usT(t);const o=e.GaO(3);return e.CGJ(o.onCreatePaymentRequest(i))}),e.wVc(2,"translate"),e.C$Y()()}if(2&s){const t=e.GaO(3);e.yG2(),e.E7m("isPaymentFormValid",t.klisiPayUnauthorized.valid)("doPaymentSubscription",t.onDoPaymentSubject.asObservable())("govPaymentGatewayApiUrl",t.govPaymentGatewayApiUrl)("selectedLang",t.selectedLang)("buttonText",e.kDX(2,5,null==t.translation?null:t.translation.egwebapps.egrPaymentBtnText))}}function gt(s,l){if(1&s&&(e.SAx(0),e.yuY(1,at,1,3,"p-message",27)(2,ht,14,13,"form",28)(3,pt,3,7,"div",29),e.k70()),2&s){const t=e.GaO(2);e.yG2(),e.E7m("ngIf",t.requestMsg&&""!==t.requestMsg),e.yG2(),e.E7m("ngIf",t.unauthorizedPaymentResponse.canPay),e.yG2(),e.E7m("ngIf",t.klisiPayUnauthorized&&t.unauthorizedPaymentResponse.canPay)}}const B=()=>({width:"100%"});function _t(s,l){if(1&s){const t=e.KQA();e.SAx(0),e.I0R(1,"form",8,9)(3,"div",10)(4,"div",11)(5,"p-checkbox",12),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.model.isForeign,i)||(o.model.isForeign=i),e.CGJ(i)}),e.wVc(6,"translate"),e.C$Y()(),e.I0R(7,"div",13)(8,"label"),e.OEk(9),e.wVc(10,"translate"),e.C$Y(),e.I0R(11,"input",14),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.model.arithmosKlisis,i)||(o.model.arithmosKlisis=i),e.CGJ(i)}),e.wVc(12,"translate"),e.C$Y(),e.I0R(13,"div",15),e.OEk(14),e.wVc(15,"translate"),e.C$Y()(),e.I0R(16,"div",13)(17,"label"),e.OEk(18),e.wVc(19,"translate"),e.C$Y(),e.I0R(20,"input",16),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.model.arithmosKikloforias,i)||(o.model.arithmosKikloforias=i),e.CGJ(i)}),e.wVc(21,"translate"),e.C$Y(),e.I0R(22,"div",15),e.OEk(23),e.wVc(24,"translate"),e.C$Y()(),e.I0R(25,"div",17)(26,"label"),e.OEk(27),e.wVc(28,"translate"),e.C$Y(),e.I0R(29,"p-calendar",18),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.etosCalendar,i)||(o.etosCalendar=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.onEtosChanged())}),e.C$Y(),e.I0R(30,"div",15),e.OEk(31),e.wVc(32,"translate"),e.C$Y()()(),e.I0R(33,"div",19)(34,"button",20),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.onSearch())}),e.wR5(35,"i",21),e.OEk(36),e.wVc(37,"translate"),e.C$Y(),e.I0R(38,"button",22),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.onCancel())}),e.wR5(39,"i",23),e.OEk(40),e.wVc(41,"translate"),e.C$Y()(),e.yuY(42,ot,1,3,"p-message",24),e.C$Y(),e.wR5(43,"eg-loading",25),e.yuY(44,gt,4,3,"ng-container",3),e.k70()}if(2&s){const t=e.GaO();e.yG2(5),e.E7m("label",e.kDX(6,31,null==t.translation?null:t.translation.kliseis.isForeign)),e.OKB("ngModel",t.model.isForeign),e.E7m("disabled",t.unauthorizedPaymentResponse&&t.unauthorizedPaymentResponse.canPay),e.yG2(4),e.oRS("",e.kDX(10,33,null==t.translation?null:t.translation.kliseis.arithmosKlisis),"*"),e.yG2(2),e.E7m("placeholder",e.kDX(12,35,null==t.translation?null:t.translation.kliseis.arithmosKlisis)),e.OKB("ngModel",t.model.arithmosKlisis),e.E7m("disabled",t.unauthorizedPaymentResponse&&t.unauthorizedPaymentResponse.canPay),e.yG2(2),e.E7m("hidden",!t.isFormSubmitted||t.unauthorizedPaymentResponse||t.isFormSubmitted&&t.model.arithmosKlisis),e.yG2(),e.oRS(" *",e.kDX(15,37,null==t.translation?null:t.translation.kliseis.arithmosKlisisValidationMsg)," "),e.yG2(4),e.oRS("",e.kDX(19,39,null==t.translation?null:t.translation.kliseis.arithmosKikloforias),"*"),e.yG2(2),e.E7m("placeholder",e.kDX(21,41,null==t.translation?null:t.translation.kliseis.arithmosKikloforias)),e.OKB("ngModel",t.model.arithmosKikloforias),e.E7m("disabled",t.unauthorizedPaymentResponse&&t.unauthorizedPaymentResponse.canPay),e.yG2(2),e.E7m("hidden",!t.isFormSubmitted||t.unauthorizedPaymentResponse||t.isFormSubmitted&&t.model.arithmosKikloforias),e.yG2(),e.oRS(" *",e.kDX(24,43,null==t.translation?null:t.translation.egwebapps.egrRequiredField)," "),e.yG2(4),e.oRS("",e.kDX(28,45,null==t.translation?null:t.translation.kliseis.etosKlisis),"*"),e.yG2(2),e.m_g(e.q4q(53,B)),e.E7m("placeholder",t.thisYear)("showButtonBar",!0)("showIcon",!0),e.OKB("ngModel",t.etosCalendar),e.E7m("disabled",t.unauthorizedPaymentResponse&&t.unauthorizedPaymentResponse.canPay),e.yG2(),e.E7m("hidden",!t.isFormSubmitted||t.unauthorizedPaymentResponse||t.isFormSubmitted&&t.model.etos),e.yG2(),e.oRS(" *",e.kDX(32,47,null==t.translation?null:t.translation.kliseis.etosKlisisValidationMsg)," "),e.yG2(5),e.oRS(" ",e.kDX(37,49,null==t.translation?null:t.translation.egwebapps.egrSearchBtn),""),e.yG2(4),e.oRS(" ",e.kDX(41,51,null==t.translation?null:t.translation.egwebapps.egrCancelBtn),""),e.yG2(2),e.E7m("ngIf",t.formErrorsMsg&&""!==t.formErrorsMsg),e.yG2(),e.E7m("condition",t.isLoading)("customClass","egr-load-small"),e.yG2(),e.E7m("ngIf",t.unauthorizedPaymentResponse&&!t.isLoading)}}const ft=["searchForm"];function Ct(s,l){1&s&&(e.I0R(0,"span"),e.OEk(1,"*"),e.C$Y())}function yt(s,l){if(1&s){const t=e.KQA();e.I0R(0,"div",7)(1,"div",21),e.wR5(2,"p-message",22),e.I0R(3,"label"),e.OEk(4),e.wVc(5,"translate"),e.C$Y(),e.I0R(6,"p-calendar",23),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(2);return e.kNx(o.etosCalendar,i)||(o.etosCalendar=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.onEtosChanged())}),e.C$Y(),e.I0R(7,"div",13),e.OEk(8),e.wVc(9,"translate"),e.C$Y()()()}if(2&s){const t=e.GaO(2);e.yG2(2),e.E7m("styleClass","mt-2 mb-1"),e.yG2(2),e.cNF(e.kDX(5,11,null==t.translation?null:t.translation.kliseis.etosKlisis)),e.yG2(2),e.m_g(e.q4q(15,B)),e.E7m("placeholder",t.thisYear)("showButtonBar",!0)("showIcon",!0),e.OKB("ngModel",t.etosCalendar),e.E7m("disabled",t.model.hmerominiaEkdosis||t.response),e.yG2(),e.E7m("hidden",!t.isFormSubmitted||!t.optionShowEtos||t.isFormSubmitted&&(t.etosKlisis||t.model.hmerominiaEkdosis)),e.yG2(),e.oRS(" ",e.kDX(9,13,null==t.translation?null:t.translation.kliseis.dateValidationMsg)," ")}}function bt(s,l){if(1&s){const t=e.KQA();e.I0R(0,"button",24),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.onAnazitisi())}),e.wR5(1,"i",25),e.OEk(2),e.wVc(3,"translate"),e.C$Y()}if(2&s){const t=e.GaO(2);e.yG2(2),e.oRS(" ",e.kDX(3,1,null==t.translation?null:t.translation.egwebapps.egrSearchBtn)," ")}}function kt(s,l){if(1&s){const t=e.KQA();e.I0R(0,"button",26),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.onClearFilters())}),e.wR5(1,"i",27),e.OEk(2),e.wVc(3,"translate"),e.C$Y()}if(2&s){const t=e.GaO(2);e.yG2(2),e.oRS(" ",e.kDX(3,1,null==t.translation?null:t.translation.egwebapps.egrClearBtn)," ")}}function wt(s,l){if(1&s){const t=e.KQA();e.I0R(0,"form",5,6)(2,"div",7)(3,"div",8)(4,"p-checkbox",9),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.model.isForeign,i)||(o.model.isForeign=i),e.CGJ(i)}),e.wVc(5,"translate"),e.C$Y()(),e.I0R(6,"div",8)(7,"p-checkbox",10),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.model.isMixanaki,i)||(o.model.isMixanaki=i),e.CGJ(i)}),e.C$Y()()(),e.I0R(8,"div",7)(9,"div",11)(10,"label"),e.OEk(11),e.wVc(12,"translate"),e.C$Y(),e.I0R(13,"input",12),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.model.arithmosKlisis,i)||(o.model.arithmosKlisis=i),e.CGJ(i)}),e.C$Y(),e.I0R(14,"div",13),e.OEk(15),e.wVc(16,"translate"),e.C$Y()(),e.I0R(17,"div",11)(18,"label"),e.OEk(19),e.wVc(20,"translate"),e.C$Y(),e.I0R(21,"input",14),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.model.arithmosKikloforias,i)||(o.model.arithmosKikloforias=i),e.CGJ(i)}),e.C$Y(),e.I0R(22,"div",13),e.OEk(23),e.wVc(24,"translate"),e.C$Y()()(),e.I0R(25,"div",7)(26,"div",11)(27,"label"),e.OEk(28),e.wVc(29,"translate"),e.yuY(30,Ct,2,0,"span",3),e.C$Y(),e.I0R(31,"p-calendar",15),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.model.hmerominiaEkdosis,i)||(o.model.hmerominiaEkdosis=i),e.CGJ(i)}),e.C$Y(),e.I0R(32,"div",13),e.OEk(33),e.wVc(34,"translate"),e.C$Y(),e.I0R(35,"div",13),e.OEk(36),e.wVc(37,"translate"),e.C$Y()(),e.I0R(38,"div",11)(39,"label"),e.OEk(40),e.wVc(41,"translate"),e.C$Y(),e.I0R(42,"p-calendar",16),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.model.oraEkdosis,i)||(o.model.oraEkdosis=i),e.CGJ(i)}),e.C$Y()()(),e.yuY(43,yt,10,16,"div",17),e.I0R(44,"div",18),e.yuY(45,bt,4,3,"button",19)(46,kt,4,3,"button",20),e.C$Y()()}if(2&s){const t=e.GaO();e.yG2(4),e.E7m("label",e.kDX(5,47,null==t.translation?null:t.translation.kliseis.isForeign)),e.OKB("ngModel",t.model.isForeign),e.E7m("disabled",t.response),e.yG2(3),e.OKB("ngModel",t.model.isMixanaki),e.E7m("disabled",t.response),e.yG2(4),e.oRS("",e.kDX(12,49,null==t.translation?null:t.translation.kliseis.arithmosKlisis),"*"),e.yG2(2),e.OKB("ngModel",t.model.arithmosKlisis),e.E7m("disabled",t.response),e.yG2(),e.E7m("hidden",!t.isFormSubmitted||t.isFormSubmitted&&t.model.arithmosKlisis),e.yG2(),e.oRS(" *",e.kDX(16,51,null==t.translation?null:t.translation.kliseis.arithmosKlisisValidationMsg)," "),e.yG2(4),e.oRS("",e.kDX(20,53,null==t.translation?null:t.translation.kliseis.arithmosKikloforias),"*"),e.yG2(2),e.OKB("ngModel",t.model.arithmosKikloforias),e.E7m("disabled",t.response),e.yG2(),e.E7m("hidden",!t.isFormSubmitted||t.isFormSubmitted&&t.model.arithmosKikloforias),e.yG2(),e.oRS(" *",e.kDX(24,55,null==t.translation?null:t.translation.egwebapps.egrRequiredField)," "),e.yG2(5),e.cNF(e.kDX(29,57,null==t.translation?null:t.translation.kliseis.dateKlisis)),e.yG2(2),e.E7m("ngIf",!t.optionShowEtos),e.yG2(),e.m_g(e.q4q(65,B)),e.E7m("baseZIndex",9999)("firstDayOfWeek",1)("maxDate",t.today)("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.yearRange)("showIcon",!0)("showButtonBar",!0)("showTime",!1)("touchUI",!0),e.OKB("ngModel",t.model.hmerominiaEkdosis),e.E7m("required",!t.optionShowEtos)("disabled",t.etosKlisis||t.response),e.yG2(),e.E7m("hidden",!t.isFormSubmitted||t.optionShowEtos||t.isFormSubmitted&&t.model.hmerominiaEkdosis&&!t.optionShowEtos),e.yG2(),e.oRS(" *",e.kDX(34,59,null==t.translation?null:t.translation.egwebapps.egrRequiredField)," "),e.yG2(2),e.E7m("hidden",!t.isFormSubmitted||t.isFormSubmitted&&t.optionShowEtos&&(t.etosKlisis||t.model.hmerominiaEkdosis)||!t.optionShowEtos),e.yG2(),e.oRS(" ",e.kDX(37,61,null==t.translation?null:t.translation.kliseis.dateValidationMsg)," "),e.yG2(4),e.cNF(e.kDX(41,63,null==t.translation?null:t.translation.kliseis.timeKlisis)),e.yG2(2),e.m_g(e.q4q(66,B)),e.E7m("baseZIndex",9999)("timeOnly",!0)("showIcon",!0),e.OKB("ngModel",t.model.oraEkdosis),e.E7m("disabled",t.etosKlisis||t.response),e.yG2(),e.E7m("ngIf",t.optionShowEtos),e.yG2(2),e.E7m("ngIf",!t.isFormSubmitted||!t.response),e.yG2(),e.E7m("ngIf",t.isFormSubmitted&&(t.response&&!(null!=t.response&&t.response.canPay)||!t.response))}}function Et(s,l){if(1&s&&(e.wR5(0,"p-message",28),e.wVc(1,"translate")),2&s){const t=e.GaO();e.E7m("text",e.kDX(1,1,null==t.translation?null:t.translation.kliseis.klisiCannotPay))}}function It(s,l){if(1&s&&(e.wR5(0,"p-message",36),e.wVc(1,"translate")),2&s){const t=e.GaO(2);e.E7m("styleClass","my-2")("text",e.kDX(1,2,null==t.translation?null:t.translation.kliseis.klisiNotFound))}}function Ot(s,l){if(1&s){const t=e.KQA();e.I0R(0,"div",38)(1,"label"),e.OEk(2,"Email*"),e.C$Y(),e.I0R(3,"input",39),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(3);return e.kNx(o.model.email,i)||(o.model.email=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO(3);return e.CGJ(i._checkDisabled())}),e.C$Y(),e.I0R(4,"div",13),e.OEk(5),e.wVc(6,"translate"),e.C$Y()()}if(2&s){const t=e.GaO(3);e.E7m("ngClass",t.response.hasTilefono?"col-md-12":"col-md-8"),e.yG2(3),e.OKB("ngModel",t.model.email),e.yG2(),e.E7m("hidden",!t.isFormSubmitted||t.isFormSubmitted&&t.model.email),e.yG2(),e.oRS(" *",e.kDX(6,4,null==t.translation?null:t.translation.egwebapps.egrRequiredField)," ")}}function Rt(s,l){if(1&s){const t=e.KQA();e.I0R(0,"div",38)(1,"label"),e.OEk(2),e.wVc(3,"translate"),e.C$Y(),e.I0R(4,"input",40,41),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(3);return e.kNx(o.model.tilefono,i)||(o.model.tilefono=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO(3);return e.CGJ(i._checkDisabled())}),e.C$Y(),e.I0R(6,"div",13),e.OEk(7),e.wVc(8,"translate"),e.C$Y()()}if(2&s){const t=e.Gew(5),n=e.GaO(3);e.E7m("ngClass",n.response.hasEmail?"col-md-12":"col-md-4"),e.yG2(2),e.oRS("",e.kDX(3,5,null==n.translation?null:n.translation.egwebapps.egrTilefono),"*"),e.yG2(2),e.OKB("ngModel",n.model.tilefono),e.yG2(2),e.E7m("hidden",!n.isFormSubmitted||n.isFormSubmitted&&n.model.tilefono&&t.valid),e.yG2(),e.oRS(" *",e.kDX(8,7,null==n.translation?null:n.translation.egwebapps.egrTilefonoValidationMsg)," ")}}function At(s,l){if(1&s&&(e.I0R(0,"div",7),e.yuY(1,Ot,7,6,"div",37)(2,Rt,9,9,"div",37),e.C$Y()),2&s){const t=e.GaO(2);e.yG2(),e.E7m("ngIf",!t.response.hasEmail),e.yG2(),e.E7m("ngIf",!t.response.hasTilefono)}}function Gt(s,l){if(1&s){const t=e.KQA();e.I0R(0,"div",7)(1,"div",42)(2,"label"),e.OEk(3),e.wVc(4,"translate"),e.C$Y(),e.I0R(5,"input",43),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(2);return e.kNx(o.model.address,i)||(o.model.address=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i._checkDisabled())}),e.C$Y(),e.I0R(6,"div",13),e.OEk(7),e.wVc(8,"translate"),e.C$Y()(),e.I0R(9,"div",44)(10,"label"),e.OEk(11),e.wVc(12,"translate"),e.C$Y(),e.I0R(13,"input",45),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(2);return e.kNx(o.model.tk,i)||(o.model.tk=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i._checkDisabled())}),e.C$Y(),e.I0R(14,"div",13),e.OEk(15),e.wVc(16,"translate"),e.C$Y()()()}if(2&s){const t=e.GaO(2);e.yG2(3),e.oRS("",e.kDX(4,8,null==t.translation?null:t.translation.egwebapps.egrAddress),"*"),e.yG2(2),e.OKB("ngModel",t.model.address),e.yG2(),e.E7m("hidden",!t.isFormSubmitted||t.isFormSubmitted&&t.model.address),e.yG2(),e.oRS(" *",e.kDX(8,10,null==t.translation?null:t.translation.egwebapps.egrRequiredField)," "),e.yG2(4),e.oRS("",e.kDX(12,12,null==t.translation?null:t.translation.egwebapps.egrTk),"*"),e.yG2(2),e.OKB("ngModel",t.model.tk),e.yG2(),e.E7m("hidden",!t.isFormSubmitted||t.isFormSubmitted&&t.model.tk),e.yG2(),e.oRS(" *",e.kDX(16,14,null==t.translation?null:t.translation.egwebapps.egrRequiredField)," ")}}function xt(s,l){if(1&s){const t=e.KQA();e.I0R(0,"div",7)(1,"div",21)(2,"label"),e.OEk(3),e.wVc(4,"translate"),e.C$Y(),e.I0R(5,"input",46),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO(2);return e.kNx(o.model.poli,i)||(o.model.poli=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i._checkDisabled())}),e.C$Y(),e.I0R(6,"div",13),e.OEk(7),e.wVc(8,"translate"),e.C$Y()()()}if(2&s){const t=e.GaO(2);e.yG2(3),e.oRS("",e.kDX(4,4,null==t.translation?null:t.translation.egwebapps.egrPoli),"*"),e.yG2(2),e.OKB("ngModel",t.model.poli),e.yG2(),e.E7m("hidden",!t.isFormSubmitted||t.isFormSubmitted&&t.model.poli),e.yG2(),e.oRS(" *",e.kDX(8,6,null==t.translation?null:t.translation.egwebapps.egrRequiredField)," ")}}function Bt(s,l){if(1&s){const t=e.KQA();e.SAx(0),e.I0R(1,"form",5,29),e.yuY(3,It,2,4,"p-message",30),e.I0R(4,"div",7)(5,"div",31)(6,"label"),e.OEk(7),e.wVc(8,"translate"),e.C$Y(),e.I0R(9,"input",32),e.iHE("ngModelChange",function(i){e.usT(t);const o=e.GaO();return e.kNx(o.model.poso,i)||(o.model.poso=i),e.CGJ(i)}),e.qCj("ngModelChange",function(){e.usT(t);const i=e.GaO();return e.CGJ(i._checkDisabled())}),e.C$Y(),e.I0R(10,"div",13),e.OEk(11),e.wVc(12,"translate"),e.C$Y()()(),e.yuY(13,At,3,2,"div",17)(14,Gt,17,16,"div",17)(15,xt,9,8,"div",17),e.I0R(16,"div",33)(17,"div")(18,"eg-checkout",34),e.qCj("payBtnClick",function(i){e.usT(t);const o=e.GaO();return e.CGJ(o.onCreatePaymentRequest(i))}),e.wVc(19,"translate"),e.C$Y()(),e.I0R(20,"button",35),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.onCancelKlisi())}),e.wR5(21,"i",27),e.OEk(22),e.wVc(23,"translate"),e.C$Y()()(),e.k70()}if(2&s){const t=e.Gew(2),n=e.GaO();e.yG2(3),e.E7m("ngIf",0===n.response.klisiId),e.yG2(4),e.oRS("",e.kDX(8,14,null==n.translation?null:n.translation.epayments.poso),"*"),e.yG2(2),e.E7m("readOnly",0!==n.response.klisiId),e.OKB("ngModel",n.model.poso),e.yG2(),e.E7m("hidden",!n.isFormSubmitted||n.isFormSubmitted&&n.model.poso&&n.model.poso>0),e.yG2(),e.oRS(" *",e.kDX(12,16,null==n.translation?null:n.translation.kliseis.posoValidationMsg)," "),e.yG2(2),e.E7m("ngIf",!n.response.hasEmail||!n.response.hasTilefono),e.yG2(),e.E7m("ngIf",!n.response.hasDieuthinsi),e.yG2(),e.E7m("ngIf",!n.response.hasDieuthinsi),e.yG2(3),e.E7m("isPaymentFormValid",t.valid)("doPaymentSubscription",n.onDoPaymentSubject.asObservable())("govPaymentGatewayApiUrl",n.govPaymentGatewayApiUrl)("buttonText",e.kDX(19,18,null==n.translation?null:n.translation.egwebapps.egrPaymentBtnText)),e.yG2(4),e.oRS(" ",e.kDX(23,20,null==n.translation?null:n.translation.egwebapps.egrCancelBtn)," ")}}function St(s,l){if(1&s&&e.wR5(0,"p-message",47),2&s){const t=e.GaO();e.E7m("styleClass","my-1 form-msgs")("escape",!1)("text",t.formErrorsMsg)}}function Kt(s,l){if(1&s&&e.wR5(0,"p-message",47),2&s){const t=e.GaO();e.E7m("styleClass","my-1 form-msgs")("escape",!1)("text",t.response.messageResponse)}}function Dt(s,l){if(1&s&&(e.wR5(0,"p-message",28),e.wVc(1,"translate")),2&s){const t=e.GaO();e.E7m("text",e.kDX(1,1,null==t.translation?null:t.translation.kliseis.klisiCreationFailed))}}function Pt(s,l){if(1&s&&(e.SAx(0),e.wR5(1,"app-kliseis-unauthorized-pay",3),e.k70()),2&s){const t=e.GaO();e.yG2(),e.E7m("countriesList",t.countriesList)("govPaymentGatewayApiUrl",t.govPaymentGatewayApiUrl)("authUrl",t.authUrl)("applicationUrl",t.applicationUrl)("selectedLang",t.selectedLang)("translation",t.translation)}}function Mt(s,l){if(1&s){const t=e.KQA();e.I0R(0,"div",9)(1,"button",10),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.onAddKlisiClicked())}),e.wR5(2,"i",11),e.OEk(3),e.wVc(4,"translate"),e.C$Y()()}if(2&s){const t=e.GaO(2);e.yG2(3),e.oRS(" ",e.kDX(4,1,null==t.translation?null:t.translation.kliseis.searchBtn)," ")}}function vt(s,l){if(1&s){const t=e.KQA();e.I0R(0,"app-kliseis-receipts",12),e.qCj("changeTabIndex",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.index=1)}),e.C$Y()}if(2&s){const t=e.GaO(2);e.E7m("tabChanged",t.onTbChanged)("selectedLang",t.selectedLang)("translation",t.translation)("govPaymentGatewayApiUrl",t.govPaymentGatewayApiUrl)}}function Tt(s,l){if(1&s){const t=e.KQA();e.SAx(0),e.yuY(1,Mt,5,3,"div",4),e.I0R(2,"p-tabView",5),e.qCj("onChange",function(i){e.usT(t);const o=e.GaO();return e.CGJ(o.onTabChanged(i))}),e.I0R(3,"p-tabPanel",6),e.wVc(4,"translate"),e.wR5(5,"app-kliseis-debits",7),e.C$Y(),e.I0R(6,"p-tabPanel",6),e.wVc(7,"translate"),e.yuY(8,vt,1,4,"ng-template",8),e.C$Y()(),e.k70()}if(2&s){const t=e.GaO();e.yG2(),e.E7m("ngIf",t.onlinePaymentsSettingsCompany&&"1"===t.onlinePaymentsSettingsCompany||!t.onlinePaymentsSettingsCompany),e.yG2(),e.E7m("activeIndex",t.index),e.yG2(),e.E7m("header",e.kDX(4,11,null==t.translation?null:t.translation.kliseis.aplirotes)),e.yG2(2),e.E7m("isDataChanged",t.isDataChanged)("userInfo",t.userInfo)("onlinePaymentsSettingsCompany",t.onlinePaymentsSettingsCompany)("selectedLang",t.selectedLang)("translation",t.translation)("govPaymentGatewayApiUrl",t.govPaymentGatewayApiUrl)("returnUrl",t.returnUrl),e.yG2(),e.E7m("header",e.kDX(7,13,null==t.translation?null:t.translation.epayments.paymentsTab))}}function Ft(s,l){if(1&s){const t=e.KQA();e.I0R(0,"lib-kliseis-add-new",13),e.qCj("klisiAdded",function(i){e.usT(t);const o=e.GaO();return e.CGJ(o._klisiAdded(i))}),e.C$Y()}if(2&s){const t=e.GaO();e.E7m("userInfo",t.userInfo)("isLoadingPaymentRequest",t.isLoadingPaymentRequest)("relatedCallbackUrl",t.returnUrl)("govPaymentGatewayApiUrl",t.govPaymentGatewayApiUrl)("selectedLang",t.selectedLang)("translation",t.translation)("isDev",t.isDev)("onlinePaymentsSettingsCompany",t.onlinePaymentsSettingsCompany)}}class Yt{constructor(l,t,n){this.http=l,this.exceptionSrv=t,this.toasterSrv=n,this.getBaseUrl=()=>this.baseUrl,AppConfOptions&&AppConfOptions.kliseis_api?(this.baseUrl=AppConfOptions.kliseis_api,this.financeApiUrl=(0,a.w1)(AppConfOptions.finance_api)?(0,a.w1)(AppConfOptions.epayments_api)?null:(0,a.sF)(AppConfOptions.epayments_api):(0,a.sF)(AppConfOptions.finance_api)):(this.baseUrl="/",this.financeApiUrl=(0,a.sF)(AppConfOptions.financeApi)),this.baseUrl+="api",this.financeApiUrl+="api"}}let I=(()=>{class s extends Yt{constructor(t,n,i){super(i,t,n),this.exceptionSrv=t,this.toasterSrv=n,this.http=i,this.kliseisUrl=`${(0,a.sF)(this.baseUrl)}/KliseisWeb`,this.kliseisFinanceUrl=`${(0,a.sF)(this.baseUrl)}/Finance`}getKliseis(t){return this.http.get(`${this.kliseisUrl}/GetKliseisWebByAfm/${t}`).pipe((0,c.k)(i=>i),(0,h.a)(i=>(0,a.Og)(i,this.toasterSrv)))}getKliseisPayed(t){return this.http.get(`${this.kliseisUrl}/GetKliseisPayedWebByAfm/${t}`).pipe((0,c.k)(i=>i),(0,h.a)(i=>(0,a.Og)(i,this.toasterSrv)))}getStoixeiaKlisisForWebPliromiEtos(t){return this.http.post(`${this.kliseisUrl}/GetStoixeiaKlisisForWebPliromiEtos`,t).pipe((0,c.k)(i=>i),(0,h.a)(i=>(0,a.Og)(i,this.toasterSrv)))}createKlisiWebAsync(t){return this.http.post(`${this.kliseisUrl}/CreateKlisiWebAsync`,t).pipe((0,c.k)(i=>i),(0,h.a)(i=>(0,a.Og)(i,this.toasterSrv)))}markKlisiWebExoflisi(t){return this.http.post(`${this.kliseisUrl}/MarkKlisiWebExoflisi`,t).pipe((0,c.k)(i=>i),(0,h.a)(i=>(0,a.Og)(i,this.toasterSrv)))}getFinancePaymentCallback(t){return this.http.get(`${this.kliseisUrl}/GetFinancePaymentCallback?btId=${t.btId}&returnUrl=${t.returnUrl}&status=${t.status}&messagecode=${t.messagecode}`).pipe((0,c.k)(i=>i),(0,h.a)(i=>(0,a.Og)(i,this.toasterSrv)))}fillPaymentRequestDtoNonAuthorized(t){return this.http.post(`${this.kliseisFinanceUrl}/FillPaymentRequestDtoNonAuthorized`,t).pipe((0,c.k)(i=>i),(0,h.a)(i=>(0,a.Og)(i,this.toasterSrv)))}fillPaymentRequestAuthorized(t){return this.http.post(`${this.kliseisFinanceUrl}/FillPaymentRequestDtoAuthorized`,t).pipe((0,c.k)(i=>i),(0,h.a)(i=>(0,a.Og)(i,this.toasterSrv)))}getPluginCustomerOptions(){return this.http.get(`${this.baseUrl}/Configurations/GetPluginCustomerSpecificOptions`).pipe((0,c.k)(n=>n),(0,h.a)(n=>(0,a.Og)(n,this.toasterSrv)))}allagiOdigouKlisis(t){return this.http.post(`${this.kliseisUrl}/AllagiOdigouKlisis`,t).pipe((0,c.k)(i=>i),(0,h.a)(i=>(0,a.Og)(i,this.toasterSrv)))}getAllXores(){return this.http.get(`${this.kliseisUrl}/GetAllXores`).pipe((0,c.k)(n=>n))}dimiourgiaOfiletiKaiAllagiOdigouKlisis(t){return this.http.post(`${this.kliseisUrl}/DimiourgiaOfiletiKaiAllagiOdigouKlisis`,t).pipe((0,c.k)(i=>i),(0,h.a)(i=>(0,a.Og)(i,this.toasterSrv)))}static#e=this.\u0275fac=function(n){return new(n||s)(e.CoB(a.gn),e.CoB(a.y6),e.CoB(O.KK))};static#t=this.\u0275prov=e.wxM({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),v=(()=>{class s{constructor(t){this.http=t,this.isAuthorizedSubject=new b.g(null),this.isAuthorized$=this.isAuthorizedSubject.asObservable(),this.userInfoSubject=new b.g(null),this.userInfo$=this.userInfoSubject.asObservable(),this.applicationOptionsSubject=new b.g(null),this.applicationOptions$=this.applicationOptionsSubject.asObservable(),this.customerSpecificOptionsSubject=new b.g(null),this.customerSpecificOptions$=this.customerSpecificOptionsSubject.asObservable(),this.pluginCustomerSpecificOptionsSubject=new b.g(null),this.pluginCustomerSpecificOptions$=this.pluginCustomerSpecificOptionsSubject.asObservable(),this.selectedLangSubject=new b.g(null),this.selectedLang$=this.selectedLangSubject.asObservable(),this.translationSubject=new b.g(null),this.translation$=this.translationSubject.asObservable(),this.baseUrl=AppConfOptions&&AppConfOptions.kliseis_api?(0,a.sF)(AppConfOptions.kliseis_api):"/",this.baseUrl+="api",this.egOnInit()}egOnInit(){this.isAuthorized$.subscribe(t=>{this.isAuthorized=t}),this.userInfo$.subscribe(t=>{this.userInfo=t}),this.applicationOptions$.subscribe(t=>{this.applicationOptions=t}),this.customerSpecificOptions$.subscribe(t=>{this.customerSpecificOptions=t}),this.pluginCustomerSpecificOptions$.subscribe(t=>{this.pluginCustomerSpecificOptions=t}),this.selectedLang$.subscribe(t=>{this.selectedLang=t}),this.translation$.subscribe(t=>{this.translation=t})}initIsAuthorized(){if(!this.isAuthorized){let t,n=window.sessionStorage.length>0?window.sessionStorage:window.localStorage;for(let i=0;i<n.length;i++){const o=n.key(i);o.includes("_isAuthorized")&&(t=JSON.parse(n.getItem(o)),this.isAuthorizedSubject.next(t))}}}initUserInfo(){if(!this.userInfo){let n,t=null;n=window.localStorage.length&&null!=typeof localStorage.getItem("default-auth-config")?window.localStorage:window.sessionStorage;for(let i=0;i<n.length;i++){const o=n.key(i);o.includes("default-auth-config")&&(t=JSON.parse(n.getItem(o)).userData,t&&this.userInfoSubject.next({email:t.email,username:t.given_name,tin:t.tin,family_name:t.family_name,given_name:t.given_name,fathers_name:t.fathers_name,mothers_name:t.mothers_name,name:t.name,address_city:t.address_city,address_country_code:t.address_country_code,address_zip:t.address_zip,address:t.address,adt:t.adt,phone_number:t.phone_number}))}}}iniApplicationOptions(){this.applicationOptions||this.http.get(`${this.baseUrl}/Configurations/GetAllOptions`).subscribe(n=>{n&&this.applicationOptionsSubject.next(n)})}initCustomerSpecificOptions(){this.customerSpecificOptions||this.http.get(`${this.baseUrl}/Configurations/GetCustomerSpecificOptions`).subscribe(n=>{n&&this.customerSpecificOptionsSubject.next(n)})}initPluginCustomerSpecificOptions(){this.pluginCustomerSpecificOptions||this.http.get(`${this.baseUrl}/Configurations/GetPluginCustomerSpecificOptions`).subscribe(n=>{n&&this.pluginCustomerSpecificOptionsSubject.next(n)})}static#e=this.\u0275fac=function(n){return new(n||s)(e.CoB(O.KK))};static#t=this.\u0275prov=e.wxM({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class T{constructor(){this.klisiId=0,this.eponymia="",this.afm="",this.adt="",this.arithmos="",this.odos="",this.diavatirio="",this.xoraAfm="",this.afmEtairias=""}}var F=function(s){return s.arithmosKlisis="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2",s.arithmosKikloforias="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2",s.poso="\u03a0\u03bf\u03c3\u03cc",s.etosKlisis="\u0388\u03c4\u03bf\u03c2 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2",s.email="Email",s["tel-national-mobile"]="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf",s.address="\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7",s.tk="\u03a4.\u039a.",s.poli="\u03a0\u03cc\u03bb\u03b7",s.hmerominiaEkdosis="\u0397\u03bc. \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2",s.debtorName="\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1",s.tin="\u0391.\u03a6.\u039c.",s.egsCountry="\u03a7\u03ce\u03c1\u03b1",s.cardHolderName="\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2",s}(F||{}),q=function(s){return s.arithmosKlisis="Ticket number",s.arithmosKikloforias="License Plate",s.poso="Payment amount",s.etosKlisis="Year of ticket",s.email="Email",s["tel-national-mobile"]="Mobile Phone Nbr.",s.address="Address",s.tk="Postal Code",s.poli="City",s.hmerominiaEkdosis="Publish Date",s.debtorName="Full Name",s.tin="Tin",s.egsCountry="Country",s.cardHolderName="Cardholder Name",s}(q||{});const $t={0:"\u0392\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc 1 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03bc\u03b5 \u03b1\u03c5\u03c4\u03ac \u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1. \u0393\u03b9\u03b1 \u03c4\u03b7\u03bd \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03ae \u03c4\u03b7\u03c2 \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b1\u03c0\u03b5\u03c5\u03b8\u03c5\u03bd\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf.",1:"\u0397 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c3\u03c5\u03c3\u03c7\u03b5\u03c4\u03b9\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03b5 \u03b4\u03b9\u03b1\u03ba\u03b1\u03bd\u03bf\u03bd\u03b9\u03c3\u03bc\u03cc. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b1\u03c0\u03b5\u03c5\u03b8\u03c5\u03bd\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf.",2:"\u0397 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c3\u03c5\u03c3\u03c7\u03b5\u03c4\u03b9\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03b5 \u03b4\u03cc\u03c3\u03b5\u03b9\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b1\u03c0\u03b5\u03c5\u03b8\u03c5\u03bd\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf.",3:"\u0397 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c3\u03c5\u03c3\u03c7\u03b5\u03c4\u03b9\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03b5 \u03bc\u03b5\u03c4\u03b1\u03c6\u03bf\u03c1\u03ac \u03c7\u03c1\u03b5\u03ce\u03c3\u03b7\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b1\u03c0\u03b5\u03c5\u03b8\u03c5\u03bd\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf.",4:"\u0397 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03b4\u03b5\u03bd \u03ad\u03c7\u03b5\u03b9 \u03c5\u03c0\u03cc\u03bb\u03bf\u03b9\u03c0\u03bf. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b1\u03c0\u03b5\u03c5\u03b8\u03c5\u03bd\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf.",5:"\u0397 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c3\u03c5\u03c3\u03c7\u03b5\u03c4\u03b9\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03b5 \u03c7\u03c1\u03b7\u03bc\u03b1\u03c4\u03b9\u03ba\u03cc \u03ba\u03b1\u03c4\u03ac\u03bb\u03bf\u03b3\u03bf \u03b1\u03bb\u03bb\u03ac \u03b4\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af \u03bd\u03b1 \u03c0\u03bb\u03b7\u03c1\u03c9\u03b8\u03b5\u03af. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b1\u03c0\u03b5\u03c5\u03b8\u03c5\u03bd\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf.",6:"\u0392\u03c1\u03ad\u03b8\u03b7\u03ba\u03b5 1 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b7 \u03bc\u03b5 \u03b1\u03c5\u03c4\u03ac \u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b1\u03c0\u03b5\u03c5\u03b8\u03c5\u03bd\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf.",7:"\u0392\u03c1\u03ad\u03b8\u03b7\u03ba\u03b5 1 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03b1\u03ba\u03c5\u03c1\u03c9\u03bc\u03ad\u03bd\u03b7 \u03bc\u03b5 \u03b1\u03c5\u03c4\u03ac \u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b1\u03c0\u03b5\u03c5\u03b8\u03c5\u03bd\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf.",8:"\u0392\u03c1\u03ad\u03b8\u03b7\u03ba\u03b5 1 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03b4\u03b9\u03b5\u03b3\u03c1\u03b1\u03bc\u03bc\u03ad\u03bd\u03b7 \u03b1\u03c0\u03cc \u0394.\u03a3. \u03bc\u03b5 \u03b1\u03c5\u03c4\u03ac \u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b1\u03c0\u03b5\u03c5\u03b8\u03c5\u03bd\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf.",9:"\u0392\u03c1\u03ad\u03b8\u03b7\u03ba\u03b5 1 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b4\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af \u03bd\u03b1 \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03b8\u03b5\u03af \u03bc\u03b5 \u03b1\u03c5\u03c4\u03ac \u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b1\u03c0\u03b5\u03c5\u03b8\u03c5\u03bd\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf.",10:"\u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b5 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03bc\u03b5 \u03b1\u03c5\u03c4\u03ac \u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b1\u03c0\u03b5\u03c5\u03b8\u03c5\u03bd\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf."},Ut={0:"More than 1 traffic tickets were found with the provided information. Please contact the Municipality.",1:"The traffic ticket is associated with a settlement. Please contact the Municipality.",2:"The traffic ticket is associated with installments. Please contact the Municipality.",3:"The traffic ticket is associated with a charge transfer. Please contact the Municipality.",4:"The traffic ticket has no balance. Please contact the Municipality.",5:"The traffic ticket is associated with a debits list but cannot be paid. Please contact the Municipality.",6:"Found 1 paid traffic ticket with the provided information. Please contact the Municipality.",7:"Found 1 canceled traffic ticket with the provided information. Please contact the Municipality.",8:"Found 1 deleted traffic ticket (by the city council) with the provided information. Please contact the Municipality.",9:"Found 1 traffic ticket that cannot be paid, with the provided information. Please contact the Municipality.",10:"No traffic ticket was found with the provided information. Please contact the Municipality."};let V=(()=>{class s{constructor(t,n,i,o,u){this.kliseisNgSrv=t,this.oidcSecuritySrv=n,this.paymentSrv=i,this.toasterSrv=o,this.cdr=u,this.isAllagiOdigouFormSubmitted=!1,this.allagiOdigouRunning=!1,this.isAfmValid=!0,this.model=[],this.checkedKliseis=[],this.onDoPaymentSubject=new f.E,this.kliseisRemittanceInfos=[],this.checkAll=!1,this.checkAllEnabled=!0,this.isLoading=!0,this.errorMsg=null,this.initPaymentMethods=!1,this.isEtairia=!1,this.isAllagiOdigouModalOpen=!1,this.showCreateOfeiletiPedia=!1,this.allagiOdigouKlisisRequest=new T,this.xores=[],this.sumPliromis=0,this.sumPliroteoPoso=0,this.sumPosoKlisis=0,this.checkedKliseisTotal=0}ngOnInit(){this._loadData()}onCheckAllKliseisClicked(){this.checkAll=!!this.checkAll,this.model.forEach(t=>{this.checkAll?t.isChecked=!(t.afm!=this.userInfo.tin||!t.canPay||!t.canCheck):(t.canCheck=!0,t.isChecked=!1)}),(0,a.Er)(this.cdr),this._calculatePosa()}onCheckKlisiClicked(t){let n,i=this.model.some(o=>o.isChecked);n=i?this.model.find(o=>o.isChecked).afm:null,i?(n=t.afm,this.model.forEach(o=>{o.canCheck=o.afm==n})):this.model.forEach(o=>{o.canCheck=!0}),(0,a.Er)(this.cdr),this._calculatePosa()}onCreatePaymentRequest(t){if((0,a.w1)(this.userInfo.email))this.toasterSrv.showWarning("","\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03c4\u03bf email \u03c3\u03b1\u03c2 \u03c3\u03c4\u03b7 \u03c3\u03b5\u03bb\u03af\u03b4\u03b1 \u03c4\u03bf\u03c5 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb \u03c3\u03b1\u03c2.");else if(this.initPaymentMethods=!0,this.paymentRequestDto=void 0,this.kliseisRemittanceInfos=[],(0,a.Er)(this.cdr),this.checkedKliseis&&this.checkedKliseis.length&&this.userInfo){let n;for(let i of this.checkedKliseis)this.kliseisRemittanceInfos=[...this.kliseisRemittanceInfos,this._createRemittanceInfo(i)];if(n={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.returnUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:t.key,entries:[]},"PIRBGRAA"===t.key&&(n.billingAddressCountryCode=null),this.onlinePaymentsSettingsCompany&&"1"==this.onlinePaymentsSettingsCompany||!this.onlinePaymentsSettingsCompany)this.kliseisNgSrv.fillPaymentRequestAuthorized(this.kliseisRemittanceInfos).pipe((0,y.G)(i=>{if(i&&i.length){for(let o=0;o<i.length;o++){const u=i[o];if(u.amount&&u.amount>0){let w={remittanceInfo:u.remittanceInfo,amount:u.amount,debtorName:this.userInfo.given_name+" "+this.userInfo.family_name,tin:this.userInfo.tin,description:this._createDescription(this.checkedKliseis[o]),metadata:null};n.entries.push(w)}}return this.paymentRequestDto=n,(0,a.Er)(this.cdr),this.paymentSrv.addPaymentRequest(this.govPaymentGatewayApiUrl,this.paymentRequestDto)}return(0,k.of)(!1)})).subscribe(i=>{i?(this.paymentResponseDto=i,this.onDoPaymentSubject.next(this.paymentResponseDto)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2.")});else{for(let i of this.checkedKliseis){let o={remittanceInfo:i.remittanceInfo,amount:i.ofeilisPoso,debtorName:this.userInfo.given_name+" "+this.userInfo.family_name,tin:this.userInfo.tin,description:this._createDescription(i)};n.entries.push(o)}this.paymentRequestDto=n,(0,a.Er)(this.cdr),this.paymentSrv.addPaymentRequest(this.govPaymentGatewayApiUrl,this.paymentRequestDto).subscribe(i=>{i&&(this.paymentResponseDto=i,this.onDoPaymentSubject.next(this.paymentResponseDto))})}}}onAllagiOdikouClicked(t){this.isEtairia&&t.isEtairia&&(t.isChecked||(this.isAllagiOdigouModalOpen=!0,this.showCreateOfeiletiPedia=!1,this.selectedKlisi=t,this.allagiOdigouKlisisRequest.klisiId=this.selectedKlisi.id,this.allagiOdigouKlisisRequest.afmEtairias=this.userInfo.tin,(0,a.Er)(this.cdr),this.xores.length?(this.selectedXoraAfm=this.xores[0],this.allagiOdigouKlisisRequest.xoraAfm=this.selectedXoraAfm.kodikos,(0,a.Er)(this.cdr)):this.kliseisNgSrv.getAllXores().subscribe(n=>{n&&(this.xores=n,this.selectedXoraAfm=this.xores[0],this.allagiOdigouKlisisRequest.xoraAfm=this.selectedXoraAfm.kodikos,(0,a.Er)(this.cdr))})))}onAnazitisiAfmClicked(){if(this.isAllagiOdigouFormSubmitted=!0,this.isAfmValid=!0,"EL"==this.allagiOdigouKlisisRequest.xoraAfm.toUpperCase()&&this.allagiOdigouKlisisRequest.afm.length&&(this.isAfmValid=(0,a.YD)(this.allagiOdigouKlisisRequest.afm)),this.allagiOdigouForm.valid&&this.isAfmValid){if(this.allagiOdigouKlisisRequest.afm==this.selectedKlisi.afm)return void this.toasterSrv.showWarning("","\u03a4\u03bf \u0391\u03a6\u039c \u03b5\u03af\u03bd\u03b1\u03b9 \u03af\u03b4\u03b9\u03bf \u03bc\u03b5 \u03b1\u03c5\u03c4\u03cc \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2");this.allagiOdigouRunning=!0,this.kliseisNgSrv.allagiOdigouKlisis(this.allagiOdigouKlisisRequest).subscribe(t=>{t?((0,a.Er)(this.cdr),this.toasterSrv.showSuccess("",`\u0388\u03b3\u03b9\u03bd\u03b5 \u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03bf\u03b4\u03b7\u03b3\u03bf\u03cd \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2 '${this.selectedKlisi.arithmosKlisis}' \u03bc\u03b5 \u03c4\u03bf \u0391\u03a6\u039c '${this.allagiOdigouKlisisRequest.afm}'`),this.onAllagiOdigouModalClose()):this.onShowCreateOfeiletisPedia(),this.allagiOdigouRunning=!1})}}onShowCreateOfeiletisPedia(){this.showCreateOfeiletiPedia=!0,this.isAllagiOdigouFormSubmitted=!1,this.isAfmValid=!0,(0,a.Er)(this.cdr)}onXoraChanged(t){t&&(this.selectedXoraAfm=t,this.allagiOdigouKlisisRequest.xoraAfm=this.selectedXoraAfm.kodikos),(0,a.Er)(this.cdr)}onDimiourgiaOfiletiClicked(){if(this.isAllagiOdigouFormSubmitted=!0,this.isAfmValid=!0,"EL"==this.allagiOdigouKlisisRequest.xoraAfm.toUpperCase()&&this.allagiOdigouKlisisRequest.afm.length&&(this.isAfmValid=(0,a.YD)(this.allagiOdigouKlisisRequest.afm)),this.allagiOdigouForm.valid&&this.isAfmValid){if(this.allagiOdigouKlisisRequest.afm==this.selectedKlisi.afm)return void this.toasterSrv.showWarning("","\u03a4\u03bf \u0391\u03a6\u039c \u03b5\u03af\u03bd\u03b1\u03b9 \u03af\u03b4\u03b9\u03bf \u03bc\u03b5 \u03b1\u03c5\u03c4\u03cc \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2");this.allagiOdigouRunning=!0,(0,a.Er)(this.cdr),this.kliseisNgSrv.dimiourgiaOfiletiKaiAllagiOdigouKlisis(this.allagiOdigouKlisisRequest).subscribe(t=>{t&&(this.toasterSrv.showSuccess("",`\u0388\u03b3\u03b9\u03bd\u03b5 \u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03bf\u03b4\u03b7\u03b3\u03bf\u03cd \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2 '${this.selectedKlisi.arithmosKlisis}' \u03bc\u03b5 \u03c4\u03bf \u0391\u03a6\u039c '${this.allagiOdigouKlisisRequest.afm}'`),this.onAllagiOdigouModalClose()),this.allagiOdigouRunning=!1,(0,a.Er)(this.cdr)})}}onAnazitisiMeDiaforetikoAfmClicked(){this.showCreateOfeiletiPedia=!1,this.allagiOdigouKlisisRequest=new T,this.selectedXoraAfm=null,this.allagiOdigouKlisisRequest.klisiId=this.selectedKlisi.id,this.isAfmValid=!0,(0,a.Er)(this.cdr)}onAllagiOdigouModalClose(){this.isAllagiOdigouModalOpen=!1,this.allagiOdigouKlisisRequest=new T,this.isAllagiOdigouFormSubmitted=!1,this.selectedKlisi=null,this.selectedXoraAfm=null,this.isAfmValid=!0,this._loadData(),(0,a.Er)(this.cdr)}_loadData(){this.userInfo.tin?(this.isLoading=!0,this.errorMsg=null,(0,a.Er)(this.cdr),this.kliseisNgSrv.getKliseis(this.userInfo.tin).subscribe(t=>{t?(this.model=t,this.isEtairia=this.model.filter(n=>n.isEtairia).length>0,this.model.forEach(n=>{n.cannotPayReason=n.cannotPayReason?n.cannotPayReason:"",n.canCheck=!0,this.checkAllEnabled=this.model.filter(i=>!i.canPay).length!=this.model.length,this.sumPosoKlisis+=n.pliroteoPoso,this.sumPliroteoPoso+=n.ofeilisPoso?n.ofeilisPoso:0,n.afm!=this.userInfo.tin&&n.afm&&(n.cannotPayReason+="\u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03c3\u03b5 \u0391.\u03a6.\u039c. \u03b4\u03b9\u03b1\u03c6\u03bf\u03c1\u03b5\u03c4\u03b9\u03ba\u03cc \u03b1\u03c0\u03cc \u03c4\u03bf \u03b4\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2, \u03c3\u03b5 \u03c7\u03c1\u03bf\u03bd\u03b9\u03ba\u03ae \u03c3\u03c4\u03b9\u03b3\u03bc\u03ae \u03cc\u03c0\u03bf\u03c5 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c3\u03c4\u03b5 \u03c9\u03c2 \u03ba\u03ac\u03c4\u03bf\u03c7\u03bf\u03c2 \u03c4\u03bf\u03c5 \u03bf\u03c7\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2.")})):this.errorMsg="\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd \u03c3\u03b1\u03c2.",this.isLoading=!1,(0,a.Er)(this.cdr)})):(this.isLoading=!1,(0,a.Er)(this.cdr),this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ad\u03bd\u03bf \u0391.\u03a6.\u039c."))}_calculatePosa(){this.sumPliromis=0,this.checkedKliseisTotal=0,this.checkedKliseis=[],this.checkedKliseisTotal=this.model.filter(t=>t.isChecked).length,this.checkedKliseis=this.model.filter(t=>t.isChecked),this.model.filter(t=>t.isChecked).forEach(t=>{this.sumPliromis+=t.ofeilisPoso?t.ofeilisPoso:0}),(0,a.Er)(this.cdr)}_createRemittanceInfo(t){return t.remittanceInfo}_createDescription(t){let n="";return n="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2: "+t.arithmosKlisis.toString()+", \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2: "+t.arithmosKikloforias+", \u0397\u03bc\u03b5\u03c1/\u03bd\u03b9\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2: "+(0,a.M5)(new Date(t.hmerominiaEkdosis)),n}_customSort(t){t.hasOwnProperty("field")&&(this.model="hmerominiaEkdosis"===t.field?t.hasOwnProperty("order")&&1==t.order?this.model.sort(function(n,i){return+new Date(i.hmerominiaEkdosis)-+new Date(n.hmerominiaEkdosis)>0?1:-1}):this.model.sort(function(n,i){return+new Date(i.hmerominiaEkdosis)-+new Date(n.hmerominiaEkdosis)<0?1:-1}):t.hasOwnProperty("order")&&1==t.order?this.model.sort(function(n,i){return+i[t.field]-+n[t.field]>0?1:-1}):this.model.sort(function(n,i){return+i[t.field]-+n[t.field]<0?1:-1}),(0,a.Er)(this.cdr))}static#e=this.\u0275fac=function(n){return new(n||s)(e.GI1(I),e.GI1(P.Bf),e.GI1(a.U5),e.GI1(a.y6),e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:s,selectors:[["app-kliseis-debits"]],viewQuery:function(n,i){if(1&n&&e.CC$(W,5),2&n){let o;e.wto(o=e.Gqi())&&(i.allagiOdigouForm=o.first)}},inputs:{userInfo:"userInfo",isDataChanged:"isDataChanged",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",selectedLang:"selectedLang",translation:"translation",govPaymentGatewayApiUrl:"govPaymentGatewayApiUrl",returnUrl:"returnUrl"},decls:19,vars:21,consts:[["severity","warn",3,"text",4,"ngIf"],["severity","error",3,"text","styleClass",4,"ngIf"],["severity","warn",3,"text","styleClass",4,"ngIf"],[4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"autoLayout","value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords","customSort","scrollable","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","footer"],[1,"mb-2"],["selectedDebits",""],["appendTo","body",3,"visible","draggable","resizable","modal","closeOnEscape","breakpoints","style","visibleChange","onHide",4,"ngIf"],["severity","warn",3,"text"],["severity","error",3,"text","styleClass"],["severity","warn",3,"text","styleClass"],[4,"ngTemplateOutlet"],[1,"d-flex","align-items-center"],[1,"me-1"],[1,"fas","fa-stop-circle","fa-fw","apliroti"],[1,"fas","fa-stop-circle","fa-fw","kataxorisi_web"],[1,"fixed-width-col-40","text-center"],[3,"binary","ngModel","disabled","ngModelChange","onChange"],[1,"fixed-width-col-40"],["pSortableColumn","arithmosKlisis",1,"fixed-width-col-150"],["field","arithmosKlisis"],["pSortableColumn","hmerominiaEkdosis",1,"fixed-width-col-150"],["field","hmerominiaEkdosis"],[1,"fixed-width-col-150"],[1,"fixed-width-col-170"],["pSortableColumn","pliroteoPoso",1,"fixed-width-col-150"],["field","pliroteoPoso"],["pSortableColumn","ofeilisPoso",1,"fixed-width-col-170"],["field","ofeilisPoso"],["class","fixed-width-col-180","alignFrozen","right","pFrozenColumn","",3,"frozen",4,"ngIf"],["alignFrozen","right","pFrozenColumn","",1,"fixed-width-col-180",3,"frozen"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-column-title"],[1,"fixed-width-col-150","text-break"],["class","small",4,"ngIf"],[1,"d-flex","align-items-start","justify-content-center","flex-column"],[1,"fixed-width-col-150","text-end"],[1,"fixed-width-col-170","text-end"],["class","fixed-width-col-180 text-center justify-content-end","alignFrozen","right","pFrozenColumn","",3,"frozen",4,"ngIf"],[1,"bg-warning",2,"border-top-color","var(--warning)","border-top-width","4px","border-top-style","outset"],[1,"px-2","pt-2",3,"innerHtml"],["aria-label","\u0391\u03c0\u03bb\u03ae\u03c1\u03c9\u03c4\u03b7",1,"fas","fa-stop-circle","fa-fw","apliroti"],["aria-label","\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u03b1\u03c0\u03cc WEB",1,"fas","fa-stop-circle","fa-fw","kataxorisi_web"],[1,"small"],["alignFrozen","right","pFrozenColumn","",1,"fixed-width-col-180","text-center","justify-content-end",3,"frozen"],[1,"btn","btn-primary","btn-sm","m-0","w-100",3,"disabled","click"],[1,"fa-solid","fa-user-plus","me-1"],[1,"fa-regular","fa-address-card","me-1"],["colspan","9"],[1,"fixed-width-col-850"],[1,"w-100","d-flex",3,"ngClass"],["class","fa-solid fa-ellipsis-vertical mx-3",4,"ngIf"],[1,"fa-solid","fa-ellipsis-vertical","mx-3"],[1,"debits-info","d-flex","flex-wrap","justify-content-around","w-100","align-items-center","mb-1"],[1,"mb-0"],[1,"totalPoso"],[3,"isPaymentFormValid","doPaymentSubscription","govPaymentGatewayApiUrl","buttonText","payBtnClick"],["appendTo","body",3,"visible","draggable","resizable","modal","closeOnEscape","breakpoints","visibleChange","onHide"],[1,"form"],["AllagiOdigouForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6"],["name","xoraAfm","bindLabel","onomasia","required","",1,"ontop-select",3,"appendTo","searchable","virtualScroll","clearable","items","ngModel","disabled","ngModelChange"],["ng-label-tmp",""],["ng-option-tmp",""],[1,"validation-msg","text-danger","pt-1",3,"hidden"],[1,"col-md-6","form-group"],["name","AfmOdigou","placeholder","\u0391\u03a6\u039c","type","text","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["AfmOdigou",""],[1,"col-12","mt-2","text-end"],["type","button",1,"btn","btn-warning","me-1",3,"disabled","click"],[1,"fas","fa-times","fa-fw","me-1"],["class","btn btn-primary","type","button",3,"disabled","click",4,"ngIf"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"h4"],[1,"small","text-info","fw-bold"],[1,"form-group","col-12"],["name","Eponymia","placeholder","\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1","type","text","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"form-group","col-md-6"],["name","Odos","placeholder","\u039f\u03b4\u03cc\u03c2","type","text","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["name","arithmos","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2","type","text","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["severity","info","text","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03c4\u03b5 \u03c4\u03bf\u03c5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03bf\u03bd \u03ad\u03bd\u03b1 \u03b1\u03c0\u03cc \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 '\u0391\u0394\u03a4' \u03ae '\u0394\u03b9\u03b1\u03b2\u03b1\u03c4\u03ae\u03c1\u03b9\u03bf'","styleClass","my-2 px-2",4,"ngIf"],[1,"form-group","col-md-6","mb-md-0"],["name","adt","placeholder","\u0391\u0394\u03a4","type","text",1,"form-control",3,"ngModel","disabled","required","ngModelChange"],["name","diavatirio","placeholder","\u0394\u03b9\u03b1\u03b2\u03b1\u03c4\u03ae\u03c1\u03b9\u03bf","type","text",1,"form-control",3,"ngModel","disabled","required","ngModelChange"],["severity","info","text","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03c4\u03b5 \u03c4\u03bf\u03c5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03bf\u03bd \u03ad\u03bd\u03b1 \u03b1\u03c0\u03cc \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 '\u0391\u0394\u03a4' \u03ae '\u0394\u03b9\u03b1\u03b2\u03b1\u03c4\u03ae\u03c1\u03b9\u03bf'","styleClass","my-2 px-2"],[1,"col-12","validation-msg","text-danger","pt-1","form-group",3,"hidden"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-search","fa-fw","me-1"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-user-plus","fa-fw","me-1"]],template:function(n,i){1&n&&(e.yuY(0,Z,2,3,"p-message",0)(1,ee,1,2,"p-message",1)(2,te,2,4,"p-message",2)(3,se,2,1,"ng-container",3),e.I0R(4,"p-table",4),e.qCj("sortFunction",function(u){return i._customSort(u)}),e.yuY(5,ne,9,6,"ng-template",5)(6,ae,35,25,"ng-template",6)(7,ye,58,60,"ng-template",7)(8,be,4,3,"ng-template",8)(9,Ee,12,21,"ng-template",9),e.C$Y(),e.I0R(10,"p",10)(11,"small")(12,"em"),e.OEk(13),e.wVc(14,"translate"),e.C$Y()()(),e.yuY(15,Oe,2,1,"ng-container",3)(16,Re,17,24,"ng-template",null,11,e.gJz)(18,Ye,29,26,"p-dialog",12)),2&n&&(e.E7m("ngIf",i.model&&0===i.model.length&&!i.isLoading&&(!i.errorMsg||""===i.errorMsg)),e.yG2(),e.E7m("ngIf",i.errorMsg&&""!==i.errorMsg&&!i.isLoading),e.yG2(),e.E7m("ngIf",i.model&&i.model.length>0&&!i.isLoading),e.yG2(),e.E7m("ngIf",i.checkedKliseisTotal&&i.checkedKliseisTotal>0),e.yG2(),e.E7m("autoLayout",!1)("value",i.model)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",i.isLoading)("totalRecords",null==i.model?null:i.model.length)("customSort",!0)("scrollable",!0),e.yG2(9),e.oRS("* ",e.kDX(14,19,i.translation.egwebapps.egrOngoingChargesAndDeductions),""),e.yG2(2),e.E7m("ngIf",i.checkedKliseisTotal&&i.checkedKliseisTotal>0),e.yG2(3),e.E7m("ngIf",i.selectedKlisi))},dependencies:[m.QF,m.u_,m.XV,d.sz,d.ot,d.ue,d.u,d.eJ,d._G,d.SC,a.CG,A.U3,C.oJ,C.E5,C._E,C.q4,G.yw,D.C,R.S,E.UT,E.kn,E.Ar,m.cf,m.y,_.sD],styles:[".fixed-width-col-40{width:40px!important;min-width:40px!important}.fixed-width-col-120{width:120px!important;min-width:120px!important}.fixed-width-col-150{width:150px!important;min-width:150px!important}.fixed-width-col-170{width:170px!important;min-width:170px!important}.fixed-width-col-340{width:340px!important;min-width:340px!important}.fixed-width-col-850{width:850px!important;min-width:850px!important}@media screen and (max-width: 1070px){.p-datatable .p-datatable-tbody>tr>td{display:flex!important;width:100%;float:left;clear:left;border:0 none;word-break:break-word;text-align:left}.p-datatable .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block!important;margin:-.4em 1em -.4em -.4rem;font-weight:700;text-align:right}.p-datatable .p-datatable-tbody>tr:not(.bg-info)>td:nth-of-type(2n){background-color:#ecf0f5}.p-datatable .p-datatable-tbody>tr:not(.bg-info){border-bottom:5px solid #2c95bb}.p-datatable .p-datatable-tbody>tr.bg-info{border-bottom:5px solid #ecf0f5}.p-datatable .p-datatable-tbody>tr>td .p-column-title{width:38%}.fixed-width-col-40,.fixed-width-col-40.text-center,.fixed-width-col-120,.fixed-width-col-120.text-center,.fixed-width-col-150,.fixed-width-col-150.text-center,.fixed-width-col-170,.fixed-width-col-170.text-center,.fixed-width-col-340,.fixed-width-col-340.text-center,.fixed-width-col-850,.fixed-width-col-850.text-center{width:100%!important;text-align:left!important}}\n"],encapsulation:2,changeDetection:0})}return s})(),L=(()=>{class s{constructor(t,n,i,o,u){this.kliseisNgSrv=t,this.pluginCacheSrv=n,this.egPaymentSrv=i,this.route=o,this.cdr=u,this.changeTabIndex=new e._w7,this.model=[],this.onDestroy=new f.E,this.isLoading=!0,this.checkAll=!1,this.sumPliroteoPoso=0}ngOnInit(){this.pluginCacheSrv.initUserInfo(),this.pluginCacheSrv.userInfo$.pipe((0,g.a)(this.onDestroy)).pipe((0,y.G)(t=>t?(this.userInfo=t,this.userInfo.email=(0,a.w1)(this.userInfo.email)?this.userInfo.email:this.userInfo.email.trim(),this.userInfo.username=(0,a.w1)(this.userInfo.username)?this.userInfo.username:this.userInfo.username.trim(),this.userInfo.tin=(0,a.w1)(this.userInfo.tin)?this.userInfo.tin:this.userInfo.tin.trim(),this.userInfo.family_name=(0,a.w1)(this.userInfo.family_name)?this.userInfo.family_name:this.userInfo.family_name.trim(),this.userInfo.given_name=(0,a.w1)(this.userInfo.given_name)?this.userInfo.given_name:this.userInfo.given_name.trim(),this.userInfo.fathers_name=(0,a.w1)(this.userInfo.fathers_name)?this.userInfo.fathers_name:this.userInfo.fathers_name.trim(),this.userInfo.mothers_name=(0,a.w1)(this.userInfo.mothers_name)?this.userInfo.mothers_name:this.userInfo.mothers_name.trim(),this.userInfo.name=(0,a.w1)(this.userInfo.name)?this.userInfo.name:this.userInfo.name.trim(),this.userInfo.address_city=(0,a.w1)(this.userInfo.address_city)?this.userInfo.address_city:this.userInfo.address_city.trim(),this.userInfo.address_country_code=(0,a.w1)(this.userInfo.address_country_code)?this.userInfo.address_country_code:this.userInfo.address_country_code.trim(),this.userInfo.address_country_num=(0,a.w1)(this.userInfo.address_country_num)?this.userInfo.address_country_num:this.userInfo.address_country_num.trim(),this.userInfo.address_zip=(0,a.w1)(this.userInfo.address_zip)?this.userInfo.address_zip:this.userInfo.address_zip.trim(),this.userInfo.address=(0,a.w1)(this.userInfo.address)?this.userInfo.address:this.userInfo.address.trim(),this.userInfo.adt=(0,a.w1)(this.userInfo.adt)?this.userInfo.adt:this.userInfo.adt.trim(),this.userInfo.phone_number=(0,a.w1)(this.userInfo.phone_number)?this.userInfo.phone_number:this.userInfo.phone_number.trim(),(0,a.Er)(this.cdr),this.egPaymentSrv.getBankMessages(this.govPaymentGatewayApiUrl)):(0,k.of)(!1)),(0,y.G)(t=>t?(this.oikonomikiBankMessages=t,this.route.queryParams.pipe((0,g.a)(this.onDestroy))):(0,k.of)(!1))).subscribe(t=>{if(t){let n=t;this.bankMessage=n.messagecode,this.btid=n.btId,this.bankMessage?(this.changeTabIndex.emit(1),this.bankStatusMessage=this.oikonomikiBankMessages[this.bankMessage],"TRANSACTION_COMPLETED"==this.bankMessage?(this.bankStatusMessageClass="success",this.btid&&this.kliseisNgSrv.markKlisiWebExoflisi({address:this.userInfo.address,address_city:this.userInfo.address_city,address_country_code:this.userInfo.address_country_code,address_zip:this.userInfo.address_zip,adt:this.userInfo.adt,debtorName:this.userInfo.given_name+" "+this.userInfo.family_name,email:this.userInfo.email,phone_number:this.userInfo.phone_number,tin:this.userInfo.tin,bankTransactionId:this.btid}).subscribe(()=>{this._loadData()})):(this.bankStatusMessageClass="error",this._loadData())):this._loadData(),(0,a.Er)(this.cdr)}})}ngOnChanges(t){t&&t.tabChanged&&(this.bankStatusMessage=void 0,(0,a.Er)(this.cdr))}ngOnDestroy(){this.onDestroy.next(null)}_loadData(){this.isLoading=!0,(0,a.Er)(this.cdr),this.kliseisNgSrv.getKliseisPayed(this.userInfo.tin).subscribe(t=>{t&&(this.model=t,this.model.forEach(n=>this.sumPliroteoPoso+=n.pliroteoPoso),this.model=this.model.sort(function(n,i){return n.hmerominiaEkdosis!=i.hmerominiaEkdosis?new Date(i.hmerominiaEkdosis).getTime()-new Date(n.hmerominiaEkdosis).getTime():+i.arithmosKlisis-+n.arithmosKlisis})),this.isLoading=!1,(0,a.Er)(this.cdr)})}_customSort(t){t.hasOwnProperty("field")&&(this.model="hmerominiaEkdosis"===t.field?t.hasOwnProperty("order")&&1==t.order?this.model.sort(function(n,i){return+new Date(i.hmerominiaEkdosis)-+new Date(n.hmerominiaEkdosis)>0?1:-1}):this.model.sort(function(n,i){return+new Date(i.hmerominiaEkdosis)-+new Date(n.hmerominiaEkdosis)<0?1:-1}):t.hasOwnProperty("order")&&1==t.order?this.model.sort(function(n,i){return+i[t.field]-+n[t.field]>0?1:-1}):this.model.sort(function(n,i){return+i[t.field]-+n[t.field]<0?1:-1}),(0,a.Er)(this.cdr))}static#e=this.\u0275fac=function(n){return new(n||s)(e.GI1(I),e.GI1(v),e.GI1(a.U5),e.GI1(p.gV),e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:s,selectors:[["app-kliseis-receipts"]],inputs:{tabChanged:"tabChanged",selectedLang:"selectedLang",translation:"translation",govPaymentGatewayApiUrl:"govPaymentGatewayApiUrl"},outputs:{changeTabIndex:"changeTabIndex"},features:[e.SYr],decls:9,vars:13,consts:[["severity","warn",3,"text","styleClass",4,"ngIf"],[3,"severity","text","styleClass",4,"ngIf"],[3,"condition"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords","customSort","sortFunction"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","footer"],["severity","warn",3,"text","styleClass"],[3,"severity","text","styleClass"],[1,"ui-helper-clearfix",2,"text-align","left"],[1,"me-1"],[1,"fas","fa-stop-circle","fa-fw","exoflimeni"],[1,"fas","fa-stop-circle","fa-fw","exoflisi_web"],[1,"fixed-width-col-40"],["pSortableColumn","arithmosKlisis",1,"fixed-width-col-150"],["field","arithmosKlisis"],["pSortableColumn","hmerominiaEkdosis",1,"fixed-width-col-150"],["field","hmerominiaEkdosis"],[1,"fixed-width-col-170"],[1,"fixed-width-col-150"],["pSortableColumn","pliroteoPoso",1,"fixed-width-col-150"],["field","pliroteoPoso"],[1,"fixed-width-col-40","text-center"],[1,"p-column-title"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-start","justify-content-center"],["class","d-block",4,"ngIf"],[1,"fixed-width-col-120","text-end"],[1,"d-block"],["colspan","8"],["colspan","6",1,"fixed-width-col-830"],["colspan","2",1,"fixed-width-col-290","text-end"]],template:function(n,i){1&n&&(e.yuY(0,Ne,2,4,"p-message",0)(1,$e,1,3,"p-message",1),e.wR5(2,"eg-loading",2),e.I0R(3,"p-table",3),e.qCj("sortFunction",function(u){return i._customSort(u)}),e.yuY(4,Ue,7,0,"ng-template",4)(5,ze,27,21,"ng-template",5)(6,We,50,47,"ng-template",6)(7,Ze,3,0,"ng-template",7)(8,et,10,16,"ng-template",8),e.C$Y()),2&n&&(e.E7m("ngIf",i.model&&0===i.model.length&&!i.isLoading),e.yG2(),e.E7m("ngIf",i.bankStatusMessage&&""!==i.bankStatusMessage),e.yG2(),e.E7m("condition",!i.model||i.isLoading),e.yG2(),e.E7m("value",i.model)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",i.isLoading)("totalRecords",null==i.model?null:i.model.length)("customSort",!0))},dependencies:[m.u_,A.U3,C.oJ,C.E5,C.q4,R.S,a.uU,m.cf,m.y,_.sD],styles:[".fixed-width-col-40{width:40px!important;min-width:40px!important}.fixed-width-col-120{width:120px!important;min-width:120px!important}.fixed-width-col-150{width:150px!important;min-width:150px!important}.fixed-width-col-170{width:170px!important;min-width:170px!important}.fixed-width-col-290{width:290px!important;min-width:290px!important}.fixed-width-col-830{width:830px!important;min-width:830px!important}@media screen and (max-width: 1070px){.p-datatable .p-datatable-tbody>tr>td{display:flex!important;width:100%;float:left;clear:left;border:0 none;word-break:break-word;text-align:left}.p-datatable .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block!important;margin:-.4em 1em -.4em -.4rem;font-weight:700;text-align:right}.p-datatable .p-datatable-tbody>tr:not(.bg-info)>td:nth-of-type(2n){background-color:#ecf0f5}.p-datatable .p-datatable-tbody>tr:not(.bg-info){border-bottom:5px solid #2c95bb}.p-datatable .p-datatable-tbody>tr.bg-info{border-bottom:5px solid #ecf0f5}.p-datatable .p-datatable-tbody>tr>td .p-column-title{width:38%}.fixed-width-col-40,.fixed-width-col-40.text-center,.fixed-width-col-120,.fixed-width-col-120.text-center,.fixed-width-col-150,.fixed-width-col-150.text-center,.fixed-width-col-170,.fixed-width-col-170.text-center,.fixed-width-col-290,.fixed-width-col-290.text-center,.fixed-width-col-830,.fixed-width-col-830.text-center{width:100%!important;text-align:left!important}}\n"],encapsulation:2,changeDetection:0})}return s})();function Y(s,l=!1){let t=new RegExp("^[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7]{2}[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7 ][0-9]{4}$"),n=new RegExp("^[\u0394\u039f\u039a][0-9]{4}$"),i=new RegExp("^[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7]{2}[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7 ][0-9]{3}$"),o=new RegExp("^[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7]{3}( |0){1}[0-9]{3}$");return!!(!l&&(t.test(s)||n.test(s))||l&&(i.test(s)||o.test(s)))}function S(s){return(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=s.toUpperCase()).replace("A","\u0391")).replace("B","\u0392")).replace("E","\u0395")).replace("H","\u0397")).replace("I","\u0399")).replace("K","\u039a")).replace("M","\u039c")).replace("N","\u039d")).replace("O","\u039f")).replace("P","\u03a1")).replace("T","\u03a4")).replace("X","\u03a7")).replace("Y","\u03a5")).replace("Z","\u0396")}let Vt=(()=>{class s{constructor(t,n,i,o,u,w){this.kliseisNgSrv=t,this.egPaymentSrv=n,this.toasterSrv=i,this.translateSrv=o,this.route=u,this.cdr=w,this.countriesList=[],this.model={},this.onDoPaymentSubject=new f.E,this.onDestroy=new f.E,this.isLoading=!1,this.requestMsg="",this.requestMsgClass="info",this.isFormSubmitted=!1,this.isFormPaySubmitted=!1,this.showCardHolderName=!1,this.oikonomikiBankMessagesEn={CODE_HAS_NO_BALANCE:"The specified payment code has zero balance.",CODE_NOT_FOUND:"Payment code not found.",DEBTOR_ADDRESS_REQUIRED:"Address field is missing.",DEBTOR_NOT_UNIQUE:"The debtor could not be uniquely identified on the basis of the TIN number.",DEBTOR_TIN_REQUIRED:"TIN number is required.",HASH_MISMATCH:"Unable to verify the transaction.",INVALID_CULTURE:"Unknown language encoding.",OK:"",SETTLEMENT_PENDING:"Charge is pending.",TICKET_NOT_ISSUED:"No ticket was issued.",TRANSACTION_CANCELED:"Transaction was canceled by the user.",TRANSACTION_COMPLETED:"Transaction was completed successfully.",TRANSACTION_ERROR:"Transaction was not completed.",TRANSACTION_REJECTED:"Transaction was rejected by the bank.",UNKNOWN_ERROR:"Unknown error."},this.backendMsgResponsesEl=$t,this.backendMsgResponsesEn=Ut,this.today=new Date,this.thisYear=this.today.getFullYear(),this.isFormValid=!0}ngOnInit(){var t=!(this.applicationUrl&&this.applicationUrl.includes("localhost"));this.callbackUrl=t?`${(0,a.sF)(this.applicationUrl)}/kliseis`:`${(0,a.sF)(this.applicationUrl)}/plugin`,this.egPaymentSrv.getBankMessages(this.govPaymentGatewayApiUrl).pipe((0,y.G)(n=>n?(this.oikonomikiBankMessages=n,this.route.queryParams):(0,k.of)(!1)),(0,y.G)(n=>{if(n){let i=n;if(i.messagecode&&"TRANSACTION_COMPLETED"==i.messagecode){this.bankStatusMessage="el"==this.selectedLang?this.oikonomikiBankMessages[i.messagecode]:this.oikonomikiBankMessagesEn[i.messagecode];let o={btId:i.btId,returnUrl:this.callbackUrl,status:i.status,messagecode:i.messagecode};return(0,a.Er)(this.cdr),this.kliseisNgSrv.getFinancePaymentCallback(o)}return this.bankStatusMessage="el"==this.selectedLang?this.oikonomikiBankMessages[i.messagecode]:this.oikonomikiBankMessagesEn[i.messagecode],this.bankStatusMessageClass="fail",(0,a.Er)(this.cdr),(0,k.of)(!1)}return(0,k.of)(!1)}),(0,g.a)(this.onDestroy)).subscribe(n=>{this.bankStatusMessageClass=n?"success":"error",(0,a.Er)(this.cdr)})}ngOnChanges(t){t&&t.selectedLang&&(this.selectedLang=t.selectedLang.currentValue,this.formDictionaryEnum="el"==this.selectedLang?F:q,this._setRequestMsg(this.requestMsg),(0,a.Er)(this.cdr)),t&&t.translation&&(this.translation=t.translation.currentValue,(0,a.Er)(this.cdr))}ngOnDestroy(){this.onDestroy.next(null)}onEtosChanged(){this.etosCalendar&&(this.model.etos=this.etosCalendar.getFullYear())}onShowValidationMsgs(t){t?(this.isFormPaySubmitted=!0,this.formErrorsMsgPay=(0,a.SG)(this.klisiPayUnauthorized,this.formDictionaryEnum,"")):this.formErrorsMsgPay=""}onSearch(){this.isFormSubmitted=!0,this.isFormValid=!0,this.formErrorsMsg="",this.requestMsg="";let n,t="";if(!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias?(n=S(this.model.arithmosKikloforias),n=(0,a.wf)(n).toUpperCase(),""!=n&&0==Y(n)?(this.toasterSrv.showWarning("","\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000)"),this.isFormValid=!1):this.model.arithmosKikloforias&&this.model.arithmosKikloforias!=n&&(this.isFormValid=!0)):this.isFormValid=!0,this.model.etos&&+this.model.etos>+this.thisYear&&(this.isFormValid=!1,t="<li>\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf "+this.thisYear+".</li>"),(0,a.Er)(this.cdr),this.isFormSubmitted&&this.klisiAnazitisi.valid&&this.isFormValid)this.isLoading=!0,this.unauthorizedPaymentResponse=null,this.requestMsg="",this.model.isAuthorized=!1,this.model.arithmosKikloforias&&n&&this.model.arithmosKikloforias!=n&&(this.model.arithmosKikloforias=n),(0,a.Er)(this.cdr),this.kliseisNgSrv.getStoixeiaKlisisForWebPliromiEtos(this.model).subscribe(i=>{if(i)if(this.unauthorizedPaymentResponse=i,this.unauthorizedPaymentResponse.canPay){let o=this._setRequestMsg(this.unauthorizedPaymentResponse.messageResponse);this.toasterSrv.showInfo("",o)}else{let o=this._setRequestMsg(this.unauthorizedPaymentResponse.messageResponse);this.toasterSrv.showWarning("",o),this.requestMsgClass="warn"}else this.toasterSrv.showError("",this.translation.egwebapps.egrProblemFound),this.requestMsg=this.translation.egwebapps.egrProblemFound,this.requestMsgClass="error";this.isLoading=!1,(0,a.Er)(this.cdr)});else{let i="";if(i+=t,!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias){let o=S(this.model.arithmosKikloforias);o=(0,a.wf)(n).toUpperCase(),""!=o&&0==Y(o)&&(i+="<li>"+this.translation.kliseis.arithmosKikloforiasValidationMsg+"</li>")}this.formErrors=(0,a.SG)(this.klisiAnazitisi,this.formDictionaryEnum,i),(0,a.Er)(this.cdr)}}onCancel(){this.model={isAuthorized:!0},this.unauthorizedPaymentResponse=null,this.isFormSubmitted=!1,this.isFormPaySubmitted=!1,this.formErrors=null,this.formErrorsMsg=null,this.requestMsg="",(0,a.Er)(this.cdr)}onCreatePaymentRequest(t){if(this.unauthorizedPaymentResponse.hasEmail||!this.unauthorizedPaymentResponse.hasEmail&&!(0,a.w1)(this.model.email)){this.isFormPaySubmitted=!0,this.isFormSubmitted=!1,this.formErrorsMsgPay="",this.formErrorsPay=void 0,this.kliseisUnauthorizedRequest=void 0,(0,a.Er)(this.cdr);let n={};this.isFormPaySubmitted&&this.klisiPayUnauthorized.valid?(n.remittanceInfo=this.unauthorizedPaymentResponse.remittanceInfo,n.relatedCallbackUrl=this.callbackUrl,n.paymentMethodKey=t.key,this.unauthorizedPaymentResponse.hasDieuthinsi||(n.billingAddress=this.model.address,n.billingAddressZip=this.model.tk,n.billingAddressCity=this.model.poli,n.billingAddressCountryCode=this.model.countryId,n.userPhone=this.model.tilefono),"PIRBGRAA"===t.key&&(n.billingAddressCountryCode=null),n.userEmail=this.unauthorizedPaymentResponse.hasEmail?null:this.model.email,n.eponimia=this.model.debtorName?this.model.debtorName:null,n.tinRelated=this.model.tin?this.model.tin:null,n.cardholderName=this.model.cardholderName,this.kliseisUnauthorizedRequest=n,(0,a.Er)(this.cdr),this.kliseisNgSrv.fillPaymentRequestDtoNonAuthorized(this.kliseisUnauthorizedRequest).subscribe(i=>{i?(this.paymentResponseDto=i.model,this.onDoPaymentSubject.next(this.paymentResponseDto)):this.toasterSrv.showError("",this.translation.egwebapps.egrPaymentProblemFound)})):(this.formErrorsMsgPay="",this.formErrorsPay=(0,a.SG)(this.klisiPayUnauthorized,this.formDictionaryEnum,""),(0,a.Er)(this.cdr))}else this.toasterSrv.showWarning("","\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03c4\u03bf email \u03c3\u03b1\u03c2 \u03c3\u03c4\u03b7 \u03c3\u03b5\u03bb\u03af\u03b4\u03b1 \u03c4\u03bf\u03c5 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb \u03c3\u03b1\u03c2.")}_checkDisabled(){return!(this.isFormPaySubmitted&&this.unauthorizedPaymentResponse&&this.unauthorizedPaymentResponse.canPay&&this.model&&this.model.debtorName&&this.model.tin&&this.model.email&&this.model.tilefono&&this.model.address&&this.model.tk&&this.model.poli&&this.model.countryId)}_setRequestMsg(t){let n,i=+(0,a.eO)(this.backendMsgResponsesEl,t);return n="en"==this.selectedLang?this.backendMsgResponsesEn[i]:t,this.requestMsg=n,(0,a.Er)(this.cdr),n}static#e=this.\u0275fac=function(n){return new(n||s)(e.GI1(I),e.GI1(a.U5),e.GI1(a.y6),e.GI1(_.qS),e.GI1(p.gV),e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:s,selectors:[["app-kliseis-unauthorized-pay"]],viewQuery:function(n,i){if(1&n&&(e.CC$(tt,5),e.CC$(it,5)),2&n){let o;e.wto(o=e.Gqi())&&(i.klisiAnazitisi=o.first),e.wto(o=e.Gqi())&&(i.klisiPayUnauthorized=o.first)}},inputs:{countriesList:"countriesList",govPaymentGatewayApiUrl:"govPaymentGatewayApiUrl",applicationUrl:"applicationUrl",authUrl:"authUrl",selectedLang:"selectedLang",translation:"translation"},features:[e.M5G([],[a.W4]),e.SYr],decls:4,vars:3,consts:[[1,"kliseis-unauthorized-container","bg-white","p-2"],[3,"severity","text","styleClass",4,"ngIf"],["class","w-100 text-center mb-0 mt-2",4,"ngIf"],[4,"ngIf"],[3,"severity","text","styleClass"],[1,"w-100","text-center","mb-0","mt-2"],[1,"btn","btn-primary","btn-sm",3,"href"],["aria-hidden","true",1,"fas","fa-undo","fa-fw"],[1,"form"],["klisiAnazitisi","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6","d-inline-flex","align-items-center"],["name","isForeign","binary","true",3,"label","ngModel","disabled","ngModelChange"],[1,"form-group","col-12","col-md-6"],["name","arithmosKlisis","type","text","pattern","([0-9]*)","autocomplete","off","required","",1,"form-control",3,"placeholder","ngModel","disabled","ngModelChange"],[1,"validation-msg","text-danger","pt-1",3,"hidden"],["name","arithmosKikloforias","type","text","autocomplete","off","required","",1,"form-control",2,"text-transform","uppercase",3,"placeholder","ngModel","disabled","ngModelChange"],[1,"col-12","col-md-6"],["name","etosKlisis","dateFormat","yy","view","year","appendTo","body",3,"placeholder","showButtonBar","showIcon","ngModel","disabled","ngModelChange"],[1,"form-actions","d-flex","align-items-center","justify-content-center","pb-0"],["type","button",1,"btn","btn-primary","me-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["type","button",1,"btn","btn-warning",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["severity","error",3,"styleClass","escape","text",4,"ngIf"],[3,"condition","customClass"],["severity","error",3,"styleClass","escape","text"],[3,"severity","styleClass","text",4,"ngIf"],["class","form mt-2",4,"ngIf"],["style","width: 350px;","class","mx-auto mt-2",4,"ngIf"],[3,"severity","styleClass","text"],[1,"form","mt-2"],["klisiPayUnauthorized","ngForm"],[1,"form-group","col-12"],["name","poso","placeholder","0,01","type","text","currencyMask","","lang","el-GR","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","row",4,"ngIf"],["name","debtorName","type","text","required","",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["name","tin","type","text","required","",1,"form-control",3,"egValidateAfm","placeholder","ngModel","ngModelChange"],["class","col-12",3,"ngClass",4,"ngIf"],[1,"col-12",3,"ngClass"],["name","email","type","email","placeholder","Email","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"name","isRequired","isFormSubmitted","value","numberWithCode"],[1,"col-12","col-md-9"],["name","address","type","text","required","",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-12","col-md-3"],["name","tk","type","text","required","",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["name","poli","type","text","required","",1,"form-control",3,"placeholder","ngModel","ngModelChange"],["name","egsCountry","bindLabel","Perigrafi","bindValue","Id","required","",3,"items","virtualScroll","searchable","ngModel","ngModelChange","change"],[1,"mx-auto","mt-2",2,"width","350px"],[3,"isPaymentFormValid","doPaymentSubscription","govPaymentGatewayApiUrl","selectedLang","buttonText","showValidationMsgs","payBtnClick"]],template:function(n,i){1&n&&(e.I0R(0,"div",0),e.yuY(1,st,1,3,"p-message",1)(2,nt,5,4,"div",2)(3,_t,45,54,"ng-container",3),e.C$Y()),2&n&&(e.yG2(),e.E7m("ngIf",i.bankStatusMessage&&""!==i.bankStatusMessage),e.yG2(),e.E7m("ngIf",i.bankStatusMessage&&""!==i.bankStatusMessage),e.yG2(),e.E7m("ngIf",!i.bankStatusMessage))},dependencies:[m.QF,m.u_,d.sz,d.ot,d.ue,d.u,d.eJ,d.E1,d._G,d.SC,a.CG,M.Yf,G.yw,R.S,x.Mb,E.UT,a.uU,a.W4,a.cp,_.sD],encapsulation:2,changeDetection:0})}return s})(),Lt=(()=>{class s{constructor(t,n,i,o,u,w,N){this.kliseisNgSrv=t,this.paymentSrv=n,this.pluginCacheSrv=i,this.http=o,this.oidcSecuritySrv=u,this.toasterSrv=w,this.cdr=N,this.onlinePaymentsSettingsCompany="1",this.klisiAdded=new e._w7,this.paymentRequestDto=void 0,this.onDoPaymentSubject=new f.E,this.onDestroy=new f.E,this.initPaymentMethods=!1,this.allowsPayment=!0,this.canCreateKlisi=!0,this.today=new Date,this.thisYear=this.today.getFullYear(),this.yearRange=(0,a.sj)(50,50),this.isLoading=!1,this.isLoadingResponse=!1,this.isFormSubmitted=!1,this.saveFailed=!1,this.optionShowEtos=!1,this.isFormValid=!0,this.formDictionaryEnum=F}ngOnChanges(t){t&&t.isLoadingPaymentRequest&&(this.isLoadingPaymentRequest=t.isLoadingPaymentRequest.currentValue,(0,a.Er)(this.cdr))}ngOnInit(){this.model={address:this.userInfo.address?this.userInfo.address:null,poli:this.userInfo.address_city?this.userInfo.address_city:null,tk:this.userInfo.address_zip?this.userInfo.address_zip:null,tilefono:this.userInfo.phone_number?this.userInfo.phone_number:null,email:this.userInfo.email?this.userInfo.email:null},(0,a.Er)(this.cdr),this.pluginCacheSrv.initPluginCustomerSpecificOptions(),this.pluginCacheSrv.pluginCustomerSpecificOptions$.pipe((0,g.a)(this.onDestroy)).subscribe(t=>{t&&(t.configurationOptions.some(n=>"PluginCustomerSpecificOptions:EtosKlisis"==n.id)&&(this.optionShowEtos="true"==t.configurationOptions.find(n=>"PluginCustomerSpecificOptions:EtosKlisis"==n.id).value.toLocaleLowerCase()),t.configurationOptions.some(n=>"PluginCustomerSpecificOptions:OnlinePayments"==n.id)&&(this.onlinePaymentsSettingsCompany=t.configurationOptions.find(n=>"PluginCustomerSpecificOptions:OnlinePayments"==n.id).value),t.configurationOptions.some(n=>"PluginCustomerSpecificOptions:CanCreateKlisi"==n.id)&&(this.canCreateKlisi="true"==t.configurationOptions.find(n=>"PluginCustomerSpecificOptions:CanCreateKlisi"==n.id).value.toLocaleLowerCase())),(0,a.Er)(this.cdr)})}ngOnDestroy(){this.onDestroy.next(null)}onEtosChanged(){this.etosCalendar&&(this.etosKlisis=this.etosCalendar.getFullYear())}onAnazitisi(){let t;this.isFormSubmitted=!0,this.response=null,this.isFormValid=!0,this.formErrors=null,this.formErrorsMsg="",(0,a.Ib)(this.model.arithmosKikloforias)||(t=this.model.arithmosKikloforias?this.model.arithmosKikloforias.toUpperCase():null,this.model.arithmosKikloforias=t?S(t):null),this.etosKlisis&&+this.etosKlisis<=+this.thisYear&&(this.model.hmerominiaEkdosis=new Date(this.etosKlisis+"-01-01"));const n=this._getFormErrors();if(n.length>0&&(this.isFormValid=!1),(0,a.Er)(this.cdr),this.isFormSubmitted&&!this.searchForm.invalid&&this.isFormValid)this.isLoadingResponse=!0,this.model.hmerominiaEkdosis=(0,a.M5)(new Date(this.model.hmerominiaEkdosis)),this.model.etos=+this.model.hmerominiaEkdosis.getFullYear(),this.model.arithmosKikloforias&&t&&this.model.arithmosKikloforias!=t&&(this.model.arithmosKikloforias=t),this.model.isAuthorized=!!this.userInfo,this.model.eponimiaPay=this.model.isAuthorized?this.userInfo.given_name+" "+this.userInfo.family_name:null,this.model.afmPay=this.model.isAuthorized?this.userInfo.tin:null,this.model.emailPay=this.model.isAuthorized?this.userInfo.email:null,this.kliseisNgSrv.getStoixeiaKlisisForWebPliromiEtos(this.model).subscribe(i=>{i?(this.response=i,this.allowsPayment=!0,this.response&&this.response.poso&&0!=this.response.klisiId&&(this.model.poso=this.response.poso),this.response&&this.response.canPay&&0==this.response.klisiId&&"1"!=this.onlinePaymentsSettingsCompany&&(this.allowsPayment=!1,this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03ba\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2 \u03ba\u03b1\u03b9/\u03ae \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2 \u03b3\u03b9\u03b1 \u03c4\u03b7\u03bd \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03b7 \u03b4\u03b9\u03b1\u03c3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u0394\u03ae\u03bc\u03bf.")),this.response&&0==this.response.klisiId&&!this.canCreateKlisi&&this.allowsPayment&&(this.allowsPayment=!1,this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03ba\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u0394\u03ae\u03bc\u03bf."))):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03bc\u03b5 \u03c4\u03b7\u03bd \u03ba\u03bb\u03ae\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b1\u03bd\u03b1\u03b6\u03b7\u03c4\u03ae\u03c3\u03b1\u03c4\u03b5."),this.isLoadingResponse=!1,(0,a.Er)(this.cdr)});else{let i="";for(let o=0;o<n.length;o++)i+=n[o];(0,a.SG)(this.searchForm,this.formDictionaryEnum,i)&&(this.formErrorsMsg=(0,a.SG)(this.searchForm,this.formDictionaryEnum,i).toString()),(0,a.Er)(this.cdr)}}onClearFilters(){this.response=null,this.isFormSubmitted=!1,this.model={address:this.userInfo.address?this.userInfo.address:null,poli:this.userInfo.address_city?this.userInfo.address_city:null,tk:this.userInfo.address_zip?this.userInfo.address_zip:null,tilefono:this.userInfo.phone_number?this.userInfo.phone_number:null,email:this.userInfo.email?this.userInfo.email:null},(0,a.Er)(this.cdr)}onCancelKlisi(){this.isFormSubmitted=!1,this.paymentRequestDto=void 0,this.response=null,this.model={address:this.userInfo.address?this.userInfo.address:null,poli:this.userInfo.address_city?this.userInfo.address_city:null,tk:this.userInfo.address_zip?this.userInfo.address_zip:null,tilefono:this.userInfo.phone_number?this.userInfo.phone_number:null,email:this.userInfo.email?this.userInfo.email:null},(0,a.Er)(this.cdr)}onCreatePaymentRequest(t){if(!t||(0,a.w1)(this.userInfo?.email)&&(0,a.w1)(this.model?.email))((0,a.w1)(this.userInfo?.email)||(0,a.w1)(this.model?.email))&&this.toasterSrv.showWarning("","\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03c4\u03bf email \u03c3\u03b1\u03c2 \u03c3\u03c4\u03b7 \u03c3\u03b5\u03bb\u03af\u03b4\u03b1 \u03c4\u03bf\u03c5 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb \u03c3\u03b1\u03c2.");else{let n;this.isLoadingResponse=!0,this.initPaymentMethods=!0,this.paymentRequestDto=void 0,(0,a.Er)(this.cdr),n={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:(0,a.w1)(this.userInfo?.email)?this.model.poli:this.userInfo.address_city,billingAddressCountryCode:(0,a.w1)(this.userInfo?.address_country_code)?"GR":this.userInfo.address_country_code,billingAddressZip:(0,a.w1)(this.userInfo?.address_zip)?this.model.tk:this.userInfo.address_zip,billingAddress:(0,a.w1)(this.userInfo?.address)?this.model.address:this.userInfo.address,userEmail:(0,a.w1)(this.userInfo?.email)?this.model.email:this.userInfo.email,userPhone:(0,a.w1)(this.userInfo?.phone_number)?this.model.tilefono:this.userInfo.phone_number,paymentMethodKey:t.key,entries:[]},"PIRBGRAA"===t.key&&(n.billingAddressCountryCode=null);let i={};if(i.tin=this.userInfo.tin,i.amount=this.model.poso,i.debtorName=this.userInfo.given_name+" "+this.userInfo.family_name,i.description="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2: "+this.model.arithmosKlisis.toString()+", \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2: "+this.model.arithmosKikloforias+", \u0397\u03bc\u03b5\u03c1/\u03bd\u03b9\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2: "+(0,a.M5)(new Date(this.model.hmerominiaEkdosis)),(0,a.Er)(this.cdr),this.response&&0==this.response.klisiId&&this.model.arithmosKlisis.toString().length<=12){this.saveFailed=!1;let o=this.model.oraEkdosis?this.model.oraEkdosis.getHours()+":"+this.model.oraEkdosis.getMinutes():null;this.createKlisi={id:0,arithmosKlisis:this.model.arithmosKlisis,arithmosKikloforias:this.model.arithmosKikloforias,oraEkdosis:o?o.toString():null,isForeign:this.model.isForeign,isMixanaki:this.model.isMixanaki,afairethikanPinakidesMprosta:!1,afairethikanPinakidesPiso:!1,inOximaGovHub:!1,hmerominiaEkdosis:(0,a.c9)(new Date(this.model.hmerominiaEkdosis)),pliroteoPoso:this.model.poso,eponimia:this.userInfo.given_name+" "+this.userInfo.family_name,eponimo:this.userInfo.family_name,patronimo:this.userInfo.fathers_name,mitronimo:this.userInfo.mothers_name,onoma:this.userInfo.given_name,afm:this.userInfo.tin,odos:this.userInfo.address?this.userInfo.address:this.model.address,poli:this.userInfo.address_city?this.userInfo.address_city:this.model.poli,tk:this.userInfo.address_zip?this.userInfo.address_zip:this.model.tk,adt:this.userInfo.adt,tilefono:this.userInfo.phone_number?this.userInfo.phone_number:this.model.tilefono,email:this.userInfo.email?this.userInfo.email:this.model.email},this.kliseisNgSrv.createKlisiWebAsync(this.createKlisi).pipe((0,y.G)(u=>u?(i.remittanceInfo=u.remittanceInfo,n.entries=[],n.entries.push(i),this.paymentRequestDto=n,(0,a.Er)(this.cdr),this.paymentSrv.addPaymentRequest(this.govPaymentGatewayApiUrl,this.paymentRequestDto)):(this.saveFailed=!0,this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b4\u03b7\u03bc\u03b9\u03bf\u03c5\u03c1\u03b3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2."),(0,k.of)(!1)))).subscribe(u=>{u?(this.paymentResponseDto=u,this.onDoPaymentSubject.next(this.paymentResponseDto)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2 \u03c3\u03b1\u03c2."),this.isLoadingResponse=!1,(0,a.Er)(this.cdr)})}else this.response&&0==this.response.klisiId&&this.model.arithmosKlisis.toString().length>12?(this.toasterSrv.showError("","\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03bc\u03b5 \u03b1\u03c1\u03b9\u03b8\u03bc\u03cc \u03c0\u03bf\u03c5 \u03c0\u03b5\u03c1\u03b9\u03ad\u03c7\u03b5\u03b9 \u03c0\u03b5\u03c1\u03b9\u03c3\u03c3\u03cc\u03c4\u03b5\u03c1\u03b1 \u03b1\u03c0\u03cc 12 \u03c8\u03b7\u03c6\u03af\u03b1."),this.isLoadingResponse=!1,(0,a.Er)(this.cdr)):0!=this.response.klisiId&&(i.remittanceInfo=this.response.remittanceInfo,n.entries=[],n.entries.push(i),this.isLoadingResponse=!1,this.paymentRequestDto=n,(0,a.Er)(this.cdr),this.paymentSrv.addPaymentRequest(this.govPaymentGatewayApiUrl,this.paymentRequestDto).subscribe(o=>{o&&(this.paymentResponseDto=o,this.onDoPaymentSubject.next(this.paymentResponseDto))}))}}_checkDisabled(){return!(this.isFormSubmitted&&this.response&&this.response.canPay&&this.allowsPayment&&this.model.poso&&this.model.poso>0&&this.model.email&&this.model.tilefono&&this.model.address&&this.model.tk&&this.model.poli)}_getFormErrors(){const t=[];let n;return!this.model.isForeign&&!(0,a.w1)(this.model.arithmosKikloforias)&&(n=S(this.model.arithmosKikloforias.toUpperCase()),n=function qt(s){return s&&""!=s.trim().toString()&&(s=function zt(s){return(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=s.toUpperCase()).replace(new RegExp("\u0393","g"),"")).replace(new RegExp("\u0394","g"),"")).replace(new RegExp("\u0398","g"),"")).replace(new RegExp("\u039b","g"),"")).replace(new RegExp("\u039e","g"),"")).replace(new RegExp("\u03a0","g"),"")).replace(new RegExp("\u03a3","g"),"")).replace(new RegExp("\u03a6","g"),"")).replace(new RegExp("\u03a8","g"),"")).replace(new RegExp("\u03a9","g"),"")).replace(new RegExp("C","g"),"")).replace(new RegExp("D","g"),"")).replace(new RegExp("F","g"),"")).replace(new RegExp("G","g"),"")).replace(new RegExp("J","g"),"")).replace(new RegExp("L","g"),"")).replace(new RegExp("Q","g"),"")).replace(new RegExp("R","g"),"")).replace(new RegExp("S","g"),"")).replace(new RegExp("U","g"),"")).replace(new RegExp("V","g"),"")).replace(new RegExp("W","g"),"")}(s)),s}(n).toUpperCase(),!(0,a.w1)(n)&&0==Y(n,this.model.isMixanaki)&&t.push("<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000 \u03ae XX{X \u03ae \u03ba\u03b5\u03bd\u03cc}000 \u03b3\u03b9\u03b1 \u03bc\u03b7\u03c7\u03b1\u03bd\u03ac\u03ba\u03b9).</li>")),isNaN(+this.model.arithmosKikloforias)||t.push("<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03b4\u03b5\u03bd \u03c0\u03b5\u03c1\u03b9\u03ad\u03c7\u03b5\u03b9 \u03b3\u03c1\u03ac\u03bc\u03bc\u03b1\u03c4\u03b1).</li>"),(!this.etosKlisis&&!this.model.hmerominiaEkdosis||new Date(this.model.hmerominiaEkdosis)>new Date)&&t.push("<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03bf \u03ad\u03c4\u03bf\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2 \u03ae \u03b7\u03bc. \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2.</li>"),this.etosKlisis&&+this.etosKlisis>+this.thisYear&&t.push("<li>\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf "+this.thisYear+".</li>"),t}_getErrorReason(){return new Date(this.model.hmerominiaEkdosis)>=new Date?"\u0397 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03ba\u03b1\u03b9 \u03b7 \u03ce\u03c1\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c0\u03c1\u03bf\u03b3\u03b5\u03bd\u03ad\u03c3\u03c4\u03b5\u03c1\u03b5\u03c2.":this.model.arithmosKikloforias?this.model.arithmosKlisis?this.model.poso<=0?"\u03a4\u03bf \u03c0\u03bf\u03c3\u03cc \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf.":"":"\u039f \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2 \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2.":"\u039f \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2."}static#e=this.\u0275fac=function(n){return new(n||s)(e.GI1(I),e.GI1(a.U5),e.GI1(v),e.GI1(O.KK),e.GI1(P.Bf),e.GI1(a.y6),e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:s,selectors:[["lib-kliseis-add-new"]],viewQuery:function(n,i){if(1&n&&e.CC$(ft,5),2&n){let o;e.wto(o=e.Gqi())&&(i.searchForm=o.first)}},inputs:{userInfo:"userInfo",isLoadingPaymentRequest:"isLoadingPaymentRequest",relatedCallbackUrl:"relatedCallbackUrl",govPaymentGatewayApiUrl:"govPaymentGatewayApiUrl",selectedLang:"selectedLang",translation:"translation",isDev:"isDev",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany"},outputs:{klisiAdded:"klisiAdded"},features:[e.SYr],decls:8,vars:10,consts:[[3,"condition","customClass"],["class","form",4,"ngIf"],["severity","warn",3,"text",4,"ngIf"],[4,"ngIf"],["severity","error",3,"styleClass","escape","text",4,"ngIf"],[1,"form"],["searchForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6","d-inline-flex","align-items-start"],["name","isForeign","value","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","binary","true",3,"label","ngModel","disabled","ngModelChange"],["name","isMixanaki","value","MOTO","label","MOTO","binary","true",3,"ngModel","disabled","ngModelChange"],[1,"form-group","col-12","col-sm-6"],["name","arithmosKlisis","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2","type","text","pattern","([0-9]*)","autocomplete","off","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"validation-msg","text-danger","pt-1",3,"hidden"],["name","arithmosKikloforias","placeholder","\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2","type","text","autocomplete","off","required","",1,"form-control",2,"text-transform","uppercase",3,"ngModel","disabled","ngModelChange"],["name","hmerominiaEkdosis","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body",3,"baseZIndex","firstDayOfWeek","maxDate","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","showTime","touchUI","ngModel","required","disabled","ngModelChange"],["name","oraEkdosis","placeholder","\u03a9\u03a9:\u039b\u039b","hourFormat","24","appendTo","body",3,"baseZIndex","timeOnly","showIcon","ngModel","disabled","ngModelChange"],["class","row",4,"ngIf"],[1,"form-actions","d-flex","align-items-center","justify-content-center","pb-0"],["class","btn btn-primary me-1","type","button",3,"click",4,"ngIf"],["class","btn btn-warning","type","button",3,"click",4,"ngIf"],[1,"col-12"],["severity","warn","text","\u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03bc\u03b7 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1\u03c2 \u03c3\u03c5\u03bc\u03c0\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7\u03c2 \u03b1\u03ba\u03c1\u03b9\u03b2\u03bf\u03cd\u03c2 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1\u03c2 & \u03ce\u03c1\u03b1\u03c2 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03c4\u03b5 \u03c4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2.",3,"styleClass"],["name","etosKlisis","dateFormat","yy","view","year","appendTo","body",3,"placeholder","showButtonBar","showIcon","ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-primary","me-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["type","button",1,"btn","btn-warning",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["severity","warn",3,"text"],["paymentForm","ngForm"],["severity","info",3,"styleClass","text",4,"ngIf"],[1,"form-group","col-12"],["name","poso","placeholder","0,01","type","text","currencyMask","","lang","el-GR","required","",1,"form-control",3,"readOnly","ngModel","ngModelChange"],[1,"d-flex","w-100","align-items-start","justify-content-between","mt-2"],[3,"isPaymentFormValid","doPaymentSubscription","govPaymentGatewayApiUrl","buttonText","payBtnClick"],["type","button",1,"btn","btn-danger",3,"click"],["severity","info",3,"styleClass","text"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["name","email","placeholder","Email","type","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","tilefono","placeholder","69XXXXXXXX","type","text","pattern","^69([0-9]{8})$","required","",1,"form-control",3,"ngModel","ngModelChange"],["tilefono","ngModel"],[1,"col-12","col-md-8"],["name","address","placeholder","\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","col-md-4"],["name","tk","placeholder","\u03a4.\u039a.","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","poli","placeholder","\u03a0\u03cc\u03bb\u03b7","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["severity","error",3,"styleClass","escape","text"]],template:function(n,i){1&n&&(e.wR5(0,"eg-loading",0),e.yuY(1,wt,47,67,"form",1)(2,Et,2,3,"p-message",2)(3,Bt,24,22,"ng-container",3)(4,St,1,3,"p-message",4),e.wR5(5,"eg-loading",0),e.yuY(6,Kt,1,3,"p-message",4)(7,Dt,2,3,"p-message",2)),2&n&&(e.E7m("condition",!i.model||i.isLoading)("customClass","egr-load-small"),e.yG2(),e.E7m("ngIf",i.model&&!i.isLoading),e.yG2(),e.E7m("ngIf",!i.allowsPayment),e.yG2(),e.E7m("ngIf",i.response&&i.response.canPay&&i.allowsPayment),e.yG2(),e.E7m("ngIf",i.formErrorsMsg&&""!==i.formErrorsMsg),e.yG2(),e.E7m("condition",i.isLoadingResponse||i.isLoadingPaymentRequest)("customClass","egr-load-small"),e.yG2(),e.E7m("ngIf",i.response&&!i.isLoadingResponse&&i.response.messageResponse&&""!==i.response.messageResponse),e.yG2(),e.E7m("ngIf",i.saveFailed))},dependencies:[m.QF,m.u_,d.sz,d.ot,d.ue,d.u,d.eJ,d.E1,d._G,d.SC,a.CG,M.Yf,G.yw,R.S,x.Mb,a.uU,_.sD],encapsulation:2,changeDetection:0})}return s})(),X=(()=>{class s{constructor(t,n,i,o,u,w,N,ai){this.kliseisNgSrv=t,this.pluginCacheSrv=n,this.translateSrv=i,this._http=o,this.router=u,this.route=w,this.cdr=N,this.config=ai,this.selectedLang="el",this.isDev=!1,this.isAfmNotFound=!1,this.afmNotFound=new e._w7,this.onDestroy=new f.E,this.paymentResponseDto=null,this.countriesList=[],this.index=0,this.isAddingKlisi=!1,this.isDataChanged=!1,this.isAuthorized=!1,this.isLoadingPaymentRequest=!1,this.onTbChanged=!1,typeof AuthConfOptions<"u"&&typeof AppConfOptions<"u"&&"stsServer"in AuthConfOptions&&("epayments_api"in AppConfOptions||"finance_api"in AppConfOptions)&&"application_url"in AppConfOptions?(this.authUrl=(0,a.sF)(AuthConfOptions.stsServer),this.financeApiUrl=(0,a.w1)(AppConfOptions.finance_api)?(0,a.w1)(AppConfOptions.epayments_api)?null:(0,a.sF)(AppConfOptions.epayments_api):(0,a.sF)(AppConfOptions.finance_api),this.govPaymentGatewayApiUrl=(0,a.w1)(AppConfOptions.gov_payment_gateway_api)?this.financeApiUrl:(0,a.sF)(AppConfOptions.gov_payment_gateway_api),this.applicationUrl=(0,a.sF)(AppConfOptions.application_url),this.returnUrl=`${this.applicationUrl}/kliseis/receipts`):typeof AppConfOptions<"u"&&(this.authUrl=(0,a.sF)(AppConfOptions.stsServer),this.financeApiUrl=(0,a.w1)(AppConfOptions.financeApi)?null:(0,a.sF)(AppConfOptions.financeApi),this.govPaymentGatewayApiUrl=(0,a.w1)(AppConfOptions.govPaymentGatewayApi)?this.financeApiUrl:(0,a.sF)(AppConfOptions.govPaymentGatewayApi),this.applicationUrl=(0,a.sF)(AppConfOptions.applicationUrl),this.returnUrl=(0,a.sF)(AppConfOptions.applicationUrl)+"/plugin/receipts")}ngOnInit(){this.selectedLang=this.selectedLang?this.selectedLang:"el",this.translateSrv.getTranslation(this.selectedLang?this.selectedLang:"el").subscribe(t=>{this.translation??=t,this.pluginCacheSrv.translationSubject.next(t)}),this.pluginCacheSrv.initUserInfo(),this.pluginCacheSrv.userInfo$.pipe((0,g.a)(this.onDestroy)).subscribe(t=>{this.userInfo=t,this.userInfo?(this.isAuthorized=!0,this.countriesList&&this.countriesList.length&&this.userInfo.address_country_code&&""!=this.userInfo.address_country_code&&(this.userInfo.address_country_num=this.countriesList.find(n=>n.Alpha2Code==this.userInfo.address_country_code).NumericCode.toString()),this.userInfo&&(!this.userInfo.tin||(0,a.w1)(this.userInfo.tin))&&this.afmNotFound.emit(!0),this.userInfo.email=(0,a.w1)(this.userInfo.email)?this.userInfo.email:this.userInfo.email.trim(),this.userInfo.username=(0,a.w1)(this.userInfo.username)?this.userInfo.username:this.userInfo.username.trim(),this.userInfo.tin=(0,a.w1)(this.userInfo.tin)?this.userInfo.tin:this.userInfo.tin.trim(),this.userInfo.family_name=(0,a.w1)(this.userInfo.family_name)?this.userInfo.family_name:this.userInfo.family_name.trim(),this.userInfo.given_name=(0,a.w1)(this.userInfo.given_name)?this.userInfo.given_name:this.userInfo.given_name.trim(),this.userInfo.fathers_name=(0,a.w1)(this.userInfo.fathers_name)?this.userInfo.fathers_name:this.userInfo.fathers_name.trim(),this.userInfo.mothers_name=(0,a.w1)(this.userInfo.mothers_name)?this.userInfo.mothers_name:this.userInfo.mothers_name.trim(),this.userInfo.name=(0,a.w1)(this.userInfo.name)?this.userInfo.name:this.userInfo.name.trim(),this.userInfo.address_city=(0,a.w1)(this.userInfo.address_city)?this.userInfo.address_city:this.userInfo.address_city.trim(),this.userInfo.address_country_code=(0,a.w1)(this.userInfo.address_country_code)?this.userInfo.address_country_code:this.userInfo.address_country_code.trim(),this.userInfo.address_country_num=(0,a.w1)(this.userInfo.address_country_num)?this.userInfo.address_country_num:this.userInfo.address_country_num.trim(),this.userInfo.address_zip=(0,a.w1)(this.userInfo.address_zip)?this.userInfo.address_zip:this.userInfo.address_zip.trim(),this.userInfo.address=(0,a.w1)(this.userInfo.address)?this.userInfo.address:this.userInfo.address.trim(),this.userInfo.adt=(0,a.w1)(this.userInfo.adt)?this.userInfo.adt:this.userInfo.adt.trim(),this.userInfo.phone_number=(0,a.w1)(this.userInfo.phone_number)?this.userInfo.phone_number:this.userInfo.phone_number.trim(),this.router.url.includes("receipts")?this.onTabChanged({index:1}):this.onTabChanged({index:0})):this.isAuthorized=!1,(0,a.Er)(this.cdr)}),this._http.get(`${this.authUrl}/api/general/GetCountries`).pipe((0,y.G)(t=>(t&&(this.countriesList=t,this.userInfo&&this.isAuthorized&&this.userInfo.address_country_code&&""!=this.userInfo.address_country_code&&(this.userInfo.address_country_num=this.countriesList.find(n=>n.Alpha2Code==this.userInfo.address_country_code).NumericCode.toString())),this.kliseisNgSrv.getPluginCustomerOptions()))).subscribe(t=>{if(t){let n=t;n.configurationOptions&&n.configurationOptions.length&&n.configurationOptions.some(i=>"PluginCustomerSpecificOptions:OnlinePayments"==i.id)&&(this.onlinePaymentsSettingsCompany=n.configurationOptions.find(i=>"PluginCustomerSpecificOptions:OnlinePayments"==i.id).value)}(0,a.Er)(this.cdr)}),this.router.events.pipe((0,g.a)(this.onDestroy)).subscribe(t=>{t&&t instanceof p.GI&&this.isAuthorized&&(this.index=t.url.includes("receipts")?1:0)})}ngAfterViewInit(){this.index=this.router.url.includes("receipts")?1:0,(0,a.Er)(this.cdr)}ngOnChanges(t){t&&t.selectedLang&&(this.selectedLang=t.selectedLang.currentValue),t&&t.translation&&(this.translation=t.translation.currentValue,this.translateSrv.getTranslation(this.selectedLang?this.selectedLang:"el").subscribe(n=>{this.translation??=n,(0,a.Er)(this.cdr),this.pluginCacheSrv.translationSubject.next(n)})),(0,a.Er)(this.cdr)}ngOnDestroy(){this.onDestroy.next(null)}onTabChanged(t){0==t.index?this.router.navigate(["./debits"],{relativeTo:this.route}):(this.onTbChanged=!0,(0,a.Er)(this.cdr),this.router.navigate(["./receipts"],{relativeTo:this.route,queryParamsHandling:"preserve"}))}onAddKlisiClicked(){this.isAddingKlisi=!0,(0,a.Er)(this.cdr)}_klisiAdded(t){t&&(this.isDataChanged=!0,this.isAddingKlisi=!1,(0,a.Er)(this.cdr))}static#e=this.\u0275fac=function(n){return new(n||s)(e.GI1(I),e.GI1(v),e.GI1(_.qS),e.GI1(O.KK),e.GI1(p.E5),e.GI1(p.gV),e.GI1(e.kD9),e.GI1(A.MV))};static#t=this.\u0275cmp=e.In1({type:s,selectors:[["lib-kliseis-ng"]],inputs:{selectedLang:"selectedLang",isDev:"isDev",isAfmNotFound:"isAfmNotFound"},outputs:{afmNotFound:"afmNotFound"},features:[e.SYr],decls:5,vars:11,consts:[[4,"ngIf"],["appendTo","body",3,"header","visible","draggable","resizable","modal","closeOnEscape","visibleChange"],[3,"userInfo","isLoadingPaymentRequest","relatedCallbackUrl","govPaymentGatewayApiUrl","selectedLang","translation","isDev","onlinePaymentsSettingsCompany","klisiAdded",4,"ngIf"],[3,"countriesList","govPaymentGatewayApiUrl","authUrl","applicationUrl","selectedLang","translation"],["class","d-flex justify-content-end mb-1",4,"ngIf"],[3,"activeIndex","onChange"],[3,"header"],[3,"isDataChanged","userInfo","onlinePaymentsSettingsCompany","selectedLang","translation","govPaymentGatewayApiUrl","returnUrl"],["pTemplate","content"],[1,"d-flex","justify-content-end","mb-1"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-plus","fa-fw"],[3,"tabChanged","selectedLang","translation","govPaymentGatewayApiUrl","changeTabIndex"],[3,"userInfo","isLoadingPaymentRequest","relatedCallbackUrl","govPaymentGatewayApiUrl","selectedLang","translation","isDev","onlinePaymentsSettingsCompany","klisiAdded"]],template:function(n,i){1&n&&(e.yuY(0,Pt,2,6,"ng-container",0)(1,Tt,9,15,"ng-container",0),e.I0R(2,"p-dialog",1),e.iHE("visibleChange",function(u){return e.kNx(i.isAddingKlisi,u)||(i.isAddingKlisi=u),u}),e.wVc(3,"translate"),e.yuY(4,Ft,1,8,"lib-kliseis-add-new",2),e.C$Y()),2&n&&(e.E7m("ngIf",!i.isAuthorized),e.yG2(),e.E7m("ngIf",i.isAuthorized&&i.userInfo&&!i.isAfmNotFound),e.yG2(),e.E7m("header",e.kDX(3,9,null==i.translation?null:i.translation.kliseis.searchBtn)),e.OKB("visible",i.isAddingKlisi),e.E7m("draggable",!1)("resizable",!1)("modal",!0)("closeOnEscape",!1),e.yG2(2),e.E7m("ngIf",i.isAddingKlisi&&i.userInfo))},dependencies:[m.u_,K.DX,K.Gk,A.U3,D.C,V,L,Vt,Lt,_.sD],encapsulation:2,changeDetection:0})}return s})();const Xt=[{path:"",component:X,children:[{path:"debits",component:V},{path:"receipts",component:L}]}];let jt=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=e.a4G({type:s});static#i=this.\u0275inj=e.s3X({imports:[p.qQ.forChild(Xt),p.qQ]})}return s})();const Jt={align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."};let j=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=e.a4G({type:s});static#i=this.\u0275inj=e.s3X({providers:[I,{provide:x.Ku,useValue:Jt}],imports:[m.MD,d.y,jt,a.qU,K.Y1,Q.a,M.a6,C.q0,G.Q1,D.k,R.e,U.Y,J.W,H.ei,x.k1,E.gb,a.CQ,a.oR,a.MJ,_.O0.forRoot({defaultLanguage:"el",loader:{provide:_._E,useClass:a.xU,deps:[O.KK]}}),E.gb]})}return s})();var Ht=r(4864),Qt=r(5265),Wt=r(6040),Zt=r(9161),ei=r(2656);function ti(s,l){if(1&s&&(e.I0R(0,"p-panel",3),e.wR5(1,"div",4),e.wVc(2,"decodeHtmlString"),e.C$Y()),2&s){const t=e.GaO();e.E7m("header",t.translation.egwebapps.information)("styleClass","tab-msg mb-3")("toggleable",!0),e.yG2(),e.E7m("innerHTML",e.kDX(2,4,t.tabMsg),e.E3n)}}const ii=[{path:"",component:(()=>{class s{constructor(t,n,i,o){this.oidcSecuritySrv=t,this.appCacheSrv=n,this.cdr=i,this.router=o,this.afmNotFound=!1,this.onDestroy=new f.E,this.selectedLang="el"}ngOnInit(){(0,Wt.E)([this.appCacheSrv.translation$,this.appCacheSrv.selectedLang$]).pipe((0,g.a)(this.onDestroy)).subscribe(t=>{t&&(this.translation=t[0],this.selectedLang=t[1],(0,a.Er)(this.cdr))}),this.oidcSecuritySrv.isAuthenticated$.subscribe(t=>{this.isAuthorized=null!=t&&t.isAuthenticated,this.isAuthorized?(1==AppConfOptions.multilingual&&"el"!=this.selectedLang&&AppConfOptions.kliseis_debits_tab_info_en&&""!=AppConfOptions.kliseis_debits_tab_info_en&&this.router.url.includes("debits")?this.tabMsg=AppConfOptions.kliseis_debits_tab_info_en:AppConfOptions.kliseis_debits_tab_info&&""!=AppConfOptions.kliseis_debits_tab_info&&"el"==this.selectedLang&&this.router.url.includes("debits")&&(this.tabMsg=AppConfOptions.kliseis_debits_tab_info),1==AppConfOptions.multilingual&&"el"!=this.selectedLang&&AppConfOptions.kliseis_receipts_tab_info_en&&""!=AppConfOptions.kliseis_receipts_tab_info_en&&this.router.url.includes("receipts")?this.tabMsg=AppConfOptions.kliseis_receipts_tab_info_en:AppConfOptions.kliseis_receipts_tab_info&&""!=AppConfOptions.kliseis_receipts_tab_info&&"el"==this.selectedLang&&this.router.url.includes("receipts")&&(this.tabMsg=AppConfOptions.kliseis_receipts_tab_info)):1==AppConfOptions.multilingual&&"el"!=this.selectedLang&&AppConfOptions.kliseis_unauthorized_info_en&&""!=AppConfOptions.kliseis_unauthorized_info_en?this.tabMsg=AppConfOptions.kliseis_unauthorized_info_en:AppConfOptions.kliseis_unauthorized_info&&""!=AppConfOptions.kliseis_unauthorized_info&&"el"==this.selectedLang&&(this.tabMsg=AppConfOptions.kliseis_unauthorized_info),(0,a.Er)(this.cdr)}),this.router.events.pipe((0,g.a)(this.onDestroy)).subscribe(t=>{t&&t instanceof p.GI&&(this.isAuthorized&&(t.url.includes("receipts")?AppConfOptions&&AppConfOptions.kliseis_receipts_tab_info&&""!=AppConfOptions.kliseis_receipts_tab_info&&(this.tabMsg=AppConfOptions.kliseis_receipts_tab_info):AppConfOptions&&AppConfOptions.kliseis_debits_tab_info&&""!=AppConfOptions.kliseis_debits_tab_info&&(this.tabMsg=AppConfOptions.kliseis_debits_tab_info)),(0,a.Er)(this.cdr))}),this.appCacheSrv.user$.pipe((0,g.a)(this.onDestroy)).subscribe(t=>{this.afmNotFound=!1,(0,a.Er)(this.cdr),t&&(0,a.w1)(t.tin)&&AppConfOptions.kliseis_afm_required&&(this.afmNotFound=!0),(0,a.Er)(this.cdr)})}ngOnDestroy(){this.onDestroy.next(null)}static#e=this.\u0275fac=function(n){return new(n||s)(e.GI1(P.Bf),e.GI1(Zt.i),e.GI1(e.kD9),e.GI1(p.E5))};static#t=this.\u0275cmp=e.In1({type:s,selectors:[["app-kliseis"]],inputs:{afmNotFound:"afmNotFound"},decls:4,vars:5,consts:[[1,"module-title"],[3,"header","styleClass","toggleable",4,"ngIf"],[3,"selectedLang","isAfmNotFound","isDev","afmNotFound"],[3,"header","styleClass","toggleable"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.I0R(0,"h3",0),e.OEk(1),e.C$Y(),e.yuY(2,ti,3,6,"p-panel",1),e.I0R(3,"lib-kliseis-ng",2),e.qCj("afmNotFound",function(u){return i.afmNotFound=u}),e.C$Y()),2&n&&(e.yG2(),e.cNF(null==i.translation?null:i.translation.menu.kliseisMenuItem),e.yG2(),e.E7m("ngIf",i.tabMsg&&i.isAuthorized&&!i.afmNotFound),e.yG2(),e.E7m("selectedLang",i.selectedLang)("isAfmNotFound",i.afmNotFound)("isDev",!1))},dependencies:[m.u_,U.s,X,ei.m],encapsulation:2,changeDetection:0})}return s})(),children:[{path:"",loadChildren:()=>Promise.resolve().then(r.bind(r,8228)).then(s=>s.PublicLibLoader)}]}];let si=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=e.a4G({type:s});static#i=this.\u0275inj=e.s3X({imports:[p.qQ.forChild(ii),p.qQ]})}return s})(),ni=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=e.a4G({type:s});static#i=this.\u0275inj=e.s3X({imports:[Qt.k,si,Ht.IB,j]})}return s})(),oi=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=e.a4G({type:s});static#i=this.\u0275inj=e.s3X({imports:[j]})}return s})()}}]);