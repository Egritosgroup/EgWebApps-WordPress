!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkegritos_group_eg_web_apps=self.webpackChunkegritos_group_eg_web_apps||[]).push([[906],{35906:function(t,i,s){s.r(i),s.d(i,{TautotitaOfeilisModule:function(){return ie}});var r,o=s(60145),a=s(29790),u=s(23292),l=s(35660),d=s(3472),p=s(68214),c=s(76889),g=s(25755),h=s(37540),m=s(37716),f=s(5203),A=s(12622),y=s(38583),b=s(60394),Z=s(3379),_=s(71598),v=s(41964),x=((x||(x={})).paymentCode="\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2",x),C=((C||(C={})).paymentCode="Payment Code",C),w=s(84608),q=s(5207),k=s(75894),T=s(91841),S=((r=function(){function t(n,i){e(this,t),this.http=n,this.toasterSrv=i,this.apiUrl=AppConfOptions.eidopoiitiria_api+"api/"}return n(t,[{key:"getYpoloipoKodikouPliromis",value:function(e){var t=this;return this.http.get(this.apiUrl+"PraxeisEidopoiisis/GetYpoloipoKodikouPliromis/".concat(e)).pipe((0,q.U)(function(e){return e}),(0,k.K)(function(e){return(0,p.Zj)(e,t.toasterSrv)}))}},{key:"addPaymentRequestKodikouPliromis",value:function(e){var t=this;return this.http.post(this.apiUrl+"PraxeisEidopoiisis/AddPaymentRequestKodikouPliromis",e).pipe((0,q.U)(function(e){return e}),(0,k.K)(function(e){return(0,p.Zj)(e,t.toasterSrv)}))}}]),t}()).\u0275fac=function(e){return new(e||r)(m.LFG(T.eN),m.LFG(p.MJ))},r.\u0275prov=m.Yz7({token:r,factory:r.\u0275fac}),r),M=s(3679),P=s(86640),J=["tautotitaOfeilisForm"];function L(e,t){if(1&e&&m._UZ(0,"p-message",17),2&e){var n=m.oxw(2);m.Q6J("severity",n.bankStatusMessageClass)("text",n.bankStatusMessage)("styleClass","mb-2")}}function I(e,t){if(1&e&&m._UZ(0,"p-message",18),2&e){var n=m.oxw(2);m.Q6J("text",n.errorMessage)("styleClass","mt-2")}}function O(e,t){if(1&e&&m._UZ(0,"p-message",19),2&e){var n=m.oxw(2);m.Q6J("styleClass","mt-2 form-msgs")("escape",!1)("text",n.formErrorsMsg)}}function Q(e,t){if(1&e){var n=m.EpF();m.ynx(0),m.YNc(1,L,1,3,"p-message",2),m.YNc(2,I,1,2,"p-message",3),m.TgZ(3,"form",4,5),m.TgZ(5,"div",6),m.TgZ(6,"div",7),m.TgZ(7,"label",8),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.TgZ(10,"input",9),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw().request.kodikos=e}),m.ALo(11,"translate"),m.qZA(),m.TgZ(12,"div",10),m._uU(13),m.ALo(14,"translate"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(15,"div",11),m.TgZ(16,"button",12),m.NdJ("click",function(){return m.CHM(n),m.oxw().onSubmit()}),m._UZ(17,"span",13),m._uU(18),m.ALo(19,"translate"),m.qZA(),m.TgZ(20,"button",14),m.NdJ("click",function(){return m.CHM(n),m.oxw().onClear()}),m._UZ(21,"span",15),m._uU(22),m.ALo(23,"translate"),m.qZA(),m.qZA(),m.YNc(24,O,1,3,"p-message",16),m.qZA(),m.BQk()}if(2&e){var i=m.oxw();m.xp6(1),m.Q6J("ngIf",i.bankStatusMessage&&""!==i.bankStatusMessage),m.xp6(1),m.Q6J("ngIf",i.errorMessage&&""!==i.errorMessage),m.xp6(6),m.hij("",m.lcZ(9,12,null==i.translation?null:i.translation.eidopoiitiria.code),"*"),m.xp6(2),m.Q6J("placeholder",m.lcZ(11,14,null==i.translation?null:i.translation.eidopoiitiria.code))("ngModel",i.request.kodikos)("disabled",i.response||i.isLoading),m.xp6(2),m.Q6J("hidden",!i.isFormSubmitted||i.isFormSubmitted&&i.request.kodikos&&""!==i.request.kodikos),m.xp6(1),m.hij(" *",m.lcZ(14,16,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," "),m.xp6(3),m.Q6J("disabled",i.response),m.xp6(2),m.hij(" ",m.lcZ(19,18,null==i.translation?null:i.translation.egwebapps.egrSearchBtn)," "),m.xp6(4),m.hij(" ",m.lcZ(23,20,null==i.translation?null:i.translation.egwebapps.egrClearBtn)," "),m.xp6(2),m.Q6J("ngIf",i.formErrorsMsg&&""!==i.formErrorsMsg)}}function z(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",6),m.TgZ(1,"div",27),m.TgZ(2,"label"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"input",28),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).unAuthorizedAddress=e}),m.ALo(6,"translate"),m.qZA(),m.TgZ(7,"div",10),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.qZA(),m.TgZ(10,"div",29),m.TgZ(11,"label"),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.TgZ(14,"input",30),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).unAuthorizedTk=e}),m.ALo(15,"translate"),m.qZA(),m.TgZ(16,"div",10),m._uU(17),m.ALo(18,"translate"),m.qZA(),m.qZA(),m.TgZ(19,"div",31),m.TgZ(20,"label"),m._uU(21),m.ALo(22,"translate"),m.qZA(),m.TgZ(23,"input",32),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).unAuthorizedPoli=e}),m.ALo(24,"translate"),m.qZA(),m.TgZ(25,"div",10),m._uU(26),m.ALo(27,"translate"),m.qZA(),m.qZA(),m.TgZ(28,"div",33),m.TgZ(29,"label"),m._uU(30),m.ALo(31,"translate"),m.qZA(),m.TgZ(32,"ng-select",34),m.NdJ("ngModelChange",function(e){return m.CHM(n),m.oxw(2).unAuthorizedCountryId=e}),m.qZA(),m.TgZ(33,"div",10),m._uU(34),m.ALo(35,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(3),m.hij("",m.lcZ(4,22,null==i.translation?null:i.translation.egwebapps.egrAddress),"*"),m.xp6(2),m.Q6J("placeholder",m.lcZ(6,24,null==i.translation?null:i.translation.egwebapps.egrAddress))("ngModel",i.unAuthorizedAddress),m.xp6(2),m.Q6J("hidden",!i.isFormPaySubmitted||i.isFormPaySubmitted&&i.unAuthorizedAddress&&""!==i.unAuthorizedAddress),m.xp6(1),m.hij(" *",m.lcZ(9,26,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," "),m.xp6(4),m.hij("",m.lcZ(13,28,null==i.translation?null:i.translation.egwebapps.egrTk),"*"),m.xp6(2),m.Q6J("placeholder",m.lcZ(15,30,null==i.translation?null:i.translation.egwebapps.egrTk))("ngModel",i.unAuthorizedTk),m.xp6(2),m.Q6J("hidden",!i.isFormPaySubmitted||i.isFormPaySubmitted&&i.unAuthorizedTk&&""!==i.unAuthorizedTk),m.xp6(1),m.hij(" *",m.lcZ(18,32,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," "),m.xp6(4),m.hij("",m.lcZ(22,34,null==i.translation?null:i.translation.egwebapps.egrPoli),"*"),m.xp6(2),m.Q6J("placeholder",m.lcZ(24,36,null==i.translation?null:i.translation.egwebapps.egrPoli))("ngModel",i.unAuthorizedPoli),m.xp6(2),m.Q6J("hidden",!i.isFormPaySubmitted||i.isFormPaySubmitted&&i.unAuthorizedPoli&&""!==i.unAuthorizedPoli),m.xp6(1),m.hij(" *",m.lcZ(27,38,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," "),m.xp6(4),m.hij("",m.lcZ(31,40,null==i.translation?null:i.translation.egwebapps.egrEgsCountry),"*"),m.xp6(2),m.Q6J("items",i.countriesList)("virtualScroll",!0)("searchable",!0)("ngModel",i.unAuthorizedCountryId),m.xp6(1),m.Q6J("hidden",!i.isFormPaySubmitted||i.isFormPaySubmitted&&i.unAuthorizedCountryId&&""!==i.unAuthorizedCountryId),m.xp6(1),m.hij(" *",m.lcZ(35,42,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," ")}}function E(e,t){1&e&&(m.TgZ(0,"p",35),m.TgZ(1,"span",36),m._uU(2,"\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2:"),m.qZA(),m.qZA())}function U(e,t){1&e&&(m.TgZ(0,"p",35),m.TgZ(1,"span",36),m._uU(2,"\u03a0\u03bf\u03c3\u03cc \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),m.qZA(),m.qZA())}function F(e,t){1&e&&(m.TgZ(0,"p",35),m.TgZ(1,"span",36),m._uU(2,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03c1\u03bf\u03c3\u03b1\u03c5\u03be\u03ae\u03c3\u03b5\u03c9\u03bd:"),m.qZA(),m.qZA())}function R(e,t){1&e&&(m.TgZ(0,"p",35),m.TgZ(1,"strong",36),m._uU(2,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),m.qZA(),m.qZA())}function Y(e,t){if(1&e&&(m.TgZ(0,"p",35),m.TgZ(1,"span",37),m._uU(2),m.qZA(),m.qZA()),2&e){var n=m.oxw(2);m.xp6(2),m.Oqu(n.response.remittanceInfo)}}var N=function(e){return[e,"\u20ac","symbol","1.2","el"]};function D(e,t){if(1&e&&(m.TgZ(0,"p",35),m.TgZ(1,"span",37),m._uU(2),m.ALo(3,"currency"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2);m.xp6(2),m.Oqu(m.G7q(3,1,m.VKq(7,N,n.response.currentKatharoPoso)))}}function j(e,t){if(1&e&&(m.TgZ(0,"p",35),m.TgZ(1,"span",37),m._uU(2),m.ALo(3,"currency"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2);m.xp6(2),m.Oqu(m.G7q(3,1,m.VKq(7,N,n.response.currentProsafksisi)))}}function B(e,t){if(1&e&&(m.TgZ(0,"p",35),m.TgZ(1,"strong",37),m._uU(2),m.ALo(3,"currency"),m.qZA(),m.qZA()),2&e){var n=m.oxw(2);m.xp6(2),m.Oqu(m.G7q(3,1,m.VKq(7,N,n.response.ypoloipoProsPliromi)))}}function K(e,t){if(1&e){var n=m.EpF();m.ynx(0),m._UZ(1,"hr"),m.TgZ(2,"form",4,20),m.YNc(4,z,36,44,"div",21),m.qZA(),m.TgZ(5,"h5",22),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.TgZ(8,"div",23),m.TgZ(9,"div",24),m.TgZ(10,"div"),m.YNc(11,E,3,0,"p",25),m.YNc(12,U,3,0,"p",25),m.YNc(13,F,3,0,"p",25),m.YNc(14,R,3,0,"p",25),m.qZA(),m.TgZ(15,"div"),m.YNc(16,Y,3,1,"p",25),m.YNc(17,D,4,9,"p",25),m.YNc(18,j,4,9,"p",25),m.YNc(19,B,4,9,"p",25),m.qZA(),m.qZA(),m.TgZ(20,"app-checkout",26),m.NdJ("onPayBtnClick",function(e){return m.CHM(n),m.oxw().onCreatePaymentRequest(e)}),m.qZA(),m.qZA(),m.BQk()}if(2&e){var i=m.MAs(3),s=m.oxw();m.xp6(4),m.Q6J("ngIf",!s.isAuthorized),m.xp6(2),m.Oqu(m.lcZ(7,15,null==s.translation?null:s.translation.egwebapps.egrResults)),m.xp6(5),m.Q6J("ngIf",s.response.remittanceInfo),m.xp6(1),m.Q6J("ngIf",null!==s.response.currentKatharoPoso),m.xp6(1),m.Q6J("ngIf",null!==s.response.remittanceInfo),m.xp6(1),m.Q6J("ngIf",null!==s.response.remittanceInfo),m.xp6(2),m.Q6J("ngIf",s.response.remittanceInfo),m.xp6(1),m.Q6J("ngIf",null!==s.response.currentKatharoPoso),m.xp6(1),m.Q6J("ngIf",null!==s.response.currentProsafksisi),m.xp6(1),m.Q6J("ngIf",null!==s.response.ypoloipoProsPliromi),m.xp6(1),m.Q6J("isPaymentFormValid",i.valid)("doPaymentSubscription",s.onDoPaymentSubject.asObservable())("finApiUrl",s.financeApiUrl)("buttonText",s.translation.egwebapps.egrPaymentBtnText)("cancelButtonText",s.translation.egwebapps.egrCancelBtn)}}var H=function(){var t=function(){function t(n,i,s,r,o,a,u,l,d){e(this,t),this.oidcSecuritySrv=n,this.epaymentsSrv=i,this.egPaymentSrv=s,this.tautotitaOfeilisSrv=r,this.cookieSrv=o,this.toasterSrv=a,this.appCacheSv=u,this.cdr=l,this.route=d,this.request={},this.countriesList=[],this.onDoPaymentSubject=new c.x,this.onDestroy=new c.x,this.isLoading=!1,this.isLoadingInit=!1,this.errorMessageProfile=null,this.oikonomikiBankMessagesEn=w.Px,this.isFormPaySubmitted=!1,this.isFormSubmitted=!1}return n(t,[{key:"ngOnInit",value:function(){var e=this;(0,_.a)([this.appCacheSv.translation$,this.appCacheSv.selectedLang$]).pipe((0,g.R)(this.onDestroy)).subscribe(function(t){t&&(e.translation=t[0],e.selectedLang=t[1],e.formDictionaryEnum="el"==e.selectedLang?x:C,(0,p.RA)(e.cdr))}),this.isLoadingInit=!0,(0,p.RA)(this.cdr),"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.epayments_api&&(this.financeApiUrl=(0,p.Qj)(AppConfOptions.epayments_api)),this.appCacheSv.initCountries(AuthConfOptions.stsServer+"/api/general/GetCountries"),(0,_.a)([this.oidcSecuritySrv.userData$,this.appCacheSv.countries$]).subscribe(function(t){t&&(t[0]&&(e.user=t[0].userData,e.user&&(e.user.email=(0,p.Ew)(e.user.email)?e.user.email:e.user.email.trim(),e.user.username=(0,p.Ew)(e.user.username)?e.user.username:e.user.username.trim(),e.user.tin=(0,p.Ew)(e.user.tin)?e.user.tin:e.user.tin.trim(),e.user.family_name=(0,p.Ew)(e.user.family_name)?e.user.family_name:e.user.family_name.trim(),e.user.given_name=(0,p.Ew)(e.user.given_name)?e.user.given_name:e.user.given_name.trim(),e.user.fathers_name=(0,p.Ew)(e.user.fathers_name)?e.user.fathers_name:e.user.fathers_name.trim(),e.user.mothers_name=(0,p.Ew)(e.user.mothers_name)?e.user.mothers_name:e.user.mothers_name.trim(),e.user.name=(0,p.Ew)(e.user.name)?e.user.name:e.user.name.trim(),e.user.address_city=(0,p.Ew)(e.user.address_city)?e.user.address_city:e.user.address_city.trim(),e.user.address_country_code=(0,p.Ew)(e.user.address_country_code)?e.user.address_country_code:e.user.address_country_code.trim(),e.user.address_country_num=(0,p.Ew)(e.user.address_country_num)?e.user.address_country_num:e.user.address_country_num.trim(),e.user.address_zip=(0,p.Ew)(e.user.address_zip)?e.user.address_zip:e.user.address_zip.trim(),e.user.address=(0,p.Ew)(e.user.address)?e.user.address:e.user.address.trim(),e.user.adt=(0,p.Ew)(e.user.adt)?e.user.adt:e.user.adt.trim(),e.user.phone_number=(0,p.Ew)(e.user.phone_number)?e.user.phone_number:e.user.phone_number.trim())),t[1]&&(e.countriesList=t[1],e.user&&e.user.address_country_code&&""!=e.user.address_country_code&&(e.user.address_country_num=e.countriesList.find(function(t){return t.Alpha2Code==e.user.address_country_code}).NumericCode.toString()))),e.isLoadingInit=!1,(0,p.RA)(e.cdr)}),this.epaymentsSrv.getBankMessages().pipe((0,h.w)(function(t){return t?(e.oikonomikiBankMessages=t,e.route.queryParams.pipe((0,g.R)(e.onDestroy))):(0,v.of)(!1)})).subscribe(function(t){var n;if(t){var i=t;if(i.messagecode||i.paymentStatus){var s=i.messagecode?i.messagecode:i.paymentStatus;e.bankStatusMessage="el"==e.selectedLang?e.oikonomikiBankMessages[s]:e.oikonomikiBankMessagesEn[s],e.bankStatusMessageClass="TRANSACTION_COMPLETED"==s||"APPROVED"==s?"success":"error"}}else e.toasterSrv.showError("",null===(n=e.translation)||void 0===n?void 0:n.egwebapps.egrProblemFound);(0,p.RA)(e.cdr)})}},{key:"ngOnDestroy",value:function(){this.onDestroy.next(null)}},{key:"onSubmit",value:function(){var e=this;this.isFormSubmitted=!0,this.formErrorsMsg=null,(0,p.RA)(this.cdr),this.isFormSubmitted&&this.tautotitaOfeilisForm.valid?(this.response=null,this.isLoading=!0,(0,p.RA)(this.cdr),this.tautotitaOfeilisSrv.getYpoloipoKodikouPliromis(this.request.kodikos).subscribe(function(t){t&&t.statusCode==p.WE.Ok?e.response=t:(e.toasterSrv.showError("",t.message),e.errorMessage=t.message),e.isLoading=!1,(0,p.RA)(e.cdr)})):(this.formErrorsMsg=(0,p.CD)(this.tautotitaOfeilisForm,this.formDictionaryEnum,""),(0,p.RA)(this.cdr))}},{key:"onCreatePaymentRequest",value:function(e){var t=this;if(this.isAuthorized&&this.user&&(0,p.Ew)(this.user.email))this.toasterSrv.showWarning("","\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03c4\u03bf email \u03c3\u03b1\u03c2 \u03c3\u03c4\u03b7 \u03c3\u03b5\u03bb\u03af\u03b4\u03b1 \u03c4\u03bf\u03c5 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb \u03c3\u03b1\u03c2.");else{var n={remittanceInfo:this.response.remittanceInfo,amount:this.response.ypoloipoProsPliromi},i={relatedCallbackUrl:AppConfOptions.application_url+"/tautotita-ofeilis/debits",paymentMethodKey:e.key,kodikosDias:this.response.remittanceInfo,entries:[]};"PIRBGRAA"===e.key&&(i.billingAddressCountryCode=null),this.isAuthorized&&this.user&&!(0,p.Ew)(this.user.email)&&this.response?(n.debtorName=this.user.family_name+" "+this.user.fathers_name+" "+this.user.mothers_name+" "+this.user.name,n.tin=this.user.tin,i.tinRelated=this.user.tin,i.billingAddressCity=this.user.address_city,i.billingAddressCountryCode=this.user.address_country_code,i.billingAddressZip=this.user.address_zip,i.billingAddress=this.user.address,i.userEmail=this.user.email,i.userPhone=this.user.phone_number):!this.isAuthorized&&this.response&&AppConfOptions.unauthorized_allowed&&(i.billingAddress=this.unAuthorizedAddress,i.billingAddressZip=this.unAuthorizedTk,i.billingAddressCity=this.unAuthorizedPoli,i.billingAddressCountryCode=this.unAuthorizedCountryId),i.entries.push(n),this.paymentRequestDto=i,this.tautotitaOfeilisSrv.addPaymentRequestKodikouPliromis(this.paymentRequestDto).subscribe(function(e){e&&e.statusCode==p.WE.Ok?(t.paymentResponseDto=e.model,t.onDoPaymentSubject.next(t.paymentResponseDto)):(t.toasterSrv.showError("",e.message),t.errorMessage=e.message)})}}},{key:"onClear",value:function(){this.isFormSubmitted=!1,this.request={},this.response=null,this.errorMessage=null,(0,p.RA)(this.cdr)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m.Y36(f.J_),m.Y36(u.C),m.Y36(p.te),m.Y36(S),m.Y36(p.N_),m.Y36(p.MJ),m.Y36(A.g),m.Y36(m.sBO),m.Y36(d.gz))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-tautotita-ofeilis-debits"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(J,5),2&e)&&(m.iGM(n=m.CRH())&&(t.tautotitaOfeilisForm=n.first))},inputs:{isAuthorized:"isAuthorized"},decls:3,vars:4,consts:[[3,"condition","customClass"],[4,"ngIf"],[3,"severity","text","styleClass",4,"ngIf"],["severity","danger",3,"text","styleClass",4,"ngIf"],[1,"form"],["tautotitaOfeilisForm","ngForm"],[1,"row"],[1,"form-group","col-12"],["for","paymentCode"],["name","paymentCode","type","text","required","",1,"form-control",3,"placeholder","ngModel","disabled","ngModelChange"],[1,"validation-msg","text-danger","pt-1",3,"hidden"],[1,"d-flex","align-items-center","justify-content-center","flex-wrap"],["type","button",1,"btn","btn-primary","mr-1",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["type","button",1,"btn","btn-warning","text-white",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["severity","error",3,"styleClass","escape","text",4,"ngIf"],[3,"severity","text","styleClass"],["severity","danger",3,"text","styleClass"],["severity","error",3,"styleClass","escape","text"],["tautotitaOfeilisExtraInfoForm","ngForm"],["class","row",4,"ngIf"],[1,"mt-4","text-center"],[1,"debits-info","d-flex","justify-content-between"],[1,"debits-info_left","d-flex","mr-1"],["class","mb-0",4,"ngIf"],[3,"isPaymentFormValid","doPaymentSubscription","finApiUrl","buttonText","cancelButtonText","onPayBtnClick"],[1,"col-12","col-md-9"],["name","address","type","text","required","",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-12","col-md-3"],["name","tk","type","text","required","",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"col-12","col-md-6"],["name","poli","type","text","required","",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"form-group","col-12","col-md-6"],["name","egsCountry","bindLabel","Perigrafi","bindValue","Id","required","",3,"items","virtualScroll","searchable","ngModel","ngModelChange"],[1,"mb-0"],[1,"mr-1",2,"width","220px","line-height","1.7"],[1,"totalPoso",2,"line-height","1.7"]],template:function(e,t){1&e&&(m._UZ(0,"lib-egr-loading",0),m.YNc(1,Q,25,22,"ng-container",1),m.YNc(2,K,21,17,"ng-container",1)),2&e&&(m.Q6J("condition",t.isLoadingInit||t.isLoading)("customClass","egr-load-small"),m.xp6(1),m.Q6J("ngIf",!t.isLoadingInit),m.xp6(1),m.Q6J("ngIf",t.response&&!t.isLoading))},directives:[p.IE,y.O5,M._Y,M.JL,M.F,M.Fj,M.Q7,M.JJ,M.On,Z.q,p.Hl,P.w9],pipes:[a.X$,y.H9],encapsulation:2,changeDetection:0}),t}(),G=s(24020),$=s(41886);function V(e,t){if(1&e&&m._UZ(0,"p-message",5),2&e){var n=m.oxw(2);m.Q6J("text",null==n.translation?null:n.translation.egwebapps.egwebappsLoginMesg)}}function W(e,t){if(1&e&&(m.TgZ(0,"p-panel",9),m._UZ(1,"div",10),m.ALo(2,"decodeHtmlString"),m.qZA()),2&e){var n=m.oxw(3);m.Q6J("header",null==n.translation?null:n.translation.egwebapps.information)("styleClass","tab-msg mb-3")("toggleable",!0),m.xp6(1),m.Q6J("innerHTML",m.lcZ(2,4,n.tabMsg),m.oJD)}}function X(e,t){if(1&e&&(m.ynx(0),m.YNc(1,W,3,6,"p-panel",6),m.TgZ(2,"div",7),m._UZ(3,"app-tautotita-ofeilis-debits",8),m.qZA(),m.BQk()),2&e){var n=m.oxw(2);m.xp6(1),m.Q6J("ngIf",n.tabMsg),m.xp6(2),m.Q6J("isAuthorized",n.isAuthorized)}}function ee(e,t){if(1&e&&(m.ynx(0),m.YNc(1,V,1,1,"p-message",3),m._UZ(2,"app-afmnotfound",4),m.YNc(3,X,4,2,"ng-container",2),m.BQk()),2&e){var n=m.oxw();m.xp6(1),m.Q6J("ngIf",!n.isAuthorized&&!n.isUnauthorizedAllowed),m.xp6(1),m.Q6J("afmNotFound",n.afmNotFound),m.xp6(1),m.Q6J("ngIf",!n.afmNotFound)}}var te=[{path:"",component:function(){var t=function(){function t(n,i,s,r,o,a){e(this,t),this.oidcSecuritySrv=n,this.appCacheSv=i,this.location=s,this.cdr=r,this.router=o,this.route=a,this.onDestroy=new c.x,this.isLoading=!1,this.afmNotFound=!1,this.index=0,this.isUnauthorizedAllowed=AppConfOptions.unauthorized_allowed,this.selectedLang="el"}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.appCacheSv.translation$.pipe((0,g.R)(this.onDestroy)).subscribe(function(t){t&&(e.translation=t,(0,p.RA)(e.cdr))}),this.appCacheSv.selectedLang$.pipe((0,g.R)(this.onDestroy)).subscribe(function(t){t&&(e.selectedLang=t),1==AppConfOptions.multilingual&&"el"!=e.selectedLang&&AppConfOptions.eidopoiitiria_tab_info_en&&""!=AppConfOptions.eidopoiitiria_tab_info_en?e.tabMsg=AppConfOptions.eidopoiitiria_tab_info_en:AppConfOptions.eidopoiitiria_tab_info&&""!=AppConfOptions.eidopoiitiria_tab_info&&"el"==e.selectedLang&&(e.tabMsg=AppConfOptions.eidopoiitiria_tab_info),(0,p.RA)(e.cdr)}),this.isLoading=!0,(0,p.RA)(this.cdr),this.oidcSecuritySrv.isAuthenticated$.pipe((0,h.w)(function(t){return e.isAuthorized=null!=t&&t.isAuthenticated,e.oidcSecuritySrv.userData$})).subscribe(function(t){if(t){var n=null==t?void 0:t.userData;e.isAuthorized&&n&&(!n.tin||(0,p.Ew)(n.tin))&&1==AppConfOptions.eidopoiitiria_afm_required&&(e.afmNotFound=!0)}e.isLoading=!1,(0,p.RA)(e.cdr)}),this.index="receipts"===this.route.children[0].snapshot.url[0].path?1:0,(0,p.RA)(this.cdr)}},{key:"ngOnDestroy",value:function(){this.onDestroy.next(null)}},{key:"onTabChanged",value:function(e){this.router.navigate(0==e.index?["./debits"]:["./receipts"],{relativeTo:this.route})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m.Y36(f.J_),m.Y36(A.g),m.Y36(y.Ye),m.Y36(m.sBO),m.Y36(d.F0),m.Y36(d.gz))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-tautotita-ofeilis-layout"]],decls:4,vars:4,consts:[[1,"module-title"],[3,"condition","customClass"],[4,"ngIf"],["severity","warn",3,"text",4,"ngIf"],[3,"afmNotFound"],["severity","warn",3,"text"],[3,"header","styleClass","toggleable",4,"ngIf"],[1,"bg-white","p-2"],[3,"isAuthorized"],[3,"header","styleClass","toggleable"],[3,"innerHTML"]],template:function(e,t){1&e&&(m.TgZ(0,"h3",0),m._uU(1),m.qZA(),m._UZ(2,"lib-egr-loading",1),m.YNc(3,ee,4,3,"ng-container",2)),2&e&&(m.xp6(1),m.Oqu(null==t.translation?null:t.translation.menu.eidopoiitiriaMenuItem),m.xp6(1),m.Q6J("condition",t.isLoading)("customClass","egr-load-small"),m.xp6(1),m.Q6J("ngIf",!t.isLoading))},directives:[p.IE,y.O5,b.d,Z.q,H,G.s],pipes:[$.o],encapsulation:2,changeDetection:0}),t}(),children:[{path:"",pathMatch:"full",redirectTo:"debits"},{path:"debits",component:H}]}],ne=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[d.Bz.forChild(te)],d.Bz]}),t}(),ie=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[S,u.C],imports:[[l.m,o.IJ,ne,a.aw.forChild()]]}),t}()}}])}();