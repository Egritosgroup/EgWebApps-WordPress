(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{C7T5:function(e,t){e.exports=function(e){return new Promise((t,s)=>{let n=new FileReader,o=e.target.files;if(o.length>1)s(new DOMException("Only one file can be uploaded at a time"));else{n.onerror=()=>{n.abort(),s(new DOMException("Problem parsing input file."))};let e=o[0];n.onload=s=>{const o=new Uint8Array(s.target.result);let a=[];o.map(e=>{a.push(e.toString(16))});const r=a.join("").toUpperCase();let c=n.result.split(",")[1];e.base64=c,e.binaryFileType=i(r),t(e)},n.readAsDataURL(e)}})};const i=e=>{switch(e){case"89504E47":return"image/png";case"47494638":return"image/gif";case"25504446":return"application/pdf";case"FFD8FFDB":case"FFD8FFE0":return"image/jpeg";case"504B0304":return"application/zip";default:return"Unknown filetype"}}},QHsS:function(e,t,i){"use strict";i.r(t),i.d(t,"KatastimataModule",(function(){return qt})),i.d(t,"PublicLibLoader",(function(){return Nt}));var s=i("mrSG"),n=i("fXoL"),o=i("tk/3"),a=i("LRne"),r=i("2Vo4"),c=i("XNiG"),d=i("cp0P"),l=i("lJxs"),p=i("JIr8"),h=i("eIep"),m=i("1G5W"),u=i("pLZG"),f=i("5eHb"),g=i("tyNb"),y=i("3Pt+"),b=i("ofXK"),S=i("3u8h"),P=i("ZOsW"),k=i("9nqD"),I=i("eO1q"),v=i("QIUk"),T=i("Ji6n"),R=i("/RsI"),C=i("FMpt"),A=i("7CaW"),D=i("rEr+"),O=i("dPl2"),M=i("jhN1"),x=i("7zfz");function w(e,t){1&e&&n.Oc(0,"p-message",4)}function _(e,t){if(1&e&&(n.Tc(0,"p",15),n.Tc(1,"strong"),n.Rd(2,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1 \u0395\u03c0\u03b9\u03c7\u03b5\u03af\u03c1\u03b7\u03c3\u03b7\u03c2:"),n.Sc(),n.Rd(3),n.Sc()),2&e){const e=n.gd(3);n.Ac(3),n.Td("\xa0",e.epixeirisiInfo.eponimia," ")}}function E(e,t){if(1&e){const e=n.Uc();n.Tc(0,"button",16),n.ed("click",(function(){n.Gd(e);return n.gd(3).onCreateNewDilosiClicked()})),n.Oc(1,"span",17),n.Rd(2," \u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 "),n.Sc()}}function U(e,t){if(1&e&&(n.Tc(0,"div",12),n.Pd(1,_,4,1,"p",13),n.Pd(2,E,3,0,"button",14),n.Sc()),2&e){const e=n.gd(2);n.Ac(1),n.pd("ngIf",e.epixeirisiInfo),n.Ac(1),n.pd("ngIf",e.diloseisInfoResponse&&e.diloseisInfoResponse.length>0)}}function F(e,t){if(1&e){const e=n.Uc();n.Tc(0,"app-katastimata-receipts",18),n.ed("reloadData",(function(){n.Gd(e);return n.gd(2)._loadData()})),n.Sc()}if(2&e){const e=n.gd(2);n.pd("diloseisReceipts",e.model)("userInfo",e.userInfo)("isLoading",e.isLoading)("diloseisInfoResponse",e.diloseisInfoResponse)}}function L(e,t){1&e&&n.Oc(0,"p-message",19)}function j(e,t){if(1&e){const e=n.Uc();n.Tc(0,"app-katastimata-saved",20),n.ed("reloadData",(function(){n.Gd(e);return n.gd(2)._loadData()})),n.Sc()}if(2&e){const e=n.gd(2);n.pd("dilosiInfoSaved",e.diloseisInfoSaved)("userInfo",e.userInfo)("isLoading",e.isLoading)("diloseisInfoResponse",e.diloseisInfoResponse)("onlinePaymentsSettingsCompany",e.onlinePaymentsSettingsCompany)("epixeirisiInfo",e.epixeirisiInfo)}}function q(e,t){if(1&e){const e=n.Uc();n.Rc(0),n.Pd(1,U,3,2,"div",5),n.Tc(2,"p-tabView",6),n.ed("onChange",(function(t){n.Gd(e);return n.gd().onTabChanged(t)})),n.Tc(3,"p-tabPanel",7),n.Pd(4,F,1,4,"app-katastimata-receipts",8),n.Sc(),n.Tc(5,"p-tabPanel",9),n.Pd(6,L,1,0,"p-message",10),n.Pd(7,j,1,6,"app-katastimata-saved",11),n.Sc(),n.Sc(),n.Qc()}if(2&e){const e=n.gd();n.Ac(1),n.pd("ngIf",e.epixeirisiInfo||e.diloseisInfoResponse&&e.diloseisInfoResponse.length>0),n.Ac(1),n.pd("activeIndex",e.index),n.Ac(2),n.pd("ngIf",e.model),n.Ac(2),n.pd("ngIf",!e.diloseisInfoSaved||e.diloseisInfoSaved&&0==e.diloseisInfoSaved.length||!e.onlinePaymentsSettingsCompany),n.Ac(1),n.pd("ngIf",e.diloseisInfoSaved&&e.diloseisInfoSaved.length&&null!=e.onlinePaymentsSettingsCompany)}}function N(e,t){if(1&e){const e=n.Uc();n.Tc(0,"app-katastimata-create-dilosi",21),n.ed("updateSaved",(function(t){n.Gd(e);return n.gd().onReloadSaved(t)})),n.Sc()}if(2&e){const e=n.gd();n.pd("diloseisInfoResponse",e.diloseisInfoResponse)("dilosi",null)("onlinePaymentsSettingsCompany",e.onlinePaymentsSettingsCompany)("epixeirisiInfo",e.epixeirisiInfo)}}const B=function(){return{minWidth:"60vw"}},W=["dimotikosForosForm"];function G(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",20),n.Tc(1,"label"),n.Rd(2,"\u03a0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc*"),n.Sc(),n.Tc(3,"ng-select",21,22),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(2).selectedPososto=t})),n.Sc(),n.Tc(5,"div",9),n.Rd(6," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc()}if(2&e){const e=n.gd(2);n.Ac(3),n.pd("items",e.pososta)("searchable",!0)("clearable",!1)("ngModel",e.selectedPososto),n.Ac(2),n.pd("hidden",!e.isFormSubmitted||"1"==e.onlinePaymentsSettingsCompany||e.isFormSubmitted&&"1"!=e.onlinePaymentsSettingsCompany&&e.selectedPososto&&""!=e.selectedPososto)}}function $(e,t){1&e&&(n.Tc(0,"span"),n.Rd(1,"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd"),n.Sc())}function H(e,t){1&e&&(n.Tc(0,"span"),n.Rd(1,"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1\u03c2 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd"),n.Sc())}function z(e,t){if(1&e&&(n.Tc(0,"div",27),n.Tc(1,"a",28),n.hd(2,"async"),n.hd(3,"securePlg"),n.Oc(4,"i",29),n.Sc(),n.Tc(5,"strong"),n.Rd(6),n.Sc(),n.Rd(7),n.Tc(8,"small"),n.Oc(9,"i",30),n.Rd(10),n.hd(11,"date"),n.Sc(),n.Sc()),2&e){const e=t.$implicit;n.Ac(1),n.qd("download",e.fileName),n.pd("href",n.id(2,5,n.id(3,7,"/api/DocDms/DownloadFile/"+e.dmsId)),n.Id),n.Ac(5),n.Sd(e.perigrafi),n.Ac(1),n.Td(" (",e.fileName,")\xa0 "),n.Ac(3),n.Td(" ",n.jd(11,9,e.creationTime,"dd/MM/yyyy"),"")}}function V(e,t){if(1&e){const e=n.Uc();n.Rc(0),n.Tc(1,"div",23),n.Tc(2,"h5"),n.Rd(3,"\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u0391\u03c1\u03c7\u03b5\u03af\u03b1"),n.Sc(),n.Tc(4,"button",24),n.ed("click",(function(){n.Gd(e);const t=n.gd(2);return t.toggleEditFiles=!t.toggleEditFiles})),n.Oc(5,"i",25),n.Pd(6,$,2,0,"span",2),n.Pd(7,H,2,0,"span",2),n.Sc(),n.Sc(),n.Pd(8,z,12,12,"div",26),n.Qc()}if(2&e){const e=n.gd(2);n.Ac(6),n.pd("ngIf",!e.toggleEditFiles),n.Ac(1),n.pd("ngIf",e.toggleEditFiles),n.Ac(1),n.pd("ngForOf",e.dilosiFiles)}}function Q(e,t){1&e&&n.Oc(0,"p-message",38)}function K(e,t){if(1&e){const e=n.Uc();n.Rc(0),n.Pd(1,Q,1,0,"p-message",31),n.Tc(2,"div",5),n.Tc(3,"div",32),n.Tc(4,"label",33),n.Rd(5,"\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)*"),n.Sc(),n.Tc(6,"input",34,35),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(2).periodikiDilosiFPA=t}))("change",(function(t){n.Gd(e);return n.gd(2).onFileChange(t,"periodikiDilosiFPA")})),n.Sc(),n.Tc(8,"div",9),n.Rd(9," *\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Tc(10,"div",32),n.Tc(11,"label",36),n.Rd(12,"\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf (\u03a0.\u03c7. \u0399\u03c3\u03bf\u03b6\u03cd\u03b3\u03b9\u03bf)"),n.Sc(),n.Tc(13,"input",37),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(2).extraFile=t}))("change",(function(t){n.Gd(e);return n.gd(2).onFileChange(t,"extraFile")})),n.Sc(),n.Sc(),n.Sc(),n.Qc()}if(2&e){const e=n.gd(2);n.Ac(1),n.pd("ngIf",e.toggleEditFiles),n.Ac(5),n.pd("ngModel",e.periodikiDilosiFPA),n.Ac(2),n.pd("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.periodikiDilosiFPA),n.Ac(5),n.pd("ngModel",e.extraFile)}}function J(e,t){1&e&&(n.Tc(0,"span"),n.Oc(1,"span",39),n.Rd(2," \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc\u03c2 \u03a0\u03bf\u03c3\u03ce\u03bd"),n.Sc())}function Y(e,t){1&e&&(n.Tc(0,"span"),n.Oc(1,"span",40),n.Rd(2," \u03a5\u03c0\u03bf\u03b2\u03bf\u03bb\u03ae"),n.Sc())}function X(e,t){if(1&e&&n.Oc(0,"div",41),2&e){const e=n.gd(2);n.pd("innerHTML",e.formErrorsMsg,n.Hd)}}function Z(e,t){if(1&e&&n.Oc(0,"p-message",42),2&e){const e=n.gd(2);n.pd("text",e.errorMessageProfile)}}function ee(e,t){if(1&e){const e=n.Uc();n.Tc(0,"form",3,4),n.Tc(2,"div",5),n.Tc(3,"div",6),n.Tc(4,"label"),n.Rd(5,"\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2*"),n.Sc(),n.Tc(6,"ng-select",7,8),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().dilosiCopy.dilosiId=t}))("change",(function(t){n.Gd(e);const i=n.gd();return i.onSelectedDilosiChanged(t),i.isFormDirty=!0})),n.Sc(),n.Tc(8,"div",9),n.Rd(9," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Tc(10,"div",6),n.Tc(11,"label"),n.Rd(12,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),n.Sc(),n.Oc(13,"input",10),n.hd(14,"date"),n.Sc(),n.Tc(15,"div",11),n.Tc(16,"p-checkbox",12),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().dilosiCopy.isMideniki=t}))("ngModelChange",(function(){n.Gd(e);return n.gd().onIsMidenikiChanged()})),n.Sc(),n.Sc(),n.Sc(),n.Tc(17,"div",5),n.Pd(18,G,7,5,"div",13),n.Tc(19,"div",14),n.Tc(20,"label"),n.Rd(21,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc*"),n.Sc(),n.Tc(22,"input",15,16),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().dilosiCopy.ypokeimenoPoso=t}))("ngModelChange",(function(){n.Gd(e);return n.gd().isFormDirty=!0})),n.Sc(),n.Tc(24,"div",9),n.Rd(25," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Sc(),n.Pd(26,V,9,3,"ng-container",2),n.Pd(27,K,14,4,"ng-container",2),n.Oc(28,"hr"),n.Tc(29,"button",17),n.ed("click",(function(){n.Gd(e);return n.gd().onSubmit()})),n.Pd(30,J,3,0,"span",2),n.Pd(31,Y,3,0,"span",2),n.Sc(),n.Pd(32,X,1,1,"div",18),n.Pd(33,Z,1,1,"p-message",19),n.Sc()}if(2&e){const e=n.Ed(7),t=n.Ed(23),i=n.gd();n.Ac(6),n.pd("items",i.diloseisInfoResponse)("searchable",!0)("clearable",!1)("ngModel",i.dilosiCopy.dilosiId),n.Ac(2),n.pd("hidden",!i.isFormSubmitted||i.isFormSubmitted&&e.valid),n.Ac(5),n.pd("value",n.jd(14,18,i.dilosiCopy.hmeromiaLixisDilosis,"dd/MM/yyyy")),n.Ac(3),n.pd("ngModel",i.dilosiCopy.isMideniki),n.Ac(2),n.pd("ngIf","1"!=i.onlinePaymentsSettingsCompany),n.Ac(1),n.pd("ngClass","1"==i.onlinePaymentsSettingsCompany?"":"col-md-6"),n.Ac(3),n.pd("ngModel",i.dilosiCopy.ypokeimenoPoso)("disabled",i.dilosiCopy.isMideniki),n.Ac(2),n.pd("hidden",!i.isFormSubmitted||i.isFormSubmitted&&t.valid),n.Ac(2),n.pd("ngIf",i.dilosiFiles&&i.dilosiFiles.length),n.Ac(1),n.pd("ngIf",i.toggleEditFiles||!i.dilosiFiles||i.dilosiFiles&&0==i.dilosiFiles.length),n.Ac(3),n.pd("ngIf",!i.dilosiCopy.isMideniki),n.Ac(1),n.pd("ngIf",i.dilosiCopy.isMideniki),n.Ac(1),n.pd("ngIf",i.formErrorsMsg&&""!=i.formErrorsMsg),n.Ac(1),n.pd("ngIf",i.errorMessageProfile)}}function te(e,t){1&e&&(n.Tc(0,"div",43),n.Tc(1,"span",44),n.Oc(2,"i",45),n.Sc(),n.Sc())}function ie(e,t){1&e&&(n.Tc(0,"p",49),n.Tc(1,"span",50),n.Rd(2,"\u03a4\u03b1\u03c5\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2 \u0394\u0399\u0391\u03a3:"),n.Sc(),n.Sc())}function se(e,t){1&e&&(n.Tc(0,"p",49),n.Tc(1,"span",50),n.Rd(2,"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u039b\u03ae\u03be\u03b7\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2:"),n.Sc(),n.Sc())}function ne(e,t){if(1&e&&(n.Tc(0,"p",49),n.Tc(1,"span",52),n.Rd(2),n.Sc(),n.Sc()),2&e){const e=n.gd(2);n.Ac(2),n.Sd(e.kodikosPliromis)}}function oe(e,t){if(1&e&&(n.Tc(0,"p",49),n.Tc(1,"span",52),n.Rd(2),n.hd(3,"date"),n.Sc(),n.Sc()),2&e){const e=n.gd(2);n.Ac(2),n.Sd(n.jd(3,1,e.dilosiWebPaymentInfo.hmeromiaLixisPliromis,"dd/MM/yyyy"))}}const ae=function(e){return[e,"\u20ac","symbol","1.2","el"]};function re(e,t){if(1&e){const e=n.Uc();n.Rc(0),n.Tc(1,"h4",46),n.Rd(2,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03bf\u03cd"),n.Sc(),n.Tc(3,"div",47),n.Tc(4,"div",48),n.Tc(5,"div"),n.Tc(6,"p",49),n.Tc(7,"span",50),n.Rd(8,"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),n.Sc(),n.Sc(),n.Tc(9,"p",49),n.Tc(10,"span",50),n.Rd(11,"\u03a0\u03bf\u03c3\u03cc \u03a4\u03ad\u03bb\u03bf\u03c5\u03c2:"),n.Sc(),n.Sc(),n.Tc(12,"p",49),n.Tc(13,"span",50),n.Rd(14,"\u039c\u03ae\u03bd\u03b5\u03c2 \u039a\u03b1\u03b8\u03c5\u03c3\u03c4\u03ad\u03c1\u03b7\u03c3\u03b7\u03c2:"),n.Sc(),n.Sc(),n.Tc(15,"p",49),n.Tc(16,"span",50),n.Rd(17,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03c1\u03bf\u03c3\u03c4\u03af\u03bc\u03bf\u03c5:"),n.Sc(),n.Sc(),n.Tc(18,"p",49),n.Tc(19,"span",50),n.Rd(20,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),n.Sc(),n.Sc(),n.Pd(21,ie,3,0,"p",51),n.Pd(22,se,3,0,"p",51),n.Sc(),n.Tc(23,"div"),n.Tc(24,"p",49),n.Tc(25,"span",52),n.Rd(26),n.Sc(),n.Sc(),n.Tc(27,"p",49),n.Tc(28,"span",52),n.Rd(29),n.hd(30,"currency"),n.Sc(),n.Sc(),n.Tc(31,"p",49),n.Tc(32,"span",52),n.Rd(33),n.Sc(),n.Sc(),n.Tc(34,"p",49),n.Tc(35,"span",52),n.Rd(36),n.hd(37,"currency"),n.Sc(),n.Sc(),n.Tc(38,"p",49),n.Tc(39,"span",52),n.Rd(40),n.hd(41,"currency"),n.Sc(),n.Sc(),n.Pd(42,ne,3,1,"p",51),n.Pd(43,oe,4,4,"p",51),n.Sc(),n.Sc(),n.Tc(44,"app-payment",53),n.ed("errorMsg",(function(t){n.Gd(e);return n.gd().errorMessageProfile=t})),n.Sc(),n.Sc(),n.Qc()}if(2&e){const e=n.gd();n.Ac(21),n.pd("ngIf",e.kodikosPliromis),n.Ac(1),n.pd("ngIf",e.kodikosPliromis),n.Ac(4),n.Sd(e.dilosiWebPaymentInfo.paymentCaption),n.Ac(3),n.Sd(n.md(30,14,n.vd(32,ae,e.dilosiWebPaymentInfo.telosPoso))),n.Ac(4),n.Sd(e.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines),n.Ac(3),n.Sd(n.md(37,20,n.vd(34,ae,e.dilosiWebPaymentInfo.prostimoPoso))),n.Ac(4),n.Sd(n.md(41,26,n.vd(36,ae,e.dilosiWebPaymentInfo.paymentAmount))),n.Ac(2),n.pd("ngIf",e.kodikosPliromis),n.Ac(1),n.pd("ngIf",e.kodikosPliromis),n.Ac(1),n.pd("userInfo",e.userInfo)("requestObs",null)("createWebPaymentInfo",e.dilosiWebPaymentInfo)("kodikosPliromis",e.kodikosPliromis)("canPay",!e.isFormDirty)}}function ce(e,t){1&e&&n.Oc(0,"p-message",5)}function de(e,t){1&e&&n.Oc(0,"p-message",6),2&e&&n.pd("styleClass","mt-1")}function le(e,t){if(1&e&&n.Oc(0,"p-message",7),2&e){const e=n.gd();n.pd("severity",e.bankStatusMessageClass)("text",e.bankStatusMessageClass)("styleClass","my-1")}}function pe(e,t){1&e&&(n.Tc(0,"div",8),n.Tc(1,"span",9),n.Oc(2,"i",10),n.Sc(),n.Sc())}function he(e,t){1&e&&(n.Tc(0,"tr"),n.Tc(1,"th",16),n.Rd(2,"\u0391/\u0391"),n.Sc(),n.Tc(3,"th",17),n.Rd(4,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),n.Sc(),n.Tc(5,"th",18),n.Rd(6,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),n.Sc(),n.Tc(7,"th",19),n.Rd(8,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Sc(),n.Tc(9,"th",20),n.Rd(10,"\u03a4\u03ad\u03bb\u03bf\u03c2"),n.Sc(),n.Tc(11,"th",20),n.Rd(12,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),n.Sc(),n.Tc(13,"th",20),n.Rd(14,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf"),n.Sc(),n.Tc(15,"th",19),n.Rd(16,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),n.Sc(),n.Sc())}function me(e,t){1&e&&n.Oc(0,"i",26)}function ue(e,t){if(1&e&&(n.Tc(0,"tr"),n.Tc(1,"td",16),n.Tc(2,"span",21),n.Rd(3,"\u0391/\u0391"),n.Sc(),n.Rd(4),n.Sc(),n.Tc(5,"td",17),n.Tc(6,"span",21),n.Rd(7,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),n.Sc(),n.Rd(8),n.Sc(),n.Tc(9,"td",22),n.Tc(10,"span",21),n.Rd(11,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),n.Sc(),n.Pd(12,me,1,0,"i",23),n.Sc(),n.Tc(13,"td",24),n.Tc(14,"span",21),n.Rd(15,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Sc(),n.Rd(16),n.hd(17,"currency"),n.Sc(),n.Tc(18,"td",25),n.Tc(19,"span",21),n.Rd(20,"\u03a4\u03ad\u03bb\u03bf\u03c2"),n.Sc(),n.Rd(21),n.hd(22,"currency"),n.Sc(),n.Tc(23,"td",25),n.Tc(24,"span",21),n.Rd(25,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),n.Sc(),n.Rd(26),n.hd(27,"currency"),n.Sc(),n.Tc(28,"td",25),n.Tc(29,"span",21),n.Rd(30,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf"),n.Sc(),n.Rd(31),n.hd(32,"currency"),n.Sc(),n.Tc(33,"td",19),n.Tc(34,"span",21),n.Rd(35,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),n.Sc(),n.Rd(36),n.Sc(),n.Sc()),2&e){const e=t.$implicit,i=t.rowIndex;n.Ac(4),n.Td(" ",i+1," "),n.Ac(4),n.Td(" ",e.dilosiCaption," "),n.Ac(4),n.pd("ngIf",e.midenikiDilosi),n.Ac(4),n.Td(" ",n.ld(17,8,e.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),n.Ac(5),n.Td(" ",n.ld(22,13,e.telosPoso,"\u20ac","symbol","1.2")," "),n.Ac(5),n.Td(" ",n.ld(27,18,e.prostimoPoso,"\u20ac","symbol","1.2")," "),n.Ac(5),n.Td(" ",n.ld(32,23,e.sinolikoPoso,"\u20ac","symbol","1.2")," "),n.Ac(5),n.Td(" ",e.stoixeiaApodixis," ")}}const fe=function(e){return[e,"EUR","symbol","1.2-2","el"]};function ge(e,t){if(1&e&&(n.Tc(0,"tr"),n.Tc(1,"td",27),n.Tc(2,"strong"),n.Rd(3,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf:"),n.Sc(),n.Sc(),n.Tc(4,"td",24),n.Tc(5,"strong"),n.Rd(6),n.hd(7,"currency"),n.Sc(),n.Sc(),n.Tc(8,"td",25),n.Tc(9,"strong"),n.Rd(10),n.hd(11,"currency"),n.Sc(),n.Sc(),n.Tc(12,"td",25),n.Tc(13,"strong"),n.Rd(14),n.hd(15,"currency"),n.Sc(),n.Sc(),n.Tc(16,"td",25),n.Tc(17,"strong"),n.Rd(18),n.hd(19,"currency"),n.Sc(),n.Sc(),n.Tc(20,"td",19),n.Rd(21,"\xa0"),n.Sc(),n.Sc()),2&e){const e=n.gd(2);n.Ac(6),n.Sd(n.md(7,4,n.vd(28,fe,e.sumYpokeimeno))),n.Ac(4),n.Sd(n.md(11,10,n.vd(30,fe,e.sumTelos))),n.Ac(4),n.Sd(n.md(15,16,n.vd(32,fe,e.sumProstimo))),n.Ac(4),n.Sd(n.md(19,22,n.vd(34,fe,e.sumSinolo)))}}function ye(e,t){if(1&e&&(n.Rc(0),n.Tc(1,"p",11),n.Tc(2,"strong"),n.Rd(3),n.Sc(),n.Sc(),n.Tc(4,"p-table",12),n.Pd(5,he,17,0,"ng-template",13),n.Pd(6,ue,37,28,"ng-template",14),n.Pd(7,ge,22,36,"ng-template",15),n.Sc(),n.Tc(8,"p",11),n.Tc(9,"strong"),n.Rd(10),n.Sc(),n.Sc(),n.Qc()),2&e){const e=n.gd();n.Ac(3),n.Td("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",e.diloseisReceipts.length,""),n.Ac(1),n.pd("value",e.diloseisReceipts)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",e.diloseisReceipts.length),n.Ac(6),n.Td("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",e.diloseisReceipts.length,"")}}function be(e,t){if(1&e&&n.Oc(0,"p-message",6),2&e){const e=n.gd();n.pd("severity",e.bankStatusMessageClass)("text",e.bankStatusMessageClass)("styleClass","mb-2")}}function Se(e,t){1&e&&(n.Tc(0,"div",7),n.Tc(1,"span",8),n.Oc(2,"i",9),n.Sc(),n.Sc())}function Pe(e,t){1&e&&n.Pc(0)}function ke(e,t){if(1&e&&(n.Tc(0,"div",17),n.Pd(1,Pe,1,0,"ng-container",18),n.Sc()),2&e){n.gd(2);const e=n.Ed(4);n.Ac(1),n.pd("ngTemplateOutlet",e)}}function Ie(e,t){if(1&e){const e=n.Uc();n.Tc(0,"tr"),n.Tc(1,"th",19),n.Tc(2,"p-checkbox",20),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd(2).isAllDebitsChecked=t}))("onChange",(function(){n.Gd(e);return n.gd(2).onAllDebitsSelected()})),n.Sc(),n.Sc(),n.Tc(3,"th",21),n.Rd(4,"A/A"),n.Sc(),n.Tc(5,"th",22),n.Rd(6,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),n.Sc(),n.Tc(7,"th",23),n.Rd(8,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),n.Sc(),n.Tc(9,"th",24),n.Rd(10,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),n.Sc(),n.Tc(11,"th",25),n.Rd(12,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Sc(),n.Tc(13,"th",23),n.Rd(14,"\u03a4\u03ad\u03bb\u03bf\u03c2"),n.Sc(),n.Tc(15,"th",23),n.Rd(16,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),n.Sc(),n.Tc(17,"th",23),n.Rd(18,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2"),n.Sc(),n.Tc(19,"th",25),n.Rd(20,"\xa0"),n.Sc(),n.Sc()}if(2&e){const e=n.gd(2);n.Ac(2),n.pd("binary",!0)("ngModel",e.isAllDebitsChecked)}}function ve(e,t){1&e&&n.Oc(0,"i",34)}function Te(e,t){if(1&e){const e=n.Uc();n.Tc(0,"tr"),n.Tc(1,"td",19),n.Tc(2,"span",26),n.Rd(3,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),n.Sc(),n.Tc(4,"p-checkbox",20),n.ed("ngModelChange",(function(i){n.Gd(e);return t.$implicit.isChecked=i}))("onChange",(function(){n.Gd(e);return n.gd(2)._calculateTotalAmounts()})),n.Sc(),n.Sc(),n.Tc(5,"td",21),n.Tc(6,"span",26),n.Rd(7,"A/A"),n.Sc(),n.Rd(8),n.Sc(),n.Tc(9,"td",22),n.Tc(10,"span",26),n.Rd(11,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),n.Sc(),n.Rd(12),n.Sc(),n.Tc(13,"td",23),n.Tc(14,"span",26),n.Rd(15,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),n.Sc(),n.Rd(16),n.hd(17,"date"),n.Sc(),n.Tc(18,"td",27),n.Tc(19,"span",26),n.Rd(20,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),n.Sc(),n.Pd(21,ve,1,0,"i",28),n.Sc(),n.Tc(22,"td",29),n.Tc(23,"span",26),n.Rd(24,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Sc(),n.Rd(25),n.hd(26,"currency"),n.Sc(),n.Tc(27,"td",30),n.Tc(28,"span",26),n.Rd(29,"\u03a4\u03ad\u03bb\u03bf\u03c2"),n.Sc(),n.Rd(30),n.hd(31,"currency"),n.Sc(),n.Tc(32,"td",30),n.Tc(33,"span",26),n.Rd(34,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),n.Sc(),n.Rd(35),n.hd(36,"currency"),n.Sc(),n.Tc(37,"td",30),n.Tc(38,"span",26),n.Rd(39,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2"),n.Sc(),n.Rd(40),n.hd(41,"currency"),n.Sc(),n.Tc(42,"td",31),n.Tc(43,"span",26),n.Rd(44,"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"),n.Sc(),n.Tc(45,"button",32),n.ed("click",(function(){n.Gd(e);const i=t.$implicit;return n.gd(2).onEdit(i)})),n.Oc(46,"i",33),n.Sc(),n.Sc(),n.Sc()}if(2&e){const e=t.$implicit,i=t.rowIndex;n.Ac(4),n.pd("binary",!0)("ngModel",e.isChecked),n.Ac(4),n.Td(" ",i+1," "),n.Ac(4),n.Td(" ",e.dilosiDescription," "),n.Ac(4),n.Td(" ",n.jd(17,10,e.hmeromiaLixisDilosis,"dd/MM/yyyy")," "),n.Ac(5),n.pd("ngIf",e.isMideniki),n.Ac(4),n.Td(" ",n.ld(26,13,e.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),n.Ac(5),n.Td(" ",n.ld(31,18,e.telosPoso,"\u20ac","symbol","1.2")," "),n.Ac(5),n.Td(" ",n.ld(36,23,e.prostimoPoso,"\u20ac","symbol","1.2")," "),n.Ac(5),n.Td(" ",n.ld(41,28,e.telosPoso+e.prostimoPoso,"\u20ac","symbol","1.2")," ")}}function Re(e,t){if(1&e&&(n.Tc(0,"tr"),n.Tc(1,"td",35),n.Tc(2,"strong"),n.Rd(3,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf:"),n.Sc(),n.Sc(),n.Tc(4,"td",29),n.Tc(5,"strong"),n.Rd(6),n.hd(7,"currency"),n.Sc(),n.Sc(),n.Tc(8,"td",30),n.Tc(9,"strong"),n.Rd(10),n.hd(11,"currency"),n.Sc(),n.Sc(),n.Tc(12,"td",30),n.Tc(13,"strong"),n.Rd(14),n.hd(15,"currency"),n.Sc(),n.Sc(),n.Tc(16,"td",30),n.Tc(17,"strong"),n.Rd(18),n.hd(19,"currency"),n.Sc(),n.Sc(),n.Tc(20,"td",25),n.Rd(21,"\xa0"),n.Sc(),n.Sc()),2&e){const e=n.gd(2);n.Ac(6),n.Sd(n.md(7,4,n.vd(28,fe,e.sumYpokeimeno))),n.Ac(4),n.Sd(n.md(11,10,n.vd(30,fe,e.sumTelos))),n.Ac(4),n.Sd(n.md(15,16,n.vd(32,fe,e.sumProstimo))),n.Ac(4),n.Sd(n.md(19,22,n.vd(34,fe,e.sumToPay)))}}function Ce(e,t){1&e&&n.Pc(0)}function Ae(e,t){if(1&e){const e=n.Uc();n.Rc(0),n.Tc(1,"div",17),n.Pd(2,Ce,1,0,"ng-container",18),n.Sc(),n.Tc(3,"app-payment",36),n.ed("errorMsg",(function(t){n.Gd(e);return n.gd(2).errorMessageProfile=t})),n.Sc(),n.Qc()}if(2&e){const e=n.gd(2),t=n.Ed(4);n.Ac(2),n.pd("ngTemplateOutlet",t),n.Ac(1),n.pd("userInfo",e.userInfo)("requestObs",e.requestObs)}}function De(e,t){if(1&e&&(n.Tc(0,"div",37),n.Tc(1,"p"),n.Rd(2),n.Sc(),n.Sc()),2&e){const e=n.gd(2);n.Ac(2),n.Sd(e.errorMessageProfile)}}function Oe(e,t){if(1&e&&(n.Rc(0),n.Pd(1,ke,2,1,"div",10),n.Tc(2,"p",11),n.Tc(3,"strong"),n.Rd(4),n.Sc(),n.Sc(),n.Tc(5,"p-table",12),n.Pd(6,Ie,21,2,"ng-template",13),n.Pd(7,Te,47,33,"ng-template",14),n.Pd(8,Re,22,36,"ng-template",15),n.Sc(),n.Tc(9,"p",11),n.Tc(10,"strong"),n.Rd(11),n.Sc(),n.Sc(),n.Pd(12,Ae,4,3,"ng-container",2),n.Pd(13,De,3,1,"div",16),n.Qc()),2&e){const e=n.gd();n.Ac(1),n.pd("ngIf",e.calculatedChecked.countChecked>0),n.Ac(3),n.Td("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",e.dilosiInfoSaved.length,""),n.Ac(1),n.pd("value",e.dilosiInfoSaved)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",e.dilosiInfoSaved.length),n.Ac(6),n.Td("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",e.dilosiInfoSaved.length,""),n.Ac(1),n.pd("ngIf",e.calculatedChecked.countChecked>0),n.Ac(1),n.pd("ngIf",e.errorMessageProfile)}}function Me(e,t){if(1&e&&(n.Tc(0,"p"),n.Rd(1,"\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 "),n.Tc(2,"span",38),n.Rd(3),n.Sc(),n.Sc(),n.Tc(4,"div",39),n.Tc(5,"p"),n.Rd(6,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a4\u03ad\u03bb\u03bf\u03c2: "),n.Tc(7,"span",38),n.Rd(8),n.hd(9,"currency"),n.Sc(),n.Sc(),n.Tc(10,"p"),n.Rd(11,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf: "),n.Tc(12,"span",38),n.Rd(13),n.hd(14,"currency"),n.Sc(),n.Sc(),n.Tc(15,"p"),n.Rd(16,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: "),n.Tc(17,"span",40),n.Rd(18),n.hd(19,"currency"),n.Sc(),n.Sc(),n.Sc()),2&e){const e=n.gd();n.Ac(3),n.Ud("",e.calculatedChecked.countChecked," ",e.calculatedChecked.countText,""),n.Ac(5),n.Sd(n.ld(9,5,e.calculatedChecked.checkedTelos,"\u20ac","symbol","1.2")),n.Ac(5),n.Sd(n.ld(14,10,e.calculatedChecked.checkedProstimo,"\u20ac","symbol","1.2")),n.Ac(5),n.Sd(n.ld(19,15,e.calculatedChecked.checkedTelos+e.calculatedChecked.checkedProstimo,"\u20ac","symbol","1.2"))}}function xe(e,t){if(1&e){const e=n.Uc();n.Tc(0,"app-katastimata-create-dilosi",41),n.ed("updateSaved",(function(t){n.Gd(e);return n.gd().updateDilosiInTable(t)})),n.Sc()}if(2&e){const e=n.gd();n.pd("diloseisInfoResponse",e.diloseisInfoResponse)("dilosi",e.selectedDilosi)("onlinePaymentsSettingsCompany",e.onlinePaymentsSettingsCompany)}}const we=["requestBankDataForm"];function _e(e,t){1&e&&(n.Tc(0,"div",10),n.Tc(1,"span",11),n.Oc(2,"i",12),n.Sc(),n.Tc(3,"span"),n.Rd(4,"\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bc\u03ad\u03bd\u03b5\u03c4\u03b5, \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03bf\u03cd\u03bc\u03b5 \u03bc\u03b5 \u03c4\u03bf \u0394\u03ae\u03bc\u03bf \u03b3\u03b9\u03b1 \u03bf\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1."),n.Sc(),n.Sc())}function Ee(e,t){if(1&e&&n.Oc(0,"p-message",13),2&e){const e=n.gd();n.pd("text",e.errorMessageProfile)}}function Ue(e,t){1&e&&n.Oc(0,"img",19)}function Fe(e,t){1&e&&n.Oc(0,"img",24),2&e&&n.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa-secure.svg",n.Id)}function Le(e,t){1&e&&n.Oc(0,"img",25),2&e&&n.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard-idcheck.svg",n.Id)}function je(e,t){if(1&e&&(n.Rc(0),n.Oc(1,"img",21),n.hd(2,"lowercase"),n.Pd(3,Fe,1,1,"img",22),n.hd(4,"lowercase"),n.Pd(5,Le,1,1,"img",23),n.hd(6,"lowercase"),n.Qc()),2&e){const e=t.$implicit;n.Ac(1),n.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/"+n.id(2,3,e)+".svg",n.Id),n.Ac(2),n.pd("ngIf","visa"==n.id(4,5,e)),n.Ac(2),n.pd("ngIf","mastercard"==n.id(6,7,e))}}function qe(e,t){if(1&e&&(n.Rc(0),n.Pd(1,je,7,9,"ng-container",20),n.Qc()),2&e){const e=n.gd(2).$implicit;n.Ac(1),n.pd("ngForOf",e.services)}}function Ne(e,t){if(1&e&&(n.Rc(0),n.Pd(1,qe,2,1,"ng-container",3),n.Qc()),2&e){const e=n.gd().$implicit;n.Ac(1),n.pd("ngIf",e.services&&e.services.length>0)}}const Be=function(){return{width:"360px"}};function We(e,t){if(1&e){const e=n.Uc();n.Tc(0,"div",15),n.ed("click",(function(){n.Gd(e);const i=t.$implicit;return n.gd(2).btnPayClicked(i)})),n.Tc(1,"p-card",16),n.Tc(2,"div",17),n.Pd(3,Ue,1,0,"img",18),n.Pd(4,Ne,2,1,"ng-container",3),n.Sc(),n.Sc(),n.Sc()}if(2&e){const e=t.$implicit;n.Ac(1),n.Md(n.ud(6,Be)),n.pd("header",e.label)("subheader",e.description),n.Ac(2),n.pd("ngIf","IRIS"==e.key),n.Ac(1),n.pd("ngIf","IRIS"!=e.key)}}function Ge(e,t){if(1&e&&(n.Rc(0),n.Pd(1,We,5,7,"div",14),n.Qc()),2&e){const e=n.gd();n.Ac(1),n.pd("ngForOf",e.onlinePaymentSettings.paymentMethods)}}function $e(e,t){1&e&&(n.Tc(0,"div",10),n.Tc(1,"span",11),n.Oc(2,"i",26),n.Sc(),n.Sc())}function He(e,t){if(1&e&&n.Oc(0,"div",38),2&e){const e=n.gd(2);n.pd("innerHTML",e.formErrorsMsg,n.Hd)}}function ze(e,t){if(1&e){const e=n.Uc();n.Tc(0,"form",27,28),n.Tc(2,"div",29),n.Tc(3,"div",30),n.Tc(4,"label",31),n.Rd(5,"\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2*"),n.Sc(),n.Tc(6,"input",32),n.ed("ngModelChange",(function(t){n.Gd(e);return n.gd().paymentRequestDto.cardholderName=t})),n.Sc(),n.Tc(7,"div",33),n.Rd(8," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Sc(),n.Tc(9,"div",34),n.Tc(10,"button",35),n.ed("click",(function(){n.Gd(e);return n.gd()._submitPaymentRequest()})),n.Oc(11,"i",36),n.Rd(12," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),n.Sc(),n.Sc(),n.Pd(13,He,1,1,"div",37),n.Sc()}if(2&e){const e=n.gd();n.Ac(6),n.pd("ngModel",e.paymentRequestDto.cardholderName),n.Ac(1),n.pd("hidden",!e.isFormSubmitted||e.isFormSubmitted&&e.paymentRequestDto.cardholderName),n.Ac(6),n.pd("ngIf",e.formErrorsMsg&&""!=e.formErrorsMsg)}}function Ve(e,t){if(1&e&&(n.Rc(0),n.Oc(1,"input",42),n.Qc()),2&e){const e=t.$implicit;n.Ac(1),n.qd("name",e.key),n.qd("value",e.value)}}function Qe(e,t){if(1&e&&(n.Rc(0),n.Pd(1,Ve,2,2,"ng-container",20),n.hd(2,"keyvalue"),n.Oc(3,"input",41),n.Qc()),2&e){const e=n.gd(2);n.Ac(1),n.pd("ngForOf",n.id(2,2,e.paymentResponseDto.postFields)),n.Ac(2),n.qd("value",e.everypayToken)}}function Ke(e,t){if(1&e&&(n.Tc(0,"form",39),n.Pd(1,Qe,4,4,"ng-container",3),n.Oc(2,"div",40),n.Sc()),2&e){const e=n.gd();n.qd("action",null==e.paymentResponseDto?null:e.paymentResponseDto.postUrl,n.Id),n.Ac(1),n.pd("ngIf",e.paymentResponseDto)}}function Je(e,t){if(1&e&&n.Oc(0,"form",43),2&e){const e=n.gd();n.qd("action",null==e.paymentResponseDto?null:e.paymentResponseDto.postUrl,n.Id)}}function Ye(e,t){if(1&e&&(n.Tc(0,"div"),n.Oc(1,"input",44),n.Sc()),2&e){const e=t.$implicit;n.Ac(1),n.qd("name",e.key),n.qd("value",e.value)}}function Xe(e,t){if(1&e&&(n.Rc(0),n.Pd(1,Ye,2,2,"div",20),n.Qc()),2&e){const e=n.gd();n.Ac(1),n.pd("ngForOf",e.paymentResponseDto.postFields)}}function Ze(e,t){if(1&e&&(n.Tc(0,"a",6),n.Oc(1,"span",7),n.Rd(2," \u0395\u03ba\u03c4\u03cd\u03c0\u03c9\u03c3\u03b7 "),n.Sc()),2&e){const e=n.gd(2);n.sd("href","",e.katastimataApiUrl,"/ViewReports/ReportDilosiTautotitaPliromisDias/",e.createWebPaymentInfo.dilosiId,"",n.Id)}}function et(e,t){if(1&e){const e=n.Uc();n.Tc(0,"button",8),n.ed("click",(function(){n.Gd(e);return n.gd(2)._payActions()})),n.Oc(1,"span",9),n.Rd(2," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),n.Sc()}if(2&e){const e=n.gd(2);n.pd("disabled",!e.canPay)}}function tt(e,t){1&e&&(n.Tc(0,"div"),n.Oc(1,"img",10),n.Oc(2,"img",11),n.Oc(3,"img",12),n.Oc(4,"img",13),n.Oc(5,"img",14),n.Sc()),2&e&&(n.Ac(4),n.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa-secure.svg",n.Id),n.Ac(1),n.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard-idcheck.svg",n.Id))}function it(e,t){if(1&e&&(n.Rc(0),n.Pd(1,Ze,3,2,"a",4),n.Pd(2,et,3,1,"button",5),n.Pd(3,tt,6,2,"div",1),n.Qc()),2&e){const e=n.gd();n.Ac(1),n.pd("ngIf",e.kodikosPliromis&&""!=e.kodikosPliromis),n.Ac(1),n.pd("ngIf",e.createWebPaymentInfo.paymentAmount>0),n.Ac(1),n.pd("ngIf",e.createWebPaymentInfo.paymentAmount>0)}}function st(e,t){1&e&&(n.Tc(0,"span",15),n.Oc(1,"i",16),n.Sc())}function nt(e,t){if(1&e){const e=n.Uc();n.Tc(0,"app-payment-methods",17),n.ed("createRequest",(function(){n.Gd(e);return n.gd()._payActions()}))("loadingSimplifyModal",(function(t){n.Gd(e);return n.gd().isLoadingSimplifyModalChanged(t)}))("isLoadingPaymentSettings",(function(t){n.Gd(e);return n.gd().isLoadingPaymentSettingsChanged(t)}))("isUserDataValid",(function(t){n.Gd(e);return n.gd().isUserDataValidChanged(t)})),n.Sc()}if(2&e){const e=n.gd();n.pd("assetsUrl",e.assetsUrl)("user",e.userInfo)("isLoadingPaymentResponse",e.isLoadingPaymentResponse)}}class ot{constructor(e){this.toastr=e}show(e,t,i){t&&this.toastr[i](t,e,{progressBar:!0,onActivateTick:!0})}showError(e,t){this.show(e,t,"error")}showInfo(e,t){this.show(e,t,"info")}showSuccess(e,t){this.show(e,t,"success")}showWarning(e,t){this.show(e,t,"warning")}}ot.\u0275fac=function(e){return new(e||ot)(n.bd(f.b))},ot.\u0275prov=Object(n.Jc)({factory:function(){return new ot(Object(n.bd)(f.b))},token:ot,providedIn:"root"}),ot.ctorParameters=()=>[{type:f.b}];class at{constructor(e){this.toastService=e,this.catchBadResponse=e=>{let t="";if(e.error instanceof Error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else if(void 0!==e.error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else switch(e.status){case 403:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error "+e.status;break;case 401:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n "+e.status;break;default:t=`Backend returned code ${e.status}, body was: ${void 0!==e.body?e.body.error:void 0!==e.message?e.message:""}`}return this.toastService.showError("",""+t),Object(a.a)(!1)}}}at.\u0275fac=function(e){return new(e||at)(n.bd(ot))},at.\u0275prov=Object(n.Jc)({factory:function(){return new at(Object(n.bd)(ot))},token:at,providedIn:"root"}),at.ctorParameters=()=>[{type:ot}];class rt extends class{constructor(e,t){this.http=e,this.exceptionService=t,this.getBaseUrl=()=>this.baseUrl,AppConfOptions&&AppConfOptions.katastimata_api?(this.baseUrl=AppConfOptions.katastimata_api,this.financeUrl=AppConfOptions.epayments_api):(this.baseUrl="/",this.financeUrl=AppConfOptions.financeApi),this.baseUrl+="api",this.financeUrl+="api"}}{constructor(e,t){super(t,e),this.exceptionSrv=e,this.http=t,this.katastimataUrl=this.baseUrl+"/DiloseisWeb",this.dmsUrl=this.baseUrl+"/DocDms",this.configurationOptionsUrl=this.baseUrl+"/Configurations",this.userInfoSubject=new r.a(null),this.userInfo$=this.userInfoSubject.asObservable(),this.egOnInit()}egOnInit(){this.userInfo$.subscribe(e=>{this.userInfo=e})}initUserInfo(){if(!this.userInfo){let e=null;for(let t=0;t<window.localStorage.length;t++){const i=window.localStorage.key(t);"userData"===i.slice(0,8)&&(e=JSON.parse(window.localStorage.getItem(i)),this.userInfoSubject.next({email:e.email,username:e.given_name,tin:e.tin,family_name:e.family_name,given_name:e.given_name,name:e.name,address_city:e.address_city,address_country_code:e.address_country_code,address_zip:e.address_zip,address:e.address,fathers_name:e.fathers_name,mothers_name:e.mothers_name,adt:e.adt,phone_number:e.phone_number}))}}}getDiloseis(e){return this.http.get(`${this.katastimataUrl}/DiloseisWebInfo/${e}`).pipe(Object(l.a)(e=>e),Object(p.a)(this.exceptionSrv.catchBadResponse))}getDilosiPaymentInfo(e){return this.http.post(this.katastimataUrl+"/DilosiWebPaymentInfo",e).pipe(Object(l.a)(e=>e),Object(p.a)(this.exceptionSrv.catchBadResponse))}uploadPeriodikiDilosi(e){let t=new o.e;return t=t.append("isForm","true"),this.http.post(this.katastimataUrl+"/DilosiWebScan",e,{headers:t,responseType:"arraybuffer"}).pipe(Object(l.a)(e=>e),Object(p.a)(()=>Object(a.a)(!1)))}getPayedInfo(e){return this.http.get(`${this.katastimataUrl}/DiloseisWebPayedInfo/${e}`).pipe(Object(l.a)(e=>e),Object(p.a)(this.exceptionSrv.catchBadResponse))}getEpixeirisiInfo(e){return this.http.get(`${this.katastimataUrl}/DiloseisWebEpixirisiInfo/${e}`).pipe(Object(l.a)(e=>e),Object(p.a)(this.exceptionSrv.catchBadResponse))}deleteDocDmsByDilosiId(e){const t=this.katastimataUrl+"/DeleteDocDmsByDilosiId/"+e;return this.http.get(t).pipe(Object(l.a)(e=>e),Object(p.a)(this.exceptionSrv.catchBadResponse))}markDilosiWebExoflisi(e){const t=this.katastimataUrl+"/MarkDilosiWebExoflisi";return this.http.post(t,e).pipe(Object(l.a)(e=>e),Object(p.a)(this.exceptionService.catchBadResponse))}addPaymentRequest(e){const t=this.financeUrl+"/Banks/AddPaymentRequest";return this.http.post(t,e).pipe(Object(l.a)(e=>e),Object(p.a)(this.exceptionSrv.catchBadResponse))}getDocDmsByDilosiId(e){const t=`${this.katastimataUrl}/GetDocDmsByDilosiId/${e}`;return this.http.get(t).pipe(Object(l.a)(e=>e),Object(p.a)(this.exceptionSrv.catchBadResponse))}getDownloadFile(e){const t="/api/DocDms/DownloadFile/"+e;return this.http.get(t,{responseType:"blob"}).pipe(Object(l.a)(e=>e),Object(p.a)(this.exceptionSrv.catchBadResponse))}getPluginCustomerOptions(){const e=this.configurationOptionsUrl+"/GetPluginCustomerSpecificOptions";return this.http.get(e).pipe(Object(l.a)(e=>e),Object(p.a)(this.exceptionSrv.catchBadResponse))}createRemittanceInfoById(e){const t=`${this.katastimataUrl}/CreateRemittanceInfoById/${e}`,i={headers:new o.e({Accept:"text/html, application/xhtml+xml, */*","Content-Type":"text/plain; charset=utf-8"}),responseType:"text"};return this.http.get(t,i).pipe(Object(l.a)(e=>e),Object(p.a)(this.exceptionSrv.catchBadResponse))}getPaymentSettings(){let e=this.baseUrl+"/oikonomiki/GetPaymentSettings";return this.paymentSettings?Object(a.a)(this.paymentSettings):this.http.get(e).pipe(Object(l.a)(e=>(this.paymentSettings=e,e)),Object(p.a)(this.exceptionSrv.catchBadResponse))}}rt.\u0275fac=function(e){return new(e||rt)(n.bd(at),n.bd(o.b))},rt.\u0275prov=Object(n.Jc)({factory:function(){return new rt(Object(n.bd)(at),Object(n.bd)(o.b))},token:rt,providedIn:"root"}),rt.ctorParameters=()=>[{type:at},{type:o.b}];class ct{constructor(){this.dilosiId=0,this.dilosiDescription=null,this.hmeromiaLixisDilosis=null,this.isMideniki=!1}}class dt{constructor(){this.dilosiId=null,this.epixirisiEponimia=null,this.epixirisiOfeiletisEponimia=null,this.epixirisiOfeiletisAfm=null,this.paymentCaption=null,this.paymentCode=null,this.paymentCodeDias=null,this.paymentAmount=null,this.telosPoso=null,this.prostimoPoso=null,this.ypokeimenoPoso=null,this.apoforologimenoPoso=null,this.posostoTelous=null,this.posostoEkprothesmisKatavolis=null,this.posostoEkprothesmisKatavolisArxiko=null,this.posostoEkprothesmisKatavolisMines=null}}class lt{constructor(){this.bankTransactionId=null}}var pt,ht,mt,ut,ft,gt;function yt(e,t,i){let s="";const n=[],o=e.control;return Object.keys(o.controls).forEach(e=>{const t=o.get(e);t instanceof y.d&&n.push(...function e(t){const i=[];return Object.keys(t.controls).forEach(s=>{const n=t.get(s);n instanceof y.d&&i.push(...e(n));const o=n.errors;o&&Object.keys(o).forEach(e=>{i.push({control:s,error:e,value:o[e]})})}),i}(t));const i=t.errors;i&&Object.keys(i).forEach(t=>{n.push({control:e,error:t,value:i[t]})})}),!(!n&&!i)&&(s="<ul>",n.forEach(e=>{let i;"required"==e.error?i="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==e.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"max"==e.error&&(i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03ad\u03b3\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),s+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+t[e.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+i+"</li>"}),s+=i,s+="</ul>",s)}function bt(e,t=(()=>{})){const i=Object(h.a)(()=>Object(a.a)(!0));let s=[];return e.forEach(e=>{s=[...s,Object(h.a)(i=>i?e:(t(),Object(a.a)(!1)))]}),Object(a.a)(!0).pipe(i,i,i,i,i,i,i,i,i,...s)}function St(e,t){const i=()=>{try{e.detectChanges()}catch(t){console.warn("View already destroyed")}};t?t.runOutsideAngular(()=>i()):i()}function Pt(e){try{return JSON.parse(JSON.stringify(e))}catch(t){console.error(t)}}!function(e){e[e.allo=0]="allo",e[e.adeies=1]="adeies",e[e.diloseis=2]="diloseis",e[e.aitiseisDimotikiAstinomia=3]="aitiseisDimotikiAstinomia"}(pt||(pt={})),function(e){e[e.String=1]="String",e[e.Select=2]="Select",e[e.MultiSelect=3]="MultiSelect",e[e.Number=4]="Number",e[e.Date=5]="Date",e[e.DateTime=6]="DateTime",e[e.Dynamic=7]="Dynamic",e[e.StringMultiLine=8]="StringMultiLine",e[e.Checkbox=9]="Checkbox"}(ht||(ht={})),function(e){e[e.Undefined=0]="Undefined",e[e.Ok=1]="Ok",e[e.Error=2]="Error",e[e.Warning=3]="Warning",e[e.UndefinedError=4]="UndefinedError"}(mt||(mt={})),function(e){e[e.aplirotes=1]="aplirotes",e[e.pliromenes=2]="pliromenes"}(ut||(ut={})),function(e){e.dilosiDescription="\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2",e.ypokeimenoPoso="\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc",e.periodikiDilosiFPA="\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)"}(ft||(ft={})),function(e){e.billAddrState="\u03a0\u03b5\u03c1\u03b9\u03c6\u03ad\u03c1\u03b5\u03b9\u03b1",e.cardholderName="\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2",e.mobilePhone="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf"}(gt||(gt={}));class kt{constructor(e,t,i,s,n,o){this.katastimataNgSrv=e,this.toasterSrv=t,this.cdr=i,this._http=s,this.router=n,this.route=o,this.model=[],this.countriesList=[],this.HttpStatusCodeEnum=mt,this.index=0,this.isLoading=!0,this.isAddingNewDilosi=!1,this.onlinePaymentsSettingsCompany="1",this.createPaymentCodeDias=!1,this.onDestroy=new c.a}ngOnInit(){this.katastimataNgSrv.initUserInfo(),this.katastimataNgSrv.userInfo$.pipe(Object(h.a)(e=>e?(this.userInfo=e,"undefined"!=typeof AuthConfOptions?this._http.get(AuthConfOptions.stsServer+"/api/general/GetCountries"):this._http.get("https://auth.dev.egritosgroup.gr/api/general/GetCountries")):Object(a.a)(!1)),Object(m.a)(this.onDestroy)).subscribe(e=>{e&&(this.countriesList=e,this.userInfo.address_country_code&&""!=this.userInfo.address_country_code&&(this.userInfo.address_country_num=this.countriesList.find(e=>e.Alpha2Code==this.userInfo.address_country_code).NumericCode.toString())),St(this.cdr)}),this.router.events.pipe(Object(u.a)(e=>e instanceof g.b),Object(m.a)(this.onDestroy)).subscribe(e=>{e&&e.url&&e.url.includes("receipts")?this.index=0:e&&e.url&&e.url.includes("saved")&&(this.index=1),St(this.cdr)}),this.katastimataNgSrv.getEpixeirisiInfo(this.userInfo.tin).pipe(Object(h.a)(e=>e&&e.statusCode==this.HttpStatusCodeEnum.Ok?(this.epixeirisiInfo=e,this.katastimataNgSrv.getDiloseis(this.userInfo.tin)):(this.toasterSrv.showError("",e.message),Object(a.a)(!1))),Object(h.a)(e=>e?(this.diloseisInfoResponse=e,this.diloseisInfoResponse&&this.diloseisInfoResponse.length>0?this.diloseisInfoSaved=this.diloseisInfoResponse.filter(e=>6==e.statusId):this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd."),this.katastimataNgSrv.getPluginCustomerOptions()):Object(a.a)(!1))).subscribe(e=>{if(e){let t=e;if(t){if(t.configurationOptions&&t.configurationOptions.length&&t.configurationOptions.some(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id)&&(this.onlinePaymentsSettingsCompany=t.configurationOptions.find(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id).value),t.configurationOptions&&t.configurationOptions.length&&t.configurationOptions.some(e=>"PluginCustomerSpecificOptions:CreatePaymentCodeDias"==e.id)){let e=t.configurationOptions.find(e=>"PluginCustomerSpecificOptions:CreatePaymentCodeDias"==e.id).value;(e="true")?this.createPaymentCodeDias=!0:this.createPaymentCodeDias=!1}St(this.cdr),this._loadData()}else this.toasterSrv.showError("","\u0394\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03c1\u03c5\u03b8\u03bc\u03af\u03c3\u03b5\u03c9\u03bd \u03c4\u03b7\u03c2 \u03b5\u03c6\u03b1\u03c1\u03bc\u03bf\u03b3\u03ae\u03c2.")}})}ngOnDestroy(){this.onDestroy.next()}_loadData(){this.katastimataNgSrv.getPayedInfo(this.userInfo.tin).subscribe(e=>{e?this.model=e:this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03c9\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd."),this.isLoading=!1,St(this.cdr)})}onCreateNewDilosiClicked(){this.isAddingNewDilosi=!0,St(this.cdr)}onTabChanged(e){0==e.index?this.router.navigate(["./receipts"],{relativeTo:this.route,preserveQueryParams:!0}):this.router.navigate(["./saved"],{relativeTo:this.route})}onReloadSaved(e){this.katastimataNgSrv.getDiloseis(this.userInfo.tin).subscribe(e=>{e&&(this.diloseisInfoResponse=e,this.diloseisInfoSaved=this.diloseisInfoResponse.filter(e=>6==e.statusId),St(this.cdr),this._loadData())})}}kt.\u0275fac=function(e){return new(e||kt)(n.Nc(rt),n.Nc(ot),n.Nc(n.k),n.Nc(o.b),n.Nc(g.d),n.Nc(g.a))},kt.\u0275cmp=n.Hc({type:kt,selectors:[["lib-katastimata-ng"]],decls:6,vars:13,consts:[["severity","error","text","\u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b4\u03bf\u03ba\u03b9\u03bc\u03ac\u03c3\u03c4\u03b5 \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1!",4,"ngIf"],[4,"ngIf"],["header","\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","epixeirisiInfo","updateSaved",4,"ngIf"],["severity","error","text","\u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b4\u03bf\u03ba\u03b9\u03bc\u03ac\u03c3\u03c4\u03b5 \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1!"],["class","mb-3 py-1 d-flex flex-wrap",4,"ngIf"],[3,"activeIndex","onChange"],["header","\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd"],[3,"diloseisReceipts","userInfo","isLoading","diloseisInfoResponse","reloadData",4,"ngIf"],["header","\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2.",4,"ngIf"],[3,"dilosiInfoSaved","userInfo","isLoading","diloseisInfoResponse","onlinePaymentsSettingsCompany","epixeirisiInfo","reloadData",4,"ngIf"],[1,"mb-3","py-1","d-flex","flex-wrap"],["class","m-0 mr-1 d-inline-flex align-items-center eponimia-title",4,"ngIf"],["class","btn btn-info btn-sm m-0 ml-auto","type","button",3,"click",4,"ngIf"],[1,"m-0","mr-1","d-inline-flex","align-items-center","eponimia-title"],["type","button",1,"btn","btn-info","btn-sm","m-0","ml-auto",3,"click"],["aria-hidden","true",1,"fas","fa-plus"],[3,"diloseisReceipts","userInfo","isLoading","diloseisInfoResponse","reloadData"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2."],[3,"dilosiInfoSaved","userInfo","isLoading","diloseisInfoResponse","onlinePaymentsSettingsCompany","epixeirisiInfo","reloadData"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","epixeirisiInfo","updateSaved"]],template:function(e,t){1&e&&(n.Pd(0,w,1,0,"p-message",0),n.hd(1,"async"),n.Pd(2,q,8,5,"ng-container",1),n.hd(3,"async"),n.Tc(4,"p-dialog",2),n.ed("visibleChange",(function(e){return t.isAddingNewDilosi=e})),n.Pd(5,N,1,4,"app-katastimata-create-dilosi",3),n.Sc()),2&e&&(n.pd("ngIf",!n.id(1,8,t.katastimataNgSrv.userInfo$)),n.Ac(2),n.pd("ngIf",n.id(3,10,t.katastimataNgSrv.userInfo$)),n.Ac(2),n.Md(n.ud(12,B)),n.pd("visible",t.isAddingNewDilosi)("draggable",!1)("closable",!0),n.Ac(1),n.pd("ngIf",t.isAddingNewDilosi))},directives:function(){return[b.p,R.a,C.b,O.b,O.a,Tt,Rt,vt]},pipes:function(){return[b.b]},encapsulation:2,changeDetection:0}),kt.ctorParameters=()=>[{type:rt},{type:ot},{type:n.k},{type:o.b},{type:g.d},{type:g.a}];let It=i("C7T5");class vt{constructor(e,t,i){this.katastimataNgSrv=e,this.toasterSrv=t,this.cdr=i,this.updateSaved=new n.x,this.requestObs=[],this.onDestroy=new c.a,this.pososta=[{value:"0.5",description:"0.5%"},{value:"2",description:"2%"},{value:"5",description:"5%"}],this.toggleEditFiles=!1,this.periodikiDilosiFPA=null,this.extraFile=null,this.uploadedFiles=[],this.errorMessageProfile=null,this.isLoading=!1,this.isFormDirty=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=ft}ngOnInit(){"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?this.katastimataApiUrl=AppConfOptions.katastimata_api:this.katastimataApiUrl=AppConfOptions.applicationUrl,this.dilosi?this.katastimataNgSrv.getDocDmsByDilosiId(this.dilosiCopy.dilosiId).subscribe(e=>{e&&(this.dilosiFiles=e,St(this.cdr))}):(this.dilosi=new ct,this.dilosiCopy=Pt(this.dilosi),St(this.cdr)),this.katastimataNgSrv.userInfo$.pipe(Object(m.a)(this.onDestroy)).subscribe(e=>{e&&(this.userInfo=e,St(this.cdr))})}ngOnDestroy(){this.onDestroy.next()}ngOnChanges(e){e&&e.dilosi&&(this.dilosiCopy=e.dilosi.currentValue,St(this.cdr)),e&&e.onlinePaymentsSettingsCompany&&(this.onlinePaymentsSettingsCompany=e.onlinePaymentsSettingsCompany.currentValue,St(this.cdr))}onSelectedDilosiChanged(e){if(e){let t=this.dilosiCopy.isMideniki;this.dilosiCopy=this.diloseisInfoResponse.filter(e=>e.dilosiId===+this.dilosiCopy.dilosiId)[0],this.dilosiCopy.isMideniki=t,this.dilosiCopy.isMideniki&&(this.dilosiCopy.ypokeimenoPoso=0),this.katastimataNgSrv.getDocDmsByDilosiId(e.dilosiId).subscribe(e=>{e&&(this.dilosiFiles=e),St(this.cdr)})}}onIsMidenikiChanged(){this.dilosiCopy.isMideniki&&(this.dilosiCopy.ypokeimenoPoso=0,St(this.cdr))}downloadFile(e){e&&this.katastimataNgSrv.getDownloadFile(e).subscribe()}onFileChange(e,t){e&&e.srcElement.files.length>0?It(e,!0).then(e=>{this.uploadedFiles[t]=e}):delete this.uploadedFiles[t],this.isFormDirty=!0,St(this.cdr)}onSubmit(){if(this.formErrorsMsg="",this.toggleEditFiles=!1,St(this.cdr),this.dimotikosForosForm.valid&&(this.dilosiCopy.isMideniki||!this.dilosiCopy.isMideniki&&this.dilosiCopy.ypokeimenoPoso>0)){this.isFormSubmitted=!0,this.isFormDirty=!1,this.isLoading=!0;let t=[];if(this.uploadedFiles&&this.uploadedFiles.periodikiDilosiFPA){let e=[];const i=Object.values(this.uploadedFiles);for(let t=0;t<i.length;t++){const s=i[t];let n=s.name.substr(s.name.lastIndexOf(".")+1);e.push({language:"el",dilosiId:+this.dilosiCopy.dilosiId,fileContent:s.base64,fileLength:s.size,fileExtension:n,fileDescription:t,fileName:s.name})}t=[...t,this.katastimataNgSrv.deleteDocDmsByDilosiId(this.dilosiCopy.dilosiId)],e.length>0&&e.forEach(e=>{t=[...t,this.katastimataNgSrv.uploadPeriodikiDilosi(e)]})}let i={language:"el",dilosiId:+this.dilosiCopy.dilosiId,ypokeimenoPoso:+this.dilosiCopy.ypokeimenoPoso,hmerominiaDilosis:(e=new Date,e?(e.setHours(e.getHours()-e.getTimezoneOffset()/60),e):null),isMideniki:this.dilosiCopy.isMideniki};if(this.onlinePaymentsSettingsCompany&&"1"==this.onlinePaymentsSettingsCompany)this.requestObs=[...this.requestObs,this.katastimataNgSrv.getDilosiPaymentInfo(i)],t=[...t,this.katastimataNgSrv.getDilosiPaymentInfo(i)],St(this.cdr),bt(t,()=>this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1.")).subscribe(e=>{e?(this.dilosiWebPaymentInfo=e,this.dilosiWebPaymentInfo&&(this.updateSaved.emit({dilosiId:this.dilosiWebPaymentInfo.dilosiId,dilosiDescription:this.dilosiWebPaymentInfo.paymentCaption,statusId:this.dilosiCopy.statusId,akatharistoPoso:this.dilosiCopy.akatharistoPoso,ypokeimenoPoso:this.dilosiCopy.ypokeimenoPoso,telosPoso:this.dilosiWebPaymentInfo.telosPoso,prostimoPoso:this.dilosiWebPaymentInfo.prostimoPoso,hmeromiaLixisDilosis:this.dilosiCopy.hmeromiaLixisDilosis,isChecked:!1,isMideniki:this.dilosiCopy.isMideniki,epixirisiId:this.dilosiCopy.epixirisiId,etos:this.dilosiCopy.etos}),this.kodikosPliromis=this.dilosiWebPaymentInfo.paymentCodeDias,this.kodikosPliromis&&this.kodikosPliromis.length>15&&(this.kodikosPliromis=this.dilosiWebPaymentInfo.paymentCodeDias.match(/(.|[\r\n]){1,4}/g).toString(),this.kodikosPliromis=this.kodikosPliromis.replace(new RegExp(",","g")," "))),this.isLoading=!1,this.isFormSubmitted=!1,St(this.cdr)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03c9\u03bd \u03c0\u03bf\u03c3\u03ce\u03bd.")});else{this.dilosiWebPaymentInfo=new dt;let e="";this.katastimataNgSrv.createRemittanceInfoById(this.dilosiCopy.dilosiId).pipe(Object(h.a)(i=>i?(e=i,bt(t,()=>this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1."))):Object(a.a)(!1))).subscribe(t=>{if(t&&this.dilosiWebPaymentInfo){let t=+this.selectedPososto/100+1,n=(this.dilosiCopy.ypokeimenoPoso/t).toFixed(2);n=+n;let o=+this.selectedPososto/100,a=(n*o).toFixed(2);a=+a;let r=(i=new Date(this.dilosiCopy.hmeromiaLixisDilosis),(s=new Date).getMonth()-i.getMonth()+12*(s.getFullYear()-i.getFullYear()));r<0&&(r=0);let c=.02*r*a;c>a&&(c=a),this.dilosiWebPaymentInfo.dilosiId=this.dilosiCopy.dilosiId,this.dilosiWebPaymentInfo.epixirisiEponimia=this.epixeirisiInfo.eponimia,this.dilosiWebPaymentInfo.epixirisiOfeiletisEponimia=this.epixeirisiInfo.ofeiletisEponimia,this.dilosiWebPaymentInfo.epixirisiOfeiletisAfm=this.epixeirisiInfo.ofeiletisAfm,this.dilosiWebPaymentInfo.paymentCaption=this.dilosiCopy.dilosiDescription,this.dilosiWebPaymentInfo.paymentCode=e,this.dilosiWebPaymentInfo.paymentAmount=a+c,this.dilosiWebPaymentInfo.telosPoso=a,this.dilosiWebPaymentInfo.prostimoPoso=c,this.dilosiWebPaymentInfo.ypokeimenoPoso=this.dilosiCopy.ypokeimenoPoso,this.dilosiWebPaymentInfo.apoforologimenoPoso=n,this.dilosiWebPaymentInfo.posostoTelous=o,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolis=.02*r,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisArxiko=.02,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines=r,this.updateSaved.emit({dilosiId:this.dilosiCopy.dilosiId,dilosiDescription:this.dilosiCopy.dilosiDescription,statusId:this.dilosiCopy.statusId,hmeromiaLixisDilosis:this.dilosiCopy.hmeromiaLixisDilosis,akatharistoPoso:this.dilosiCopy.akatharistoPoso,ypokeimenoPoso:this.dilosiCopy.ypokeimenoPoso,isChecked:!1,telosPoso:this.dilosiWebPaymentInfo.telosPoso,prostimoPoso:this.dilosiWebPaymentInfo.prostimoPoso,isMideniki:this.dilosiCopy.isMideniki,epixirisiId:this.dilosiCopy.epixirisiId,etos:this.dilosiCopy.etos}),this.isLoading=!1,this.isFormSubmitted=!1,St(this.cdr)}else this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03bf\u03c5 Remittance Info.");var i,s}),St(this.cdr)}}else{let e="";this.dilosiCopy.dilosiId||(e+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf</li>"),0==this.dilosiCopy.ypokeimenoPoso&&(e+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03c4\u03bf\u03c5 0</li>"),this.formErrorsMsg=yt(this.dimotikosForosForm,this.formDictionaryEnum,e),St(this.cdr)}var e}}vt.\u0275fac=function(e){return new(e||vt)(n.Nc(rt),n.Nc(ot),n.Nc(n.k))},vt.\u0275cmp=n.Hc({type:vt,selectors:[["app-katastimata-create-dilosi"]],viewQuery:function(e,t){var i;(1&e&&n.Wd(W,!0),2&e)&&(n.Dd(i=n.fd())&&(t.dimotikosForosForm=i.first))},inputs:{dilosi:"dilosi",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",diloseisInfoResponse:"diloseisInfoResponse",epixeirisiInfo:"epixeirisiInfo"},outputs:{updateSaved:"updateSaved"},features:[n.yc],decls:3,vars:3,consts:[["class","form w-100",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],[1,"form","w-100"],["dimotikosForosForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-4"],["name","dilosiDescription","bindLabel","dilosiDescription","bindValue","dilosiId","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7","required","",3,"items","searchable","clearable","ngModel","ngModelChange","change"],["dilosiDescription","ngModel"],[1,"text-danger",3,"hidden"],["name","hmeromiaLixisDilosis","placeholder","\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2","type","text","disabled","",1,"form-control",3,"value"],[1,"form-group","col-12","col-md-4","d-flex","align-items-center"],["label","\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7","name","isMideniki","binary","true",3,"ngModel","ngModelChange"],["class","form-group col-12 col-md-6",4,"ngIf"],[1,"form-group","col-12",3,"ngClass"],["name","ypokeimenoPoso","type","text","currencyMask","","lang","el-GR","placeholder","0,00","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["ypokeimenoPosoInput","ngModel"],["type","button",1,"btn","btn-info","d-block","mt-2","mx-auto",3,"click"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["severity","error",3,"text",4,"ngIf"],[1,"form-group","col-12","col-md-6"],["name","pososto","bindLabel","description","bindValue","value","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc","required","",3,"items","searchable","clearable","ngModel","ngModelChange"],["posostoInput","ngModel"],[1,"d-flex","flex-wrap"],["type","button",1,"btn","btn-sm","btn-info","m-0","ml-auto",3,"click"],[1,"far","fa-edit"],["class","mb-1",4,"ngFor","ngForOf"],[1,"mb-1"],["type","button",1,"btn","btn-sm","btn-outline-info","m-0","mr-1",3,"href","download"],[1,"fas","fa-download"],[1,"far","fa-calendar-alt"],["severity","warn","text","\u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03bd\u03ad\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf, \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03bf\u03cd\u03bd \u03cc\u03bb\u03b1 \u03c4\u03b1 \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 \u03ba\u03b1\u03b9 \u03b8\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c4\u03b1 \u03b1\u03bd\u03b5\u03b2\u03ac\u03c3\u03b5\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac.",4,"ngIf"],[1,"form-group","col-12","col-sm-6"],["for","periodikiDilosiFPA"],["name","periodikiDilosiFPA","placeholder","\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)","type","file","required","",1,"form-control-file",3,"ngModel","ngModelChange","change"],["periodikiDilosiFPAInput","ngModel"],["for","extraFile"],["name","extraFile","placeholder","\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf","type","file",1,"form-control-file",3,"ngModel","ngModelChange","change"],["severity","warn","text","\u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03bd\u03ad\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf, \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03bf\u03cd\u03bd \u03cc\u03bb\u03b1 \u03c4\u03b1 \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 \u03ba\u03b1\u03b9 \u03b8\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c4\u03b1 \u03b1\u03bd\u03b5\u03b2\u03ac\u03c3\u03b5\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac."],["aria-hidden","true",1,"fas","fa-calculator"],["aria-hidden","true",1,"far","fa-save","fa-fw"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],["severity","error",3,"text"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"w-100","pb-2"],[1,"debits-info","d-flex","justify-content-between"],[1,"debits-info_left","d-flex","mr-1"],[1,"mb-0"],[1,"mr-1",2,"width","220px","line-height","1.7"],["class","mb-0",4,"ngIf"],[1,"totalPoso"],[3,"userInfo","requestObs","createWebPaymentInfo","kodikosPliromis","canPay","errorMsg"]],template:function(e,t){1&e&&(n.Pd(0,ee,34,21,"form",0),n.Pd(1,te,3,0,"div",1),n.Pd(2,re,45,38,"ng-container",2)),2&e&&(n.pd("ngIf",t.dilosiCopy&&t.diloseisInfoResponse&&t.diloseisInfoResponse.length>0),n.Ac(1),n.pd("ngIf",t.isLoading),n.Ac(1),n.pd("ngIf",t.dilosiWebPaymentInfo&&!t.isLoading))},directives:function(){return[b.p,y.v,y.l,y.m,P.a,y.s,y.k,y.n,T.a,b.n,y.b,k.b,b.o,C.b,Ot]},pipes:function(){return[b.f,b.b,Mt,b.d]},encapsulation:2,changeDetection:0}),vt.ctorParameters=()=>[{type:rt},{type:ot},{type:n.k}],vt.propDecorators={dimotikosForosForm:[{type:n.mb,args:["dimotikosForosForm"]}],diloseisInfoResponse:[{type:n.G}],dilosi:[{type:n.G}],onlinePaymentsSettingsCompany:[{type:n.G}],updateSaved:[{type:n.S}],epixeirisiInfo:[{type:n.G}]};class Tt{constructor(e,t,i){this.katastimataNgSrv=e,this.route=t,this._http=i,this.reloadData=new n.x,this.onDestroy=new c.a,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumSinolo=0,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}ngOnChanges(e){e&&e.diloseisReceipts&&(this.diloseisReceipts=e.diloseisReceipts.currentValue,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumSinolo=0,this.diloseisReceipts.forEach(e=>{this.sumYpokeimeno+=e.ypokeimenoPoso,this.sumTelos+=e.telosPoso,this.sumProstimo+=e.prostimoPoso,e.sinolikoPoso=+e.telosPoso+ +e.prostimoPoso,this.sumSinolo+=e.sinolikoPoso}))}ngOnInit(){this.katastimataNgSrv.userInfo$.pipe(Object(m.a)(this.onDestroy)).subscribe(e=>this.userInfo=e),this._getBankMessages().pipe(Object(h.a)(e=>e?(this.oikonomikiBankMessages=e,this.route.queryParams.pipe(Object(m.a)(this.onDestroy))):Object(a.a)(!1))).subscribe(e=>{if(e){let t=e,i=t.messagecode,s=t.btId;if(i)if(this.bankStatusMessage=this.oikonomikiBankMessages[i],"TRANSACTION_COMPLETED"==i){if(this.bankStatusMessageClass="success",s){let e=new lt;e.bankTransactionId=s,this.katastimataNgSrv.markDilosiWebExoflisi(e).subscribe(()=>{this.reloadData.emit(!0)})}}else this.bankStatusMessageClass="error"}})}ngOnDestroy(){this.onDestroy.next()}_getBankMessages(){let e=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(e)}btnBankStatusMessageClicked(){this.bankStatusMessage=null}}Tt.\u0275fac=function(e){return new(e||Tt)(n.Nc(rt),n.Nc(g.a),n.Nc(o.b))},Tt.\u0275cmp=n.Hc({type:Tt,selectors:[["app-katastimata-receipts"]],inputs:{diloseisReceipts:"diloseisReceipts",userInfo:"userInfo",diloseisInfoResponse:"diloseisInfoResponse",isLoading:"isLoading"},outputs:{reloadData:"reloadData"},features:[n.yc],decls:5,vars:5,consts:[["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc.",4,"ngIf"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u03b9\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2.",3,"styleClass",4,"ngIf"],[3,"severity","text","styleClass",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc."],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u03b9\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2.",3,"styleClass"],[3,"severity","text","styleClass"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"mt-1"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-170"],[1,"fixed-width-col-80"],[1,"fixed-width-col-120"],[1,"fixed-width-col-100"],[1,"p-column-title"],[1,"text-center","fixed-width-col-80"],["class","fas fa-check",4,"ngIf"],[1,"fixed-width-col-120","text-right"],[1,"fixed-width-col-100","text-right"],[1,"fas","fa-check"],["colspan","3",1,"fixed-width-col-310","text-right"]],template:function(e,t){1&e&&(n.Pd(0,ce,1,0,"p-message",0),n.Pd(1,de,1,1,"p-message",1),n.Pd(2,le,1,3,"p-message",2),n.Pd(3,pe,3,0,"div",3),n.Pd(4,ye,11,11,"ng-container",4)),2&e&&(n.pd("ngIf",!(t.diloseisInfoResponse&&0!=t.diloseisInfoResponse.length||t.isLoading)),n.Ac(1),n.pd("ngIf",!(t.diloseisReceipts&&0!=t.diloseisReceipts.length||t.isLoading)),n.Ac(1),n.pd("ngIf",t.bankStatusMessage&&""!=t.bankStatusMessage),n.Ac(1),n.pd("ngIf",t.isLoading),n.Ac(1),n.pd("ngIf",!t.isLoading))},directives:[b.p,C.b,D.d,x.f],pipes:[b.d],encapsulation:2}),Tt.ctorParameters=()=>[{type:rt},{type:g.a},{type:o.b}],Tt.propDecorators={diloseisReceipts:[{type:n.G}],diloseisInfoResponse:[{type:n.G}],userInfo:[{type:n.G}],isLoading:[{type:n.G}],reloadData:[{type:n.S}]};class Rt{constructor(e,t,i,s){this.katastimataNgSrv=e,this.cdr=t,this.route=i,this._http=s,this.reloadData=new n.x,this.modelPaymentInfo=[],this.onDestroy=new c.a,this.errorMessageProfile=null,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.isAllDebitsChecked=!1,this.calculatedChecked={countChecked:0,countText:"\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",checkedYpokeimeno:0,checkedTelos:0,checkedProstimo:0},this.requestObs=[],this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumToPay=0,this.isEditModalOpen=!1,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}ngOnChanges(e){e&&e.dilosiInfoSaved&&(this.dilosiInfoSaved=e.dilosiInfoSaved.currentValue,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumToPay=0,this.dilosiInfoSaved.forEach(e=>{this.sumYpokeimeno+=e.ypokeimenoPoso,this.sumTelos+=e.telosPoso,this.sumProstimo+=e.prostimoPoso,this.sumToPay+=e.telosPoso+e.prostimoPoso}),St(this.cdr))}ngOnInit(){this.katastimataNgSrv.userInfo$.pipe(Object(m.a)(this.onDestroy)).subscribe(e=>this.userInfo=e),this._getBankMessages().pipe(Object(h.a)(e=>e?(this.oikonomikiBankMessages=e,this.route.queryParams.pipe(Object(m.a)(this.onDestroy))):Object(a.a)(!1))).subscribe(e=>{if(e){let t=e,i=t.messagecode,s=t.btId;if(i)if(this.bankStatusMessage=this.oikonomikiBankMessages[i],"TRANSACTION_COMPLETED"==i){if(this.bankStatusMessageClass="success",s){let e=new lt;e.bankTransactionId=s,this.katastimataNgSrv.markDilosiWebExoflisi(e).subscribe(()=>{this.reloadData.emit(!0)})}}else this.bankStatusMessageClass="error"}St(this.cdr)})}ngOnDestroy(){this.onDestroy.next()}_getBankMessages(){let e=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(e)}_calculateTotalAmounts(){this.requestObs=[];let e=0,t=0,i=0,s=0,n="\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2";this.dilosiInfoSaved.forEach(n=>{if(n.isChecked){s++,e+=n.ypokeimenoPoso,t+=n.telosPoso,i+=n.prostimoPoso;let o={language:"el",ypokeimenoPoso:+n.ypokeimenoPoso,dilosiId:+n.dilosiId,hmerominiaDilosis:new Date};this.requestObs=[...this.requestObs,this.katastimataNgSrv.getDilosiPaymentInfo(o)]}}),n=1==s?"\u03b4\u03ae\u03bb\u03c9\u03c3\u03b7":"\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",this.calculatedChecked={countChecked:s,countText:n,checkedYpokeimeno:e,checkedTelos:t,checkedProstimo:i},St(this.cdr)}_createPaymentInfo(){this.modelPaymentInfo=[],Object(d.a)(this.requestObs).subscribe(e=>{e&&(e.forEach(e=>{this.modelPaymentInfo=[...this.modelPaymentInfo,e]}),St(this.cdr))})}onAllDebitsSelected(){this.dilosiInfoSaved.forEach(e=>{e.isChecked=this.isAllDebitsChecked}),St(this.cdr),this._calculateTotalAmounts()}onEdit(e){this.isEditModalOpen=!0,this.selectedDilosi=Pt(e),St(this.cdr)}updateDilosiInTable(e){if(e){let t=this.dilosiInfoSaved.findIndex(t=>t.dilosiId==e.dilosiId);this.dilosiInfoSaved[t]=e,St(this.cdr)}}onBankStatusMessage(){this.bankStatusMessage=null,St(this.cdr)}}Rt.\u0275fac=function(e){return new(e||Rt)(n.Nc(rt),n.Nc(n.k),n.Nc(g.a),n.Nc(o.b))},Rt.\u0275cmp=n.Hc({type:Rt,selectors:[["app-katastimata-saved"]],inputs:{dilosiInfoSaved:"dilosiInfoSaved",userInfo:"userInfo",diloseisInfoResponse:"diloseisInfoResponse",epixeirisiInfo:"epixeirisiInfo",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",isLoading:"isLoading"},outputs:{reloadData:"reloadData"},features:[n.yc],decls:7,vars:10,consts:[[3,"severity","text","styleClass",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],["selectedDebits",""],["header","\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange","onHide"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","updateSaved",4,"ngIf"],[3,"severity","text","styleClass"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],["class","debits-info__selected-debits",4,"ngIf"],[1,"mt-1"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["class","screen-msg",4,"ngIf"],[1,"debits-info__selected-debits"],[4,"ngTemplateOutlet"],[1,"fixed-width-col-40","text-center"],[3,"binary","ngModel","ngModelChange","onChange"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-170"],[1,"fixed-width-col-100"],[1,"fixed-width-col-80"],[1,"fixed-width-col-120"],[1,"p-column-title"],[1,"text-center","fixed-width-col-80"],["class","fas fa-check",4,"ngIf"],[1,"fixed-width-col-120","text-right"],[1,"fixed-width-col-100","text-right"],[1,"fixed-width-col-120","text-center"],["type","button",1,"btn","btn-primary","btn-sm","m-0",3,"click"],[1,"far","fa-edit"],[1,"fas","fa-check"],["colspan","5",1,"fixed-width-col-450","text-right"],[3,"userInfo","requestObs","errorMsg"],[1,"screen-msg"],[1,"totalPoso"],[1,"d-flex","total-selected-cost"],["id","sumTotalToBank",1,"totalPoso"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","updateSaved"]],template:function(e,t){1&e&&(n.Pd(0,be,1,3,"p-message",0),n.Pd(1,Se,3,0,"div",1),n.Pd(2,Oe,14,14,"ng-container",2),n.Pd(3,Me,20,20,"ng-template",null,3,n.Qd),n.Tc(5,"p-dialog",4),n.ed("visibleChange",(function(e){return t.isEditModalOpen=e}))("onHide",(function(){return t.isEditModalOpen=!1,t.selectedDilosi=null})),n.Pd(6,xe,1,3,"app-katastimata-create-dilosi",5),n.Sc()),2&e&&(n.pd("ngIf",t.bankStatusMessage),n.Ac(1),n.pd("ngIf",t.isLoading),n.Ac(1),n.pd("ngIf",!t.isLoading),n.Ac(3),n.Md(n.ud(9,B)),n.pd("visible",t.isEditModalOpen)("draggable",!1)("closable",!0),n.Ac(1),n.pd("ngIf",t.isEditModalOpen&&t.selectedDilosi))},directives:function(){return[b.p,R.a,C.b,D.d,x.f,b.u,T.a,y.k,y.n,Ot,vt]},pipes:function(){return[b.f,b.d]},encapsulation:2,changeDetection:0}),Rt.ctorParameters=()=>[{type:rt},{type:n.k},{type:g.a},{type:o.b}],Rt.propDecorators={dilosiInfoSaved:[{type:n.G}],diloseisInfoResponse:[{type:n.G}],userInfo:[{type:n.G}],epixeirisiInfo:[{type:n.G}],onlinePaymentsSettingsCompany:[{type:n.G}],isLoading:[{type:n.G}],reloadData:[{type:n.S}]};const Ct=[{path:"",component:kt,children:[{path:"",pathMatch:"full",redirectTo:"receipts"},{path:"receipts",component:Tt},{path:"saved",component:Rt}]}];class At{}At.\u0275mod=n.Lc({type:At}),At.\u0275inj=n.Kc({factory:function(e){return new(e||At)},imports:[[g.g.forChild(Ct)],g.g]}),("undefined"==typeof ngJitMode||ngJitMode)&&n.Jd(At,{imports:function(){return[g.g]},exports:function(){return[g.g]}});class Dt{constructor(e,t,i){this.katastimataNgSrv=e,this.toasterSrv=t,this.cdr=i,this.loadingSimplifyModal=new n.x,this.createRequest=new n.x,this.isLoadingPaymentSettings=new n.x,this.isUserDataValid=new n.x,this.onDestroy=new c.a,this.paymentMethodsClass="pm-size-2",this.requestBankData=!1,this.errorMessageProfile=null,this.isFormSubmitted=!1,this.formDictionaryEnum=gt}ngOnInit(){}ngOnDestroy(){this.onDestroy.next()}ngOnChanges(e){e&&e.paymentResponseDto&&(this.paymentResponseDto=e.paymentResponseDto.currentValue),St(this.cdr)}btnPayClicked(e){this.selectedPaymentMethod=e||this.onlinePaymentSettings.paymentMethods.filter(e=>e.key==this.onlinePaymentSettings.defaultPaymentMethodKey)[0],this.paymentRequestDto?this.paymentRequestDto.paymentMethodKey=this.selectedPaymentMethod.key:this.paymentRequestDto=null,AppConfOptions&&AppConfOptions.oroi_xrisis_link&&""!=AppConfOptions.oroi_xrisis_link?(this.termsLink=AppConfOptions.oroi_xrisis_link,this.isTermsModalOpen=!0,St(this.cdr)):this.paymentRequestDto&&"PIRBGRAA"!=this.paymentRequestDto.paymentMethodKey?this.createRequest.emit(!0):this.paymentRequestDto&&"PIRBGRAA"==this.paymentRequestDto.paymentMethodKey&&(this.requestBankData=!0,this.showMethods=!1,St(this.cdr))}onEthnikiPaymentRequestSucceded(e){this.paymentResponseDto=e,this.loadingSimplifyModal.emit(!0);let t=document.getElementById("ethnikiPaymentBtn");t.setAttribute("data-amount",e.postFields.amount),t.setAttribute("data-reference",e.postFields.reference),t.setAttribute("data-sc-key",this.ethnikiPaymentMethod.parameters.publicKey),this.loadingSimplifyModal.emit(!1),setTimeout(()=>{t.click()}),SimplifyCommerce.hostedPayments(t=>{if(t){var i="data"in t;if("close"in t&&1==t.close){let t=document.createElement("input");t.setAttribute("name","PaymentStatus"),t.setAttribute("value","CLOSED"),t.setAttribute("type","text"),t.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(t);let i=document.createElement("input");i.setAttribute("name","Reference"),i.setAttribute("value",e.postFields.reference),i.setAttribute("type","text"),i.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(i),setTimeout(()=>{this._submiToOikonomiki()})}else if(i){let i=t;for(var s in i)if(i.hasOwnProperty(s)&&"data"==s)for(var n in i.data)i.data.hasOwnProperty(n)&&"object"==typeof i.data[n]&&delete i.data[n];("ErrorCode"in i||"declineReason"in i)&&(i.Reference=e.postFields.reference);for(let e of Object.keys(i)){let t=i[e],s=document.createElement("input");s.setAttribute("name",e),s.setAttribute("value",t),s.setAttribute("type","text"),s.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(s)}setTimeout(()=>{this._submiToOikonomiki()})}}},{operation:"create.payment",scKey:this.ethnikiPaymentMethod.parameters.publicKey,color:"#204969",currency:"EUR",amount:e.postFields.amount,reference:e.postFields.reference,masterpass:e.postFields.masterpass})}onPancretaPaymentRequestSucceded(e){this.paymentResponseDto=e,St(this.cdr);let t=document.createElement("script");t.id="script_2_pancreta",document.body.appendChild(t),document.getElementById("script_2_pancreta").innerHTML='var everypay = Everypay("'+this.pancretaPaymentMethod.parameters.publicKey+'", { locale: "el" });',setTimeout(()=>{let t=document.createElement("script");t.id="script_3_pancreta",document.body.appendChild(t),document.getElementById("script_3_pancreta").innerHTML=`everypay.button("#everypay-btn-container", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"amount": ${e.postFields.amount},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"locale": "el",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"on_token_received": function(token, showError, hideForm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (token) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_token").value = token;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_form").submit();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\tdocument.getElementById("everypay-btn-container").querySelectorAll("button")[0].click();`})}onTermsChanged(e){e&&"true"==e&&this.createRequest.emit(!0),this.isTermsModalOpen=!1,St(this.cdr)}_addPaymentRequest(e){e&&(this.paymentRequestDto=e),this.katastimataNgSrv.getPaymentSettings().pipe(Object(m.a)(this.onDestroy)).subscribe(t=>{if(t){this.onlinePaymentSettings=t,this.onlinePaymentSettings.paymentMethods.length&&this.onlinePaymentSettings.paymentMethods.forEach(e=>{if(e.services&&e.services.length>0)for(let t=0;t<e.services.length;t++)e.services[t]=e.services[t].toLowerCase()}),this.pancretaPaymentMethod=this.onlinePaymentSettings.paymentMethods.find(e=>"STPGGRAA"==e.key),document.getElementById("script_1_pancreta")||this.pancretaPaymentMethod&&this._loadPancretaScripts(this.pancretaPaymentMethod),this.ethnikiPaymentMethod=this.onlinePaymentSettings.paymentMethods.find(e=>"ETHNGRAA"==e.key),document.getElementById("script_1_ethniki")||this.ethnikiPaymentMethod&&this.ethnikiPaymentMethod.parameters&&this._loadEthnikiScripts(this.ethnikiPaymentMethod);let i=this.onlinePaymentSettings.paymentMethods.length;this.paymentMethodsClass=i<=2?"pm-size-2":"pm-size-3",this.selectedPaymentMethod||(this.onlinePaymentSettings&&this.onlinePaymentSettings.defaultPaymentMethodKey?this.selectedPaymentMethod=this.onlinePaymentSettings.paymentMethods.filter(e=>e.key==this.onlinePaymentSettings.defaultPaymentMethodKey)[0]:this.onlinePaymentSettings&&1==this.onlinePaymentSettings.paymentMethods.length&&(this.selectedPaymentMethod=this.onlinePaymentSettings.paymentMethods[0])),this.paymentRequestDto&&this.selectedPaymentMethod?(this.isLoadingPaymentSettings.emit(!1),this.paymentRequestDto.paymentMethodKey=this.selectedPaymentMethod.key,this.katastimataNgSrv.addPaymentRequest(this.paymentRequestDto).subscribe(e=>{if(e){let t=e;t.model?this.paymentResponseDto=t.model:this.paymentResponseDto=null,this.paymentResponseDto=t.model,t.statusCode&&t.statusCode==mt.Ok?t.model.getUrl&&""!=t.model.getUrl?t.model.getUrl&&""!=t.model.getUrl&&window.open(t.model.getUrl,"_self"):this._postBankForm(t.model):t.statusCode&&t.statusCode==mt.Error?"DEBTOR_ADDRESS_REQUIRED"==t.messageId&&(this.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",this.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.")):this.toasterSrv.showError("",t.message)}this.isLoadingPaymentResponse=!1,St(this.cdr)})):this.paymentRequestDto&&this.onlinePaymentSettings&&!this.selectedPaymentMethod&&(this.isLoadingPaymentSettings.emit(!1),setTimeout(()=>{this.paymentRequestDto=e,this.showMethods=!0,this.isLoadingPaymentResponse=!1,St(this.cdr)}))}St(this.cdr)})}_postBankForm(e){if("ETHNGRAA"==this.selectedPaymentMethod.key&&null!=this.selectedPaymentMethod.parameters)this.onEthnikiPaymentRequestSucceded(e);else if("STPGGRAA"==this.selectedPaymentMethod.key)this.onPancretaPaymentRequestSucceded(e);else{var t=Object.keys(e.postFields).map((function(t){return{key:t,value:e.postFields[t]}}));e.postFields=t,this.paymentResponseDto=e,St(this.cdr),setTimeout(()=>{document.querySelector("#bankPaymentForm").submit()})}}_submiToOikonomiki(){document.querySelector("#ethniki_form").submit()}_loadEthnikiScripts(e){return new Promise((t,i)=>{const s=document.createElement("script");s.id="script_1_ethniki",s.src=e.parameters.javaScriptSource,s.onload=t,document.body.appendChild(s)})}_loadPancretaScripts(e){return new Promise((t,i)=>{const s=document.createElement("script");s.id="script_1_pancreta",s.src=e.parameters.javaScriptSource,s.onload=t,document.body.appendChild(s)})}_fixPeiraiosData(){!this.user||this.user.address&&this.user.address_city&&this.user.address_country_num&&this.user.address_zip&&this.user.phone_number?this.requestBankData=!0:(this.errorMessageProfile="\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03c0\u03c1\u03bf\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03b7 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb & \u03bd\u03b1 \u03b5\u03c0\u03b1\u03bd\u03b1\u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1.",this.toasterSrv.showError("","\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03c0\u03c1\u03bf\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03b7 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb & \u03bd\u03b1 \u03b5\u03c0\u03b1\u03bd\u03b1\u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1."),this.isUserDataValid.emit(!1)),St(this.cdr)}_submitPaymentRequest(){if(this.isFormSubmitted=!0,this.formErrorsMsg=null,St(this.cdr),this.isFormSubmitted&&this.requestBankDataForm.valid){let e=null,t=null;if(this.user.phone_number.includes("+")?(e=this.user.phone_number.substring(0,3).replace("+",""),t=this.user.phone_number.substring(3)):t=this.user.phone_number,this.paymentRequestDto.userPhone=e?e+"-"+t:"30-"+t,this.showMethods=!1,this.requestBankData=!1,this.isFormSubmitted=!1,this.formErrorsMsg=null,this.paymentRequestDto.userHomePhone=this.paymentRequestDto.userPhone,this.paymentRequestDto.userWorkPhone=this.paymentRequestDto.userPhone,this.paymentRequestDto.billingAddressCountryCode=this.user.address_country_num,this.user.address_zip){let e=+this.user.address_zip.substring(0,2);this.paymentRequestDto.billingAddressState=function(e){let t;return[10,11,12,13,14,15,16,17,18,19].includes(e)&&(t="I"),[66,65,64,67,68,69].includes(e)&&(t="A"),[54,55,56,57,58,59,60,61,62,63].includes(e)&&(t="B"),[50,51,52,53].includes(e)&&(t="C"),[44,45,46,47,48].includes(e)&&(t="D"),[37,38,40,41,42,43].includes(e)&&(t="E"),[28,29,31,49].includes(e)&&(t="F"),[25,26,27,30].includes(e)&&(t="G"),[32,33,34,35,36].includes(e)&&(t="H"),[20,21,22,23,24].includes(e)&&(t="J"),[81,82,83].includes(e)&&(t="K"),[84,85].includes(e)&&(t="L"),[70,71,72,73,74].includes(e)&&(t="M"),t||(t="I"),t}(e)}St(this.cdr),this.katastimataNgSrv.addPaymentRequest(this.paymentRequestDto).subscribe(e=>{if(e){let t=e;this.paymentResponseDto=t.model,t.statusCode==mt.Ok?t.model.getUrl&&""!=t.model.getUrl?t.model.getUrl&&""!=t.model.getUrl&&window.open(t.model.getUrl,"_self"):this._postBankForm(t.model):t.statusCode==mt.Error&&"DEBTOR_ADDRESS_REQUIRED"==t.messageId&&(this.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",this.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb."))}this.isLoadingPaymentResponse=!1,St(this.cdr)})}else this.formErrorsMsg=yt(this.requestBankDataForm,this.formDictionaryEnum,""),St(this.cdr)}_closePaymentMethods(){setTimeout(()=>{this.showMethods=!1,St(this.cdr)})}}Dt.\u0275fac=function(e){return new(e||Dt)(n.Nc(rt),n.Nc(ot),n.Nc(n.k))},Dt.\u0275cmp=n.Hc({type:Dt,selectors:[["app-payment-methods"]],viewQuery:function(e,t){var i;(1&e&&n.Wd(we,!0),2&e)&&(n.Dd(i=n.fd())&&(t.requestBankDataForm=i.first))},inputs:{paymentResponseDto:"paymentResponseDto",isLoadingPaymentResponse:"isLoadingPaymentResponse",user:"user",assetsUrl:"assetsUrl"},outputs:{loadingSimplifyModal:"loadingSimplifyModal",createRequest:"createRequest",isLoadingPaymentSettings:"isLoadingPaymentSettings",isUserDataValid:"isUserDataValid"},features:[n.yc],decls:13,vars:15,consts:[["class","bg-white","style","width: 100%; height: 100px; text-align: center;",4,"ngIf"],["severity","error",3,"text",4,"ngIf"],["header","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03a4\u03c1\u03cc\u03c0\u03bf \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange","onHide"],[4,"ngIf"],["header","\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange"],["class","form",4,"ngIf"],["id","everypay_form","method","post",3,"action",4,"ngIf"],["id","ethniki_form","method","post",3,"action",4,"ngIf"],["id","ethnikiPaymentBtn","data-name","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae",1,"d-none"],["id","bankPaymentForm","method","POST",1,"d-none",3,"action"],[1,"bg-white",2,"width","100%","height","100px","text-align","center"],[1,"d-flex","justify-content-center","align-items-center","w-100",2,"height","70%"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],["severity","error",3,"text"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["styleClass","p-card-shadow m-1 payment-card",3,"header","subheader"],[1,"text-center"],["alt","Iris","src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/iris.jpg",4,"ngIf"],["alt","Iris","src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/iris.jpg"],[4,"ngFor","ngForOf"],["alt","service","height","40",3,"src"],["alt","visa-secure","width","40",3,"src",4,"ngIf"],["alt","mastercard-id-check","width","40",3,"src",4,"ngIf"],["alt","visa-secure","width","40",3,"src"],["alt","mastercard-id-check","width","40",3,"src"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"form"],["requestBankDataForm","ngForm"],[1,"row"],[1,"form-group","col-12"],["for","cardholderName"],["id","cardholderName","name","cardholderName","type","text","placeholder","\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-danger","pt-1",3,"hidden"],[1,"row","align-items-center","justify-content-center"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-money-check"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],["id","everypay_form","method","post",3,"action"],["id","everypay-btn-container",1,"d-none"],["name","everypay_token","id","everypay_token","type","text",1,"d-none",3,"value"],["type","text",1,"d-none",3,"name","value"],["id","ethniki_form","method","post",3,"action"],["type","text",3,"name","value"]],template:function(e,t){1&e&&(n.Pd(0,_e,5,0,"div",0),n.Pd(1,Ee,1,1,"p-message",1),n.Tc(2,"p-dialog",2),n.ed("visibleChange",(function(e){return t.showMethods=e}))("onHide",(function(){return t.showMethods=!1})),n.Pd(3,Ge,2,1,"ng-container",3),n.Pd(4,$e,3,0,"div",0),n.Sc(),n.Tc(5,"p-dialog",4),n.ed("visibleChange",(function(e){return t.requestBankData&&(t.paymentRequestDto=e)})),n.Pd(6,ze,14,3,"form",5),n.Sc(),n.Pd(7,Ke,3,2,"form",6),n.Pd(8,Je,1,1,"form",7),n.Tc(9,"button",8),n.Rd(10," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\n"),n.Sc(),n.Tc(11,"form",9),n.Pd(12,Xe,2,1,"ng-container",3),n.Sc()),2&e&&(n.pd("ngIf",t.isLoadingPaymentResponse),n.Ac(1),n.pd("ngIf",t.errorMessageProfile&&""!=t.errorMessageProfile),n.Ac(1),n.pd("visible",t.showMethods)("draggable",!1)("closable",!0),n.Ac(1),n.pd("ngIf",t.onlinePaymentSettings),n.Ac(1),n.pd("ngIf",!t.onlinePaymentSettings),n.Ac(1),n.pd("visible",t.requestBankData&&t.paymentRequestDto)("draggable",!1)("closable",!0),n.Ac(1),n.pd("ngIf",t.requestBankData&&t.paymentRequestDto),n.Ac(1),n.pd("ngIf",t.pancretaPaymentMethod),n.Ac(1),n.pd("ngIf",t.ethnikiPaymentMethod),n.Ac(3),n.qd("action",null==t.paymentResponseDto?null:t.paymentResponseDto.postUrl,n.Id),n.Ac(1),n.pd("ngIf",t.paymentResponseDto))},directives:[b.p,R.a,y.v,y.l,y.m,C.b,b.o,v.a,y.b,y.s,y.k,y.n],pipes:[b.m,b.i],encapsulation:2,changeDetection:0}),Dt.ctorParameters=()=>[{type:rt},{type:ot},{type:n.k}],Dt.propDecorators={requestBankDataForm:[{type:n.mb,args:["requestBankDataForm",{static:!1}]}],paymentResponseDto:[{type:n.G}],user:[{type:n.G}],assetsUrl:[{type:n.G}],isLoadingPaymentResponse:[{type:n.G}],loadingSimplifyModal:[{type:n.S}],createRequest:[{type:n.S}],isLoadingPaymentSettings:[{type:n.S}],isUserDataValid:[{type:n.S}]};class Ot{constructor(e,t,i){this.katastimataNgSrv=e,this.toasterSrv=t,this.cdr=i,this.requestObs=null,this.canPay=!0,this.errorMsg=new n.x,this.dilosiWebPaymentInfo=[],this.paymentResponseDto=null,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.returnUrl="",this.assetsUrl="",this.isLoading=!1,this.isLoadingPaymentResponse=!1,this.isLoadingSimplifyModal=!1,this.initPaymentMethods=!1,this.isLoadingPaymentSettings=!1,this.isUserDataValid=!0}ngOnInit(){"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api,this.assetsUrl=AuthConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/katastimata/receipts")):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi,this.assetsUrl=AppConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts")),St(this.cdr),this.createWebPaymentInfo&&(this.dilosiWebPaymentInfo=[...this.dilosiWebPaymentInfo,this.createWebPaymentInfo],St(this.cdr))}ngOnChanges(e){e&&e.requestObs&&(this.requestObs=e.requestObs.currentValue,St(this.cdr)),e&&e.createWebPaymentInfo&&(this.createWebPaymentInfo=e.createWebPaymentInfo.currentValue,St(this.cdr)),e&&e.canPay&&(this.canPay=e.canPay.currentValue,St(this.cdr)),e&&e.kodikosPliromis&&(this.kodikosPliromis=e.kodikosPliromis.currentValue,St(this.cdr))}isLoadingSimplifyModalChanged(e){this.isLoadingSimplifyModal=e,St(this.cdr)}isLoadingPaymentSettingsChanged(e){this.isLoadingPaymentSettings=e,St(this.cdr)}isUserDataValidChanged(e){this.isUserDataValid=e,St(this.cdr)}_printDias(){}_payActions(){this.requestObs&&this.requestObs.length?(this.isLoading=!0,St(this.cdr),Object(d.a)(this.requestObs).subscribe(e=>{e&&(e.forEach(e=>{this.dilosiWebPaymentInfo=[...this.dilosiWebPaymentInfo,e]}),this._createPaymentRequest(),St(this.cdr))})):this.dilosiWebPaymentInfo&&this.dilosiWebPaymentInfo.length>0&&this._createPaymentRequest()}_createPaymentRequest(){this.initPaymentMethods=!0,St(this.cdr);let e={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.returnUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:"",entries:[]};this.dilosiWebPaymentInfo.forEach(t=>{let i={remittanceInfo:t.paymentCode,amount:t.paymentAmount,debtorName:t.epixirisiOfeiletisEponimia,tin:this.userInfo.tin,description:t.paymentCaption};e.entries.push(i)}),setTimeout(()=>{this.isLoadingPaymentResponse=!0,this.paymentMethodsComp._addPaymentRequest(e),St(this.cdr)})}}Ot.\u0275fac=function(e){return new(e||Ot)(n.Nc(rt),n.Nc(ot),n.Nc(n.k))},Ot.\u0275cmp=n.Hc({type:Ot,selectors:[["app-payment"]],viewQuery:function(e,t){var i;(1&e&&n.Wd(Dt,!0),2&e)&&(n.Dd(i=n.fd())&&(t.paymentMethodsComp=i.first))},inputs:{requestObs:"requestObs",canPay:"canPay",createWebPaymentInfo:"createWebPaymentInfo",kodikosPliromis:"kodikosPliromis",userInfo:"userInfo"},outputs:{errorMsg:"errorMsg"},features:[n.yc],decls:4,vars:3,consts:[[1,"debits-info_right","d-flex","align-items-center","justify-content-center","flex-column"],[4,"ngIf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],[3,"assetsUrl","user","isLoadingPaymentResponse","createRequest","loadingSimplifyModal","isLoadingPaymentSettings","isUserDataValid",4,"ngIf"],["class","btn btn-info mb-1 px-4 font-weight-bold","style","width: 175px;","target","_blank",3,"href",4,"ngIf"],["class","btn btn-warning mb-2 px-4 font-weight-bold","style","width: 175px;","type","button",3,"disabled","click",4,"ngIf"],["target","_blank",1,"btn","btn-info","mb-1","px-4","font-weight-bold",2,"width","175px",3,"href"],["aria-hidden","true",1,"fas","fa-print"],["type","button",1,"btn","btn-warning","mb-2","px-4","font-weight-bold",2,"width","175px",3,"disabled","click"],["aria-hidden","true",1,"far","fa-credit-card"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa.svg","alt","visa","height","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard.svg","alt","mastercard","height","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/maestro.svg","alt","maestro","height","40",1,"mr-1"],["alt","visa-secure","width","40",1,"mr-1",3,"src"],["alt","mastercard-id-check","width","40",3,"src"],[1,"d-flex","justify-content-center","align-items-center"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],[3,"assetsUrl","user","isLoadingPaymentResponse","createRequest","loadingSimplifyModal","isLoadingPaymentSettings","isUserDataValid"]],template:function(e,t){1&e&&(n.Tc(0,"div",0),n.Pd(1,it,4,3,"ng-container",1),n.Pd(2,st,2,0,"span",2),n.Sc(),n.Pd(3,nt,1,3,"app-payment-methods",3)),2&e&&(n.Ac(1),n.pd("ngIf",!t.isLoadingPaymentSettings&&t.createWebPaymentInfo),n.Ac(1),n.pd("ngIf",t.isLoadingPaymentSettings),n.Ac(1),n.pd("ngIf",t.initPaymentMethods))},directives:[b.p,Dt],encapsulation:2}),Ot.ctorParameters=()=>[{type:rt},{type:ot},{type:n.k}],Ot.propDecorators={paymentMethodsComp:[{type:n.mb,args:[Dt,{static:!1}]}],requestObs:[{type:n.G}],createWebPaymentInfo:[{type:n.G}],userInfo:[{type:n.G}],canPay:[{type:n.G}],kodikosPliromis:[{type:n.G}],errorMsg:[{type:n.S}]};class Mt{constructor(e,t,i){this.http=e,this.sanitizer=t,this.toasterSrv=i}transform(e){return this.http.get(e,{responseType:"blob"}).pipe(Object(l.a)(e=>this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(e))),Object(p.a)(e=>function(e,t){let i="";if(e.error instanceof Error&&e.error&&e.error.message||void 0!==e.error&&e.error&&e.error.message)i=""+e.error.message;else switch(e.status){case 403:i="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. \n";break;case 401:i="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. \n",setTimeout(()=>window.location.reload(),1e3);break;default:i=`\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1 \u03bc\u03b5 \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc ${e.status}, \u03ba\u03b1\u03b9 \u03c0\u03b5\u03c1\u03b9\u03b5\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf: ${void 0!==e.body?e.body.error:void 0!==e.message?e.message:""}`}return t.showError("\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1",""+i),Object(a.a)(!1)}(e,this.toasterSrv)))}}Mt.\u0275fac=function(e){return new(e||Mt)(n.Nc(o.b),n.Nc(M.b),n.Nc(ot))},Mt.\u0275pipe=n.Mc({name:"securePlg",type:Mt,pure:!0}),Mt.ctorParameters=()=>[{type:o.b},{type:M.b},{type:ot}];const xt={align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."};class wt{}wt.\u0275mod=n.Lc({type:wt}),wt.\u0275inj=n.Kc({factory:function(e){return new(e||wt)},providers:[{provide:k.a,useValue:xt}],imports:[[b.c,y.e,At,S.c,O.c,I.b,D.e,T.b,R.b,C.a,A.b,v.b,k.c,P.c]]}),("undefined"==typeof ngJitMode||ngJitMode)&&n.Jd(wt,{declarations:function(){return[kt,vt,Tt,Rt,Ot,Dt,Mt]},imports:function(){return[b.c,y.e,At,S.c,O.c,I.b,D.e,T.b,R.b,C.a,A.b,v.b,k.c,P.c]},exports:function(){return[kt]}});var _t=i("1kSV"),Et=i("PCNd"),Ut=i("zazq");let Ft=class{constructor(e){this.oidcSecuritySrv=e,this.onDestroy=new c.a}ngOnInit(){this.oidcSecuritySrv.getIsAuthorized().pipe(Object(m.a)(this.onDestroy)).subscribe(e=>{this.isAuthorized=e,AppConfOptions&&AppConfOptions.katastimata_tab_info&&""!=AppConfOptions.katastimata_tab_info&&(this.tabMsg=AppConfOptions.katastimata_tab_info)})}ngOnDestroy(){this.onDestroy.next()}};Ft.ctorParameters=()=>[{type:Ut.c}],Ft=Object(s.b)([Object(n.n)({selector:"app-katastimata",template:'<p-message *ngIf="!isAuthorized"\r\n\t\t\t  severity="warn"\r\n\t\t\t  text="\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd.">\r\n</p-message>\r\n\r\n<div *ngIf="isAuthorized"\r\n\t  class="card p-2">\r\n\t<p-panel *ngIf="tabMsg"\r\n\t\t\t\theader="\u03a0\u03bb\u03b7\u03c1\u03bf\u03c6\u03bf\u03c1\u03af\u03b5\u03c2"\r\n\t\t\t\t[styleClass]="\'tab-msg mb-3\'"\r\n\t\t\t\t[toggleable]="true">\r\n\t\t<div [innerHTML]="tabMsg | decodeHtmlString"></div>\r\n\t</p-panel>\r\n\r\n\t<lib-katastimata-ng></lib-katastimata-ng>\r\n</div>\r\n'}),Object(s.c)("design:paramtypes",[Ut.c])],Ft);const Lt=[{path:"",component:Ft,children:[{path:"",loadChildren:()=>Promise.resolve().then(i.bind(null,"QHsS")).then(e=>e.PublicLibLoader)}]}];let jt=class{};jt=Object(s.b)([Object(n.L)({imports:[g.g.forChild(Lt)],exports:[g.g]})],jt);let qt=class{};qt=Object(s.b)([Object(n.L)({declarations:[Ft],imports:[Et.a,_t.d,jt,wt]})],qt);let Nt=class{};Nt=Object(s.b)([Object(n.L)({imports:[wt]})],Nt)}}]);