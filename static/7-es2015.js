(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{MX7W:function(t,e,n){"use strict";n.r(e),e.default='<div *ngIf="!receipts || isLoading"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 300px">\r\n\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n</div>\r\n\r\n<div class="d-flex w-100 justify-content-center"\r\n\t  *ngIf="receiptsMessage">\r\n\t<p class="alert alert-warning mt-2 p-1">\r\n\t\t{{ receiptsMessage }}\r\n\t</p>\r\n</div>\r\n\r\n<div *ngIf="bankStatusMessage"\r\n\t  class="bank-msg {{ bankStatusMessageClass }}">\r\n\t<button (click)=\'btnBankStatusMessageClicked()\'\r\n\t\t\t  class="close-bank-msg"><i class="fas fa-times"\r\n\t\t\taria-hidden="true"></i></button>\r\n\t{{ bankStatusMessage }}\r\n</div>\r\n\r\n<ng-container *ngIf="receipts && !isLoading">\r\n\t<div *ngIf=\'receipts.entries && receipts.entries.length\'\r\n\t\t  class="receipts-info">\r\n\t\t<div class="searchFilters">\r\n\t\t\t<h4>\u03a6\u03af\u03bb\u03c4\u03c1\u03b1 \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7\u03c2</h4>\r\n\t\t\t<form class="form">\r\n\t\t\t\t<div class="row">\r\n\t\t\t\t\t<div class="form-group col-12 col-sm-6 col-md-4">\r\n\t\t\t\t\t\t<label for="hmerominiaApodiksisRange">\u0395\u03cd\u03c1\u03bf\u03c2 \u0397\u03bc. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2:</label>\r\n\t\t\t\t\t\t<p-calendar [locale]="locale"\r\n\t\t\t\t\t\t\t\t\t\tdateFormat="dd/mm/yy"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder="\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7"\r\n\t\t\t\t\t\t\t\t\t\t[monthNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearRange]="yearRange"\r\n\t\t\t\t\t\t\t\t\t\tname="hmerominiaApodiksisRange"\r\n\t\t\t\t\t\t\t\t\t\t[style]="{ width: \'100%\' }"\r\n\t\t\t\t\t\t\t\t\t\t[showIcon]="true"\r\n\t\t\t\t\t\t\t\t\t\t[showTime]="false"\r\n\t\t\t\t\t\t\t\t\t\tselectionMode="range"\r\n\t\t\t\t\t\t\t\t\t\t[readonlyInput]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="hmerominiaApodiksisRange">\r\n\t\t\t\t\t\t</p-calendar>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="form-group col-12 col-sm-6 col-md-4">\r\n\t\t\t\t\t\t<label for="exchangeDatepicker">\u0395\u03cd\u03c1\u03bf\u03c2 \u0397\u03bc. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2:</label>\r\n\t\t\t\t\t\t<p-calendar [locale]="locale"\r\n\t\t\t\t\t\t\t\t\t\tdateFormat="dd/mm/yy"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder="\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7"\r\n\t\t\t\t\t\t\t\t\t\t[monthNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearRange]="yearRange"\r\n\t\t\t\t\t\t\t\t\t\tname="hmerominiaSinallagisRange"\r\n\t\t\t\t\t\t\t\t\t\t[style]="{ width: \'100%\' }"\r\n\t\t\t\t\t\t\t\t\t\t[showIcon]="true"\r\n\t\t\t\t\t\t\t\t\t\t[showTime]="false"\r\n\t\t\t\t\t\t\t\t\t\tselectionMode="range"\r\n\t\t\t\t\t\t\t\t\t\t[readonlyInput]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="hmerominiaSinallagisRange">\r\n\t\t\t\t\t\t</p-calendar>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="form-group col-12 col-sm-6 col-md-4">\r\n\t\t\t\t\t\t<label for="recType">\u03a4\u03c1\u03cc\u03c0\u03bf\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2:</label>\r\n\t\t\t\t\t\t<ng-select [items]="tropoiPliromis"\r\n\t\t\t\t\t\t\t\t\t  bindLabel="perigrafi"\r\n\t\t\t\t\t\t\t\t\t  bindValue="id"\r\n\t\t\t\t\t\t\t\t\t  name="recType"\r\n\t\t\t\t\t\t\t\t\t  [(ngModel)]="receiptType"\r\n\t\t\t\t\t\t\t\t\t  [searchable]="false"\r\n\t\t\t\t\t\t\t\t\t  [clearable]="false">\r\n\t\t\t\t\t\t</ng-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class="form-buttons d-flex flex-wrap">\r\n\t\t\t\t\t<button (click)="btnApplyFiltersClicked()"\r\n\t\t\t\t\t\t\t  type="button"\r\n\t\t\t\t\t\t\t  class="btn btn-primary mr-1"><i class="fas fa-search fa-fw"\r\n\t\t\t\t\t\t\taria-hidden="true"></i> \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7</button>\r\n\t\t\t\t\t<button (click)="btnCleanFiltersClicked()"\r\n\t\t\t\t\t\t\t  type="button"\r\n\t\t\t\t\t\t\t  class="btn btn-warning"><i class="fas fa-times fa-fw"\r\n\t\t\t\t\t\t\taria-hidden="true"></i> \u039a\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\r\n\t\t<legend class="d-flex flex-wrap mb-1"\r\n\t\t\t\t  style="font-size: 14px;">\r\n\t\t\t<span class="mr-1"><i class="fas fa-desktop fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03bc\u03ad\u03c3\u03c9 \u03c4\u03bf\u03c5 Online \u03a3\u03c5\u03c3\u03c4\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</span>\r\n\t\t\t<span class="mr-1"><i class="far fa-building fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf</span>\r\n\t\t</legend>\r\n\r\n\t\t<p><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0391\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03c9\u03bd: {{orderedReceiptsFiltered?.length }}</strong></p>\r\n\r\n\t\t<p-table [value]="orderedReceiptsFiltered"\r\n\t\t\t\t\t[autoLayout]="true"\r\n\t\t\t\t\t[responsive]="true"\r\n\t\t\t\t\t[scrollable]="true"\r\n\t\t\t\t\t[lazy]="false"\r\n\t\t\t\t\t[paginator]="true"\r\n\t\t\t\t\t[alwaysShowPaginator]="false"\r\n\t\t\t\t\t[rows]="10"\r\n\t\t\t\t\t[totalRecords]="orderedReceiptsFiltered.length"\r\n\t\t\t\t\t[loading]="isLoading">\r\n\t\t\t<ng-template pTemplate="header">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th class="fixed-width-col-40">\u0395\u03af\u03b4\u03bf\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0391\u03c1. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0397\u03bc. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0391\u03c1. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0397\u03bc. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-150">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u03a0\u03bf\u03c3\u03cc</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="body"\r\n\t\t\t\t\t\t\t let-dto\r\n\t\t\t\t\t\t\t let-rowIndex="rowIndex">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0395\u03af\u03b4\u03bf\u03c2</span>\r\n\t\t\t\t\t\t<i class="{{ dto.icon }}"\r\n\t\t\t\t\t\t\taria-hidden="true"></i>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0391\u03c1. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.receiptIncrNr }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0397\u03bc. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.receiptDateCreated | date:\'dd/LL/yyyy\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0391\u03c1. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.bankTxnPaymentRef }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0397\u03bc. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.bankTxnDateCreated | date:\'dd/LL/yyyy\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-150">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae</span>\r\n\t\t\t\t\t\t{{ dto.description }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60 text-right">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a0\u03bf\u03c3\u03cc</span>\r\n\t\t\t\t\t\t{{ dto.paymentTotal | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60 text-center">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</span>\r\n\t\t\t\t\t\t<a *ngIf=\'dto.receiptId && dto.bankTxnUid\'\r\n\t\t\t\t\t\t\thref="{{ receiptsUrlBase }}api/PersistedDebits/GetPaymentFile/{{ dto.bankTxnUid }}"\r\n\t\t\t\t\t\t\ttarget="_blank"\r\n\t\t\t\t\t\t\trel="noopener"><i class="far fa-file-pdf"\r\n\t\t\t\t\t\t\t\taria-hidden="true"></i></a>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="footer">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="fixed-width-col-430 text-right"\r\n\t\t\t\t\t\t colspan="6">\r\n\t\t\t\t\t\t<strong>\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-120"\r\n\t\t\t\t\t\t colspan="2">\r\n\t\t\t\t\t\t<strong>{{ totalPoso | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="emptymessage">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td colspan="8">\r\n\t\t\t\t\t\t\u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2 \u03bc\u03b5 \u03c4\u03b1 \u03ba\u03c1\u03b9\u03c4\u03ae\u03c1\u03b9\u03b1 \u03c0\u03bf\u03c5 \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9.\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t</p-table>\r\n\t\t<p class="mt-1"><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0391\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03c9\u03bd: {{orderedReceiptsFiltered?.length }}</strong></p>\r\n\r\n\t\t<legend class="d-flex flex-wrap mt-1 mb-1"\r\n\t\t\t\t  style="font-size: 14px;">\r\n\t\t\t<span class="mr-1"><i class="fas fa-desktop fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03bc\u03ad\u03c3\u03c9 \u03c4\u03bf\u03c5 Online \u03a3\u03c5\u03c3\u03c4\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</span>\r\n\t\t\t<span class="mr-1"><i class="far fa-building fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf</span>\r\n\t\t</legend>\r\n\t</div>\r\n</ng-container>\r\n'},QXyn:function(t,e,n){"use strict";n.r(e),e.default='<div *ngIf="!isAuthorized"\r\n\t  class="screen-msg">\r\n\t<p class="alert alert-warning w-100 text-center p-1">\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd</p>\r\n</div>\r\n\r\n<p-tabView *ngIf="isAuthorized"\r\n\t\t\t  [activeIndex]="index"\r\n\t\t\t  (onChange)="onTabChanged($event)">\r\n\t<p-tabPanel header="\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ad\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd">\r\n\t\t<app-debits></app-debits>\r\n\t</p-tabPanel>\r\n\t<p-tabPanel header="\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd">\r\n\t\t<ng-template pTemplate="content">\r\n\t\t\t<app-receipts></app-receipts>\r\n\t\t</ng-template>\r\n\t</p-tabPanel>\r\n</p-tabView>\r\n'},SYTK:function(t,e,n){"use strict";n.r(e),e.default='<div *ngIf="!debits || isLoading"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 300px">\r\n\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n</div>\r\n\r\n<div *ngIf="isLoadingSimplifyModal"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 100px; text-align: center;">\r\n\t<span class="d-flex justify-content-center align-items-center w-100"\r\n\t\t\tstyle="height: 70%;">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n\t<span>\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bc\u03ad\u03bd\u03b5\u03c4\u03b5, \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03bf\u03cd\u03bc\u03b5 \u03bc\u03b5 \u03c4\u03b7\u03bd \u03c4\u03c1\u03ac\u03c0\u03b5\u03b6\u03b1 \u03b3\u03b9\u03b1 \u03c4\u03b7 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03c3\u03b1\u03c2.</span>\r\n</div>\r\n\r\n<div class="d-flex w-100 justify-content-center"\r\n\t  *ngIf="debitsMessage">\r\n\t<div class="alert alert-warning mt-2 p-1">\r\n\t\t{{ debitsMessage }}\r\n\t</div>\r\n</div>\r\n\r\n<div class="d-flex w-100 justify-content-center"\r\n\t  *ngIf="errorMessageProfile">\r\n\t<div class="screen-msg mt-2 p-1">\r\n\t\t{{ errorMessageProfile }}\r\n\t</div>\r\n</div>\r\n\r\n<div *ngIf="debits && !isLoading">\r\n\t\x3c!-- Epilegmenes Ofeiles --\x3e\r\n\t<ng-container *ngIf="debits.entries && debits.entries.length">\r\n\t\t<div *ngIf="calculatedChecked.countChecked > 0"\r\n\t\t\t  class="debits-info__selected-debits">\r\n\t\t\t<ng-container *ngTemplateOutlet="selectedDebits"></ng-container>\r\n\t\t\t<button *ngIf="isMobile"\r\n\t\t\t\t\t  class="btn btn-primary m-0 scroll-to-pay-btn"\r\n\t\t\t\t\t  (click)="onScrollToPaymentMethods()"><i class="fas fa-money-check fa-fw"\r\n\t\t\t\t\taria-hidden="true"></i> \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae</button>\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf="calculatedChecked.countChecked == 0 && debits.entries"\r\n\t\t\t  class="alert alert-warning text-center">\r\n\t\t\t\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03b5\u03c2 \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ad\u03c2 \u03c4\u03b9\u03c2 \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2 \u03c0\u03bf\u03c5\r\n\t\t\t\u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03b5\u03be\u03bf\u03c6\u03bb\u03ae\u03c3\u03b5\u03c4\u03b5 \u03b1\u03c0\u03cc \u03c4\u03b7\u03bd \u03c0\u03b1\u03c1\u03b1\u03ba\u03ac\u03c4\u03c9 \u03bb\u03af\u03c3\u03c4\u03b1.\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf="isNonPersistedEnabled">\r\n\t\t\t<label>\u0395\u03af\u03b4\u03bf\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2</label>\r\n\t\t\t<ng-select [items]="eidosDebit"\r\n\t\t\t\t\t\t  bindLabel="perigrafi"\r\n\t\t\t\t\t\t  bindValue="value"\r\n\t\t\t\t\t\t  name="perstType"\r\n\t\t\t\t\t\t  [(ngModel)]="selectedEidosId"\r\n\t\t\t\t\t\t  (ngModelChange)="onSelectedPersistedTypeChanged($event)"\r\n\t\t\t\t\t\t  [clearable]="false">\r\n\t\t\t</ng-select>\r\n\t\t</div>\r\n\r\n\t\t<legend *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t  class="iconTooltips d-flex flex-wrap mt-4 mb-2"\r\n\t\t\t\t  style="font-size: 14px;">\r\n\t\t\t<span class="mr-1"><i class="far fa-dot-circle fa-fw"></i> \u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae</span>\r\n\t\t\t<span class="mr-1"><i class="fas fa-dot-circle fa-fw"></i> \u039c\u03b7 \u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae</span>\r\n\t\t</legend>\r\n\r\n\t\t<p class="mt-2 mb-1"><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: {{ filteredDebits.entries?.length }}</strong></p>\r\n\t\t<p-table [value]="filteredDebits.entries"\r\n\t\t\t\t\t[autoLayout]="true"\r\n\t\t\t\t\t[responsive]="true"\r\n\t\t\t\t\t[scrollable]="true"\r\n\t\t\t\t\t[lazy]="false"\r\n\t\t\t\t\t[paginator]="true"\r\n\t\t\t\t\t[alwaysShowPaginator]="false"\r\n\t\t\t\t\t[rows]="10"\r\n\t\t\t\t\t[totalRecords]="filteredDebits.entries.length"\r\n\t\t\t\t\t[loading]="isLoading">\r\n\t\t\t<ng-template pTemplate="header">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<p-checkbox [binary]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="isAllDebitsChecked"\r\n\t\t\t\t\t\t\t\t\t\t(onChange)="onAllDebitsSelected()"></p-checkbox>\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-40">&nbsp;</th>\r\n\t\t\t\t\t<th class="fixed-width-col-40">AA</th>\r\n\t\t\t\t\t<th class="fixed-width-col-120">\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a7\u03c1\u03b7\u03bc\u03b1\u03c4\u03b9\u03ba\u03bf\u03cd \u039a\u03b1\u03c4\u03b1\u03bb\u03cc\u03b3\u03bf\u03c5</th>\r\n\t\t\t\t\t<th class="fixed-width-col-170">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u03a7\u03c1\u03ad\u03c9\u03c3\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u039a\u03b1\u03b8\u03b1\u03c1\u03cc \u03a0\u03bf\u03c3\u03cc</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u0395\u03c0\u03b9\u03b2\u03b1\u03c1\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2*</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="body"\r\n\t\t\t\t\t\t\t let-dto\r\n\t\t\t\t\t\t\t let-rowIndex="rowIndex">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae</span>\r\n\t\t\t\t\t\t<p-checkbox [binary]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="dto.isChecked"\r\n\t\t\t\t\t\t\t\t\t\t(onChange)="_calculateTotalAmounts()"></p-checkbox>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<span class="ui-column-title">&nbsp;</span>\r\n\t\t\t\t\t\t<i class="fa-fw"\r\n\t\t\t\t\t\t\t[ngClass]="dto.isBebaiomeno ? \'far fa-dot-circle\' : \'fas fa-dot-circle\'"\r\n\t\t\t\t\t\t\taria-hidden="true"></i>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-40">\r\n\t\t\t\t\t\t<span class="ui-column-title">AA</span>\r\n\t\t\t\t\t\t{{ rowIndex + 1 }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-120">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a7\u03c1\u03b7\u03bc\u03b1\u03c4\u03b9\u03ba\u03bf\u03cd \u039a\u03b1\u03c4\u03b1\u03bb\u03cc\u03b3\u03bf\u03c5</span>\r\n\t\t\t\t\t\t{{ dto.aaEggrafis }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-170">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u03a7\u03c1\u03ad\u03c9\u03c3\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.perigrafi }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.hmerominiaLixis | date:\'dd/LL/yyyy\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u039a\u03b1\u03b8\u03b1\u03c1\u03cc \u03a0\u03bf\u03c3\u03cc</span>\r\n\t\t\t\t\t\t{{ dto.currentKatharoPoso | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u0395\u03c0\u03b9\u03b2\u03b1\u03c1\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.currentProsafksisi + dto.currentKrathseis | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf</span>\r\n\t\t\t\t\t\t{{ dto.currentSynolo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="footer">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td *ngIf="!isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-470 text-right"\r\n\t\t\t\t\t\t colspan="5">\r\n\t\t\t\t\t\t<strong>\u03a3\u03cd\u03bd\u03bf\u03bb\u03b1:</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-510 text-right"\r\n\t\t\t\t\t\t colspan="6">\r\n\t\t\t\t\t\t<strong>\u03a3\u03cd\u03bd\u03bf\u03bb\u03b1:</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right"\r\n\t\t\t\t\t\t colspan="1">\r\n\t\t\t\t\t\t<strong>{{ totalCurrentKatharo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right"\r\n\t\t\t\t\t\t colspan="1">\r\n\t\t\t\t\t\t<strong>{{ totalCurrentProsafksisi | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right"\r\n\t\t\t\t\t\t colspan="1">\r\n\t\t\t\t\t\t<strong>{{ totalcurrentSynolo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t</p-table>\r\n\t\t<p class="mt-1"><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: {{ filteredDebits.entries?.length }}</strong></p>\r\n\t\t<p><small><em>* \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u03a0\u03c1\u03bf\u03c3\u03b1\u03c5\u03be\u03ae\u03c3\u03b5\u03b9\u03c2 \u03ba\u03b1\u03b9 \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u039a\u03c1\u03b1\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2</em></small></p>\r\n\r\n\t\t<div *ngIf="calculatedChecked.countChecked > 0"\r\n\t\t\t  class="debits-info__selected-debits">\r\n\t\t\t<ng-container *ngTemplateOutlet="selectedDebits"></ng-container>\r\n\t\t</div>\r\n\r\n\t\t<app-payment-methods *ngIf="onlinePaymentSettings && onlinePaymentSettings.paymentMethods"\r\n\t\t\t\t\t\t\t\t\t[showMethods]="calculatedChecked.countChecked > 0"\r\n\t\t\t\t\t\t\t\t\t[onlinePaymentSettings]="onlinePaymentSettings"\r\n\t\t\t\t\t\t\t\t\t[assetsUrl]="assetsUrl"\r\n\t\t\t\t\t\t\t\t\t[isLoadingPaymentResponse]="isLoadingPaymentResponse"\r\n\t\t\t\t\t\t\t\t\t(payBtn)="btnPayWebDebitsClicked($event)"\r\n\t\t\t\t\t\t\t\t\t(loadingSimplifyModal)="isLoadingSimplifyModalChanged($event)">\r\n\t\t</app-payment-methods>\r\n\t</ng-container>\r\n</div>\r\n\r\n<ng-template #selectedDebits>\r\n\t<p>\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 <span class="totalPoso">{{ calculatedChecked.countChecked }}\r\n\t\t\t{{ calculatedChecked.countText }}</span></p>\r\n\t<div class="d-flex total-selected-cost">\r\n\t\t<p>\u039a\u03b1\u03b8\u03b1\u03c1\u03cc \u03c3\u03cd\u03bd\u03bf\u03bb\u03bf: <span\r\n\t\t\t\t\tclass="totalPoso">{{ calculatedChecked.checkedKatharo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</span></p>\r\n\t\t<p>\u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u03b5\u03c0\u03b9\u03b2\u03b1\u03c1\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2: <span\r\n\t\t\t\t\tclass="totalPoso">{{ calculatedChecked.checkedEpivarinseis | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</span></p>\r\n\t\t<p>\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: <span id="sumTotalToBank"\r\n\t\t\t\t\tclass="totalPoso">{{ calculatedChecked.checkedSum | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</span></p>\r\n\t</div>\r\n</ng-template>\r\n\r\n\r\n<div *ngIf="paymentResponseDto">\r\n\t<form id="bankPaymentForm"\r\n\t\t\tmethod="POST"\r\n\t\t\taction="{{ paymentResponseDto.postUrl }}"\r\n\t\t\tclass="d-none">\r\n\t\t<div *ngFor="let postField of paymentResponseDto.postFields">\r\n\t\t\t<input type="text"\r\n\t\t\t\t\t name="{{ postField.key }}"\r\n\t\t\t\t\t value="{{ postField.value }}" />\r\n\t\t</div>\r\n\t</form>\r\n</div>\r\n'},iDhx:function(t,e,n){"use strict";n.r(e),e.default='<div *ngIf="isLoadingPaymentResponse"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 100px; text-align: center;">\r\n\t<span class="d-flex justify-content-center align-items-center w-100"\r\n\t\t\tstyle="height: 70%;">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n\t<span>\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bc\u03ad\u03bd\u03b5\u03c4\u03b5, \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03bf\u03cd\u03bc\u03b5 \u03bc\u03b5 \u03c4\u03bf \u0394\u03ae\u03bc\u03bf \u03b3\u03b9\u03b1 \u03bf\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1.</span>\r\n</div>\r\n\r\n<div *ngIf="!isLoadingPaymentResponse && showMethods"\r\n\t  class="debits-info__payment text-center mt-3"\r\n\t  id="debits-info__payment">\r\n\t<h5 class="my-3">\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03a4\u03c1\u03cc\u03c0\u03bf \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</h5>\r\n\t<div class="payment-method__cont d-flex flex-wrap text-center justify-content-center">\r\n\t\t<ng-container *ngFor="let pm of onlinePaymentSettings.paymentMethods">\r\n\t\t\t<div [class]="\'payment-method d-flex flex-column align-items-center justify-content-center \' + paymentMethodsClass"\r\n\t\t\t\t  [ngClass]="selectedPaymentMethod?.key == pm.key ? \'selected\' : \'\'"\r\n\t\t\t\t  (click)="payBtnClicked(pm)"\r\n\t\t\t\t  [id]="pm.key">\r\n\t\t\t\t<i *ngIf="selectedPaymentMethod?.key == pm.key"\r\n\t\t\t\t\tclass="fas fa-check-circle"></i>\r\n\t\t\t\t<h5 *ngIf="pm.label">{{ pm.label }}</h5>\r\n\t\t\t\t<small *ngIf="pm.description"\r\n\t\t\t\t\t\t [innerHTML]="pm.description"></small>\r\n\t\t\t\t<div *ngIf="pm.key != \'IRIS\'"\r\n\t\t\t\t\t  class="payment-method__icon">\r\n\t\t\t\t\t<ng-container *ngIf="pm.services && pm.services.length > 0">\r\n\t\t\t\t\t\t<img *ngFor="let service of pm.services"\r\n\t\t\t\t\t\t\t  [src]="assetsUrl + \'images/\'+ service +\'.jpg\'"\r\n\t\t\t\t\t\t\t  [alt]="service"\r\n\t\t\t\t\t\t\t  width="40" />\r\n\t\t\t\t\t</ng-container>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div *ngIf="pm.key == \'IRIS\'"\r\n\t\t\t\t\t  class="payment-method__icon">\r\n\t\t\t\t\t<img src="{{ assetsUrl }}images/iris.jpg"\r\n\t\t\t\t\t\t  alt="Iris" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</ng-container>\r\n\t</div>\r\n</div>\r\n\r\n<form *ngIf="pancretaPaymentMethod"\r\n\t\tid="everypay_form"\r\n\t\tmethod="post"\r\n\t\taction="{{ paymentResponseDto?.postUrl }}">\r\n\t<ng-container *ngIf="paymentResponseDto">\r\n\t\t<ng-container *ngFor="let postField of paymentResponseDto.postFields | keyvalue">\r\n\t\t\t<input type="text"\r\n\t\t\t\t\t name="{{ postField.key }}"\r\n\t\t\t\t\t value="{{ postField.value }}"\r\n\t\t\t\t\t class="d-none" />\r\n\t\t</ng-container>\r\n\t\t<input name="everypay_token"\r\n\t\t\t\t id="everypay_token"\r\n\t\t\t\t type="text"\r\n\t\t\t\t value="{{ everypayToken }}"\r\n\t\t\t\t class="d-none" />\r\n\t</ng-container>\r\n\t<div id="everypay-btn-container"\r\n\t\t  class="d-none"></div>\r\n</form>\r\n\r\n<form *ngIf="ethnikiPaymentMethod"\r\n\t\tid="ethniki_form"\r\n\t\tmethod="post"\r\n\t\taction="{{ paymentResponseDto?.postUrl }}">\r\n</form>\r\n\r\n<button id="ethnikiPaymentBtn"\r\n\t\t  data-name="\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae"\r\n\t\t  class="d-none">\r\n\t\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\r\n</button>\r\n'},kpNr:function(t,e,n){"use strict";n.r(e),n.d(e,"EpaymentsModule",(function(){return G}));var r,s=n("fXoL"),i=n("1kSV"),a=n("PCNd"),o=n("zazq"),l=n("XNiG"),c=n("LRne"),d=n("z6cu"),p=n("eIep"),h=n("1G5W"),m=n("Sy1n");!function(t){t[t.Ok=1]="Ok",t[t.Error=2]="Error",t[t.Warning=3]="Warning",t[t.UndefinedError=4]="UndefinedError"}(r||(r={}));var f=n("/rUF"),u=n("iFvM"),y=n("tk/3"),g=function(t,e,n,r){var s,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,n,a):s(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},b=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let k=class{constructor(t){this.http=t,this.apiUrl=AppConfOptions.epayments_api+"api/"}getDebitsByTin(t){let e=`${this.apiUrl}PersistedDebits/getbytin/?Tin=${t.tin}`;return this.http.get(e)}addPaymentRequest(t){let e=this.apiUrl+"Banks/AddPaymentRequest";return this.http.post(e,t)}getPaymentsByTin(t){let e=`${this.apiUrl}PersistedDebits/GetPaymentInfos/?Tin=${t.tin}&Year=${t.year}`;return this.http.get(e)}getPaymentSettings(){let t=this.apiUrl+"Banks/PaymentSettings";return this.http.get(t)}postPancretaBankCallback(t){let e=this.apiUrl+"Banks/PancretaBankCallback";return this.http.post(e,t)}addNationalBankSimplifyCallback(t){let e=this.apiUrl+"Banks/NationalBankSimplifyCallback";return this.http.post(e,t)}};k.ctorParameters=()=>[{type:y.b}],k=g([Object(s.D)(),b("design:paramtypes",[y.b])],k);var v=function(t,e,n,r){var s,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,n,a):s(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},P=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},w=function(t){return t&&t.__esModule?t:{default:t}};let x=class{constructor(t,e){this.epaymentsSrv=t,this.cdr=e,this.payBtn=new s.x,this.loadingSimplifyModal=new s.x,this.paymentMethodsClass="pm-size-2"}ngOnInit(){this.onlinePaymentSettings&&this.onlinePaymentSettings.defaultPaymentMethodKey&&(this.selectedPaymentMethod=this.onlinePaymentSettings.paymentMethods.filter(t=>t.key==this.onlinePaymentSettings.defaultPaymentMethodKey)[0]),this.pancretaPaymentMethod=this.onlinePaymentSettings.paymentMethods.find(t=>"STPGGRAA"==t.key),document.getElementById("script_1_pancreta")||this.pancretaPaymentMethod&&this._loadPancretaScripts(this.pancretaPaymentMethod),this.ethnikiPaymentMethod=this.onlinePaymentSettings.paymentMethods.find(t=>"ETHNGRAA"==t.key),document.getElementById("script_1_ethniki")||this.ethnikiPaymentMethod&&this.ethnikiPaymentMethod.parameters&&this._loadEthnikiScripts(this.ethnikiPaymentMethod);let t=this.onlinePaymentSettings.paymentMethods.length;this.paymentMethodsClass=t<=2?"pm-size-2":"pm-size-3",Object(u.b)(this.cdr)}ngOnChanges(t){t&&t.onlinePaymentSettings&&(this.onlinePaymentSettings=t.onlinePaymentSettings.currentValue),t&&t.paymentResponseDto&&(this.paymentResponseDto=t.paymentResponseDto.currentValue),Object(u.b)(this.cdr)}payBtnClicked(t){this.payBtn.emit(t)}onEthnikiPaymentRequestSucceded(t){this.paymentResponseDto=t,this.loadingSimplifyModal.emit(!0);let e=document.getElementById("ethnikiPaymentBtn");e.setAttribute("data-amount",t.postFields.amount),e.setAttribute("data-reference",t.postFields.reference),e.setAttribute("data-sc-key",this.ethnikiPaymentMethod.parameters.publicKey);SimplifyCommerce.hostedPayments(e=>{if(e){if("close"in e&&1==e.close){let e=document.createElement("input");e.setAttribute("name","PaymentStatus"),e.setAttribute("value","CLOSED"),e.setAttribute("type","text"),e.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(e);let n=document.createElement("input");n.setAttribute("name","Reference"),n.setAttribute("value",t.postFields.reference),n.setAttribute("type","text"),n.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(n)}else{let n=Object(u.d)(e);"ErrorCode"in n&&(n.Reference=t.postFields.reference);for(let t of Object.keys(n)){let e=n[t],r=document.createElement("input");r.setAttribute("name",t),r.setAttribute("value",e),r.setAttribute("type","text"),r.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(r)}}document.querySelector("#ethniki_form").submit()}},{scKey:this.ethnikiPaymentMethod.parameters.publicKey,color:"#204969",currency:"EUR",amount:t.postFields.amount,reference:t.postFields.reference,masterpass:t.postFields.masterpass}).closeOnCompletion();setTimeout(()=>{e.click()},0)}onPancretaPaymentRequestSucceded(t){this.paymentResponseDto=t,Object(u.b)(this.cdr);let e=document.createElement("script");e.id="script_2_pancreta",document.body.appendChild(e),document.getElementById("script_2_pancreta").innerHTML='var everypay = Everypay("'+this.pancretaPaymentMethod.parameters.publicKey+'", { locale: "el" });',setTimeout(()=>{let e=document.createElement("script");e.id="script_3_pancreta",document.body.appendChild(e),document.getElementById("script_3_pancreta").innerHTML=`everypay.button("#everypay-btn-container", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"amount": ${t.postFields.amount},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"locale": "el",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"on_token_received": function(token, showError, hideForm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (token) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_token").value = token;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_form").submit();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\tdocument.getElementById("everypay-btn-container").querySelectorAll("button")[0].click();`})}_loadEthnikiScripts(t){return new Promise((e,n)=>{const r=document.createElement("script");r.id="script_1_ethniki",r.src=t.parameters.javaScriptSource,r.onload=e,document.body.appendChild(r)})}_loadPancretaScripts(t){return new Promise((e,n)=>{const r=document.createElement("script");r.id="script_1_pancreta",r.src=t.parameters.javaScriptSource,r.onload=e,document.body.appendChild(r)})}};x.ctorParameters=()=>[{type:k},{type:s.k}],v([Object(s.G)(),P("design:type",Object)],x.prototype,"onlinePaymentSettings",void 0),v([Object(s.G)(),P("design:type",Object)],x.prototype,"paymentResponseDto",void 0),v([Object(s.G)(),P("design:type",String)],x.prototype,"assetsUrl",void 0),v([Object(s.G)(),P("design:type",Boolean)],x.prototype,"isLoadingPaymentResponse",void 0),v([Object(s.G)(),P("design:type",Boolean)],x.prototype,"showMethods",void 0),v([Object(s.S)(),P("design:type",Object)],x.prototype,"payBtn",void 0),v([Object(s.S)(),P("design:type",Object)],x.prototype,"loadingSimplifyModal",void 0),x=v([Object(s.n)({selector:"app-payment-methods",template:w(n("iDhx")).default,changeDetection:s.j.OnPush}),P("design:paramtypes",[k,s.k])],x);var R=function(t,e,n,r){var s,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,n,a):s(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},S=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},O=function(t){return t&&t.__esModule?t:{default:t}};let C=class{constructor(t,e,n,r,s){this.toasterSrv=t,this.oidcSecuritySrv=e,this.epaymentsSrv=n,this.cdr=r,this._parent=s,this.isMobile=!1,this.isLoadingSimplifyModal=!1,this.debitsMessage=null,this.calculatedChecked={countChecked:0,countText:"\u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2",checkedSum:0,checkedKatharo:0,checkedProsafksisis:0},this.isAllDebitsChecked=!1,this.errorMessageProfile=null,this.isLoading=!0,this.isLoadingPaymentResponse=!1,this.eidosDebit=[{value:0,perigrafi:"\u038c\u03bb\u03b5\u03c2"},{value:1,perigrafi:"\u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b5\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2"},{value:2,perigrafi:"\u039c\u03b7 \u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b5\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2"}],this.selectedEidosId=0,this.onDestroy=new l.a}ngOnInit(){this.isMobile=this._parent.isMobile,this.assetsUrl=this._parent.assetsUrl,this.isNonPersistedEnabled=AppConfOptions.show_non_persisted_debits,this.oidcSecuritySrv.getUserData().pipe(Object(p.a)(t=>t?(this.user=t,this.epaymentsSrv.getPaymentSettings()):Object(c.a)(!1)),Object(h.a)(this.onDestroy)).subscribe(t=>{t&&(this.onlinePaymentSettings=t,Object(u.b)(this.cdr),this._initDebitsByTin()),this.isLoading=!1,this.cdr.markForCheck()},t=>console.log("Error:",t),()=>console.log("Completed"))}ngAfterViewInit(){}ngOnDestroy(){this.onDestroy.next()}btnPayWebDebitsClicked(t){this.selectedPaymentMethod=t||this.onlinePaymentSettings.paymentMethods.filter(t=>t.key==this.onlinePaymentSettings.defaultPaymentMethodKey)[0];let e=this.debits.entries.filter(t=>t.isChecked),n={tinRelated:this.user.tin,relatedCallbackUrl:AuthConfOptions.redirect_url+"/epayments/receipts",billingAddressCity:this.user.address_city,billingAddressCountryCode:this.user.address_country_code,billingAddressZip:this.user.address_zip,billingAddress:this.user.address,userEmail:this.user.email,userPhone:this.user.phone_number,paymentMethodKey:this.selectedPaymentMethod.key,entries:[]};for(let r of e.filter(t=>t.isChecked)){let t={remittanceInfo:this._createRemittanceInfo(r),amount:r.currentSynolo,debtorName:r.eponymia,tin:this.user.tin,description:r.perigrafi};n.entries.push(t)}this.isLoadingPaymentResponse=!0,Object(u.b)(this.cdr),this.epaymentsSrv.addPaymentRequest(n).subscribe(t=>{if(t){let e=t;this.paymentResponseDto=e.model,e.statusCode==r.Ok?e.model.getUrl&&""!=e.model.getUrl?e.model.getUrl&&""!=e.model.getUrl&&window.open(e.model.getUrl,"_self"):this._postBankForm(e.model):e.statusCode==r.Error&&"DEBTOR_ADDRESS_REQUIRED"==e.messageId&&(this.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",this.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb."))}this.isLoadingPaymentResponse=!1,Object(u.b)(this.cdr)})}onAllDebitsSelected(){this.debits.entries.forEach(t=>{t.isChecked=this.isAllDebitsChecked}),Object(u.b)(this.cdr),this._calculateTotalAmounts()}onScrollToPaymentMethods(){document.getElementById("debits-info__payment").scrollIntoView({behavior:"smooth"})}onSelectedPersistedTypeChanged(t){this.selectedEidosId=+t.target.value,this.filteredDebits=JSON.parse(JSON.stringify(this.debits));const e=JSON.parse(JSON.stringify(this.debits));1===this.selectedEidosId?this.filteredDebits.entries=e.entries.filter(t=>!0===t.isBebaiomeno):2===this.selectedEidosId?this.filteredDebits.entries=e.entries.filter(t=>!1===t.isBebaiomeno):this.filteredDebits.entries=e.entries,this._fillDebitsTable(this.filteredDebits)}isLoadingSimplifyModalChanged(t){this.isLoadingSimplifyModal=t,Object(u.b)(this.cdr)}_initDebitsByTin(){this.isLoading=!0;let t={tin:this.user.tin};this.epaymentsSrv.getDebitsByTin(t).subscribe(t=>{t?(t.entries&&t.entries.length,this.debits=t,this.filteredDebits=t,Object(u.b)(this.cdr),this._fillDebitsTable(this.debits)):(this.debitsMessage=t.message,this.isLoading=!1,Object(u.b)(this.cdr),this.toasterSrv.showError("",t.message))})}_handleError(t){return Object(d.a)(t.message)}_postBankForm(t){if("ETHNGRAA"==this.selectedPaymentMethod.key&&null!=this.selectedPaymentMethod.parameters)this.paymentMethodsComp.onEthnikiPaymentRequestSucceded(t);else if("STPGGRAA"==this.selectedPaymentMethod.key)this.paymentMethodsComp.onPancretaPaymentRequestSucceded(t);else{var e=Object.keys(t.postFields).map((function(e){return{key:e,value:t.postFields[e]}}));t.postFields=e,this.paymentResponseDto=t,setTimeout(()=>{document.querySelector("#bankPaymentForm").submit()}),Object(u.b)(this.cdr)}}_fillDebitsTable(t){if(2==t.statusCode)return this.toasterSrv.showWarning("","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd."),void(this.debitsMessage="\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd.");if(4==t.statusCode)return this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03ae\u03c4\u03b1\u03bd \u03b4\u03c5\u03bd\u03b1\u03c4\u03ae \u03b7 \u03c6\u03cc\u03c1\u03c4\u03c9\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b2\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd \u03c3\u03b1\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1."),void(this.debitsMessage="\u0394\u03b5\u03bd \u03ae\u03c4\u03b1\u03bd \u03b4\u03c5\u03bd\u03b1\u03c4\u03ae \u03b7 \u03c6\u03cc\u03c1\u03c4\u03c9\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b2\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd \u03c3\u03b1\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1.");0===t.entries.length&&(this.debitsMessage="\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b3\u03b9\u03b1 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae \u03bc\u03ad\u03c3\u03c9 \u03c4\u03bf\u03c5 online \u03c3\u03c5\u03c3\u03c4\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2."),!1===this.isNonPersistedEnabled&&(t.entries=t.entries.filter(t=>!0===t.isBebaiomeno)),t.entries.forEach(t=>{t.isChecked=!1});let e=t.entries.map(t=>t.currentKatharoPoso);this.totalCurrentKatharo=e.reduce((t,e)=>t+e,0);let n=t.entries.map(t=>t.currentProsafksisi),r=t.entries.map(t=>t.currentKrathseis);this.totalCurrentProsafksisi=n.reduce((t,e)=>t+e,0)+r.reduce((t,e)=>t+e,0);let s=t.entries.map(t=>t.currentSynolo);this.totalcurrentSynolo=s.reduce((t,e)=>t+e,0),t.entries.sort((function(t,e){return Date.parse(t.hmerominiaLixis)/1e3-Date.parse(e.hmerominiaLixis)/1e3})),this.isLoading=!1,Object(u.b)(this.cdr)}_calculateTotalAmounts(){let t=0,e=0,n=0,r=0,s="\u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2";this.debits.entries.forEach(s=>{s.isChecked&&(r++,t+=s.currentSynolo,e+=s.currentKatharoPoso,n+=s.currentProsafksisi+s.currentKrathseis)}),s=1==r?"\u03bf\u03c6\u03b5\u03b9\u03bb\u03ae":"\u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2",this.calculatedChecked={countChecked:r,countText:s,checkedSum:t,checkedKatharo:e,checkedEpivarinseis:n},Object(u.b)(this.cdr)}_createRemittanceInfo(t){return t.remittanceInfo}};C.ctorParameters=()=>[{type:f.a},{type:o.c},{type:k},{type:s.k},{type:m.a}],R([Object(s.lb)(x,{static:!1}),S("design:type",x)],C.prototype,"paymentMethodsComp",void 0),R([Object(s.G)(),S("design:type",Boolean)],C.prototype,"isAuthorized",void 0),C=R([Object(s.n)({selector:"app-debits",template:O(n("SYTK")).default,changeDetection:s.j.OnPush}),S("design:paramtypes",[f.a,o.c,k,s.k,m.a])],C);var M=n("tyNb"),_=n("ofXK"),D=function(t,e,n,r){var s,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,n,a):s(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},j=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},I=function(t){return t&&t.__esModule?t:{default:t}};let T=class{constructor(t,e,n,r){this.oidcSecuritySrv=t,this.location=e,this.router=n,this.route=r,this.onDestroy=new l.a,this.index=0}ngOnInit(){this.oidcSecuritySrv.getIsAuthorized().subscribe(t=>{this.isAuthorized=t}),"receipts"===this.route.children[0].snapshot.url[0].path?this.index=1:this.index=0}ngOnDestroy(){this.onDestroy.next()}onTabChanged(t){0==t.index?this.router.navigate(["./debits"],{relativeTo:this.route}):this.router.navigate(["./receipts"],{relativeTo:this.route})}};T.ctorParameters=()=>[{type:o.c},{type:_.j},{type:M.d},{type:M.a}],D([Object(s.G)(),j("design:type",Boolean)],T.prototype,"isAuthorized",void 0),T=D([Object(s.n)({selector:"app-epayments-layout",template:I(n("QXyn")).default}),j("design:paramtypes",[o.c,_.j,M.d,M.a])],T);var E=n("wd/R"),A=function(t,e,n,r){var s,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,n,a):s(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},B=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},F=function(t){return t&&t.__esModule?t:{default:t}};let L=class{constructor(t,e,n,r,s,i){this.oidcSecuritySrv=t,this.epaymentsSrv=e,this.toasterSrv=n,this.cdr=r,this.route=s,this._http=i,this.onDestroy=new l.a,this.totalPoso=0,this.receiptsUrlBase=AppConfOptions.epayments_api,this.receiptType="all",this.isLoading=!0,this.hmerominiaApodiksisRange=null,this.hmerominiaSinallagisRange=null,this.today=new Date,this.locale=u.c,this.yearRange=u.g,this.tropoiPliromis=[{id:"all",perigrafi:"\u038c\u03bb\u03bf\u03b9"},{id:"municipality",perigrafi:"\u03a4\u03b1\u03bc\u03b5\u03af\u03bf \u0394\u03ae\u03bc\u03bf\u03c5"},{id:"bank",perigrafi:"Online"}]}ngOnInit(){this.isLoading=!0;let t=AppConfOptions.epayments_api+"api/Banks/BankMessages";this._http.get(t).pipe(Object(p.a)(t=>t?(this.oikonomikiBankMessages=t,this.oidcSecuritySrv.getUserData().pipe(Object(h.a)(this.onDestroy))):Object(c.a)(!1)),Object(p.a)(t=>t?(this.user=t,this.route.queryParams.pipe(Object(h.a)(this.onDestroy))):Object(c.a)(!1))).subscribe(t=>{if(t){let e=t;if(e.messagecode||e.paymentStatus){let t;t=e.messagecode?e.messagecode:e.paymentStatus,this.bankStatusMessage=this.oikonomikiBankMessages[t],this.bankStatusMessageClass="TRANSACTION_COMPLETED"==t||"APPROVED"==t?"success":"fail"}Object(u.b)(this.cdr),this._initReceiptsByTin()}else this.toasterSrv.showError("","\u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac..."),this.isLoading=!1,Object(u.b)(this.cdr)})}ngOnDestroy(){this.onDestroy.next()}_initReceiptsByTin(){this.isLoading=!0;let t=new Date,e={tin:this.user.tin,year:t.getFullYear()};this.epaymentsSrv.getPaymentsByTin(e).subscribe(t=>{t&&(this.receipts=t,this.totalPoso=0,this.receipts.entries&&this.receipts.entries.length>0&&this.receipts.entries.forEach(t=>{this.totalPoso+=t.receiptAmount}),!this.receipts.statusCode||2!=this.receipts.statusCode&&3!=this.receipts.statusCode?1==this.receipts.statusCode&&0==this.receipts.entries.length?(this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03b9\u03c2 \u03b5\u03af\u03c3\u03c0\u03c1\u03b1\u03be\u03b7\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2."),this.receiptsMessage="\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03b9\u03c2 \u03b5\u03af\u03c3\u03c0\u03c1\u03b1\u03be\u03b7\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2."):this._fillOrderedReceipts(this.receipts):this.receipts.responseMetadata.metadata.hasOwnProperty("REV_DEPTOR_NOT_FOUND")?(this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03b9\u03c2 \u03b5\u03af\u03c3\u03c0\u03c1\u03b1\u03be\u03b7\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2."),this.receiptsMessage="\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03b9\u03c2 \u03b5\u03af\u03c3\u03c0\u03c1\u03b1\u03be\u03b7\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2."):this.receipts.responseMetadata.metadata.hasOwnProperty("REV_MULTIPLE_DEPTORS_FOUND")&&(this.toasterSrv.showError("error","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd."),this.receiptsMessage="\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd.")),this.isLoading=!1,Object(u.b)(this.cdr)})}btnApplyFiltersClicked(){this.isLoading=!0,this.orderedReceiptsFiltered=Object(u.a)(this.orderedReceipts),this.hmerominiaApodiksisRange&&(this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter(t=>!!E.utc(t.receiptDateCreated).isBetween(E.utc(this.hmerominiaApodiksisRange[0]),E.utc(this.hmerominiaApodiksisRange[1]).add(1,"day")))),this.hmerominiaSinallagisRange&&(this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter(t=>!!E(t.bankTxnDateCreated).isBetween(E(this.hmerominiaSinallagisRange[0]),E(this.hmerominiaSinallagisRange[1]).add(1,"day")))),Object(u.b)(this.cdr),this._filterByType()}btnCleanFiltersClicked(){this.orderedReceiptsFiltered=Object(u.a)(this.orderedReceipts),this.hmerominiaApodiksisRange=null,this.hmerominiaSinallagisRange=null,this.receiptType,Object(u.b)(this.cdr)}_filterByType(){"bank"==this.receiptType?this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter(t=>0!=t.isOnline):"municipality"==this.receiptType&&(this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter(t=>1!=t.isOnline)),this.isLoading=!1,Object(u.b)(this.cdr)}btnBankStatusMessageClicked(){this.bankStatusMessage=null,this._initReceiptsByTin()}_fillOrderedReceipts(t=null){null==t&&(t=this.receipts);let e=this.receipts.entries.filter(t=>null===t.receiptDateCreated),n=this.receipts.entries.filter(t=>null!=t.receiptDateCreated);this.orderedReceipts=n.sort((function(t,e){if(e.receiptDateCreated!==t.receiptDateCreated)return e.receiptDateCreated>t.receiptDateCreated;return parseInt(e.receiptIncrNr.split("/").pop())>parseInt(t.receiptIncrNr.split("/").pop())})),0!=e.length&&e.forEach(t=>{this.orderedReceipts.unshift(t)}),this.orderedReceipts.forEach(t=>{0==t.isOnline?t.icon="far fa-building":t.icon="fas fa-desktop",null==t.bankTxnDescr?t.description=t.receiptDescr:t.description=t.bankTxnDescr,null==t.bankTxnPaymentTotal?t.paymentTotal=t.receiptAmount:t.paymentTotal=t.bankTxnPaymentTotal,null!=t.receiptId&&null!=t.bankTxnUid?t.link='<a href="'+AppConfOptions.epayments_api+"/api/PersistedDebits/GetPaymentFile/"+t.bankTxnUid+'" target="_blank"><i class="far fa-file-pdf"></i></a>':t.link=""}),this.orderedReceiptsFiltered=Object(u.a)(this.orderedReceipts),Object(u.b)(this.cdr)}handleError(t){return console.log(t.message),console.log(t.error),Object(d.a)(t.message)}};L.ctorParameters=()=>[{type:o.c},{type:k},{type:f.a},{type:s.k},{type:M.a},{type:y.b}],A([Object(s.G)(),B("design:type",Boolean)],L.prototype,"isAuthorized",void 0),L=A([Object(s.n)({selector:"app-receipts",template:F(n("MX7W")).default,changeDetection:s.j.OnPush}),B("design:paramtypes",[o.c,k,f.a,s.k,M.a,y.b])],L);var U=function(t,e,n,r){var s,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,n,a):s(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};const N=[{path:"",component:T,children:[{path:"",pathMatch:"full",redirectTo:"debits"},{path:"debits",component:C},{path:"receipts",component:L}]}];let K=class{};K=U([Object(s.L)({imports:[M.e.forChild(N)],exports:[M.e]})],K);var z=function(t,e,n,r){var s,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,n,a):s(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};let G=class{};G=z([Object(s.L)({imports:[K,a.a,i.d],declarations:[T,C,L,x],providers:[k]})],G)}}]);