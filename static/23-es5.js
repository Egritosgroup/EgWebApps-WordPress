!function(){function t(n,e){return(t=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(n,e)}function n(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var o,r=i(t);if(n){var c=i(this).constructor;o=Reflect.construct(r,arguments,c)}else o=r.apply(this,arguments);return e(this,o)}}function e(t,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function r(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkegritos_group_eg_web_apps=self.webpackChunkegritos_group_eg_web_apps||[]).push([[23],{45123:function(t,n,e){var i,o,r;!function(c){if("object"==typeof t.exports){var a=c(0,n);void 0!==a&&(t.exports=a)}else o=[e,n],void 0!==(r="function"==typeof(i=c)?i.apply(n,o):i)&&(t.exports=r)}(function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=void 0;n.default=[[["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc.","\u03b1\u03c0\u03cc\u03b3.","\u03b2\u03c1\u03ac\u03b4\u03c5"],e,["\u03c4\u03bf \u03c0\u03c1\u03c9\u03af","\u03c4\u03bf \u03bc\u03b5\u03c3\u03b7\u03bc\u03ad\u03c1\u03b9","\u03c4\u03bf \u03b1\u03c0\u03cc\u03b3\u03b5\u03c5\u03bc\u03b1","\u03c4\u03bf \u03b2\u03c1\u03ac\u03b4\u03c5"]],[["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc.","\u03b1\u03c0\u03cc\u03b3.","\u03b2\u03c1\u03ac\u03b4\u03c5"],e,["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc\u03ad\u03c1\u03b9","\u03b1\u03c0\u03cc\u03b3\u03b5\u03c5\u03bc\u03b1","\u03b2\u03c1\u03ac\u03b4\u03c5"]],[["04:00","12:00"],["12:00","17:00"],["17:00","20:00"],["20:00","04:00"]]]})},26023:function(e,i,r){"use strict";r.r(i),r.d(i,{NotificationsModule:function(){return X}});var a=r(43645),s=r(35660),u=r(37716),f=r(54655),p=r(25917),l=r(79765),d=r(35758),h=r(91841),v=r(88002),b=r(5304),y=r(3679),g=r(22290),w=r(38583),m=r(49421),x=r.n(m),T=r(45123),S=r.n(T),k=r(86640),Z=r(55396),I=r(33013);function N(t,n){if(1&t&&(u.ynx(0),u._UZ(1,"i"),u.BQk()),2&t){var e=u.oxw(2).$implicit;u.xp6(1),u.Gre("fa-2x ",e.GroupIcon,"")}}function _(t,n){if(1&t&&(u.YNc(0,N,2,3,"ng-container",4),u.TgZ(1,"div",5),u.TgZ(2,"h4"),u._uU(3),u.qZA(),u.TgZ(4,"span"),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"div",6),u._UZ(7,"i",7),u.qZA()),2&t){var e=u.oxw().$implicit,i=u.oxw();u.Q6J("ngIf",e.GroupIcon),u.xp6(3),u.Oqu(e.Perigrafi),u.xp6(2),u.Oqu(i.calcEnabledTypes(e.SubscriberEnabledTypes))}}function A(t,n){if(1&t&&(u.TgZ(0,"span",12),u._uU(1),u.qZA()),2&t){var e=u.oxw(2).$implicit;u.xp6(1),u.hij(" ",e.ExtraInfoForSubscribers,"")}}function E(t,n){if(1&t){var e=u.EpF();u.TgZ(0,"div",13),u.TgZ(1,"label",14),u._uU(2),u.qZA(),u.TgZ(3,"input",15),u.NdJ("change",function(t){u.CHM(e);var n=u.oxw(2).$implicit;return u.oxw().onInputChange(t,n,n.SupportedTypes)}),u.qZA(),u._UZ(4,"label",16),u.qZA()}if(2&t){var i=u.oxw(2).$implicit;u.xp6(1),u.MGl("for","",i.NotificationGroupId,"-all"),u.xp6(1),u.hij("",0==i.SubscriberEnabledTypes?"\u0395\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7":"\u0391\u03c0\u03b5\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7"," \u038c\u03bb\u03c9\u03bd"),u.xp6(1),u.MGl("id","",i.NotificationGroupId,"-all"),u.Q6J("checked",0!=i.SubscriberEnabledTypes),u.xp6(1),u.MGl("for","",i.NotificationGroupId,"-all")}}function O(t,n){if(1&t){var e=u.EpF();u.ynx(0),u.TgZ(1,"div",17),u._UZ(2,"label",18),u.TgZ(3,"input",15),u.NdJ("change",function(t){u.CHM(e);var n=u.oxw().$implicit,i=u.oxw(2).$implicit;return u.oxw().onInputChange(t,i,n.Value)}),u.qZA(),u._UZ(4,"label",16),u.qZA(),u.BQk()}if(2&t){var i=u.oxw().$implicit,o=u.oxw(2).$implicit,r=u.oxw();u.xp6(2),u.hYB("for","",o.NotificationGroupId,"-",i.Value,""),u.Q6J("innerHTML",i.Metadata.Description+i.DisplayText,u.oJD),u.xp6(1),u.hYB("id","",o.NotificationGroupId,"-",i.Value,""),u.Q6J("checked",r.calcIfChecked(o,i.Value)),u.xp6(1),u.hYB("for","",o.NotificationGroupId,"-",i.Value,"")}}function G(t,n){if(1&t&&(u.ynx(0),u.YNc(1,O,5,8,"ng-container",4),u.BQk()),2&t){var e=n.$implicit,i=u.oxw(2).$implicit,o=u.oxw();u.xp6(1),u.Q6J("ngIf",o.isSupportedType(i.SupportedTypes,e.Value))}}function U(t,n){if(1&t&&(u.TgZ(0,"div",8),u.YNc(1,A,2,1,"span",9),u.TgZ(2,"div"),u.TgZ(3,"b",10),u._uU(4,"\u03a0\u03c9\u03c2 \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03bb\u03b1\u03bc\u03b2\u03ac\u03bd\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ad\u03c2 \u03c4\u03b9\u03c2 \u03b5\u03b9\u03b4\u03bf\u03c0\u03bf\u03b9\u03ae\u03c3\u03b5\u03b9\u03c2"),u.qZA(),u.YNc(5,E,5,5,"div",11),u.qZA(),u.YNc(6,G,2,1,"ng-container",1),u.qZA()),2&t){var e=u.oxw().$implicit,i=u.oxw();u.xp6(1),u.Q6J("ngIf",e.ExtraInfoForSubscribers),u.xp6(1),u.Tol(e.CanUnSubscribe?"has-switch":""),u.xp6(3),u.Q6J("ngIf",e.CanUnSubscribe),u.xp6(1),u.Q6J("ngForOf",i.notificationEnumTypeValues)}}function B(t,n){1&t&&(u.TgZ(0,"p-accordionTab"),u.YNc(1,_,8,3,"ng-template",2),u.YNc(2,U,7,5,"ng-template",3),u.qZA())}var C,J=((C=function(){function t(n){o(this,t),this.toastr=n}return c(t,[{key:"show",value:function(t,n,e){n&&this.toastr[e](n,t,{progressBar:!0,onActivateTick:!0})}},{key:"showError",value:function(t,n){this.show(t,n,"error")}},{key:"showInfo",value:function(t,n){this.show(t,n,"info")}},{key:"showSuccess",value:function(t,n){this.show(t,n,"success")}},{key:"showWarning",value:function(t,n){this.show(t,n,"warning")}}]),t}()).\u0275fac=function(t){return new(t||C)(u.LFG(g._W))},C.\u0275prov=(0,u.Yz7)({factory:function(){return new C((0,u.LFG)(g._W))},token:C,providedIn:"root"}),C),Y=function(){var t=c(function t(n){var e=this;o(this,t),this.toasterSrv=n,this.catchBadResponse=function(t){var n="";if(t.error instanceof Error)n="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ".concat(t.message);else if(void 0!==t.error)n="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ".concat(t.message);else switch(t.status){case 403:n="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error ".concat(t.status);break;case 401:n="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n ".concat(t.status);break;default:n="Backend returned code ".concat(t.status,", body was: ").concat(void 0!==t.body?t.body.error:void 0!==t.message?t.message:"")}return e.toasterSrv.showError("","".concat(n)),(0,p.of)(!1)}});return t.\u0275fac=function(n){return new(n||t)(u.LFG(J))},t.\u0275prov=(0,u.Yz7)({factory:function(){return new t((0,u.LFG)(J))},token:t,providedIn:"root"}),t}(),M=function(){var e=function(e){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&t(n,e)}(r,e);var i=n(r);function r(t,n,e){var c;return o(this,r),(c=i.call(this,e,t)).exceptionSrv=t,c.toasterSrv=n,c.http=e,c}return c(r,[{key:"GetAllNotificationsTypes",value:function(t){return this.http.get("".concat(this.baseUrl,"Notifications/GetAllNotificationsTypes/").concat(t))}},{key:"GetMySubscriptions",value:function(){return this.http.get("".concat(this.baseUrl,"Notifications/GetMySubscriptions"))}},{key:"UpdateSubscriptionPoliti",value:function(t){var n=this;return this.http.post("".concat(this.baseUrl,"Notifications/UpdateSubscriptionPoliti"),t).pipe((0,v.U)(function(t){return t}),(0,b.K)(function(t){return function(t,n){var e="";if(t.error instanceof Error&&t.error&&t.error.Message||void 0!==t.error&&t.error&&t.error.Message)e="".concat(t.error.Message);else switch(t.status){case 400:e=t.error;break;case 403:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. \n";break;case 401:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. \n",setTimeout(function(){return window.location.reload()},1e3);break;default:e="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1 \u03bc\u03b5 \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc ".concat(t.status,", \u03ba\u03b1\u03b9 \u03c0\u03b5\u03c1\u03b9\u03b5\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf: ").concat(void 0!==t.body?t.body.error:void 0!==t.Message?t.Message:"")}return console.log("ERRORING: ",t),n.showError("\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1","".concat(e)),(0,p.of)(!1)}(t,n.toasterSrv)}))}}]),r}(function(){return c(function t(n,e){var i=this;o(this,t),this.http=n,this.exceptionSrv=e,this.getBaseUrl=function(){return i.baseUrl},this.baseUrl+="api",this.baseUrl="undefined"!=typeof AppConfOptions&&AppConfOptions.notifications_api?AppConfOptions.notifications_api:"/",this.baseUrl+="api/"})}());return e.\u0275fac=function(t){return new(t||e)(u.LFG(Y),u.LFG(J),u.LFG(h.eN))},e.\u0275prov=(0,u.Yz7)({factory:function(){return new e((0,u.LFG)(Y),(0,u.LFG)(J),(0,u.LFG)(h.eN))},token:e,providedIn:"root"}),e}(),j=function(){var t=function(){function t(n,e,i,r){o(this,t),this.notificationsNgSrv=n,this.toasterSrv=e,this.router=i,this.route=r,this.model=[],this.onDestroy=new l.xQ,this.index=0,this.isLoading=!0}return c(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_loadData",value:function(){}},{key:"onTabChanged",value:function(t){}}]),t}();return t.\u0275fac=function(n){return new(n||t)(u.Y36(M),u.Y36(J),u.Y36(f.F0),u.Y36(f.gz))},t.\u0275cmp=u.Xpm({type:t,selectors:[["lib-notifications-ng"]],decls:2,vars:0,template:function(t,n){1&t&&(u._UZ(0,"lib-registration"),u._UZ(1,"router-outlet"))},directives:function(){return[Q,f.lC]},encapsulation:2}),t}(),q=c(function t(){o(this,t)}),F=function(){var t=function(){function t(n){o(this,t),this.notificationsNgSrv=n,this.onDestroy=new l.xQ}return c(t,[{key:"ngOnInit",value:function(){var t=this;(0,d.D)([this.notificationsNgSrv.GetMySubscriptions(),this.notificationsNgSrv.GetAllNotificationsTypes("NotificationType")]).subscribe(function(n){n&&(t.model=n[0],t.notificationEnumTypeValues=n[1])})}},{key:"ngOnDestroy",value:function(){}},{key:"toggleArrow",value:function(t){var n=document.getElementById(t.originalEvent.srcElement.id).getElementsByClassName("arrow")[0];n.children[0].className=n.children[0].classList.contains("fa-caret-down")?"fas fa-caret-up fa-2x":"fas fa-caret-down fa-2x"}},{key:"isSupportedType",value:function(t,n){return!!(t&n)}},{key:"onInputChange",value:function(t,n,e){var i=new q;i.NotificationGroupId=n.NotificationGroupId,i.SubscriberEnabledTypes=n.SubscriberEnabledTypes,n.SubscriberEnabledTypes&e?i.SubscriberEnabledTypes&=~e:i.SubscriberEnabledTypes|=e,this.notificationsNgSrv.UpdateSubscriptionPoliti(i).subscribe(function(e){e?n.SubscriberEnabledTypes=i.SubscriberEnabledTypes:t.target.checked=!0})}},{key:"calcEnabledTypes",value:function(t){for(var n="",e=0;e<this.notificationEnumTypeValues.length;e++){var i=this.notificationEnumTypeValues[e];t&i.Value&&(n+=(n.length>0?", ":"")+i.DisplayText)}return n}},{key:"calcIfChecked",value:function(t,n){return t.SubscriberEnabledTypes&n}}]),t}();return t.\u0275fac=function(n){return new(n||t)(u.Y36(M))},t.\u0275cmp=u.Xpm({type:t,selectors:[["lib-mailing-lists"]],decls:2,vars:2,consts:[["expandIcon","","collapseIcon","",3,"multiple","onOpen","onClose"],[4,"ngFor","ngForOf"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"notgroup-title"],[1,"arrow"],[1,"fas","fa-caret-down","fa-2x"],[1,"card","card-body"],["class","extra-info",4,"ngIf"],[1,"descr"],["class","switch all",4,"ngIf"],[1,"extra-info"],[1,"switch","all"],[1,"label",3,"for"],["type","checkbox",1,"input",3,"id","checked","change"],[1,"slider",3,"for"],[1,"switch"],[1,"label",3,"for","innerHTML"]],template:function(t,n){1&t&&(u.TgZ(0,"p-accordion",0),u.NdJ("onOpen",function(t){return n.toggleArrow(t)})("onClose",function(t){return n.toggleArrow(t)}),u.YNc(1,B,3,0,"p-accordionTab",1),u.qZA()),2&t&&(u.Q6J("multiple",!0),u.xp6(1),u.Q6J("ngForOf",n.model))},directives:[Z.UQ,w.sg,Z.US,I.jx,w.O5],encapsulation:2}),t}(),Q=function(){var t=function(){function t(){o(this,t)}return c(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["lib-registration"]],decls:1,vars:0,template:function(t,n){1&t&&u._UZ(0,"lib-mailing-lists")},directives:[F],encapsulation:2}),t}(),L=[{path:"",component:j,pathMatch:"full"},{path:"Notifications",component:j,pathMatch:"full"}],P=function(){var t=c(function t(){o(this,t)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[f.Bz.forChild(L)],f.Bz]}),t}();(0,w.qS)(x(),"el",S());var $=[Z.fx],D=function(){var t=c(function t(){o(this,t)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[{provide:u.soG,useValue:"el"}],imports:[[w.ez,y.u5,P,k.A0].concat($,[g.Rh.forRoot()])]}),t}(),R=r(74868);function V(t,n){1&t&&(u.ynx(0),u.TgZ(1,"div",1),u._UZ(2,"lib-notifications-ng"),u.qZA(),u.BQk())}var z=[{path:"",component:function(){var t=function(){function t(n){o(this,t),this.oidcSecuritySrv=n}return c(t,[{key:"ngOnInit",value:function(){var t=this;this.oidcSecuritySrv.isAuthenticated$.subscribe(function(n){t.isAuthorized=null!=n&&n.isAuthenticated})}}]),t}();return t.\u0275fac=function(n){return new(n||t)(u.Y36(R.J_))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-notifications"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"notifications-container","bg-white",2,"padding","30px"]],template:function(t,n){1&t&&u.YNc(0,V,3,0,"ng-container",0),2&t&&u.Q6J("ngIf",n.isAuthorized)},directives:[w.O5,j],encapsulation:2}),t}()}],H=function(){var t=c(function t(){o(this,t)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[f.Bz.forChild(z)],f.Bz]}),t}(),X=function(){var t=c(function t(){o(this,t)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[s.m,H,a.IJ,D]]}),t}()}}])}();