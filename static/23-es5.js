!function(){function t(n,e){return(t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(n,e)}function n(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var i,r=o(t);if(n){var c=o(this).constructor;i=Reflect.construct(r,arguments,c)}else i=r.apply(this,arguments);return e(this,i)}}function e(t,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function r(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,n,e){return n&&r(t.prototype,n),e&&r(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkegritos_group_eg_web_apps=self.webpackChunkegritos_group_eg_web_apps||[]).push([[23],{45123:function(t,n,e){var o,i,r;!function(c){if("object"==typeof t.exports){var a=c(0,n);void 0!==a&&(t.exports=a)}else i=[e,n],void 0!==(r="function"==typeof(o=c)?o.apply(n,i):o)&&(t.exports=r)}(function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=void 0;n.default=[[["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc.","\u03b1\u03c0\u03cc\u03b3.","\u03b2\u03c1\u03ac\u03b4\u03c5"],e,["\u03c4\u03bf \u03c0\u03c1\u03c9\u03af","\u03c4\u03bf \u03bc\u03b5\u03c3\u03b7\u03bc\u03ad\u03c1\u03b9","\u03c4\u03bf \u03b1\u03c0\u03cc\u03b3\u03b5\u03c5\u03bc\u03b1","\u03c4\u03bf \u03b2\u03c1\u03ac\u03b4\u03c5"]],[["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc.","\u03b1\u03c0\u03cc\u03b3.","\u03b2\u03c1\u03ac\u03b4\u03c5"],e,["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc\u03ad\u03c1\u03b9","\u03b1\u03c0\u03cc\u03b3\u03b5\u03c5\u03bc\u03b1","\u03b2\u03c1\u03ac\u03b4\u03c5"]],[["04:00","12:00"],["12:00","17:00"],["17:00","20:00"],["20:00","04:00"]]]})},26023:function(e,o,r){"use strict";r.r(o),r.d(o,{NotificationsModule:function(){return nt}});var a=r(46019),u=r(35660),s=r(37716),f=r(54655),p=r(25917),l=r(79765),d=r(35758),h=r(91841),v=r(88002),b=r(5304),y=r(3679),g=r(22290),w=r(38583),m=r(49421),x=r.n(m),T=r(45123),S=r.n(T),k=r(86640),N=r(55396),Z=r(33013);function _(t,n){if(1&t&&(s.ynx(0),s._UZ(1,"i"),s.BQk()),2&t){var e=s.oxw(2).$implicit;s.xp6(1),s.Gre("fa-2x ",e.GroupIcon,"")}}function I(t,n){if(1&t&&(s.YNc(0,_,2,3,"ng-container",4),s.TgZ(1,"div",5),s.TgZ(2,"h4"),s._uU(3),s.qZA(),s.TgZ(4,"span"),s._uU(5),s.qZA(),s.qZA(),s.TgZ(6,"div",6),s._UZ(7,"i",7),s.qZA()),2&t){var e=s.oxw().$implicit,o=s.oxw();s.Q6J("ngIf",e.GroupIcon),s.xp6(3),s.Oqu(e.Perigrafi),s.xp6(2),s.Oqu(o.calcEnabledTypes(e.SubscriberEnabledTypes))}}function A(t,n){if(1&t&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&t){var e=s.oxw(2).$implicit;s.xp6(1),s.hij(" ",e.ExtraInfoForSubscribers,"")}}function E(t,n){if(1&t){var e=s.EpF();s.TgZ(0,"div",13),s.TgZ(1,"label",14),s._uU(2),s.qZA(),s.TgZ(3,"input",15),s.NdJ("change",function(t){s.CHM(e);var n=s.oxw(2).$implicit;return s.oxw().onInputChange(t,n,n.SupportedTypes)}),s.qZA(),s._UZ(4,"label",16),s.qZA()}if(2&t){var o=s.oxw(2).$implicit;s.xp6(1),s.MGl("for","",o.NotificationGroupId,"-all"),s.xp6(1),s.hij("",0==o.SubscriberEnabledTypes?"\u0395\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7":"\u0391\u03c0\u03b5\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7"," \u038c\u03bb\u03c9\u03bd"),s.xp6(1),s.MGl("id","",o.NotificationGroupId,"-all"),s.Q6J("checked",0!=o.SubscriberEnabledTypes),s.xp6(1),s.MGl("for","",o.NotificationGroupId,"-all")}}function O(t,n){if(1&t){var e=s.EpF();s.ynx(0),s.TgZ(1,"div",17),s._UZ(2,"label",18),s.TgZ(3,"input",15),s.NdJ("change",function(t){s.CHM(e);var n=s.oxw().$implicit,o=s.oxw(2).$implicit;return s.oxw().onInputChange(t,o,n.Value)}),s.qZA(),s._UZ(4,"label",16),s.qZA(),s.BQk()}if(2&t){var o=s.oxw().$implicit,i=s.oxw(2).$implicit,r=s.oxw();s.xp6(2),s.hYB("for","",i.NotificationGroupId,"-",o.Value,""),s.Q6J("innerHTML",o.Metadata.Description+o.DisplayText,s.oJD),s.xp6(1),s.hYB("id","",i.NotificationGroupId,"-",o.Value,""),s.Q6J("checked",r.calcIfChecked(i,o.Value)),s.xp6(1),s.hYB("for","",i.NotificationGroupId,"-",o.Value,"")}}function G(t,n){if(1&t&&(s.ynx(0),s.YNc(1,O,5,8,"ng-container",4),s.BQk()),2&t){var e=n.$implicit,o=s.oxw(2).$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngIf",i.isSupportedType(o.SupportedTypes,e.Value))}}function U(t,n){if(1&t&&(s.TgZ(0,"div",8),s.YNc(1,A,2,1,"span",9),s.TgZ(2,"div"),s.TgZ(3,"b",10),s._uU(4,"\u03a0\u03c9\u03c2 \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03bb\u03b1\u03bc\u03b2\u03ac\u03bd\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ad\u03c2 \u03c4\u03b9\u03c2 \u03b5\u03b9\u03b4\u03bf\u03c0\u03bf\u03b9\u03ae\u03c3\u03b5\u03b9\u03c2"),s.qZA(),s.YNc(5,E,5,5,"div",11),s.qZA(),s.YNc(6,G,2,1,"ng-container",1),s.qZA()),2&t){var e=s.oxw().$implicit,o=s.oxw();s.xp6(1),s.Q6J("ngIf",e.ExtraInfoForSubscribers),s.xp6(1),s.Tol(e.CanUnSubscribe?"has-switch":""),s.xp6(3),s.Q6J("ngIf",e.CanUnSubscribe),s.xp6(1),s.Q6J("ngForOf",o.notificationEnumTypeValues)}}function F(t,n){1&t&&(s.TgZ(0,"p-accordionTab"),s.YNc(1,I,8,3,"ng-template",2),s.YNc(2,U,7,5,"ng-template",3),s.qZA())}var B,C=((B=function(){function t(n){i(this,t),this.toastr=n}return c(t,[{key:"show",value:function(t,n,e){n&&this.toastr[e](n,t,{progressBar:!0,onActivateTick:!0})}},{key:"showError",value:function(t,n){this.show(t,n,"error")}},{key:"showInfo",value:function(t,n){this.show(t,n,"info")}},{key:"showSuccess",value:function(t,n){this.show(t,n,"success")}},{key:"showWarning",value:function(t,n){this.show(t,n,"warning")}}]),t}()).\u0275fac=function(t){return new(t||B)(s.LFG(g._W))},B.\u0275prov=(0,s.Yz7)({factory:function(){return new B((0,s.LFG)(g._W))},token:B,providedIn:"root"}),B),J=function(){var t=c(function t(n){var e=this;i(this,t),this.toasterSrv=n,this.catchBadResponse=function(t){var n="";if(t.error instanceof Error)n="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ".concat(t.message);else if(void 0!==t.error)n="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ".concat(t.message);else switch(t.status){case 403:n="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error ".concat(t.status);break;case 401:n="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n ".concat(t.status);break;default:n="Backend returned code ".concat(t.status,", body was: ").concat(void 0!==t.body?t.body.error:void 0!==t.message?t.message:"")}return e.toasterSrv.showError("","".concat(n)),(0,p.of)(!1)}});return t.\u0275fac=function(n){return new(n||t)(s.LFG(C))},t.\u0275prov=(0,s.Yz7)({factory:function(){return new t((0,s.LFG)(C))},token:t,providedIn:"root"}),t}(),Y=function(){var e=function(e){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&t(n,e)}(r,e);var o=n(r);function r(t,n,e){var c;return i(this,r),(c=o.call(this,e,t)).exceptionSrv=t,c.toasterSrv=n,c.http=e,c}return c(r,[{key:"GetAllNotificationsTypes",value:function(t){return this.http.get("".concat(this.baseUrl,"Notifications/GetAllNotificationsTypes/").concat(t))}},{key:"GetMySubscriptions",value:function(){return this.http.get("".concat(this.baseUrl,"Notifications/GetMySubscriptions"))}},{key:"UpdateSubscriptionPoliti",value:function(t){var n=this;return this.http.post("".concat(this.baseUrl,"Notifications/UpdateSubscriptionPoliti"),t).pipe((0,v.U)(function(t){return t}),(0,b.K)(function(t){return function(t,n){var e="";if(t.error instanceof Error&&t.error&&t.error.Message||void 0!==t.error&&t.error&&t.error.Message)e="".concat(t.error.Message);else switch(t.status){case 400:e=t.error;break;case 403:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. \n";break;case 401:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. \n",setTimeout(function(){return window.location.reload()},1e3);break;default:e="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1 \u03bc\u03b5 \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc ".concat(t.status,", \u03ba\u03b1\u03b9 \u03c0\u03b5\u03c1\u03b9\u03b5\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf: ").concat(void 0!==t.body?t.body.error:void 0!==t.Message?t.Message:"")}return console.log("ERRORING: ",t),n.showError("\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1","".concat(e)),(0,p.of)(!1)}(t,n.toasterSrv)}))}}]),r}(function(){return c(function t(n,e){var o=this;i(this,t),this.http=n,this.exceptionSrv=e,this.getBaseUrl=function(){return o.baseUrl},this.baseUrl+="api",this.baseUrl="undefined"!=typeof AppConfOptions&&AppConfOptions.notifications_api?AppConfOptions.notifications_api:"/",this.baseUrl+="api/"})}());return e.\u0275fac=function(t){return new(t||e)(s.LFG(J),s.LFG(C),s.LFG(h.eN))},e.\u0275prov=(0,s.Yz7)({factory:function(){return new e((0,s.LFG)(J),(0,s.LFG)(C),(0,s.LFG)(h.eN))},token:e,providedIn:"root"}),e}(),Q=function(){var t=function(){function t(n,e,o,r){i(this,t),this.notificationsNgSrv=n,this.toasterSrv=e,this.router=o,this.route=r,this.model=[],this.onDestroy=new l.xQ,this.index=0,this.isLoading=!0}return c(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_loadData",value:function(){}},{key:"onTabChanged",value:function(t){}}]),t}();return t.\u0275fac=function(n){return new(n||t)(s.Y36(Y),s.Y36(C),s.Y36(f.F0),s.Y36(f.gz))},t.\u0275cmp=s.Xpm({type:t,selectors:[["lib-notifications-ng"]],decls:2,vars:0,template:function(t,n){1&t&&(s._UZ(0,"lib-registration"),s._UZ(1,"router-outlet"))},directives:function(){return[M,f.lC]},encapsulation:2}),t}(),j=c(function t(){i(this,t)}),q=function(){var t=function(){function t(n){i(this,t),this.notificationsNgSrv=n,this.onDestroy=new l.xQ}return c(t,[{key:"ngOnInit",value:function(){var t=this;(0,d.D)([this.notificationsNgSrv.GetMySubscriptions(),this.notificationsNgSrv.GetAllNotificationsTypes("NotificationType")]).subscribe(function(n){n&&(t.model=n[0],t.notificationEnumTypeValues=n[1])})}},{key:"ngOnDestroy",value:function(){}},{key:"toggleArrow",value:function(t){var n=document.getElementById(t.originalEvent.srcElement.id).getElementsByClassName("arrow")[0];n.children[0].className=n.children[0].classList.contains("fa-caret-down")?"fas fa-caret-up fa-2x":"fas fa-caret-down fa-2x"}},{key:"isSupportedType",value:function(t,n){return!!(t&n)}},{key:"onInputChange",value:function(t,n,e){var o=new j;o.NotificationGroupId=n.NotificationGroupId,o.SubscriberEnabledTypes=n.SubscriberEnabledTypes,n.SubscriberEnabledTypes&e?o.SubscriberEnabledTypes&=~e:o.SubscriberEnabledTypes|=e,this.notificationsNgSrv.UpdateSubscriptionPoliti(o).subscribe(function(e){e?n.SubscriberEnabledTypes=o.SubscriberEnabledTypes:t.target.checked=!0})}},{key:"calcEnabledTypes",value:function(t){for(var n="",e=0;e<this.notificationEnumTypeValues.length;e++){var o=this.notificationEnumTypeValues[e];t&o.Value&&(n+=(n.length>0?", ":"")+o.DisplayText)}return n}},{key:"calcIfChecked",value:function(t,n){return t.SubscriberEnabledTypes&n}}]),t}();return t.\u0275fac=function(n){return new(n||t)(s.Y36(Y))},t.\u0275cmp=s.Xpm({type:t,selectors:[["lib-mailing-lists"]],decls:2,vars:2,consts:[["expandIcon","","collapseIcon","",3,"multiple","onOpen","onClose"],[4,"ngFor","ngForOf"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"notgroup-title"],[1,"arrow"],[1,"fas","fa-caret-down","fa-2x"],[1,"card","card-body"],["class","extra-info",4,"ngIf"],[1,"descr"],["class","switch all",4,"ngIf"],[1,"extra-info"],[1,"switch","all"],[1,"label",3,"for"],["type","checkbox",1,"input",3,"id","checked","change"],[1,"slider",3,"for"],[1,"switch"],[1,"label",3,"for","innerHTML"]],template:function(t,n){1&t&&(s.TgZ(0,"p-accordion",0),s.NdJ("onOpen",function(t){return n.toggleArrow(t)})("onClose",function(t){return n.toggleArrow(t)}),s.YNc(1,F,3,0,"p-accordionTab",1),s.qZA()),2&t&&(s.Q6J("multiple",!0),s.xp6(1),s.Q6J("ngForOf",n.model))},directives:[N.UQ,w.sg,N.US,Z.jx,w.O5],encapsulation:2}),t}(),M=function(){var t=function(){function t(){i(this,t)}return c(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["lib-registration"]],decls:1,vars:0,template:function(t,n){1&t&&s._UZ(0,"lib-mailing-lists")},directives:[q],encapsulation:2}),t}(),D=[{path:"",component:Q,pathMatch:"full"},{path:"Notifications",component:Q,pathMatch:"full"}],L=function(){var t=c(function t(){i(this,t)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[f.Bz.forChild(D)],f.Bz]}),t}();(0,w.qS)(x(),"el",S());var P=[N.fx],$=function(){var t=c(function t(){i(this,t)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[{provide:s.soG,useValue:"el"}],imports:[[w.ez,y.u5,L,k.A0].concat(P,[g.Rh.forRoot()])]}),t}(),R=r(68214),V=r(43190),z=r(74868),H=r(60394);function X(t,n){1&t&&(s.ynx(0),s.TgZ(1,"div",2),s._UZ(2,"lib-notifications-ng"),s.qZA(),s.BQk())}function W(t,n){if(1&t&&(s.ynx(0),s._UZ(1,"app-afmnotfound",1),s.YNc(2,X,3,0,"ng-container",0),s.BQk()),2&t){var e=s.oxw();s.xp6(1),s.Q6J("afmNotFound",e.afmNotFound),s.xp6(1),s.Q6J("ngIf",!e.afmNotFound)}}var K=[{path:"",component:function(){var t=function(){function t(n){i(this,t),this.oidcSecuritySrv=n,this.afmNotFound=!1}return c(t,[{key:"ngOnInit",value:function(){var t=this;this.oidcSecuritySrv.isAuthenticated$.pipe((0,V.w)(function(n){return t.isAuthorized=null!=n&&n.isAuthenticated,t.oidcSecuritySrv.userData$})).subscribe(function(n){n&&n.userData&&(!n.userData.tin||(0,R.Ew)(n.userData.tin))&&1==AppConfOptions.notifications_afm_required&&(t.afmNotFound=!0)})}}]),t}();return t.\u0275fac=function(n){return new(n||t)(s.Y36(z.J_))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-notifications"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"afmNotFound"],[1,"notifications-container","bg-white",2,"padding","30px"]],template:function(t,n){1&t&&s.YNc(0,W,3,2,"ng-container",0),2&t&&s.Q6J("ngIf",n.isAuthorized)},directives:[w.O5,H.d,Q],encapsulation:2}),t}()}],tt=function(){var t=c(function t(){i(this,t)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[f.Bz.forChild(K)],f.Bz]}),t}(),nt=function(){var t=c(function t(){i(this,t)});return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[u.m,tt,a.IJ,$]]}),t}()}}])}();