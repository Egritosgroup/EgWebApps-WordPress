(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{HNmh:function(t,e,i){var n,o,r;!function(c){if("object"==typeof t.exports){var s=c(0,e);void 0!==s&&(t.exports=s)}else o=[i,e],void 0===(r="function"==typeof(n=c)?n.apply(e,o):n)||(t.exports=r)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=void 0;e.default=[[["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc.","\u03b1\u03c0\u03cc\u03b3.","\u03b2\u03c1\u03ac\u03b4\u03c5"],i,["\u03c4\u03bf \u03c0\u03c1\u03c9\u03af","\u03c4\u03bf \u03bc\u03b5\u03c3\u03b7\u03bc\u03ad\u03c1\u03b9","\u03c4\u03bf \u03b1\u03c0\u03cc\u03b3\u03b5\u03c5\u03bc\u03b1","\u03c4\u03bf \u03b2\u03c1\u03ac\u03b4\u03c5"]],[["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc.","\u03b1\u03c0\u03cc\u03b3.","\u03b2\u03c1\u03ac\u03b4\u03c5"],i,["\u03c0\u03c1\u03c9\u03af","\u03bc\u03b5\u03c3\u03b7\u03bc\u03ad\u03c1\u03b9","\u03b1\u03c0\u03cc\u03b3\u03b5\u03c5\u03bc\u03b1","\u03b2\u03c1\u03ac\u03b4\u03c5"]],[["04:00","12:00"],["12:00","17:00"],["17:00","20:00"],["20:00","04:00"]]]})},wMrW:function(t,e,i){"use strict";i.r(e),i.d(e,"NotificationsModule",function(){return K});var n=i("1kSV"),o=i("PCNd"),r=i("fXoL"),c=i("tyNb"),s=i("4krO"),a=i("oXA7"),b=i("zPkR"),p=i("tk/3"),l=i("rdQv"),u=i("VZwH"),f=i("3Pt+"),d=i("5eHb"),h=i("ofXK"),g=i("yh7E"),y=i.n(g),m=i("HNmh"),v=i.n(m),w=i("ZOsW"),T=i("7LiV"),S=i("7zfz");function I(t,e){if(1&t&&(r.Sb(0),r.Pb(1,"i"),r.Rb()),2&t){const t=r.gc(2).$implicit;r.Bb(1),r.Eb("fa-2x ",t.GroupIcon,"")}}function O(t,e){if(1&t&&(r.Pc(0,I,2,3,"ng-container",4),r.Ub(1,"div",5),r.Ub(2,"h4"),r.Rc(3),r.Tb(),r.Ub(4,"span"),r.Rc(5),r.Tb(),r.Tb(),r.Ub(6,"div",6),r.Pb(7,"i",7),r.Tb()),2&t){const t=r.gc().$implicit,e=r.gc();r.pc("ngIf",t.GroupIcon),r.Bb(3),r.Sc(t.Perigrafi),r.Bb(2),r.Sc(e.calcEnabledTypes(t.SubscriberEnabledTypes))}}function E(t,e){if(1&t&&(r.Ub(0,"span",12),r.Rc(1),r.Tb()),2&t){const t=r.gc(2).$implicit;r.Bb(1),r.Tc(" ",t.ExtraInfoForSubscribers,"")}}function N(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",13),r.Ub(1,"label",14),r.Rc(2),r.Tb(),r.Ub(3,"input",15),r.ec("change",function(e){r.Hc(t);const i=r.gc(2).$implicit;return r.gc().onInputChange(e,i,i.SupportedTypes)}),r.Tb(),r.Pb(4,"label",16),r.Tb()}if(2&t){const t=r.gc(2).$implicit;r.Bb(1),r.rc("for","",t.NotificationGroupId,"-all"),r.Bb(1),r.Tc("",0==t.SubscriberEnabledTypes?"\u0395\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7":"\u0391\u03c0\u03b5\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7"," \u038c\u03bb\u03c9\u03bd"),r.Bb(1),r.rc("id","",t.NotificationGroupId,"-all"),r.pc("checked",0!=t.SubscriberEnabledTypes),r.Bb(1),r.rc("for","",t.NotificationGroupId,"-all")}}function U(t,e){if(1&t){const t=r.Vb();r.Sb(0),r.Ub(1,"div",17),r.Pb(2,"label",18),r.Ub(3,"input",15),r.ec("change",function(e){r.Hc(t);const i=r.gc().$implicit,n=r.gc(2).$implicit;return r.gc().onInputChange(e,n,i.Value)}),r.Tb(),r.Pb(4,"label",16),r.Tb(),r.Rb()}if(2&t){const t=r.gc().$implicit,e=r.gc(2).$implicit,i=r.gc();r.Bb(2),r.sc("for","",e.NotificationGroupId,"-",t.Value,""),r.pc("innerHTML",t.Metadata.Description+t.DisplayText,r.Ic),r.Bb(1),r.sc("id","",e.NotificationGroupId,"-",t.Value,""),r.pc("checked",i.calcIfChecked(e,t.Value)),r.Bb(1),r.sc("for","",e.NotificationGroupId,"-",t.Value,"")}}function $(t,e){if(1&t&&(r.Sb(0),r.Pc(1,U,5,8,"ng-container",4),r.Rb()),2&t){const t=e.$implicit,i=r.gc(2).$implicit,n=r.gc();r.Bb(1),r.pc("ngIf",n.isSupportedType(i.SupportedTypes,t.Value))}}function P(t,e){if(1&t&&(r.Ub(0,"div",8),r.Pc(1,E,2,1,"span",9),r.Ub(2,"div"),r.Ub(3,"b",10),r.Rc(4,"\u03a0\u03c9\u03c2 \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03bb\u03b1\u03bc\u03b2\u03ac\u03bd\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ad\u03c2 \u03c4\u03b9\u03c2 \u03b5\u03b9\u03b4\u03bf\u03c0\u03bf\u03b9\u03ae\u03c3\u03b5\u03b9\u03c2"),r.Tb(),r.Pc(5,N,5,5,"div",11),r.Tb(),r.Pc(6,$,2,1,"ng-container",1),r.Tb()),2&t){const t=r.gc().$implicit,e=r.gc();r.Bb(1),r.pc("ngIf",t.ExtraInfoForSubscribers),r.Bb(1),r.Db(t.CanUnSubscribe?"has-switch":""),r.Bb(3),r.pc("ngIf",t.CanUnSubscribe),r.Bb(1),r.pc("ngForOf",e.notificationEnumTypeValues)}}function k(t,e){1&t&&(r.Ub(0,"p-accordionTab"),r.Pc(1,O,8,3,"ng-template",2),r.Pc(2,P,7,5,"ng-template",3),r.Tb())}let B=(()=>{class t{constructor(t){this.toastr=t}show(t,e,i){e&&this.toastr[i](e,t,{progressBar:!0,onActivateTick:!0})}showError(t,e){this.show(t,e,"error")}showInfo(t,e){this.show(t,e,"info")}showSuccess(t,e){this.show(t,e,"success")}showWarning(t,e){this.show(t,e,"warning")}}return t.\u0275fac=function(e){return new(e||t)(r.bc(d.b))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.bc)(d.b))},token:t,providedIn:"root"}),t})(),j=(()=>{class t{constructor(t){this.toasterSrv=t,this.catchBadResponse=t=>{let e="";if(t.error instanceof Error)e=`\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ${t.message}`;else if(void 0!==t.error)e=`\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ${t.message}`;else switch(t.status){case 403:e=`\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error ${t.status}`;break;case 401:e=`\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n ${t.status}`;break;default:e=`Backend returned code ${t.status}, body was: ${void 0!==t.body?t.body.error:void 0!==t.message?t.message:""}`}return this.toasterSrv.showError("",`${e}`),Object(s.a)(!1)}}}return t.\u0275fac=function(e){return new(e||t)(r.bc(B))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.bc)(B))},token:t,providedIn:"root"}),t})(),x=(()=>{class t extends class{constructor(t,e){this.http=t,this.exceptionSrv=e,this.getBaseUrl=()=>this.baseUrl,this.baseUrl+="api",this.baseUrl="undefined"!=typeof AppConfOptions&&AppConfOptions.notifications_api?AppConfOptions.notifications_api:"/",this.baseUrl+="api/"}}{constructor(t,e,i){super(i,t),this.exceptionSrv=t,this.toasterSrv=e,this.http=i}GetAllNotificationsTypes(t){return this.http.get(`${this.baseUrl}Notifications/GetAllNotificationsTypes/${t}`)}GetMySubscriptions(){return this.http.get(`${this.baseUrl}Notifications/GetMySubscriptions`)}UpdateSubscriptionPoliti(t){return this.http.post(`${this.baseUrl}Notifications/UpdateSubscriptionPoliti`,t).pipe(Object(l.a)(t=>t),Object(u.a)(t=>function(t,e){let i="";if(t.error instanceof Error&&t.error&&t.error.Message||void 0!==t.error&&t.error&&t.error.Message)i=`${t.error.Message}`;else switch(t.status){case 400:i=t.error;break;case 403:i="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. \n";break;case 401:i="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. \n",setTimeout(()=>window.location.reload(),1e3);break;default:i=`\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1 \u03bc\u03b5 \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc ${t.status}, \u03ba\u03b1\u03b9 \u03c0\u03b5\u03c1\u03b9\u03b5\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf: ${void 0!==t.body?t.body.error:void 0!==t.Message?t.Message:""}`}return console.log("ERRORING: ",t),e.showError("\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1",`${i}`),Object(s.a)(!1)}(t,this.toasterSrv)))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(j),r.bc(B),r.bc(p.b))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.bc)(j),Object(r.bc)(B),Object(r.bc)(p.b))},token:t,providedIn:"root"}),t})(),M=(()=>{class t{constructor(t,e,i,n){this.notificationsNgSrv=t,this.toasterSrv=e,this.router=i,this.route=n,this.model=[],this.onDestroy=new a.a,this.index=0,this.isLoading=!0}ngOnInit(){}ngOnDestroy(){this.onDestroy.next()}_loadData(){}onTabChanged(t){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(x),r.Ob(B),r.Ob(c.d),r.Ob(c.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["lib-notifications-ng"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Pb(0,"lib-registration"),r.Pb(1,"router-outlet"))},directives:function(){return[V,c.h]},encapsulation:2}),t})();class C{}let G=(()=>{class t{constructor(t){this.notificationsNgSrv=t,this.onDestroy=new a.a}ngOnInit(){Object(b.a)([this.notificationsNgSrv.GetMySubscriptions(),this.notificationsNgSrv.GetAllNotificationsTypes("NotificationType")]).subscribe(t=>{t&&(this.model=t[0],this.notificationEnumTypeValues=t[1])})}ngOnDestroy(){}toggleArrow(t){let e=document.getElementById(t.originalEvent.srcElement.id).getElementsByClassName("arrow")[0];e.children[0].className=e.children[0].classList.contains("fa-caret-down")?"fas fa-caret-up fa-2x":"fas fa-caret-down fa-2x"}isSupportedType(t,e){return!!(t&e)}onInputChange(t,e,i){var n=new C;n.NotificationGroupId=e.NotificationGroupId,n.SubscriberEnabledTypes=e.SubscriberEnabledTypes,e.SubscriberEnabledTypes&i?n.SubscriberEnabledTypes&=~i:n.SubscriberEnabledTypes|=i,this.notificationsNgSrv.UpdateSubscriptionPoliti(n).subscribe(i=>{i?e.SubscriberEnabledTypes=n.SubscriberEnabledTypes:t.target.checked=!0})}calcEnabledTypes(t){var e="";for(let i=0;i<this.notificationEnumTypeValues.length;i++){const n=this.notificationEnumTypeValues[i];t&n.Value&&(e+=(e.length>0?", ":"")+n.DisplayText)}return e}calcIfChecked(t,e){return t.SubscriberEnabledTypes&e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(x))},t.\u0275cmp=r.Ib({type:t,selectors:[["lib-mailing-lists"]],decls:2,vars:2,consts:[["expandIcon","","collapseIcon","",3,"multiple","onOpen","onClose"],[4,"ngFor","ngForOf"],["pTemplate","header"],["pTemplate","content"],[4,"ngIf"],[1,"notgroup-title"],[1,"arrow"],[1,"fas","fa-caret-down","fa-2x"],[1,"card","card-body"],["class","extra-info",4,"ngIf"],[1,"descr"],["class","switch all",4,"ngIf"],[1,"extra-info"],[1,"switch","all"],[1,"label",3,"for"],["type","checkbox",1,"input",3,"id","checked","change"],[1,"slider",3,"for"],[1,"switch"],[1,"label",3,"for","innerHTML"]],template:function(t,e){1&t&&(r.Ub(0,"p-accordion",0),r.ec("onOpen",function(t){return e.toggleArrow(t)})("onClose",function(t){return e.toggleArrow(t)}),r.Pc(1,k,3,0,"p-accordionTab",1),r.Tb()),2&t&&(r.pc("multiple",!0),r.Bb(1),r.pc("ngForOf",e.model))},directives:[T.a,h.o,T.c,S.j,h.p],encapsulation:2}),t})(),V=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["lib-registration"]],decls:1,vars:0,template:function(t,e){1&t&&r.Pb(0,"lib-mailing-lists")},directives:[G],encapsulation:2}),t})();const R=[{path:"",component:M,pathMatch:"full"},{path:"Notifications",component:M,pathMatch:"full"}];let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[c.g.forChild(R)],c.g]}),t})();Object(h.H)(y.a,"el",v.a);const D=[T.b];let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[{provide:r.v,useValue:"el"}],imports:[[h.c,f.g,A,w.c,...D,d.a.forRoot()]]}),t})();var H=i("zazq");function z(t,e){1&t&&(r.Sb(0),r.Ub(1,"div",1),r.Pb(2,"lib-notifications-ng"),r.Tb(),r.Rb())}const F=[{path:"",component:(()=>{class t{constructor(t){this.oidcSecuritySrv=t}ngOnInit(){this.oidcSecuritySrv.isAuthenticated$.subscribe(t=>{this.isAuthorized=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(H.e))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-notifications"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"notifications-container","bg-white",2,"padding","30px"]],template:function(t,e){1&t&&r.Pc(0,z,3,0,"ng-container",0),2&t&&r.pc("ngIf",e.isAuthorized)},directives:[h.p,M],encapsulation:2}),t})()}];let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[c.g.forChild(F)],c.g]}),t})(),K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[o.a,_,n.d,L]]}),t})()}}]);