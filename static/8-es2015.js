(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"8BaW":function(t,e,i){"use strict";i.r(e),i.d(e,"DimotikosForosModule",(function(){return ke})),i.d(e,"PublicLibLoader",(function(){return Pe}));var s=i("mrSG"),n=i("fXoL"),o=i("tk/3"),a=i("LRne"),c=i("2Vo4"),d=i("XNiG"),r=i("cp0P"),l=i("lJxs"),p=i("JIr8"),h=i("eIep"),m=i("1G5W"),u=i("pLZG"),f=i("5eHb"),g=i("tyNb"),y=i("3Pt+"),b=i("ofXK"),S=i("3u8h"),I=i("ZOsW"),k=i("9nqD"),P=i("eO1q"),O=i("rEr+"),v=i("dPl2"),T=i("Ji6n"),A=i("7zfz");function D(t,e){1&t&&(n.Rc(0),n.Tc(1,"div",4),n.Tc(2,"div",5),n.Tc(3,"div",6),n.Qd(4," \u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b4\u03bf\u03ba\u03b9\u03bc\u03ac\u03c3\u03c4\u03b5 \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1! "),n.Sc(),n.Sc(),n.Sc(),n.Qc())}function C(t,e){if(1&t&&(n.Tc(0,"p",15),n.Tc(1,"strong"),n.Qd(2,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1 \u0395\u03c0\u03b9\u03c7\u03b5\u03af\u03c1\u03b7\u03c3\u03b7\u03c2:"),n.Sc(),n.Qd(3),n.Sc()),2&t){const t=n.gd(3);n.Ac(3),n.Sd("\xa0",t.epixeirisiInfo.eponimia," ")}}function R(t,e){if(1&t){const t=n.Uc();n.Tc(0,"button",16),n.ed("click",(function(){n.Fd(t);return n.gd(3).onCreateNewDilosiClicked()})),n.Oc(1,"span",17),n.Qd(2," \u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2 \u039d\u03ad\u03b1\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 "),n.Sc()}}function M(t,e){if(1&t&&(n.Tc(0,"div",12),n.Od(1,C,4,1,"p",13),n.Od(2,R,3,0,"button",14),n.Sc()),2&t){const t=n.gd(2);n.Ac(1),n.pd("ngIf",t.epixeirisiInfo),n.Ac(1),n.pd("ngIf",t.diloseisInfoResponse&&t.diloseisInfoResponse.length>0)}}function x(t,e){if(1&t){const t=n.Uc();n.Tc(0,"app-katastimata-receipts",18),n.ed("reloadData",(function(){n.Fd(t);return n.gd(2)._loadData()})),n.Sc()}if(2&t){const t=n.gd(2);n.pd("diloseisReceipts",t.model)("userInfo",t.userInfo)("isLoading",t.isLoading)("diloseisInfoResponse",t.diloseisInfoResponse)}}function w(t,e){if(1&t){const t=n.Uc();n.Tc(0,"app-katastimata-saved",21),n.ed("reloadData",(function(){n.Fd(t);return n.gd(3)._loadData()})),n.Sc()}if(2&t){const t=n.gd(3);n.pd("dilosiInfoSaved",t.diloseisInfoSaved)("userInfo",t.userInfo)("isLoading",t.isLoading)("diloseisInfoResponse",t.diloseisInfoResponse)("onlinePaymentsSettingsCompany",t.onlinePaymentsSettingsCompany)("epixeirisiInfo",t.epixeirisiInfo)}}function _(t,e){1&t&&(n.Tc(0,"p-tabPanel",19),n.Od(1,w,1,6,"ng-template",20),n.Sc())}function F(t,e){if(1&t){const t=n.Uc();n.Rc(0),n.Od(1,M,3,2,"div",7),n.Tc(2,"p-tabView",8),n.ed("onChange",(function(e){n.Fd(t);return n.gd().onTabChanged(e)})),n.Tc(3,"p-tabPanel",9),n.Od(4,x,1,4,"app-katastimata-receipts",10),n.Sc(),n.Od(5,_,2,0,"p-tabPanel",11),n.Sc(),n.Qc()}if(2&t){const t=n.gd();n.Ac(1),n.pd("ngIf",t.epixeirisiInfo||t.diloseisInfoResponse&&t.diloseisInfoResponse.length>0),n.Ac(1),n.pd("activeIndex",t.index),n.Ac(2),n.pd("ngIf",t.model),n.Ac(1),n.pd("ngIf",t.diloseisInfoSaved&&t.diloseisInfoSaved.length&&t.onlinePaymentsSettingsCompany)}}function U(t,e){if(1&t){const t=n.Uc();n.Tc(0,"app-katastimata-create-dilosi",22),n.ed("updateSaved",(function(e){n.Fd(t);return n.gd().onReloadSaved(e)})),n.Sc()}if(2&t){const t=n.gd();n.pd("diloseisInfoResponse",t.diloseisInfoResponse)("dilosi",null)("onlinePaymentsSettingsCompany",t.onlinePaymentsSettingsCompany)("epixeirisiInfo",t.epixeirisiInfo)}}const E=["dimotikosForosForm"];function Q(t,e){if(1&t){const t=n.Uc();n.Tc(0,"div",6),n.Tc(1,"label"),n.Qd(2,"\u03a0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc*"),n.Sc(),n.Tc(3,"ng-select",20,21),n.ed("ngModelChange",(function(e){n.Fd(t);return n.gd(2).selectedPososto=e})),n.Sc(),n.Tc(5,"div",9),n.Qd(6," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc()}if(2&t){const t=n.gd(2);n.Ac(3),n.pd("items",t.pososta)("searchable",!0)("clearable",!1)("ngModel",t.selectedPososto),n.Ac(2),n.pd("hidden",!t.isFormSubmitted||"1"==t.onlinePaymentsSettingsCompany||t.isFormSubmitted&&"1"!=t.onlinePaymentsSettingsCompany&&t.selectedPososto&&""!=t.selectedPososto)}}function L(t,e){if(1&t){const t=n.Uc();n.Tc(0,"li"),n.Qd(1),n.Tc(2,"small"),n.Oc(3,"i",26),n.Qd(4),n.hd(5,"date"),n.Sc(),n.Qd(6,"\xa0 "),n.Tc(7,"button",27),n.ed("click",(function(){n.Fd(t);const i=e.$implicit;return n.gd(3).downloadFile(i.dmsId)})),n.Oc(8,"i",28),n.Qd(9," \u039a\u03b1\u03c4\u03ad\u03b2\u03b1\u03c3\u03bc\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03bf\u03c5 "),n.Sc(),n.Sc()}if(2&t){const t=e.$implicit;n.Ac(1),n.Td(" ",t.perigrafi," (",t.fileName,")\xa0 "),n.Ac(3),n.Sd(" ",n.jd(5,3,t.creationTime,"dd/MM/yyyy"),"")}}function j(t,e){if(1&t){const t=n.Uc();n.Tc(0,"div",5),n.Tc(1,"div",22),n.Tc(2,"h5"),n.Qd(3,"\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u0391\u03c1\u03c7\u03b5\u03af\u03b1"),n.Sc(),n.Tc(4,"ul"),n.Od(5,L,10,6,"li",23),n.Sc(),n.Tc(6,"button",24),n.ed("click",(function(){n.Fd(t);const e=n.gd(2);return e.toggleEditFiles=!e.toggleEditFiles})),n.Oc(7,"i",25),n.Qd(8," \u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd "),n.Sc(),n.Sc(),n.Sc()}if(2&t){const t=n.gd(2);n.Ac(5),n.pd("ngForOf",t.dilosiFiles)}}function q(t,e){1&t&&(n.Tc(0,"div",36),n.Oc(1,"i",37),n.Qd(2," \u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03bd\u03ad\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf, \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03bf\u03cd\u03bd \u03cc\u03bb\u03b1 \u03c4\u03b1 \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 \u03ba\u03b1\u03b9 \u03b8\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c4\u03b1 \u03b1\u03bd\u03b5\u03b2\u03ac\u03c3\u03b5\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac."),n.Sc())}function N(t,e){if(1&t){const t=n.Uc();n.Tc(0,"div",5),n.Od(1,q,3,0,"div",29),n.Tc(2,"div",30),n.Tc(3,"label",31),n.Qd(4,"\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)*"),n.Sc(),n.Tc(5,"input",32,33),n.ed("ngModelChange",(function(e){n.Fd(t);return n.gd(2).periodikiDilosiFPA=e}))("change",(function(e){n.Fd(t);return n.gd(2).onFileChange(e,"periodikiDilosiFPA")})),n.Sc(),n.Tc(7,"div",9),n.Qd(8," *\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Tc(9,"div",30),n.Tc(10,"label",34),n.Qd(11,"\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf (\u03a0.\u03c7. \u0399\u03c3\u03bf\u03b6\u03cd\u03b3\u03b9\u03bf)"),n.Sc(),n.Tc(12,"input",35),n.ed("ngModelChange",(function(e){n.Fd(t);return n.gd(2).extraFile=e}))("change",(function(e){n.Fd(t);return n.gd(2).onFileChange(e,"extraFile")})),n.Sc(),n.Sc(),n.Sc()}if(2&t){const t=n.gd(2);n.Ac(1),n.pd("ngIf",t.toggleEditFiles),n.Ac(4),n.pd("ngModel",t.periodikiDilosiFPA),n.Ac(2),n.pd("hidden",!t.isFormSubmitted||t.isFormSubmitted&&t.periodikiDilosiFPA),n.Ac(5),n.pd("ngModel",t.extraFile)}}function B(t,e){if(1&t&&n.Oc(0,"div",38),2&t){const t=n.gd(2);n.pd("innerHTML",t.formErrorsMsg,n.Gd)}}function W(t,e){if(1&t&&(n.Tc(0,"div",39),n.Tc(1,"p"),n.Qd(2),n.Sc(),n.Sc()),2&t){const t=n.gd(2);n.Ac(2),n.Rd(t.errorMessageProfile)}}function G(t,e){if(1&t){const t=n.Uc();n.Tc(0,"form",3,4),n.Tc(2,"div",5),n.Tc(3,"div",6),n.Tc(4,"label"),n.Qd(5,"\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2*"),n.Sc(),n.Tc(6,"ng-select",7,8),n.ed("ngModelChange",(function(e){n.Fd(t);return n.gd().dilosiCopy.dilosiId=e}))("change",(function(e){n.Fd(t);const i=n.gd();return i.onSelectedDilosiChanged(e),i.isFormDirty=!0})),n.Sc(),n.Tc(8,"div",9),n.Qd(9," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Tc(10,"div",6),n.Tc(11,"label"),n.Qd(12,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),n.Sc(),n.Oc(13,"input",10),n.hd(14,"date"),n.Sc(),n.Sc(),n.Tc(15,"div",5),n.Od(16,Q,7,5,"div",11),n.Tc(17,"div",12),n.Tc(18,"label"),n.Qd(19,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc*"),n.Sc(),n.Tc(20,"input",13,14),n.ed("ngModelChange",(function(e){n.Fd(t);return n.gd().dilosiCopy.ypokeimenoPoso=e}))("ngModelChange",(function(){n.Fd(t);return n.gd().isFormDirty=!0})),n.Sc(),n.Tc(22,"div",9),n.Qd(23," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Sc(),n.Od(24,j,9,1,"div",15),n.Od(25,N,13,4,"div",15),n.Tc(26,"button",16),n.ed("click",(function(){n.Fd(t);return n.gd().onSubmit()})),n.Oc(27,"span",17),n.Qd(28," \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc\u03c2 \u03a0\u03bf\u03c3\u03ce\u03bd "),n.Sc(),n.Od(29,B,1,1,"div",18),n.Od(30,W,3,1,"div",19),n.Sc()}if(2&t){const t=n.Dd(7),e=n.Dd(21),i=n.gd();n.Ac(6),n.pd("items",i.diloseisInfoResponse)("searchable",!0)("clearable",!1)("ngModel",i.dilosiCopy.dilosiId),n.Ac(2),n.pd("hidden",!i.isFormSubmitted||i.isFormSubmitted&&t.valid),n.Ac(5),n.pd("value",n.jd(14,14,i.dilosiCopy.hmeromiaLixisDilosis,"dd/MM/yyyy")),n.Ac(3),n.pd("ngIf","1"!=i.onlinePaymentsSettingsCompany),n.Ac(1),n.pd("ngClass","1"==i.onlinePaymentsSettingsCompany?"":"col-md-6"),n.Ac(3),n.pd("ngModel",i.dilosiCopy.ypokeimenoPoso),n.Ac(2),n.pd("hidden",!i.isFormSubmitted||i.isFormSubmitted&&e.valid),n.Ac(2),n.pd("ngIf",i.dilosiFiles&&i.dilosiFiles.length),n.Ac(1),n.pd("ngIf",i.toggleEditFiles||!i.dilosiFiles||i.dilosiFiles&&0==i.dilosiFiles.length),n.Ac(4),n.pd("ngIf",i.formErrorsMsg&&""!=i.formErrorsMsg),n.Ac(1),n.pd("ngIf",i.errorMessageProfile)}}function $(t,e){1&t&&(n.Tc(0,"div",40),n.Tc(1,"span",41),n.Oc(2,"i",42),n.Sc(),n.Sc())}function V(t,e){1&t&&(n.Tc(0,"p",46),n.Tc(1,"span",47),n.Qd(2,"\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),n.Sc(),n.Sc())}function z(t,e){if(1&t&&(n.Tc(0,"p",46),n.Tc(1,"span",49),n.Qd(2),n.Sc(),n.Sc()),2&t){const t=n.gd(2);n.Ac(2),n.Rd(t.kodikosPliromis)}}const H=function(t){return[t,"\u20ac","symbol","1.2","el"]};function K(t,e){if(1&t){const t=n.Uc();n.Rc(0),n.Tc(1,"h4",43),n.Qd(2,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03bf\u03cd"),n.Sc(),n.Tc(3,"div",44),n.Tc(4,"div",45),n.Tc(5,"div"),n.Tc(6,"p",46),n.Tc(7,"span",47),n.Qd(8,"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),n.Sc(),n.Sc(),n.Tc(9,"p",46),n.Tc(10,"span",47),n.Qd(11,"\u03a0\u03bf\u03c3\u03cc \u03a4\u03ad\u03bb\u03bf\u03c5\u03c2:"),n.Sc(),n.Sc(),n.Tc(12,"p",46),n.Tc(13,"span",47),n.Qd(14,"\u039c\u03ae\u03bd\u03b5\u03c2 \u039a\u03b1\u03b8\u03c5\u03c3\u03c4\u03ad\u03c1\u03b7\u03c3\u03b7\u03c2:"),n.Sc(),n.Sc(),n.Tc(15,"p",46),n.Tc(16,"span",47),n.Qd(17,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03c1\u03bf\u03c3\u03c4\u03af\u03bc\u03bf\u03c5:"),n.Sc(),n.Sc(),n.Tc(18,"p",46),n.Tc(19,"span",47),n.Qd(20,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),n.Sc(),n.Sc(),n.Od(21,V,3,0,"p",48),n.Sc(),n.Tc(22,"div"),n.Tc(23,"p",46),n.Tc(24,"span",49),n.Qd(25),n.Sc(),n.Sc(),n.Tc(26,"p",46),n.Tc(27,"span",49),n.Qd(28),n.hd(29,"currency"),n.Sc(),n.Sc(),n.Tc(30,"p",46),n.Tc(31,"span",49),n.Qd(32),n.Sc(),n.Sc(),n.Tc(33,"p",46),n.Tc(34,"span",49),n.Qd(35),n.hd(36,"currency"),n.Sc(),n.Sc(),n.Tc(37,"p",46),n.Tc(38,"span",49),n.Qd(39),n.hd(40,"currency"),n.Sc(),n.Sc(),n.Od(41,z,3,1,"p",48),n.Sc(),n.Sc(),n.Tc(42,"app-payment",50),n.ed("errorMsg",(function(e){n.Fd(t);return n.gd().errorMessageProfile=e})),n.Sc(),n.Sc(),n.Qc()}if(2&t){const t=n.gd();n.Ac(21),n.pd("ngIf",t.kodikosPliromis),n.Ac(4),n.Rd(t.dilosiWebPaymentInfo.paymentCaption),n.Ac(3),n.Rd(n.md(29,11,n.vd(29,H,t.dilosiWebPaymentInfo.telosPoso))),n.Ac(4),n.Rd(t.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines),n.Ac(3),n.Rd(n.md(36,17,n.vd(31,H,t.dilosiWebPaymentInfo.prostimoPoso))),n.Ac(4),n.Rd(n.md(40,23,n.vd(33,H,t.dilosiWebPaymentInfo.paymentAmount))),n.Ac(2),n.pd("ngIf",t.kodikosPliromis),n.Ac(1),n.pd("userInfo",t.userInfo)("requestObs",null)("createWebPaymentInfo",t.dilosiWebPaymentInfo)("canPay",!t.isFormDirty)}}function J(t,e){1&t&&(n.Tc(0,"div",5),n.Tc(1,"p",6),n.Qd(2," \u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc. "),n.Sc(),n.Sc())}function Y(t,e){1&t&&(n.Tc(0,"div",7),n.Tc(1,"p",8),n.Qd(2,"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u03b9\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2."),n.Sc(),n.Sc())}function X(t,e){if(1&t){const t=n.Uc();n.Tc(0,"div"),n.Tc(1,"button",9),n.ed("click",(function(){n.Fd(t);return n.gd().btnBankStatusMessageClicked()})),n.Oc(2,"i",10),n.Sc(),n.Qd(3),n.Sc()}if(2&t){const t=n.gd();n.Dc("bank-msg w-100 mb-2 position-relative ",t.bankStatusMessageClass,""),n.Ac(3),n.Sd(" ",t.bankStatusMessage,"\n")}}function Z(t,e){1&t&&(n.Tc(0,"div",11),n.Tc(1,"span",12),n.Oc(2,"i",13),n.Sc(),n.Sc())}function tt(t,e){1&t&&(n.Tc(0,"tr"),n.Tc(1,"th",19),n.Qd(2,"\u0391/\u0391"),n.Sc(),n.Tc(3,"th",20),n.Qd(4,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),n.Sc(),n.Tc(5,"th",21),n.Qd(6,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Sc(),n.Tc(7,"th",21),n.Qd(8,"\u03a4\u03ad\u03bb\u03bf\u03c2"),n.Sc(),n.Tc(9,"th",21),n.Qd(10,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),n.Sc(),n.Tc(11,"th",22),n.Qd(12,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),n.Sc(),n.Sc())}function et(t,e){if(1&t&&(n.Tc(0,"tr"),n.Tc(1,"td",19),n.Tc(2,"span",23),n.Qd(3,"\u0391/\u0391"),n.Sc(),n.Qd(4),n.Sc(),n.Tc(5,"td",20),n.Tc(6,"span",23),n.Qd(7,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),n.Sc(),n.Qd(8),n.Sc(),n.Tc(9,"td",24),n.Tc(10,"span",23),n.Qd(11,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Sc(),n.Qd(12),n.hd(13,"currency"),n.Sc(),n.Tc(14,"td",24),n.Tc(15,"span",23),n.Qd(16,"\u03a4\u03ad\u03bb\u03bf\u03c2"),n.Sc(),n.Qd(17),n.hd(18,"currency"),n.Sc(),n.Tc(19,"td",24),n.Tc(20,"span",23),n.Qd(21,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),n.Sc(),n.Qd(22),n.hd(23,"currency"),n.Sc(),n.Tc(24,"td",22),n.Tc(25,"span",23),n.Qd(26,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),n.Sc(),n.Qd(27),n.Sc(),n.Sc()),2&t){const t=e.$implicit,i=e.rowIndex;n.Ac(4),n.Sd(" ",i+1," "),n.Ac(4),n.Sd(" ",t.dilosiCaption," "),n.Ac(4),n.Sd(" ",n.ld(13,6,t.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),n.Ac(5),n.Sd(" ",n.ld(18,11,t.telosPoso,"\u20ac","symbol","1.2")," "),n.Ac(5),n.Sd(" ",n.ld(23,16,t.prostimoPoso,"\u20ac","symbol","1.2")," "),n.Ac(5),n.Sd(" ",t.stoixeiaApodixis," ")}}const it=function(t){return[t,"EUR","symbol","1.2-2","el"]};function st(t,e){if(1&t&&(n.Tc(0,"tr"),n.Tc(1,"td",25),n.Tc(2,"strong"),n.Qd(3,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf:"),n.Sc(),n.Sc(),n.Tc(4,"td",24),n.Tc(5,"strong"),n.Qd(6),n.hd(7,"currency"),n.Sc(),n.Sc(),n.Tc(8,"td",24),n.Tc(9,"strong"),n.Qd(10),n.hd(11,"currency"),n.Sc(),n.Sc(),n.Tc(12,"td",24),n.Tc(13,"strong"),n.Qd(14),n.hd(15,"currency"),n.Sc(),n.Sc(),n.Tc(16,"td",22),n.Qd(17,"\xa0"),n.Sc(),n.Sc()),2&t){const t=n.gd(2);n.Ac(6),n.Rd(n.md(7,3,n.vd(21,it,t.sumYpokeimeno))),n.Ac(4),n.Rd(n.md(11,9,n.vd(23,it,t.sumTelos))),n.Ac(4),n.Rd(n.md(15,15,n.vd(25,it,t.sumProstimo)))}}function nt(t,e){if(1&t&&(n.Rc(0),n.Tc(1,"p",14),n.Tc(2,"strong"),n.Qd(3),n.Sc(),n.Sc(),n.Tc(4,"p-table",15),n.Od(5,tt,13,0,"ng-template",16),n.Od(6,et,28,21,"ng-template",17),n.Od(7,st,18,27,"ng-template",18),n.Sc(),n.Tc(8,"p",14),n.Tc(9,"strong"),n.Qd(10),n.Sc(),n.Sc(),n.Qc()),2&t){const t=n.gd();n.Ac(3),n.Sd("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",t.diloseisReceipts.length,""),n.Ac(1),n.pd("value",t.diloseisReceipts)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",t.diloseisReceipts.length),n.Ac(6),n.Sd("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",t.diloseisReceipts.length,"")}}function ot(t,e){if(1&t){const t=n.Uc();n.Tc(0,"div"),n.Tc(1,"button",7),n.ed("click",(function(){n.Fd(t);return n.gd().onBankStatusMessage()})),n.Oc(2,"i",8),n.Sc(),n.Qd(3),n.Sc()}if(2&t){const t=n.gd();n.Dc("bank-msg badge w-100 mb-2 position-relative ",t.bankStatusMessageClass,""),n.Ac(3),n.Sd(" ",t.bankStatusMessage,"\n")}}function at(t,e){1&t&&(n.Tc(0,"div",9),n.Tc(1,"span",10),n.Oc(2,"i",11),n.Sc(),n.Sc())}function ct(t,e){1&t&&n.Pc(0)}function dt(t,e){if(1&t&&(n.Tc(0,"div",19),n.Od(1,ct,1,0,"ng-container",20),n.Sc()),2&t){n.gd(2);const t=n.Dd(4);n.Ac(1),n.pd("ngTemplateOutlet",t)}}function rt(t,e){if(1&t){const t=n.Uc();n.Tc(0,"tr"),n.Tc(1,"th",21),n.Tc(2,"p-checkbox",22),n.ed("ngModelChange",(function(e){n.Fd(t);return n.gd(2).isAllDebitsChecked=e}))("onChange",(function(){n.Fd(t);return n.gd(2).onAllDebitsSelected()})),n.Sc(),n.Sc(),n.Tc(3,"th",23),n.Qd(4,"A/A"),n.Sc(),n.Tc(5,"th",24),n.Qd(6,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),n.Sc(),n.Tc(7,"th",25),n.Qd(8,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Sc(),n.Tc(9,"th",25),n.Qd(10,"\u03a4\u03ad\u03bb\u03bf\u03c2"),n.Sc(),n.Tc(11,"th",25),n.Qd(12,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),n.Sc(),n.Tc(13,"th",25),n.Qd(14,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2"),n.Sc(),n.Tc(15,"th",26),n.Qd(16,"\xa0"),n.Sc(),n.Sc()}if(2&t){const t=n.gd(2);n.Ac(2),n.pd("binary",!0)("ngModel",t.isAllDebitsChecked)}}function lt(t,e){if(1&t){const t=n.Uc();n.Tc(0,"tr"),n.Tc(1,"td",21),n.Tc(2,"span",27),n.Qd(3,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),n.Sc(),n.Tc(4,"p-checkbox",22),n.ed("ngModelChange",(function(i){n.Fd(t);return e.$implicit.isChecked=i}))("onChange",(function(){n.Fd(t);return n.gd(2)._calculateTotalAmounts()})),n.Sc(),n.Sc(),n.Tc(5,"td",23),n.Tc(6,"span",27),n.Qd(7,"A/A"),n.Sc(),n.Qd(8),n.Sc(),n.Tc(9,"td",24),n.Tc(10,"span",27),n.Qd(11,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),n.Sc(),n.Qd(12),n.Sc(),n.Tc(13,"td",28),n.Tc(14,"span",27),n.Qd(15,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Sc(),n.Qd(16),n.hd(17,"currency"),n.Sc(),n.Tc(18,"td",28),n.Tc(19,"span",27),n.Qd(20,"\u03a4\u03ad\u03bb\u03bf\u03c2"),n.Sc(),n.Qd(21),n.hd(22,"currency"),n.Sc(),n.Tc(23,"td",28),n.Tc(24,"span",27),n.Qd(25,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),n.Sc(),n.Qd(26),n.hd(27,"currency"),n.Sc(),n.Tc(28,"td",28),n.Tc(29,"span",27),n.Qd(30,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2"),n.Sc(),n.Qd(31),n.hd(32,"currency"),n.Sc(),n.Tc(33,"td",29),n.Tc(34,"span",27),n.Qd(35,"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"),n.Sc(),n.Tc(36,"button",30),n.ed("click",(function(){n.Fd(t);const i=e.$implicit;return n.gd(2).onEdit(i)})),n.Oc(37,"i",31),n.Sc(),n.Sc(),n.Sc()}if(2&t){const t=e.$implicit,i=e.rowIndex;n.Ac(4),n.pd("binary",!0)("ngModel",t.isChecked),n.Ac(4),n.Sd(" ",i+1," "),n.Ac(4),n.Sd(" ",t.dilosiDescription," "),n.Ac(4),n.Sd(" ",n.ld(17,8,t.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),n.Ac(5),n.Sd(" ",n.ld(22,13,t.telosPoso,"\u20ac","symbol","1.2")," "),n.Ac(5),n.Sd(" ",n.ld(27,18,t.prostimoPoso,"\u20ac","symbol","1.2")," "),n.Ac(5),n.Sd(" ",n.ld(32,23,t.telosPoso+t.prostimoPoso,"\u20ac","symbol","1.2")," ")}}function pt(t,e){if(1&t&&(n.Tc(0,"tr"),n.Tc(1,"td",32),n.Tc(2,"strong"),n.Qd(3,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf:"),n.Sc(),n.Sc(),n.Tc(4,"td",28),n.Tc(5,"strong"),n.Qd(6),n.hd(7,"currency"),n.Sc(),n.Sc(),n.Tc(8,"td",28),n.Tc(9,"strong"),n.Qd(10),n.hd(11,"currency"),n.Sc(),n.Sc(),n.Tc(12,"td",28),n.Tc(13,"strong"),n.Qd(14),n.hd(15,"currency"),n.Sc(),n.Sc(),n.Tc(16,"td",28),n.Tc(17,"strong"),n.Qd(18),n.hd(19,"currency"),n.Sc(),n.Sc(),n.Tc(20,"td",26),n.Qd(21,"\xa0"),n.Sc(),n.Sc()),2&t){const t=n.gd(2);n.Ac(6),n.Rd(n.md(7,4,n.vd(28,it,t.sumYpokeimeno))),n.Ac(4),n.Rd(n.md(11,10,n.vd(30,it,t.sumTelos))),n.Ac(4),n.Rd(n.md(15,16,n.vd(32,it,t.sumProstimo))),n.Ac(4),n.Rd(n.md(19,22,n.vd(34,it,t.sumToPay)))}}function ht(t,e){1&t&&n.Pc(0)}function mt(t,e){if(1&t){const t=n.Uc();n.Rc(0),n.Tc(1,"div",19),n.Od(2,ht,1,0,"ng-container",20),n.Sc(),n.Tc(3,"app-payment",33),n.ed("errorMsg",(function(e){n.Fd(t);return n.gd(2).errorMessageProfile=e})),n.Sc(),n.Qc()}if(2&t){const t=n.gd(2),e=n.Dd(4);n.Ac(2),n.pd("ngTemplateOutlet",e),n.Ac(1),n.pd("userInfo",t.userInfo)("requestObs",t.requestObs)}}function ut(t,e){if(1&t&&(n.Tc(0,"div",34),n.Tc(1,"p"),n.Qd(2),n.Sc(),n.Sc()),2&t){const t=n.gd(2);n.Ac(2),n.Rd(t.errorMessageProfile)}}function ft(t,e){if(1&t&&(n.Rc(0),n.Od(1,dt,2,1,"div",12),n.Tc(2,"p",13),n.Tc(3,"strong"),n.Qd(4),n.Sc(),n.Sc(),n.Tc(5,"p-table",14),n.Od(6,rt,17,2,"ng-template",15),n.Od(7,lt,38,28,"ng-template",16),n.Od(8,pt,22,36,"ng-template",17),n.Sc(),n.Tc(9,"p",13),n.Tc(10,"strong"),n.Qd(11),n.Sc(),n.Sc(),n.Od(12,mt,4,3,"ng-container",2),n.Od(13,ut,3,1,"div",18),n.Qc()),2&t){const t=n.gd();n.Ac(1),n.pd("ngIf",t.calculatedChecked.countChecked>0),n.Ac(3),n.Sd("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",t.dilosiInfoSaved.length,""),n.Ac(1),n.pd("value",t.dilosiInfoSaved)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",t.dilosiInfoSaved.length),n.Ac(6),n.Sd("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",t.dilosiInfoSaved.length,""),n.Ac(1),n.pd("ngIf",t.calculatedChecked.countChecked>0),n.Ac(1),n.pd("ngIf",t.errorMessageProfile)}}function gt(t,e){if(1&t&&(n.Tc(0,"p"),n.Qd(1,"\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 "),n.Tc(2,"span",35),n.Qd(3),n.Sc(),n.Sc(),n.Tc(4,"div",36),n.Tc(5,"p"),n.Qd(6,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a4\u03ad\u03bb\u03bf\u03c2: "),n.Tc(7,"span",35),n.Qd(8),n.hd(9,"currency"),n.Sc(),n.Sc(),n.Tc(10,"p"),n.Qd(11,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf: "),n.Tc(12,"span",35),n.Qd(13),n.hd(14,"currency"),n.Sc(),n.Sc(),n.Tc(15,"p"),n.Qd(16,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: "),n.Tc(17,"span",37),n.Qd(18),n.hd(19,"currency"),n.Sc(),n.Sc(),n.Sc()),2&t){const t=n.gd();n.Ac(3),n.Td("",t.calculatedChecked.countChecked," ",t.calculatedChecked.countText,""),n.Ac(5),n.Rd(n.ld(9,5,t.calculatedChecked.checkedTelos,"\u20ac","symbol","1.2")),n.Ac(5),n.Rd(n.ld(14,10,t.calculatedChecked.checkedProstimo,"\u20ac","symbol","1.2")),n.Ac(5),n.Rd(n.ld(19,15,t.calculatedChecked.checkedTelos+t.calculatedChecked.checkedProstimo,"\u20ac","symbol","1.2"))}}function yt(t,e){if(1&t){const t=n.Uc();n.Tc(0,"app-katastimata-create-dilosi",38),n.ed("updateSaved",(function(e){n.Fd(t);return n.gd().updateDilosiInTable(e)})),n.Sc()}if(2&t){const t=n.gd();n.pd("diloseisInfoResponse",t.diloseisInfoResponse)("dilosi",t.selectedDilosi)("onlinePaymentsSettingsCompany",t.onlinePaymentsSettingsCompany)}}const bt=["requestBankDataForm"];function St(t,e){1&t&&(n.Tc(0,"div",12),n.Tc(1,"span",13),n.Oc(2,"i",14),n.Sc(),n.Tc(3,"span"),n.Qd(4,"\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bc\u03ad\u03bd\u03b5\u03c4\u03b5, \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03bf\u03cd\u03bc\u03b5 \u03bc\u03b5 \u03c4\u03bf \u0394\u03ae\u03bc\u03bf \u03b3\u03b9\u03b1 \u03bf\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1."),n.Sc(),n.Sc())}function It(t,e){if(1&t&&(n.Tc(0,"div",15),n.Tc(1,"div",16),n.Qd(2),n.Sc(),n.Sc()),2&t){const t=n.gd();n.Ac(2),n.Sd(" ",t.errorMessageProfile," ")}}function kt(t,e){if(1&t&&(n.Tc(0,"h5"),n.Qd(1),n.Sc()),2&t){const t=n.gd().$implicit;n.Ac(1),n.Rd(t.label)}}function Pt(t,e){if(1&t&&n.Oc(0,"small",24),2&t){const t=n.gd().$implicit;n.pd("innerHTML",t.description,n.Gd)}}function Ot(t,e){if(1&t&&(n.Oc(0,"img",27),n.hd(1,"lowercase")),2&t){const t=e.$implicit;n.pd("src","https://egritosgroup.gr/wp-content/uploads/2020/10/"+n.id(1,2,t)+".jpg",n.Hd)("alt",t)}}function vt(t,e){if(1&t&&(n.Rc(0),n.Od(1,Ot,2,4,"img",26),n.Qc()),2&t){const t=n.gd(2).$implicit;n.Ac(1),n.pd("ngForOf",t.services)}}function Tt(t,e){if(1&t&&(n.Tc(0,"div",25),n.Od(1,vt,2,1,"ng-container",11),n.Sc()),2&t){const t=n.gd().$implicit;n.Ac(1),n.pd("ngIf",t.services&&t.services.length>0)}}function At(t,e){1&t&&(n.Tc(0,"div",25),n.Oc(1,"img",28),n.Sc())}function Dt(t,e){if(1&t){const t=n.Uc();n.Rc(0),n.Tc(1,"div",21),n.ed("click",(function(){n.Fd(t);const i=e.$implicit;return n.gd(3).btnPayClicked(i)})),n.Od(2,kt,2,1,"h5",11),n.Od(3,Pt,1,1,"small",22),n.Od(4,Tt,2,1,"div",23),n.Od(5,At,2,0,"div",23),n.Sc(),n.Qc()}if(2&t){const t=e.$implicit,i=n.gd(3);n.Ac(1),n.Cc("payment-method btn btn-outline-primary w-100 text-dark mb-2 d-flex align-items-center justify-content-between "+i.paymentMethodsClass),n.pd("id",t.key),n.Ac(1),n.pd("ngIf",t.label),n.Ac(1),n.pd("ngIf",t.description),n.Ac(1),n.pd("ngIf","IRIS"!=t.key),n.Ac(1),n.pd("ngIf","IRIS"==t.key)}}function Ct(t,e){if(1&t&&(n.Tc(0,"div",19),n.Od(1,Dt,6,7,"ng-container",20),n.Sc()),2&t){const t=n.gd(2);n.Ac(1),n.pd("ngForOf",t.onlinePaymentSettings.paymentMethods)}}function Rt(t,e){1&t&&(n.Tc(0,"div",12),n.Tc(1,"span",13),n.Oc(2,"i",29),n.Sc(),n.Sc())}function Mt(t,e){if(1&t&&(n.Tc(0,"div",17),n.Od(1,Ct,2,1,"div",18),n.Od(2,Rt,3,0,"div",0),n.Sc()),2&t){const t=n.gd();n.Ac(1),n.pd("ngIf",t.onlinePaymentSettings),n.Ac(1),n.pd("ngIf",!t.onlinePaymentSettings)}}function xt(t,e){if(1&t&&n.Oc(0,"div",41),2&t){const t=n.gd(2);n.pd("innerHTML",t.formErrorsMsg,n.Gd)}}function wt(t,e){if(1&t){const t=n.Uc();n.Tc(0,"div",3),n.Tc(1,"form",30,31),n.Tc(3,"div",32),n.Tc(4,"div",33),n.Tc(5,"label",34),n.Qd(6,"\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2*"),n.Sc(),n.Tc(7,"input",35),n.ed("ngModelChange",(function(e){n.Fd(t);return n.gd().paymentRequestDto.cardholderName=e})),n.Sc(),n.Tc(8,"div",36),n.Qd(9," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Sc(),n.Sc(),n.Sc(),n.Tc(10,"div",37),n.Tc(11,"button",38),n.ed("click",(function(){n.Fd(t);return n.gd()._submitPaymentRequest()})),n.Oc(12,"i",39),n.Qd(13," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),n.Sc(),n.Sc(),n.Od(14,xt,1,1,"div",40),n.Sc(),n.Sc()}if(2&t){const t=n.gd();n.Ac(7),n.pd("ngModel",t.paymentRequestDto.cardholderName),n.Ac(1),n.pd("hidden",!t.isFormSubmitted||t.isFormSubmitted&&t.paymentRequestDto.cardholderName),n.Ac(6),n.pd("ngIf",t.formErrorsMsg&&""!=t.formErrorsMsg)}}function _t(t,e){if(1&t&&(n.Rc(0),n.Oc(1,"input",45),n.Qc()),2&t){const t=e.$implicit;n.Ac(1),n.qd("name",t.key),n.qd("value",t.value)}}function Ft(t,e){if(1&t&&(n.Rc(0),n.Od(1,_t,2,2,"ng-container",20),n.hd(2,"keyvalue"),n.Oc(3,"input",44),n.Qc()),2&t){const t=n.gd(2);n.Ac(1),n.pd("ngForOf",n.id(2,2,t.paymentResponseDto.postFields)),n.Ac(2),n.qd("value",t.everypayToken)}}function Ut(t,e){if(1&t&&(n.Tc(0,"form",42),n.Od(1,Ft,4,4,"ng-container",11),n.Oc(2,"div",43),n.Sc()),2&t){const t=n.gd();n.qd("action",null==t.paymentResponseDto?null:t.paymentResponseDto.postUrl,n.Hd),n.Ac(1),n.pd("ngIf",t.paymentResponseDto)}}function Et(t,e){if(1&t&&n.Oc(0,"form",46),2&t){const t=n.gd();n.qd("action",null==t.paymentResponseDto?null:t.paymentResponseDto.postUrl,n.Hd)}}function Qt(t,e){if(1&t&&(n.Tc(0,"div"),n.Oc(1,"input",47),n.Sc()),2&t){const t=e.$implicit;n.Ac(1),n.qd("name",t.key),n.qd("value",t.value)}}function Lt(t,e){if(1&t&&(n.Rc(0),n.Od(1,Qt,2,2,"div",20),n.Qc()),2&t){const t=n.gd();n.Ac(1),n.pd("ngForOf",t.paymentResponseDto.postFields)}}function jt(t,e){if(1&t){const t=n.Uc();n.Tc(0,"button",7),n.ed("click",(function(){n.Fd(t);return n.gd()._payActions()})),n.Oc(1,"i",8),n.Qd(2," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),n.Sc()}if(2&t){const t=n.gd();n.pd("disabled",!t.canPay)}}function qt(t,e){1&t&&(n.Tc(0,"span",9),n.Oc(1,"i",10),n.Sc())}function Nt(t,e){if(1&t){const t=n.Uc();n.Tc(0,"app-payment-methods",11),n.ed("createRequest",(function(){n.Fd(t);return n.gd()._payActions()}))("loadingSimplifyModal",(function(e){n.Fd(t);return n.gd().isLoadingSimplifyModalChanged(e)}))("isLoadingPaymentSettings",(function(e){n.Fd(t);return n.gd().isLoadingPaymentSettingsChanged(e)}))("isUserDataValid",(function(e){n.Fd(t);return n.gd().isUserDataValidChanged(e)})),n.Sc()}if(2&t){const t=n.gd();n.pd("assetsUrl",t.assetsUrl)("user",t.userInfo)("isLoadingPaymentResponse",t.isLoadingPaymentResponse)}}class Bt{constructor(t){this.toastr=t}show(t,e,i){e&&this.toastr[i](e,t,{progressBar:!0,onActivateTick:!0})}showError(t,e){this.show(t,e,"error")}showInfo(t,e){this.show(t,e,"info")}showSuccess(t,e){this.show(t,e,"success")}showWarning(t,e){this.show(t,e,"warning")}}Bt.\u0275fac=function(t){return new(t||Bt)(n.bd(f.b))},Bt.\u0275prov=Object(n.Jc)({factory:function(){return new Bt(Object(n.bd)(f.b))},token:Bt,providedIn:"root"}),Bt.ctorParameters=()=>[{type:f.b}];class Wt{constructor(t){this.toastService=t,this.catchBadResponse=t=>{let e="";if(t.error instanceof Error)e="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+t.message;else if(void 0!==t.error)e="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+t.message;else switch(t.status){case 403:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error "+t.status;break;case 401:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n "+t.status;break;default:e=`Backend returned code ${t.status}, body was: ${void 0!==t.body?t.body.error:void 0!==t.message?t.message:""}`}return this.toastService.showError("",""+e),Object(a.a)(!1)}}}Wt.\u0275fac=function(t){return new(t||Wt)(n.bd(Bt))},Wt.\u0275prov=Object(n.Jc)({factory:function(){return new Wt(Object(n.bd)(Bt))},token:Wt,providedIn:"root"}),Wt.ctorParameters=()=>[{type:Bt}];class Gt extends class{constructor(t,e){this.http=t,this.exceptionService=e,this.getBaseUrl=()=>this.baseUrl,AppConfOptions&&AppConfOptions.katastimata_api?(this.baseUrl=AppConfOptions.katastimata_api,this.financeUrl=AppConfOptions.epayments_api):(this.baseUrl="/",this.financeUrl=AppConfOptions.financeApi),this.baseUrl+="api",this.financeUrl+="api"}}{constructor(t,e){super(e,t),this.exceptionSrv=t,this.http=e,this.katastimataUrl=this.baseUrl+"/DiloseisWeb",this.dmsUrl=this.baseUrl+"/DocDms",this.configurationOptionsUrl=this.baseUrl+"/Configurations",this.userInfoSubject=new c.a(null),this.userInfo$=this.userInfoSubject.asObservable(),this.egOnInit()}egOnInit(){this.userInfo$.subscribe(t=>{this.userInfo=t})}initUserInfo(){if(!this.userInfo){let t=null;for(let e=0;e<window.localStorage.length;e++){const i=window.localStorage.key(e);"userData"===i.slice(0,8)&&(t=JSON.parse(window.localStorage.getItem(i)),this.userInfoSubject.next({email:t.email,username:t.given_name,tin:t.tin,family_name:t.family_name,given_name:t.given_name,name:t.name,address_city:t.address_city,address_country_code:t.address_country_code,address_zip:t.address_zip,address:t.address,fathers_name:t.fathers_name,mothers_name:t.mothers_name,adt:t.adt,phone_number:t.phone_number}))}}}getDiloseis(t){return this.http.get(`${this.katastimataUrl}/DiloseisWebInfo/${t}`).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}getDilosiPaymentInfo(t){return this.http.post(this.katastimataUrl+"/DilosiWebPaymentInfo",t).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}uploadPeriodikiDilosi(t){let e=new o.e;return e=e.append("isForm","true"),this.http.post(this.katastimataUrl+"/DilosiWebScan",t,{headers:e,responseType:"arraybuffer"}).pipe(Object(l.a)(t=>t),Object(p.a)(()=>Object(a.a)(!1)))}getPayedInfo(t){return this.http.get(`${this.katastimataUrl}/DiloseisWebPayedInfo/${t}`).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}getEpixeirisiInfo(t){return this.http.get(`${this.katastimataUrl}/DiloseisWebEpixirisiInfo/${t}`).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}deleteDocDmsByDilosiId(t){const e=this.katastimataUrl+"/DeleteDocDmsByDilosiId/"+t;return this.http.get(e).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}markDilosiWebExoflisi(t){const e=this.katastimataUrl+"/MarkDilosiWebExoflisi";return this.http.post(e,t).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionService.catchBadResponse))}addPaymentRequest(t){const e=this.financeUrl+"/Banks/AddPaymentRequest";return this.http.post(e,t).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}getDocDmsByDilosiId(t){const e=`${this.dmsUrl}/GetDocDmsByDilosiId/${t}`;return this.http.get(e).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}getDownloadFile(t){const e=`${this.dmsUrl}/DownloadFile/${t}`;return this.http.get(e).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}getPluginCustomerOptions(){const t=this.configurationOptionsUrl+"/GetPluginCustomerSpecificOptions";return this.http.get(t).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}createRemittanceInfoById(t){const e=`${this.katastimataUrl}/CreateRemittanceInfoById/${t}`,i={headers:new o.e({Accept:"text/html, application/xhtml+xml, */*","Content-Type":"text/plain; charset=utf-8"}),responseType:"text"};return this.http.get(e,i).pipe(Object(l.a)(t=>t),Object(p.a)(this.exceptionSrv.catchBadResponse))}getPaymentSettings(){let t=this.baseUrl+"/oikonomiki/GetPaymentSettings";return this.paymentSettings?Object(a.a)(this.paymentSettings):this.http.get(t).pipe(Object(l.a)(t=>(this.paymentSettings=t,t)),Object(p.a)(this.exceptionSrv.catchBadResponse))}}function $t(t,e,i){let s="";const n=[],o=t.control;return Object.keys(o.controls).forEach(t=>{const e=o.get(t);e instanceof y.d&&n.push(...function t(e){const i=[];return Object.keys(e.controls).forEach(s=>{const n=e.get(s);n instanceof y.d&&i.push(...t(n));const o=n.errors;o&&Object.keys(o).forEach(t=>{i.push({control:s,error:t,value:o[t]})})}),i}(e));const i=e.errors;i&&Object.keys(i).forEach(e=>{n.push({control:t,error:e,value:i[e]})})}),!(!n&&!i)&&(s="<ul>",n.forEach(t=>{let i;"required"==t.error?i="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==t.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==t.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"max"==t.error&&(i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03ad\u03b3\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),s+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+e[t.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+i+"</li>"}),s+=i,s+="</ul>",s)}function Vt(t,e=(()=>{})){const i=Object(h.a)(()=>Object(a.a)(!0));let s=[];return t.forEach(t=>{s=[...s,Object(h.a)(i=>i?t:(e(),Object(a.a)(!1)))]}),Object(a.a)(!0).pipe(i,i,i,i,i,i,i,i,i,...s)}function zt(t,e){const i=()=>{try{t.detectChanges()}catch(e){console.warn("View already destroyed")}};e?e.runOutsideAngular(()=>i()):i()}function Ht(t){try{return JSON.parse(JSON.stringify(t))}catch(e){console.error(e)}}Gt.\u0275fac=function(t){return new(t||Gt)(n.bd(Wt),n.bd(o.b))},Gt.\u0275prov=Object(n.Jc)({factory:function(){return new Gt(Object(n.bd)(Wt),Object(n.bd)(o.b))},token:Gt,providedIn:"root"}),Gt.ctorParameters=()=>[{type:Wt},{type:o.b}];class Kt{constructor(t,e,i,s,n,o){this.katastimataNgSrv=t,this.toasterSrv=e,this.cdr=i,this._http=s,this.router=n,this.route=o,this.model=[],this.countriesList=[],this.index=0,this.isLoading=!0,this.isAddingNewDilosi=!1,this.onDestroy=new d.a}ngOnInit(){this.katastimataNgSrv.initUserInfo(),this.katastimataNgSrv.userInfo$.pipe(Object(h.a)(t=>t?(this.userInfo=t,this._http.get(AuthConfOptions.stsServer+"/api/general/GetCountries")):Object(a.a)(!1)),Object(m.a)(this.onDestroy)).subscribe(t=>{t&&(this.countriesList=t,this.userInfo.address_country_code&&""!=this.userInfo.address_country_code&&(this.userInfo.address_country_num=this.countriesList.find(t=>t.Alpha2Code==this.userInfo.address_country_code).NumericCode.toString())),zt(this.cdr)}),this.router.events.pipe(Object(u.a)(t=>t instanceof g.b),Object(m.a)(this.onDestroy)).subscribe(t=>{t&&t.url&&t.url.includes("receipts")?this.index=0:t&&t.url&&t.url.includes("saved")&&(this.index=1),zt(this.cdr)}),Object(r.a)([this.katastimataNgSrv.getEpixeirisiInfo(this.userInfo.tin),this.katastimataNgSrv.getDiloseis(this.userInfo.tin),this.katastimataNgSrv.getPluginCustomerOptions()]).subscribe(t=>{if(t){if(this.epixeirisiInfo=t[0],this.diloseisInfoResponse=t[1],this.epixeirisiInfo||this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03c9\u03bd \u03c4\u03b7\u03c2 \u03b5\u03c0\u03b9\u03c7\u03b5\u03af\u03c1\u03b7\u03c3\u03b7\u03c2."),this.diloseisInfoResponse&&this.diloseisInfoResponse.length>0?this.diloseisInfoSaved=this.diloseisInfoResponse.filter(t=>6==t.statusId):this.toasterSrv.showError("","\u0394\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03c9\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd."),t[2]){let e=t[2].find(t=>t.configurationOptions.find(t=>"PluginCustomerSpecificOptions:OnlinePayments"==t.id));e&&e.configurationOptions.find(t=>"PluginCustomerSpecificOptions:OnlinePayments"==t.id)&&(this.onlinePaymentsSettingsCompany=e.configurationOptions.find(t=>"PluginCustomerSpecificOptions:OnlinePayments"==t.id).value)}zt(this.cdr),this._loadData()}else this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1.")})}ngOnDestroy(){this.onDestroy.next()}_loadData(){this.katastimataNgSrv.getPayedInfo(this.userInfo.tin).subscribe(t=>{t?this.model=t:this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03c9\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd."),this.isLoading=!1,zt(this.cdr)})}onCreateNewDilosiClicked(){this.isAddingNewDilosi=!0,zt(this.cdr)}onTabChanged(t){0==t.index?this.router.navigate(["./receipts"],{relativeTo:this.route,preserveQueryParams:!0}):this.router.navigate(["./saved"],{relativeTo:this.route})}onReloadSaved(t){this.katastimataNgSrv.getDiloseis(this.userInfo.tin).subscribe(t=>{t&&(this.diloseisInfoResponse=t,this.diloseisInfoSaved=this.diloseisInfoResponse.filter(t=>6==t.statusId),zt(this.cdr),this._loadData())})}}Kt.\u0275fac=function(t){return new(t||Kt)(n.Nc(Gt),n.Nc(Bt),n.Nc(n.k),n.Nc(o.b),n.Nc(g.d),n.Nc(g.a))},Kt.\u0275cmp=n.Hc({type:Kt,selectors:[["lib-katastimata-ng"]],decls:7,vars:9,consts:[[4,"ngIf"],["title","\u039d\u03ad\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7",3,"isOpen","size","isOpenChange"],[1,"modal-body"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","epixeirisiInfo","updateSaved",4,"ngIf"],[1,"d-flex",2,"height","100vh !important"],[1,"justify-content-center","align-self-start","w-100","mt-2"],["role","alert",1,"bg-danger","text-light","p-2"],["class","mb-3 py-1 d-flex flex-wrap",4,"ngIf"],[3,"activeIndex","onChange"],["header","\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd"],[3,"diloseisReceipts","userInfo","isLoading","diloseisInfoResponse","reloadData",4,"ngIf"],["header","\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",4,"ngIf"],[1,"mb-3","py-1","d-flex","flex-wrap"],["class","m-0 mr-1 d-inline-flex align-items-center eponimia-title",4,"ngIf"],["class","btn btn-primary btn-sm m-0 ml-auto","type","button",3,"click",4,"ngIf"],[1,"m-0","mr-1","d-inline-flex","align-items-center","eponimia-title"],["type","button",1,"btn","btn-primary","btn-sm","m-0","ml-auto",3,"click"],["aria-hidden","true",1,"fas","fa-plus"],[3,"diloseisReceipts","userInfo","isLoading","diloseisInfoResponse","reloadData"],["header","\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2"],["pTemplate","content"],[3,"dilosiInfoSaved","userInfo","isLoading","diloseisInfoResponse","onlinePaymentsSettingsCompany","epixeirisiInfo","reloadData"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","epixeirisiInfo","updateSaved"]],template:function(t,e){1&t&&(n.Od(0,D,5,0,"ng-container",0),n.hd(1,"async"),n.Od(2,F,6,4,"ng-container",0),n.hd(3,"async"),n.Tc(4,"eg-modal",1),n.ed("isOpenChange",(function(t){return e.isAddingNewDilosi=t})),n.Tc(5,"div",2),n.Od(6,U,1,4,"app-katastimata-create-dilosi",3),n.Sc(),n.Sc()),2&t&&(n.pd("ngIf",!n.id(1,5,e.katastimataNgSrv.userInfo$)),n.Ac(2),n.pd("ngIf",n.id(3,7,e.katastimataNgSrv.userInfo$)),n.Ac(2),n.pd("isOpen",e.isAddingNewDilosi)("size","xl"),n.Ac(2),n.pd("ngIf",e.isAddingNewDilosi))},directives:function(){return[b.p,S.a,v.b,v.a,ce,A.f,de,ae]},pipes:function(){return[b.b]},encapsulation:2,changeDetection:0}),Kt.ctorParameters=()=>[{type:Gt},{type:Bt},{type:n.k},{type:o.b},{type:g.d},{type:g.a}];class Jt{constructor(){this.dilosiId=0,this.dilosiDescription=null,this.hmeromiaLixisDilosis=null}}class Yt{constructor(){this.dilosiId=null,this.epixirisiOfeiletisEponimia=null,this.paymentCaption=null,this.paymentCode=null,this.paymentAmount=null,this.telosPoso=null,this.prostimoPoso=null,this.posostoEkprothesmisKatavolisMines=null,this.apoforologimenoPoso=null,this.posostoTelous=null,this.posostoEkprothesmisKatavolis=null,this.posostoEkprothesmisKatavolisArxiko=null}}class Xt{constructor(){this.bankTransactionId=null}}var Zt,te,ee,ie,se,ne;!function(t){t[t.allo=0]="allo",t[t.adeies=1]="adeies",t[t.diloseis=2]="diloseis",t[t.aitiseisDimotikiAstinomia=3]="aitiseisDimotikiAstinomia"}(Zt||(Zt={})),function(t){t[t.String=1]="String",t[t.Select=2]="Select",t[t.MultiSelect=3]="MultiSelect",t[t.Number=4]="Number",t[t.Date=5]="Date",t[t.DateTime=6]="DateTime",t[t.Dynamic=7]="Dynamic",t[t.StringMultiLine=8]="StringMultiLine",t[t.Checkbox=9]="Checkbox"}(te||(te={})),function(t){t[t.Ok=1]="Ok",t[t.Error=2]="Error",t[t.Warning=3]="Warning",t[t.UndefinedError=4]="UndefinedError"}(ee||(ee={})),function(t){t[t.aplirotes=1]="aplirotes",t[t.pliromenes=2]="pliromenes"}(ie||(ie={})),function(t){t.dilosiDescription="\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2",t.ypokeimenoPoso="\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc",t.periodikiDilosiFPA="\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)"}(se||(se={})),function(t){t.billAddrState="\u03a0\u03b5\u03c1\u03b9\u03c6\u03ad\u03c1\u03b5\u03b9\u03b1",t.cardholderName="\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2",t.mobilePhone="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf"}(ne||(ne={}));let oe=i("C7T5");class ae{constructor(t,e,i){this.katastimataNgSrv=t,this.toasterSrv=e,this.cdr=i,this.updateSaved=new n.x,this.requestObs=[],this.onDestroy=new d.a,this.pososta=[{value:"0.5",description:"0.5%"},{value:"2",description:"2%"},{value:"5",description:"5%"}],this.toggleEditFiles=!1,this.periodikiDilosiFPA=null,this.extraFile=null,this.uploadedFiles=[],this.errorMessageProfile=null,this.isLoading=!1,this.isFormDirty=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=se}ngOnInit(){this.dilosi?this.katastimataNgSrv.getDocDmsByDilosiId(this.dilosiCopy.dilosiId).subscribe(t=>{t&&(this.dilosiFiles=t,zt(this.cdr))}):(this.dilosi=new Jt,this.dilosiCopy=Ht(this.dilosi),zt(this.cdr)),this.katastimataNgSrv.userInfo$.pipe(Object(m.a)(this.onDestroy)).subscribe(t=>{t&&(this.userInfo=t,zt(this.cdr))})}ngOnDestroy(){this.onDestroy.next()}ngOnChanges(t){t&&t.dilosi&&(this.dilosiCopy=t.dilosi.currentValue,zt(this.cdr)),t&&t.onlinePaymentsSettingsCompany&&(this.onlinePaymentsSettingsCompany=t.onlinePaymentsSettingsCompany.currentValue,zt(this.cdr))}onSelectedDilosiChanged(t){t&&(this.dilosiCopy=this.diloseisInfoResponse.filter(t=>t.dilosiId===+this.dilosiCopy.dilosiId)[0],zt(this.cdr))}downloadFile(t){t&&this.katastimataNgSrv.getDownloadFile(t).subscribe()}onFileChange(t,e){t&&t.srcElement.files.length>0?oe(t,!0).then(t=>{this.uploadedFiles[e]=t}):delete this.uploadedFiles[e],this.isFormDirty=!0,zt(this.cdr)}onSubmit(){if(this.formErrorsMsg="",this.dimotikosForosForm.valid&&this.dilosiCopy.ypokeimenoPoso>0){this.isFormSubmitted=!0,this.isFormDirty=!1,this.isLoading=!0;let t=[];if(!this.dilosiFiles||0==this.dilosiFiles.length||this.uploadedFiles&&this.uploadedFiles.length){let e=[];const i=Object.values(this.uploadedFiles);for(let t=0;t<i.length;t++){const s=i[t];let n=s.name.substr(s.name.lastIndexOf(".")+1);e.push({language:"el",dilosiId:+this.dilosiCopy.dilosiId,fileContent:s.base64,fileLength:s.size,fileExtension:n,fileDescription:t,fileName:s.name})}t=[...t,this.katastimataNgSrv.deleteDocDmsByDilosiId(this.dilosiCopy.dilosiId)],e.length>0&&e.forEach(e=>{t=[...t,this.katastimataNgSrv.uploadPeriodikiDilosi(e)]})}let e={language:"el",dilosiId:+this.dilosiCopy.dilosiId,ypokeimenoPoso:+this.dilosiCopy.ypokeimenoPoso,hmerominiaDilosis:new Date};if(this.onlinePaymentsSettingsCompany&&"1"==this.onlinePaymentsSettingsCompany)this.requestObs=[...this.requestObs,this.katastimataNgSrv.getDilosiPaymentInfo(e)],t=[...t,this.katastimataNgSrv.getDilosiPaymentInfo(e)],zt(this.cdr),Vt(t,()=>this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1.")).subscribe(t=>{t?(this.dilosiWebPaymentInfo=t,this.dilosiWebPaymentInfo&&(this.updateSaved.emit({dilosiId:this.dilosiWebPaymentInfo.dilosiId,dilosiDescription:this.dilosiWebPaymentInfo.paymentCaption,statusId:this.dilosiCopy.statusId,akatharistoPoso:this.dilosiCopy.akatharistoPoso,ypokeimenoPoso:this.dilosiCopy.ypokeimenoPoso,telosPoso:this.dilosiWebPaymentInfo.telosPoso,prostimoPoso:this.dilosiWebPaymentInfo.prostimoPoso,hmeromiaLixisDilosis:this.dilosiCopy.hmeromiaLixisDilosis,isChecked:!1}),this.kodikosPliromis=this.dilosiWebPaymentInfo.paymentCode,this.kodikosPliromis&&this.kodikosPliromis.length>15&&(this.kodikosPliromis=this.dilosiWebPaymentInfo.paymentCode.match(/(.|[\r\n]){1,4}/g).toString(),this.kodikosPliromis=this.kodikosPliromis.replace(new RegExp(",","g")," "))),this.isLoading=!1,this.isFormSubmitted=!1,zt(this.cdr)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03c9\u03bd \u03c0\u03bf\u03c3\u03ce\u03bd.")});else{this.dilosiWebPaymentInfo=new Yt;let e="";this.katastimataNgSrv.createRemittanceInfoById(this.dilosiCopy.dilosiId).pipe(Object(h.a)(i=>i?(e=i,Vt(t,()=>this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1."))):Object(a.a)(!1))).subscribe(t=>{if(t&&this.dilosiWebPaymentInfo){let t=+this.selectedPososto/100+1,n=(this.dilosiCopy.ypokeimenoPoso/t).toFixed(2);n=+n;let o=+this.selectedPososto/100,a=(n*o).toFixed(2);a=+a;let c=(i=new Date(this.dilosiCopy.hmeromiaLixisDilosis),(s=new Date).getMonth()-i.getMonth()+12*(s.getFullYear()-i.getFullYear()));c<0&&(c=0);let d=.02*c*a;d>a&&(d=a),this.dilosiWebPaymentInfo.dilosiId=this.dilosiCopy.dilosiId,this.dilosiWebPaymentInfo.epixirisiOfeiletisEponimia=this.epixeirisiInfo.eponimia,this.dilosiWebPaymentInfo.paymentCaption=this.dilosiCopy.dilosiDescription,this.dilosiWebPaymentInfo.paymentCode=e,this.dilosiWebPaymentInfo.paymentAmount=a+d,this.dilosiWebPaymentInfo.telosPoso=a,this.dilosiWebPaymentInfo.prostimoPoso=d,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines=c,this.dilosiWebPaymentInfo.apoforologimenoPoso=n,this.dilosiWebPaymentInfo.posostoTelous=o,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolis=.02*c,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisArxiko=.02,this.updateSaved.emit({dilosiId:this.dilosiCopy.dilosiId,dilosiDescription:this.dilosiCopy.dilosiDescription,statusId:this.dilosiCopy.statusId,hmeromiaLixisDilosis:this.dilosiCopy.hmeromiaLixisDilosis,akatharistoPoso:this.dilosiCopy.akatharistoPoso,ypokeimenoPoso:this.dilosiCopy.ypokeimenoPoso,isChecked:!1,telosPoso:this.dilosiWebPaymentInfo.telosPoso,prostimoPoso:this.dilosiWebPaymentInfo.prostimoPoso}),this.isLoading=!1,this.isFormSubmitted=!1,zt(this.cdr)}else this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03bf\u03c5 Remittance Info.");var i,s}),zt(this.cdr)}}else{let t="";this.dilosiCopy.dilosiId||(t+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf</li>"),0==this.dilosiCopy.ypokeimenoPoso&&(t+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03c4\u03bf\u03c5 0</li>"),this.formErrorsMsg=$t(this.dimotikosForosForm,this.formDictionaryEnum,t),zt(this.cdr)}}}ae.\u0275fac=function(t){return new(t||ae)(n.Nc(Gt),n.Nc(Bt),n.Nc(n.k))},ae.\u0275cmp=n.Hc({type:ae,selectors:[["app-katastimata-create-dilosi"]],viewQuery:function(t,e){var i;(1&t&&n.Vd(E,!0),2&t)&&(n.Cd(i=n.fd())&&(e.dimotikosForosForm=i.first))},inputs:{dilosi:"dilosi",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",diloseisInfoResponse:"diloseisInfoResponse",epixeirisiInfo:"epixeirisiInfo"},outputs:{updateSaved:"updateSaved"},features:[n.yc],decls:3,vars:3,consts:[["class","form w-100",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],[1,"form","w-100"],["dimotikosForosForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6"],["name","dilosiDescription","bindLabel","dilosiDescription","bindValue","dilosiId","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7","required","",3,"items","searchable","clearable","ngModel","ngModelChange","change"],["dilosiDescription","ngModel"],[1,"text-danger",3,"hidden"],["name","hmeromiaLixisDilosis","placeholder","\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2","type","text","disabled","",1,"form-control",3,"value"],["class","form-group col-12 col-md-6",4,"ngIf"],[1,"form-group","col-12",3,"ngClass"],["name","ypokeimenoPoso","type","text","currencyMask","","lang","el-GR","placeholder","0,00","required","",1,"form-control",3,"ngModel","ngModelChange"],["ypokeimenoPosoInput","ngModel"],["class","row",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm","d-block","mt-2","mx-auto",3,"click"],["aria-hidden","true",1,"fas","fa-calculator"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["class","screen-msg",4,"ngIf"],["name","pososto","bindLabel","description","bindValue","value","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc","required","",3,"items","searchable","clearable","ngModel","ngModelChange"],["posostoInput","ngModel"],[1,"col-12"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"far","fa-edit"],[1,"far","fa-calendar-alt"],["type","button",1,"btn","btn-sm","btn-success","m-0",3,"click"],[1,"fas","fa-download"],["class","col-12 alert alert-warning",4,"ngIf"],[1,"form-group","col-12","col-sm-6"],["for","periodikiDilosiFPA"],["name","periodikiDilosiFPA","placeholder","\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)","type","file","required","",1,"form-control-file",3,"ngModel","ngModelChange","change"],["periodikiDilosiFPAInput","ngModel"],["for","extraFile"],["name","extraFile","placeholder","\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf","type","file",1,"form-control-file",3,"ngModel","ngModelChange","change"],[1,"col-12","alert","alert-warning"],[1,"fas","fa-exclamation-circle"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"screen-msg"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"w-100","pb-2"],[1,"debits-info","d-flex","justify-content-between"],[1,"debits-info_left","d-flex","mr-1"],[1,"mb-0"],[1,"mr-1",2,"width","220px"],["class","mb-0",4,"ngIf"],[1,"totalPoso"],[3,"userInfo","requestObs","createWebPaymentInfo","canPay","errorMsg"]],template:function(t,e){1&t&&(n.Od(0,G,31,17,"form",0),n.Od(1,$,3,0,"div",1),n.Od(2,K,43,35,"ng-container",2)),2&t&&(n.pd("ngIf",e.dilosiCopy&&e.diloseisInfoResponse&&e.diloseisInfoResponse.length>0),n.Ac(1),n.pd("ngIf",e.isLoading),n.Ac(1),n.pd("ngIf",e.dilosiWebPaymentInfo&&!e.isLoading))},directives:function(){return[b.p,y.v,y.l,y.m,I.a,y.s,y.k,y.n,b.n,y.b,k.b,b.o,he]},pipes:function(){return[b.f,b.d]},encapsulation:2,changeDetection:0}),ae.ctorParameters=()=>[{type:Gt},{type:Bt},{type:n.k}],ae.propDecorators={dimotikosForosForm:[{type:n.mb,args:["dimotikosForosForm"]}],diloseisInfoResponse:[{type:n.G}],dilosi:[{type:n.G}],onlinePaymentsSettingsCompany:[{type:n.G}],updateSaved:[{type:n.S}],epixeirisiInfo:[{type:n.G}]};class ce{constructor(t,e,i){this.katastimataNgSrv=t,this.route=e,this._http=i,this.reloadData=new n.x,this.onDestroy=new d.a,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}ngOnChanges(t){t&&t.diloseisReceipts&&(this.diloseisReceipts=t.diloseisReceipts.currentValue,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.diloseisReceipts.forEach(t=>{this.sumYpokeimeno+=t.ypokeimenoPoso,this.sumTelos+=t.telosPoso,this.sumProstimo+=t.prostimoPoso}))}ngOnInit(){this.katastimataNgSrv.userInfo$.pipe(Object(m.a)(this.onDestroy)).subscribe(t=>this.userInfo=t),this._getBankMessages().pipe(Object(h.a)(t=>t?(this.oikonomikiBankMessages=t,this.route.queryParams.pipe(Object(m.a)(this.onDestroy))):Object(a.a)(!1))).subscribe(t=>{if(t){let e=t,i=e.messagecode,s=e.btId;if(i)if(this.bankStatusMessage=this.oikonomikiBankMessages[i],"TRANSACTION_COMPLETED"==i){if(this.bankStatusMessageClass="success",s){let t=new Xt;t.bankTransactionId=s,this.katastimataNgSrv.markDilosiWebExoflisi(t).subscribe(()=>{this.reloadData.emit(!0)})}}else this.bankStatusMessageClass="fail"}})}ngOnDestroy(){this.onDestroy.next()}_getBankMessages(){let t=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(t)}btnBankStatusMessageClicked(){this.bankStatusMessage=null}}ce.\u0275fac=function(t){return new(t||ce)(n.Nc(Gt),n.Nc(g.a),n.Nc(o.b))},ce.\u0275cmp=n.Hc({type:ce,selectors:[["app-katastimata-receipts"]],inputs:{diloseisReceipts:"diloseisReceipts",userInfo:"userInfo",diloseisInfoResponse:"diloseisInfoResponse",isLoading:"isLoading"},outputs:{reloadData:"reloadData"},features:[n.yc],decls:5,vars:5,consts:[["class","d-flex w-100 justify-content-center",4,"ngIf"],["class","d-flex justify-content-center w-100 mt-1",4,"ngIf"],[3,"class",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center"],[1,"badge","badge-warning","p-1"],[1,"d-flex","justify-content-center","w-100","mt-1"],[1,"badge","badge-warning"],["type","button","aria-label","\u039a\u03bb\u03b5\u03af\u03c3\u03b9\u03bc\u03bf \u039c\u03b7\u03bd\u03cd\u03bc\u03b1\u03c4\u03bf\u03c2",1,"close-bank-msg","position-absolute",2,"right","5px","top","5px","background-color","transparent","border","0 none","color","#ffffff",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"mt-1"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-170"],[1,"fixed-width-col-100"],[1,"fixed-width-col-120"],[1,"p-column-title"],[1,"fixed-width-col-100","text-right"],["colspan","2",1,"fixed-width-col-230","text-right"]],template:function(t,e){1&t&&(n.Od(0,J,3,0,"div",0),n.Od(1,Y,3,0,"div",1),n.Od(2,X,4,4,"div",2),n.Od(3,Z,3,0,"div",3),n.Od(4,nt,11,11,"ng-container",4)),2&t&&(n.pd("ngIf",!(e.diloseisInfoResponse&&0!=e.diloseisInfoResponse.length||e.isLoading)),n.Ac(1),n.pd("ngIf",!(e.diloseisReceipts&&0!=e.diloseisReceipts.length||e.isLoading)),n.Ac(1),n.pd("ngIf",e.bankStatusMessage),n.Ac(1),n.pd("ngIf",e.isLoading),n.Ac(1),n.pd("ngIf",!e.isLoading))},directives:[b.p,O.d,A.f],pipes:[b.d],encapsulation:2}),ce.ctorParameters=()=>[{type:Gt},{type:g.a},{type:o.b}],ce.propDecorators={diloseisReceipts:[{type:n.G}],diloseisInfoResponse:[{type:n.G}],userInfo:[{type:n.G}],isLoading:[{type:n.G}],reloadData:[{type:n.S}]};class de{constructor(t,e,i,s){this.katastimataNgSrv=t,this.cdr=e,this.route=i,this._http=s,this.reloadData=new n.x,this.modelPaymentInfo=[],this.onDestroy=new d.a,this.errorMessageProfile=null,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.isAllDebitsChecked=!1,this.calculatedChecked={countChecked:0,countText:"\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",checkedYpokeimeno:0,checkedTelos:0,checkedProstimo:0},this.requestObs=[],this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumToPay=0,this.isEditModalOpen=!1,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}ngOnChanges(t){t&&t.dilosiInfoSaved&&(this.dilosiInfoSaved=t.dilosiInfoSaved.currentValue,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumToPay=0,this.dilosiInfoSaved.forEach(t=>{this.sumYpokeimeno+=t.ypokeimenoPoso,this.sumTelos+=t.telosPoso,this.sumProstimo+=t.prostimoPoso,this.sumToPay+=t.telosPoso+t.prostimoPoso}),zt(this.cdr))}ngOnInit(){this.katastimataNgSrv.userInfo$.pipe(Object(m.a)(this.onDestroy)).subscribe(t=>this.userInfo=t),this._getBankMessages().pipe(Object(h.a)(t=>t?(this.oikonomikiBankMessages=t,this.route.queryParams.pipe(Object(m.a)(this.onDestroy))):Object(a.a)(!1))).subscribe(t=>{if(t){let e=t,i=e.messagecode,s=e.btId;if(i)if(this.bankStatusMessage=this.oikonomikiBankMessages[i],"TRANSACTION_COMPLETED"==i){if(this.bankStatusMessageClass="success",s){let t=new Xt;t.bankTransactionId=s,this.katastimataNgSrv.markDilosiWebExoflisi(t).subscribe(()=>{this.reloadData.emit(!0)})}}else this.bankStatusMessageClass="fail"}zt(this.cdr)})}ngOnDestroy(){this.onDestroy.next()}_getBankMessages(){let t=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(t)}_calculateTotalAmounts(){this.requestObs=[];let t=0,e=0,i=0,s=0,n="\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2";this.dilosiInfoSaved.forEach(n=>{if(n.isChecked){s++,t+=n.ypokeimenoPoso,e+=n.telosPoso,i+=n.prostimoPoso;let o={language:"el",ypokeimenoPoso:+n.ypokeimenoPoso,dilosiId:+n.dilosiId,hmerominiaDilosis:new Date};this.requestObs=[...this.requestObs,this.katastimataNgSrv.getDilosiPaymentInfo(o)]}}),n=1==s?"\u03b4\u03ae\u03bb\u03c9\u03c3\u03b7":"\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",this.calculatedChecked={countChecked:s,countText:n,checkedYpokeimeno:t,checkedTelos:e,checkedProstimo:i},zt(this.cdr)}_createPaymentInfo(){this.modelPaymentInfo=[],Object(r.a)(this.requestObs).subscribe(t=>{t&&(t.forEach(t=>{this.modelPaymentInfo=[...this.modelPaymentInfo,t]}),zt(this.cdr))})}onAllDebitsSelected(){this.dilosiInfoSaved.forEach(t=>{t.isChecked=this.isAllDebitsChecked}),zt(this.cdr),this._calculateTotalAmounts()}onEdit(t){this.isEditModalOpen=!0,this.selectedDilosi=Ht(t),zt(this.cdr)}updateDilosiInTable(t){if(t){let e=this.dilosiInfoSaved.findIndex(e=>e.dilosiId==t.dilosiId);this.dilosiInfoSaved[e]=t,zt(this.cdr)}}onBankStatusMessage(){this.bankStatusMessage=null,zt(this.cdr)}}de.\u0275fac=function(t){return new(t||de)(n.Nc(Gt),n.Nc(n.k),n.Nc(g.a),n.Nc(o.b))},de.\u0275cmp=n.Hc({type:de,selectors:[["app-katastimata-saved"]],inputs:{dilosiInfoSaved:"dilosiInfoSaved",userInfo:"userInfo",diloseisInfoResponse:"diloseisInfoResponse",epixeirisiInfo:"epixeirisiInfo",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",isLoading:"isLoading"},outputs:{reloadData:"reloadData"},features:[n.yc],decls:8,vars:6,consts:[[3,"class",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],["selectedDebits",""],["title","\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2",3,"isOpen","size","isOpenChange"],[1,"p-2"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","updateSaved",4,"ngIf"],[1,"close-bank-msg",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],["class","debits-info__selected-debits",4,"ngIf"],[1,"mt-1"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["class","screen-msg",4,"ngIf"],[1,"debits-info__selected-debits"],[4,"ngTemplateOutlet"],[1,"fixed-width-col-40","text-center"],[3,"binary","ngModel","ngModelChange","onChange"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-170"],[1,"fixed-width-col-100"],[1,"fixed-width-col-120"],[1,"p-column-title"],[1,"fixed-width-col-100","text-right"],[1,"fixed-width-col-120","text-center"],["type","button",1,"btn","btn-primary","btn-sm","m-0",3,"click"],[1,"far","fa-edit"],["colspan","3",1,"fixed-width-col-270","text-right"],[3,"userInfo","requestObs","errorMsg"],[1,"screen-msg"],[1,"totalPoso"],[1,"d-flex","total-selected-cost"],["id","sumTotalToBank",1,"totalPoso"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","updateSaved"]],template:function(t,e){1&t&&(n.Od(0,ot,4,4,"div",0),n.Od(1,at,3,0,"div",1),n.Od(2,ft,14,14,"ng-container",2),n.Od(3,gt,20,20,"ng-template",null,3,n.Pd),n.Tc(5,"eg-modal",4),n.ed("isOpenChange",(function(t){return e.isEditModalOpen=t}))("isOpenChange",(function(){return e.isEditModalOpen=!1,e.selectedDilosi=null})),n.Tc(6,"div",5),n.Od(7,yt,1,3,"app-katastimata-create-dilosi",6),n.Sc(),n.Sc()),2&t&&(n.pd("ngIf",e.bankStatusMessage),n.Ac(1),n.pd("ngIf",e.isLoading),n.Ac(1),n.pd("ngIf",!e.isLoading),n.Ac(3),n.pd("isOpen",e.isEditModalOpen)("size","xl"),n.Ac(2),n.pd("ngIf",e.isEditModalOpen&&e.selectedDilosi))},directives:function(){return[b.p,S.a,O.d,A.f,b.u,T.a,y.k,y.n,he,ae]},pipes:function(){return[b.d]},encapsulation:2,changeDetection:0}),de.ctorParameters=()=>[{type:Gt},{type:n.k},{type:g.a},{type:o.b}],de.propDecorators={dilosiInfoSaved:[{type:n.G}],diloseisInfoResponse:[{type:n.G}],userInfo:[{type:n.G}],epixeirisiInfo:[{type:n.G}],onlinePaymentsSettingsCompany:[{type:n.G}],isLoading:[{type:n.G}],reloadData:[{type:n.S}]};const re=[{path:"",component:Kt,children:[{path:"",pathMatch:"full",redirectTo:"receipts"},{path:"receipts",component:ce},{path:"saved",component:de}]}];class le{}le.\u0275mod=n.Lc({type:le}),le.\u0275inj=n.Kc({factory:function(t){return new(t||le)},imports:[[g.g.forChild(re)],g.g]}),("undefined"==typeof ngJitMode||ngJitMode)&&n.Id(le,{imports:function(){return[g.g]},exports:function(){return[g.g]}});class pe{constructor(t,e,i){this.katastimataNgSrv=t,this.toasterSrv=e,this.cdr=i,this.loadingSimplifyModal=new n.x,this.createRequest=new n.x,this.isLoadingPaymentSettings=new n.x,this.isUserDataValid=new n.x,this.onDestroy=new d.a,this.paymentMethodsClass="pm-size-2",this.requestBankData=!1,this.errorMessageProfile=null,this.isFormSubmitted=!1,this.formDictionaryEnum=ne}ngOnInit(){}ngOnDestroy(){this.onDestroy.next()}ngOnChanges(t){t&&t.paymentResponseDto&&(this.paymentResponseDto=t.paymentResponseDto.currentValue),zt(this.cdr)}btnPayClicked(t){this.selectedPaymentMethod=t||this.onlinePaymentSettings.paymentMethods.filter(t=>t.key==this.onlinePaymentSettings.defaultPaymentMethodKey)[0],this.paymentRequestDto?this.paymentRequestDto.paymentMethodKey=this.selectedPaymentMethod.key:this.paymentRequestDto=null,AppConfOptions&&AppConfOptions.oroi_xrisis_link&&""!=AppConfOptions.oroi_xrisis_link?(this.termsLink=AppConfOptions.oroi_xrisis_link,this.isTermsModalOpen=!0,zt(this.cdr)):this.paymentRequestDto&&"PIRBGRAA"!=this.paymentRequestDto.paymentMethodKey?this.createRequest.emit(!0):this.paymentRequestDto&&"PIRBGRAA"==this.paymentRequestDto.paymentMethodKey&&(this.requestBankData=!0,this.showMethods=!1,zt(this.cdr))}onEthnikiPaymentRequestSucceded(t){this.paymentResponseDto=t,this.loadingSimplifyModal.emit(!0);let e=document.getElementById("ethnikiPaymentBtn");e.setAttribute("data-amount",t.postFields.amount),e.setAttribute("data-reference",t.postFields.reference),e.setAttribute("data-sc-key",this.ethnikiPaymentMethod.parameters.publicKey),this.loadingSimplifyModal.emit(!1),setTimeout(()=>{e.click()}),SimplifyCommerce.hostedPayments(e=>{if(e){var i="data"in e;if("close"in e&&1==e.close){let e=document.createElement("input");e.setAttribute("name","PaymentStatus"),e.setAttribute("value","CLOSED"),e.setAttribute("type","text"),e.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(e);let i=document.createElement("input");i.setAttribute("name","Reference"),i.setAttribute("value",t.postFields.reference),i.setAttribute("type","text"),i.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(i),setTimeout(()=>{this._submiToOikonomiki()})}else if(i){let i=e;for(var s in i)if(i.hasOwnProperty(s)&&"data"==s)for(var n in i.data)i.data.hasOwnProperty(n)&&"object"==typeof i.data[n]&&delete i.data[n];("ErrorCode"in i||"declineReason"in i)&&(i.Reference=t.postFields.reference);for(let t of Object.keys(i)){let e=i[t],s=document.createElement("input");s.setAttribute("name",t),s.setAttribute("value",e),s.setAttribute("type","text"),s.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(s)}setTimeout(()=>{this._submiToOikonomiki()})}}},{operation:"create.payment",scKey:this.ethnikiPaymentMethod.parameters.publicKey,color:"#204969",currency:"EUR",amount:t.postFields.amount,reference:t.postFields.reference,masterpass:t.postFields.masterpass})}onPancretaPaymentRequestSucceded(t){this.paymentResponseDto=t,zt(this.cdr);let e=document.createElement("script");e.id="script_2_pancreta",document.body.appendChild(e),document.getElementById("script_2_pancreta").innerHTML='var everypay = Everypay("'+this.pancretaPaymentMethod.parameters.publicKey+'", { locale: "el" });',setTimeout(()=>{let e=document.createElement("script");e.id="script_3_pancreta",document.body.appendChild(e),document.getElementById("script_3_pancreta").innerHTML=`everypay.button("#everypay-btn-container", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"amount": ${t.postFields.amount},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"locale": "el",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"on_token_received": function(token, showError, hideForm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (token) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_token").value = token;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_form").submit();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\tdocument.getElementById("everypay-btn-container").querySelectorAll("button")[0].click();`})}onTermsChanged(t){t&&"true"==t&&(this.paymentRequestDto&&"PIRBGRAA"!=this.selectedPaymentMethod.key?this.createRequest.emit(!0):this._fixPeiraiosData()),this.isTermsModalOpen=!1,zt(this.cdr)}_addPaymentRequest(t){t&&(this.paymentRequestDto=t),this.katastimataNgSrv.getPaymentSettings().pipe(Object(m.a)(this.onDestroy)).subscribe(e=>{if(e){this.onlinePaymentSettings=e,this.onlinePaymentSettings.paymentMethods.length&&this.onlinePaymentSettings.paymentMethods.forEach(t=>{if(t.services&&t.services.length>0)for(let e=0;e<t.services.length;e++)t.services[e]=t.services[e].toLowerCase()}),this.pancretaPaymentMethod=this.onlinePaymentSettings.paymentMethods.find(t=>"STPGGRAA"==t.key),document.getElementById("script_1_pancreta")||this.pancretaPaymentMethod&&this._loadPancretaScripts(this.pancretaPaymentMethod),this.ethnikiPaymentMethod=this.onlinePaymentSettings.paymentMethods.find(t=>"ETHNGRAA"==t.key),document.getElementById("script_1_ethniki")||this.ethnikiPaymentMethod&&this.ethnikiPaymentMethod.parameters&&this._loadEthnikiScripts(this.ethnikiPaymentMethod);let i=this.onlinePaymentSettings.paymentMethods.length;if(this.paymentMethodsClass=i<=2?"pm-size-2":"pm-size-3",this.selectedPaymentMethod||(this.onlinePaymentSettings&&this.onlinePaymentSettings.defaultPaymentMethodKey?this.selectedPaymentMethod=this.onlinePaymentSettings.paymentMethods.filter(t=>t.key==this.onlinePaymentSettings.defaultPaymentMethodKey)[0]:this.onlinePaymentSettings&&1==this.onlinePaymentSettings.paymentMethods.length&&(this.selectedPaymentMethod=this.onlinePaymentSettings.paymentMethods[0])),this.paymentRequestDto&&this.selectedPaymentMethod){if(this.isLoadingPaymentSettings.emit(!1),this.paymentRequestDto.paymentMethodKey=this.selectedPaymentMethod.key,this.paymentRequestDto&&"PIRBGRAA"==this.paymentRequestDto.paymentMethodKey)return void this._fixPeiraiosData();this.katastimataNgSrv.addPaymentRequest(this.paymentRequestDto).subscribe(t=>{if(t){let e=t;e.model?this.paymentResponseDto=e.model:this.paymentResponseDto=null,this.paymentResponseDto=e.model,e.statusCode&&e.statusCode==ee.Ok?e.model.getUrl&&""!=e.model.getUrl?e.model.getUrl&&""!=e.model.getUrl&&window.open(e.model.getUrl,"_self"):this._postBankForm(e.model):e.statusCode&&e.statusCode==ee.Error?"DEBTOR_ADDRESS_REQUIRED"==e.messageId&&(this.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",this.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.")):this.toasterSrv.showError("",e.message)}this.isLoadingPaymentResponse=!1,zt(this.cdr)})}else this.paymentRequestDto&&this.onlinePaymentSettings&&!this.selectedPaymentMethod&&(this.isLoadingPaymentSettings.emit(!1),setTimeout(()=>{this.paymentRequestDto=t,this.showMethods=!0,this.isLoadingPaymentResponse=!1,zt(this.cdr)}))}zt(this.cdr)})}_postBankForm(t){if("ETHNGRAA"==this.selectedPaymentMethod.key&&null!=this.selectedPaymentMethod.parameters)this.onEthnikiPaymentRequestSucceded(t);else if("STPGGRAA"==this.selectedPaymentMethod.key)this.onPancretaPaymentRequestSucceded(t);else{var e=Object.keys(t.postFields).map((function(e){return{key:e,value:t.postFields[e]}}));t.postFields=e,this.paymentResponseDto=t,zt(this.cdr),setTimeout(()=>{document.querySelector("#bankPaymentForm").submit()})}}_submiToOikonomiki(){document.querySelector("#ethniki_form").submit()}_loadEthnikiScripts(t){return new Promise((e,i)=>{const s=document.createElement("script");s.id="script_1_ethniki",s.src=t.parameters.javaScriptSource,s.onload=e,document.body.appendChild(s)})}_loadPancretaScripts(t){return new Promise((e,i)=>{const s=document.createElement("script");s.id="script_1_pancreta",s.src=t.parameters.javaScriptSource,s.onload=e,document.body.appendChild(s)})}_fixPeiraiosData(){!this.user||this.user.address&&this.user.address_city&&this.user.address_country_num&&this.user.address_zip&&this.user.phone_number?this.requestBankData=!0:(this.errorMessageProfile="\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03c0\u03c1\u03bf\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03b7 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb & \u03bd\u03b1 \u03b5\u03c0\u03b1\u03bd\u03b1\u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1.",this.toasterSrv.showError("","\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03c0\u03c1\u03bf\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03b7 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb & \u03bd\u03b1 \u03b5\u03c0\u03b1\u03bd\u03b1\u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1."),this.isUserDataValid.emit(!1)),zt(this.cdr)}_submitPaymentRequest(){if(this.isFormSubmitted=!0,this.formErrorsMsg=null,zt(this.cdr),this.isFormSubmitted&&this.requestBankDataForm.valid){let t=null,e=null;if(this.user.phone_number.includes("+")?(t=this.user.phone_number.substring(0,3).replace("+",""),e=this.user.phone_number.substring(3)):e=this.user.phone_number,this.paymentRequestDto.userPhone=t?t+"-"+e:"30-"+e,this.showMethods=!1,this.requestBankData=!1,this.isFormSubmitted=!1,this.formErrorsMsg=null,this.paymentRequestDto.userHomePhone=this.paymentRequestDto.userPhone,this.paymentRequestDto.userWorkPhone=this.paymentRequestDto.userPhone,this.paymentRequestDto.billingAddressCountryCode=this.user.address_country_num,this.user.address_zip){let t=+this.user.address_zip.substring(0,2);this.paymentRequestDto.billingAddressState=function(t){let e;return[10,11,12,13,14,15,16,17,18,19].includes(t)&&(e="I"),[66,65,64,67,68,69].includes(t)&&(e="A"),[54,55,56,57,58,59,60,61,62,63].includes(t)&&(e="B"),[50,51,52,53].includes(t)&&(e="C"),[44,45,46,47,48].includes(t)&&(e="D"),[37,38,40,41,42,43].includes(t)&&(e="E"),[28,29,31,49].includes(t)&&(e="F"),[25,26,27,30].includes(t)&&(e="G"),[32,33,34,35,36].includes(t)&&(e="H"),[20,21,22,23,24].includes(t)&&(e="J"),[81,82,83].includes(t)&&(e="K"),[84,85].includes(t)&&(e="L"),[70,71,72,73,74].includes(t)&&(e="M"),e||(e="I"),e}(t)}zt(this.cdr),this.katastimataNgSrv.addPaymentRequest(this.paymentRequestDto).subscribe(t=>{if(t){let e=t;this.paymentResponseDto=e.model,e.statusCode==ee.Ok?e.model.getUrl&&""!=e.model.getUrl?e.model.getUrl&&""!=e.model.getUrl&&window.open(e.model.getUrl,"_self"):this._postBankForm(e.model):e.statusCode==ee.Error&&"DEBTOR_ADDRESS_REQUIRED"==e.messageId&&(this.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",this.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb."))}this.isLoadingPaymentResponse=!1,zt(this.cdr)})}else this.formErrorsMsg=$t(this.requestBankDataForm,this.formDictionaryEnum,""),zt(this.cdr)}_closePaymentMethods(){setTimeout(()=>{this.showMethods=!1,zt(this.cdr)})}}pe.\u0275fac=function(t){return new(t||pe)(n.Nc(Gt),n.Nc(Bt),n.Nc(n.k))},pe.\u0275cmp=n.Hc({type:pe,selectors:[["app-payment-methods"]],viewQuery:function(t,e){var i;(1&t&&n.Vd(bt,!0),2&t)&&(n.Cd(i=n.fd())&&(e.requestBankDataForm=i.first))},inputs:{paymentResponseDto:"paymentResponseDto",isLoadingPaymentResponse:"isLoadingPaymentResponse",user:"user",assetsUrl:"assetsUrl"},outputs:{loadingSimplifyModal:"loadingSimplifyModal",createRequest:"createRequest",isLoadingPaymentSettings:"isLoadingPaymentSettings",isUserDataValid:"isUserDataValid"},features:[n.yc],decls:13,vars:10,consts:[["class","bg-white","style","width: 100%; height: 100px; text-align: center;",4,"ngIf"],["class","d-flex w-100 justify-content-center",4,"ngIf"],["title","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03a4\u03c1\u03cc\u03c0\u03bf \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2","size","md",3,"isOpen","isOpenChange"],[1,"modal-body"],["class","debits-info__payment text-center mt-3","id","debits-info__payment",4,"ngIf"],["title","\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2","size","md",3,"isOpen","isOpenChange"],["class","modal-body",4,"ngIf"],["id","everypay_form","method","post",3,"action",4,"ngIf"],["id","ethniki_form","method","post",3,"action",4,"ngIf"],["id","ethnikiPaymentBtn","data-name","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae",1,"d-none"],["id","bankPaymentForm","method","POST",1,"d-none",3,"action"],[4,"ngIf"],[1,"bg-white",2,"width","100%","height","100px","text-align","center"],[1,"d-flex","justify-content-center","align-items-center","w-100",2,"height","70%"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],[1,"d-flex","w-100","justify-content-center"],[1,"screen-msg","mt-2","p-1"],["id","debits-info__payment",1,"debits-info__payment","text-center","mt-3"],["class","payment-method__cont d-flex flex-wrap text-center justify-content-center",4,"ngIf"],[1,"payment-method__cont","d-flex","flex-wrap","text-center","justify-content-center"],[4,"ngFor","ngForOf"],[3,"id","click"],[3,"innerHTML",4,"ngIf"],["class","payment-method__icon ml-2",4,"ngIf"],[3,"innerHTML"],[1,"payment-method__icon","ml-2"],["width","40",3,"src","alt",4,"ngFor","ngForOf"],["width","40",3,"src","alt"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/iris.jpg","alt","Iris"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"form"],["requestBankDataForm","ngForm"],[1,"row"],[1,"form-group","col-12"],["for","cardholderName"],["id","cardholderName","name","cardholderName","type","text","placeholder","\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-danger","pt-1",3,"hidden"],[1,"row","align-items-center","justify-content-center"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-money-check"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],["id","everypay_form","method","post",3,"action"],["id","everypay-btn-container",1,"d-none"],["name","everypay_token","id","everypay_token","type","text",1,"d-none",3,"value"],["type","text",1,"d-none",3,"name","value"],["id","ethniki_form","method","post",3,"action"],["type","text",3,"name","value"]],template:function(t,e){1&t&&(n.Od(0,St,5,0,"div",0),n.Od(1,It,3,1,"div",1),n.Tc(2,"eg-modal",2),n.ed("isOpenChange",(function(t){return e.showMethods=t}))("isOpenChange",(function(){return e._closePaymentMethods()})),n.Tc(3,"div",3),n.Od(4,Mt,3,2,"div",4),n.Sc(),n.Sc(),n.Tc(5,"eg-modal",5),n.ed("isOpenChange",(function(t){return e.requestBankData=t})),n.Od(6,wt,15,3,"div",6),n.Sc(),n.Od(7,Ut,3,2,"form",7),n.Od(8,Et,1,1,"form",8),n.Tc(9,"button",9),n.Qd(10," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\n"),n.Sc(),n.Tc(11,"form",10),n.Od(12,Lt,2,1,"ng-container",11),n.Sc()),2&t&&(n.pd("ngIf",e.isLoadingPaymentResponse),n.Ac(1),n.pd("ngIf",e.errorMessageProfile),n.Ac(1),n.pd("isOpen",e.showMethods),n.Ac(2),n.pd("ngIf",0==e.isLoadingPaymentResponse),n.Ac(1),n.pd("isOpen",e.requestBankData),n.Ac(1),n.pd("ngIf",e.paymentRequestDto),n.Ac(1),n.pd("ngIf",e.pancretaPaymentMethod),n.Ac(1),n.pd("ngIf",e.ethnikiPaymentMethod),n.Ac(3),n.qd("action",null==e.paymentResponseDto?null:e.paymentResponseDto.postUrl,n.Hd),n.Ac(1),n.pd("ngIf",e.paymentResponseDto))},directives:[b.p,S.a,y.v,y.l,y.m,b.o,y.b,y.s,y.k,y.n],pipes:[b.m,b.i],encapsulation:2,changeDetection:0}),pe.ctorParameters=()=>[{type:Gt},{type:Bt},{type:n.k}],pe.propDecorators={requestBankDataForm:[{type:n.mb,args:["requestBankDataForm",{static:!1}]}],paymentResponseDto:[{type:n.G}],user:[{type:n.G}],assetsUrl:[{type:n.G}],isLoadingPaymentResponse:[{type:n.G}],loadingSimplifyModal:[{type:n.S}],createRequest:[{type:n.S}],isLoadingPaymentSettings:[{type:n.S}],isUserDataValid:[{type:n.S}]};class he{constructor(t,e,i){this.katastimataNgSrv=t,this.toasterSrv=e,this.cdr=i,this.requestObs=null,this.canPay=!0,this.errorMsg=new n.x,this.dilosiWebPaymentInfo=[],this.paymentResponseDto=null,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.returnUrl="",this.assetsUrl="",this.isLoading=!1,this.isLoadingPaymentResponse=!1,this.isLoadingSimplifyModal=!1,this.initPaymentMethods=!1,this.isLoadingPaymentSettings=!1,this.isUserDataValid=!0}ngOnInit(){"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api,this.assetsUrl=AuthConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/dimotikos-foros/receipts")):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi,this.assetsUrl=AppConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts")),zt(this.cdr),this.createWebPaymentInfo&&(this.dilosiWebPaymentInfo=[...this.dilosiWebPaymentInfo,this.createWebPaymentInfo],zt(this.cdr))}ngOnChanges(t){t&&t.requestObs&&(this.requestObs=t.requestObs.currentValue,zt(this.cdr)),t&&t.createWebPaymentInfo&&(this.createWebPaymentInfo=t.createWebPaymentInfo.currentValue,zt(this.cdr)),t&&t.canPay&&(this.canPay=t.canPay.currentValue,zt(this.cdr))}isLoadingSimplifyModalChanged(t){this.isLoadingSimplifyModal=t,zt(this.cdr)}isLoadingPaymentSettingsChanged(t){this.isLoadingPaymentSettings=t,zt(this.cdr)}isUserDataValidChanged(t){this.isUserDataValid=t,zt(this.cdr)}_payActions(){this.requestObs&&this.requestObs.length?(this.isLoading=!0,zt(this.cdr),Object(r.a)(this.requestObs).subscribe(t=>{t&&(t.forEach(t=>{this.dilosiWebPaymentInfo=[...this.dilosiWebPaymentInfo,t]}),this._createPaymentRequest(),zt(this.cdr))})):this.dilosiWebPaymentInfo&&this.dilosiWebPaymentInfo.length>0&&this._createPaymentRequest()}_createPaymentRequest(){this.initPaymentMethods=!0,zt(this.cdr);let t={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.returnUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:"",entries:[]};this.dilosiWebPaymentInfo.forEach(e=>{let i={remittanceInfo:e.paymentCode,amount:e.paymentAmount,debtorName:e.epixirisiOfeiletisEponimia,tin:this.userInfo.tin,description:e.paymentCaption};t.entries.push(i)}),setTimeout(()=>{this.isLoadingPaymentResponse=!0,this.paymentMethodsComp._addPaymentRequest(t),zt(this.cdr)})}}he.\u0275fac=function(t){return new(t||he)(n.Nc(Gt),n.Nc(Bt),n.Nc(n.k))},he.\u0275cmp=n.Hc({type:he,selectors:[["app-payment"]],viewQuery:function(t,e){var i;(1&t&&n.Vd(pe,!0),2&t)&&(n.Cd(i=n.fd())&&(e.paymentMethodsComp=i.first))},inputs:{requestObs:"requestObs",canPay:"canPay",createWebPaymentInfo:"createWebPaymentInfo",userInfo:"userInfo"},outputs:{errorMsg:"errorMsg"},features:[n.yc],decls:8,vars:3,consts:[[1,"debits-info_right","d-flex","align-items-center","justify-content-center","flex-column"],["class","btn btn-primary mb-2 mt-2","type","button",3,"disabled","click",4,"ngIf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/visa.jpg","alt","Visa","width","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/mastercard.jpg","alt","Mastercard","width","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/maestro.jpg","alt","Maestro","width","40"],[3,"assetsUrl","user","isLoadingPaymentResponse","createRequest","loadingSimplifyModal","isLoadingPaymentSettings","isUserDataValid",4,"ngIf"],["type","button",1,"btn","btn-primary","mb-2","mt-2",3,"disabled","click"],[1,"far","fa-credit-card"],[1,"d-flex","justify-content-center","align-items-center"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],[3,"assetsUrl","user","isLoadingPaymentResponse","createRequest","loadingSimplifyModal","isLoadingPaymentSettings","isUserDataValid"]],template:function(t,e){1&t&&(n.Tc(0,"div",0),n.Od(1,jt,3,1,"button",1),n.Od(2,qt,2,0,"span",2),n.Tc(3,"div"),n.Oc(4,"img",3),n.Oc(5,"img",4),n.Oc(6,"img",5),n.Sc(),n.Sc(),n.Od(7,Nt,1,3,"app-payment-methods",6)),2&t&&(n.Ac(1),n.pd("ngIf",!e.isLoadingPaymentSettings),n.Ac(1),n.pd("ngIf",e.isLoadingPaymentSettings),n.Ac(5),n.pd("ngIf",e.initPaymentMethods))},directives:[b.p,pe],encapsulation:2}),he.ctorParameters=()=>[{type:Gt},{type:Bt},{type:n.k}],he.propDecorators={paymentMethodsComp:[{type:n.mb,args:[pe,{static:!1}]}],requestObs:[{type:n.G}],createWebPaymentInfo:[{type:n.G}],userInfo:[{type:n.G}],canPay:[{type:n.G}],errorMsg:[{type:n.S}]};const me={align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."};class ue{}ue.\u0275mod=n.Lc({type:ue}),ue.\u0275inj=n.Kc({factory:function(t){return new(t||ue)},providers:[{provide:k.a,useValue:me}],imports:[[b.c,y.e,le,S.b,v.c,P.b,O.e,T.b,k.c,I.c]]}),("undefined"==typeof ngJitMode||ngJitMode)&&n.Id(ue,{declarations:function(){return[Kt,ae,ce,de,he,pe]},imports:function(){return[b.c,y.e,le,S.b,v.c,P.b,O.e,T.b,k.c,I.c]},exports:function(){return[Kt]}});var fe=i("1kSV"),ge=i("PCNd"),ye=i("zazq");let be=class{constructor(t){this.oidcSecuritySrv=t,this.onDestroy=new d.a}ngOnInit(){this.oidcSecuritySrv.getIsAuthorized().pipe(Object(m.a)(this.onDestroy)).subscribe(t=>{this.isAuthorized=t,AppConfOptions&&AppConfOptions.katastimata_tab_info&&""!=AppConfOptions.katastimata_tab_info&&(this.tabMsg=AppConfOptions.katastimata_tab_info)})}ngOnDestroy(){this.onDestroy.next()}};be.ctorParameters=()=>[{type:ye.c}],be=Object(s.b)([Object(n.n)({selector:"app-dimotikos-foros",template:'<ng-container *ngIf="isAuthorized">\r\n\t<div *ngIf="tabMsg"\r\n\t\t  class="tab-msg"\r\n\t\t  [innerHTML]="tabMsg | decodeHtmlString"></div>\r\n\t<lib-katastimata-ng></lib-katastimata-ng>\r\n</ng-container>\r\n'}),Object(s.c)("design:paramtypes",[ye.c])],be);const Se=[{path:"",component:be,children:[{path:"",loadChildren:()=>Promise.resolve().then(i.bind(null,"8BaW")).then(t=>t.PublicLibLoader)}]}];let Ie=class{};Ie=Object(s.b)([Object(n.L)({imports:[g.g.forChild(Se)],exports:[g.g]})],Ie);let ke=class{};ke=Object(s.b)([Object(n.L)({declarations:[be],imports:[ge.a,fe.d,Ie,ue]})],ke);let Pe=class{};Pe=Object(s.b)([Object(n.L)({imports:[ue]})],Pe)},C7T5:function(t,e){t.exports=function(t){return new Promise((e,s)=>{let n=new FileReader,o=t.target.files;if(o.length>1)s(new DOMException("Only one file can be uploaded at a time"));else{n.onerror=()=>{n.abort(),s(new DOMException("Problem parsing input file."))};let t=o[0];n.onload=s=>{const o=new Uint8Array(s.target.result);let a=[];o.map(t=>{a.push(t.toString(16))});const c=a.join("").toUpperCase();let d=n.result.split(",")[1];t.base64=d,t.binaryFileType=i(c),e(t)},n.readAsDataURL(t)}})};const i=t=>{switch(t){case"89504E47":return"image/png";case"47494638":return"image/gif";case"25504446":return"application/pdf";case"FFD8FFDB":case"FFD8FFE0":return"image/jpeg";case"504B0304":return"application/zip";default:return"Unknown filetype"}}}}]);