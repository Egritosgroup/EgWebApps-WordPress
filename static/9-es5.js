function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){o=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{MX7W:function(t,e,n){"use strict";n.r(e),e.default='<div *ngIf="!receipts || isLoading"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 300px">\r\n\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n</div>\r\n\r\n<div class="d-flex w-100 justify-content-center"\r\n\t  *ngIf="receiptsMessage">\r\n\t<p class="alert alert-warning mt-2 p-1">\r\n\t\t{{ receiptsMessage }}\r\n\t</p>\r\n</div>\r\n\r\n<div *ngIf="bankStatusMessage"\r\n\t  class="bank-msg {{ bankStatusMessageClass }}">\r\n\t<button (click)=\'btnBankStatusMessageClicked()\'\r\n\t\t\t  class="close-bank-msg"><i class="fas fa-times"\r\n\t\t\taria-hidden="true"></i></button>\r\n\t{{ bankStatusMessage }}\r\n</div>\r\n\r\n<ng-container *ngIf="receipts && !isLoading">\r\n\t<div *ngIf=\'receipts.entries && receipts.entries.length\'\r\n\t\t  class="receipts-info">\r\n\t\t<div class="searchFilters mb-3">\r\n\t\t\t<h4>\u03a6\u03af\u03bb\u03c4\u03c1\u03b1 \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7\u03c2</h4>\r\n\t\t\t<form class="form">\r\n\t\t\t\t<div class="row">\r\n\t\t\t\t\t<div class="form-group col-12 col-sm-6 col-md-4">\r\n\t\t\t\t\t\t<label for="hmerominiaApodiksisRange">\u0395\u03cd\u03c1\u03bf\u03c2 \u0397\u03bc. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2:</label>\r\n\t\t\t\t\t\t<p-calendar [locale]="locale"\r\n\t\t\t\t\t\t\t\t\t\tdateFormat="dd/mm/yy"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder="\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7"\r\n\t\t\t\t\t\t\t\t\t\t[monthNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearRange]="yearRange"\r\n\t\t\t\t\t\t\t\t\t\tname="hmerominiaApodiksisRange"\r\n\t\t\t\t\t\t\t\t\t\t[style]="{ width: \'100%\' }"\r\n\t\t\t\t\t\t\t\t\t\t[showIcon]="true"\r\n\t\t\t\t\t\t\t\t\t\t[showTime]="false"\r\n\t\t\t\t\t\t\t\t\t\tselectionMode="range"\r\n\t\t\t\t\t\t\t\t\t\t[readonlyInput]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="hmerominiaApodiksisRange">\r\n\t\t\t\t\t\t</p-calendar>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="form-group col-12 col-sm-6 col-md-4">\r\n\t\t\t\t\t\t<label for="exchangeDatepicker">\u0395\u03cd\u03c1\u03bf\u03c2 \u0397\u03bc. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2:</label>\r\n\t\t\t\t\t\t<p-calendar [locale]="locale"\r\n\t\t\t\t\t\t\t\t\t\tdateFormat="dd/mm/yy"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder="\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7"\r\n\t\t\t\t\t\t\t\t\t\t[monthNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearNavigator]="true"\r\n\t\t\t\t\t\t\t\t\t\t[yearRange]="yearRange"\r\n\t\t\t\t\t\t\t\t\t\tname="hmerominiaSinallagisRange"\r\n\t\t\t\t\t\t\t\t\t\t[style]="{ width: \'100%\' }"\r\n\t\t\t\t\t\t\t\t\t\t[showIcon]="true"\r\n\t\t\t\t\t\t\t\t\t\t[showTime]="false"\r\n\t\t\t\t\t\t\t\t\t\tselectionMode="range"\r\n\t\t\t\t\t\t\t\t\t\t[readonlyInput]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="hmerominiaSinallagisRange">\r\n\t\t\t\t\t\t</p-calendar>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="form-group col-12 col-sm-6 col-md-4">\r\n\t\t\t\t\t\t<label for="recType">\u03a4\u03c1\u03cc\u03c0\u03bf\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2:</label>\r\n\t\t\t\t\t\t<ng-select [items]="tropoiPliromis"\r\n\t\t\t\t\t\t\t\t\t  bindLabel="perigrafi"\r\n\t\t\t\t\t\t\t\t\t  bindValue="id"\r\n\t\t\t\t\t\t\t\t\t  name="recType"\r\n\t\t\t\t\t\t\t\t\t  [(ngModel)]="receiptType"\r\n\t\t\t\t\t\t\t\t\t  [searchable]="false"\r\n\t\t\t\t\t\t\t\t\t  [clearable]="false">\r\n\t\t\t\t\t\t</ng-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class="form-buttons d-flex flex-wrap">\r\n\t\t\t\t\t<button (click)="btnApplyFiltersClicked()"\r\n\t\t\t\t\t\t\t  type="button"\r\n\t\t\t\t\t\t\t  class="btn btn-primary mr-1"><i class="fas fa-search fa-fw"\r\n\t\t\t\t\t\t\taria-hidden="true"></i> \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7</button>\r\n\t\t\t\t\t<button (click)="btnCleanFiltersClicked()"\r\n\t\t\t\t\t\t\t  type="button"\r\n\t\t\t\t\t\t\t  class="btn btn-warning"><i class="fas fa-times fa-fw"\r\n\t\t\t\t\t\t\taria-hidden="true"></i> \u039a\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\r\n\t\t<legend class="d-flex flex-wrap mb-1"\r\n\t\t\t\t  style="font-size: 14px;">\r\n\t\t\t<span class="mr-1"><i class="fas fa-desktop fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03bc\u03ad\u03c3\u03c9 \u03c4\u03bf\u03c5 Online \u03a3\u03c5\u03c3\u03c4\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</span>\r\n\t\t\t<span class="mr-1"><i class="far fa-building fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf</span>\r\n\t\t</legend>\r\n\r\n\t\t<p><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0391\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03c9\u03bd: {{orderedReceiptsFiltered?.length }}</strong></p>\r\n\r\n\t\t<p-table [value]="orderedReceiptsFiltered"\r\n\t\t\t\t\t[autoLayout]="true"\r\n\t\t\t\t\t[responsive]="true"\r\n\t\t\t\t\t[scrollable]="true"\r\n\t\t\t\t\t[lazy]="false"\r\n\t\t\t\t\t[paginator]="true"\r\n\t\t\t\t\t[alwaysShowPaginator]="false"\r\n\t\t\t\t\t[rows]="10"\r\n\t\t\t\t\t[totalRecords]="orderedReceiptsFiltered.length"\r\n\t\t\t\t\t[loading]="isLoading">\r\n\t\t\t<ng-template pTemplate="header">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th class="fixed-width-col-40">\u0395\u03af\u03b4\u03bf\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0391\u03c1. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0397\u03bc. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0391\u03c1. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u0397\u03bc. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-150">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae</th>\r\n\t\t\t\t\t<th class="fixed-width-col-60">\u03a0\u03bf\u03c3\u03cc</th>\r\n\t\t\t\t\t<th *ngIf="!paymentsSettings?.isProviderThirdParty" class="fixed-width-col-60">\u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="body"\r\n\t\t\t\t\t\t\t let-dto\r\n\t\t\t\t\t\t\t let-rowIndex="rowIndex">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0395\u03af\u03b4\u03bf\u03c2</span>\r\n\t\t\t\t\t\t<i class="{{ dto.icon }}"\r\n\t\t\t\t\t\t\taria-hidden="true"></i>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0391\u03c1. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.receiptIncrNr }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0397\u03bc. \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.receiptDateCreated | date:\'dd/LL/yyyy\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0391\u03c1. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.bankTxnPaymentRef }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0397\u03bc. \u03a3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.bankTxnDateCreated | date:\'dd/LL/yyyy\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-150">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae</span>\r\n\t\t\t\t\t\t{{ dto.description }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-60 text-right">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a0\u03bf\u03c3\u03cc</span>\r\n\t\t\t\t\t\t{{ dto.paymentTotal | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td *ngIf="!paymentsSettings?.isProviderThirdParty" class="fixed-width-col-60 text-center">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</span>\r\n\t\t\t\t\t\t<a *ngIf=\'dto.receiptId && dto.bankTxnUid\'\r\n\t\t\t\t\t\t\thref="{{ receiptsUrlBase }}api/PersistedDebits/GetPaymentFile/{{ dto.bankTxnUid }}"\r\n\t\t\t\t\t\t\ttarget="_blank"\r\n\t\t\t\t\t\t\trel="noopener"><i class="far fa-file-pdf"\r\n\t\t\t\t\t\t\t\taria-hidden="true"></i></a>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="footer">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="fixed-width-col-430 text-right"\r\n\t\t\t\t\t\t colspan="6">\r\n\t\t\t\t\t\t<strong>\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-120"\r\n\t\t\t\t\t\t [attr.colspan]="paymentsSettings?.isProviderThirdParty ? 1 : 2">\r\n\t\t\t\t\t\t<strong>{{ totalPoso | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="emptymessage">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td [attr.colspan]="paymentsSettings?.isProviderThirdParty ? 7 : 8">\r\n\t\t\t\t\t\t\u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2 \u03bc\u03b5 \u03c4\u03b1 \u03ba\u03c1\u03b9\u03c4\u03ae\u03c1\u03b9\u03b1 \u03c0\u03bf\u03c5 \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9.\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t</p-table>\r\n\t\t<p class="mt-1"><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0391\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03c9\u03bd: {{orderedReceiptsFiltered?.length }}</strong></p>\r\n\r\n\t\t<legend class="d-flex flex-wrap mt-1 mb-1"\r\n\t\t\t\t  style="font-size: 14px;">\r\n\t\t\t<span class="mr-1"><i class="fas fa-desktop fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03bc\u03ad\u03c3\u03c9 \u03c4\u03bf\u03c5 Online \u03a3\u03c5\u03c3\u03c4\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2</span>\r\n\t\t\t<span class="mr-1"><i class="far fa-building fa-fw"></i> \u0395\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7 \u03c3\u03c4\u03bf \u0394\u03ae\u03bc\u03bf</span>\r\n\t\t</legend>\r\n\t</div>\r\n</ng-container>\r\n'},QXyn:function(t,e,n){"use strict";n.r(e),e.default='<div *ngIf="!isAuthorized"\r\n\t  class="screen-msg">\r\n\t<p class="alert alert-warning w-100 text-center p-1">\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd</p>\r\n</div>\r\n\r\n<p-tabView *ngIf="isAuthorized"\r\n\t\t\t  [activeIndex]="index"\r\n\t\t\t  (onChange)="onTabChanged($event)">\r\n\t<div *ngIf="tabMsg"\r\n\t\t  class="tab-msg"\r\n\t\t  [innerHTML]="tabMsg"></div>\r\n\t<p-tabPanel header="\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ad\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd">\r\n\t\t<app-debits></app-debits>\r\n\t</p-tabPanel>\r\n\t<p-tabPanel header="\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd">\r\n\t\t<ng-template pTemplate="content">\r\n\t\t\t<app-receipts></app-receipts>\r\n\t\t</ng-template>\r\n\t</p-tabPanel>\r\n</p-tabView>\r\n'},SYTK:function(t,e,n){"use strict";n.r(e),e.default='<div *ngIf="isLoading"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 300px">\r\n\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n</div>\r\n\r\n<div *ngIf="isLoadingSimplifyModal"\r\n\t  class="bg-white"\r\n\t  style="width: 100%; height: 100px; text-align: center;">\r\n\t<span class="d-flex justify-content-center align-items-center w-100"\r\n\t\t\tstyle="height: 70%;">\r\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\r\n\t</span>\r\n\t<span>\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bc\u03ad\u03bd\u03b5\u03c4\u03b5, \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03bf\u03cd\u03bc\u03b5 \u03bc\u03b5 \u03c4\u03b7\u03bd \u03c4\u03c1\u03ac\u03c0\u03b5\u03b6\u03b1 \u03b3\u03b9\u03b1 \u03c4\u03b7 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03c3\u03b1\u03c2.</span>\r\n</div>\r\n\r\n<div *ngIf="debitsMessage"\r\n\t  class="alert alert-warning mt-2 p-2 w-100 text-center">\r\n\t<span class="fas fa-exclamation-circle"\r\n\t\t\taria-hidden="true"></span> {{ debitsMessage }}\r\n</div>\r\n\r\n<div *ngIf="debits && !isLoading">\r\n\t\x3c!-- Epilegmenes Ofeiles --\x3e\r\n\t<ng-container *ngIf="debits.entries && debits.entries.length">\r\n\t\t<div *ngIf="calculatedChecked.countChecked > 0"\r\n\t\t\t  class="debits-info__selected-debits">\r\n\t\t\t<ng-container *ngTemplateOutlet="selectedDebits"></ng-container>\r\n\t\t\t<button class="btn btn-primary m-0 scroll-to-pay-btn"\r\n\t\t\t\t\t  [ngClass]="[ isMobile ? \'mobile\' : \'desktop\' ]"\r\n\t\t\t\t\t  (click)="onScrollToPaymentMethods()"><i class="fas fa-money-check fa-fw"\r\n\t\t\t\t\taria-hidden="true"></i> \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae</button>\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf="calculatedChecked.countChecked == 0 && debits.entries"\r\n\t\t\t  class="alert alert-warning text-center">\r\n\t\t\t<span class="fas fa-exclamation-circle"\r\n\t\t\t\t\taria-hidden="true"></span> \u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03b5\u03c2 \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c4\u03b9\u03c2 \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2 \u03c0\u03bf\u03c5\r\n\t\t\t\u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03b5\u03be\u03bf\u03c6\u03bb\u03ae\u03c3\u03b5\u03c4\u03b5 \u03b1\u03c0\u03cc \u03c4\u03b7\u03bd \u03c0\u03b1\u03c1\u03b1\u03ba\u03ac\u03c4\u03c9 \u03bb\u03af\u03c3\u03c4\u03b1.\r\n\t\t</div>\r\n\r\n\t\t<div *ngIf="isNonPersistedEnabled">\r\n\t\t\t<label>\u0395\u03af\u03b4\u03bf\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2</label>\r\n\t\t\t<ng-select [items]="eidosDebit"\r\n\t\t\t\t\t\t  bindLabel="perigrafi"\r\n\t\t\t\t\t\t  bindValue="value"\r\n\t\t\t\t\t\t  name="perstType"\r\n\t\t\t\t\t\t  [(ngModel)]="selectedEidosId"\r\n\t\t\t\t\t\t  (ngModelChange)="onSelectedPersistedTypeChanged($event)"\r\n\t\t\t\t\t\t  [clearable]="false">\r\n\t\t\t</ng-select>\r\n\t\t</div>\r\n\r\n\t\t<legend *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t  class="iconTooltips d-flex flex-wrap mt-4 mb-2"\r\n\t\t\t\t  style="font-size: 14px;">\r\n\t\t\t<span class="mr-1"><i class="far fa-dot-circle fa-fw"></i> \u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae</span>\r\n\t\t\t<span class="mr-1"><i class="fas fa-dot-circle fa-fw"></i> \u039c\u03b7 \u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae</span>\r\n\t\t</legend>\r\n\r\n\t\t<p class="mt-2 mb-1"><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: {{ filteredDebits.entries?.length }}</strong></p>\r\n\t\t<p-table [value]="filteredDebits.entries"\r\n\t\t\t\t\t[autoLayout]="true"\r\n\t\t\t\t\t[responsive]="true"\r\n\t\t\t\t\t[scrollable]="true"\r\n\t\t\t\t\t[lazy]="false"\r\n\t\t\t\t\t[paginator]="true"\r\n\t\t\t\t\t[alwaysShowPaginator]="false"\r\n\t\t\t\t\t[rows]="10"\r\n\t\t\t\t\t[totalRecords]="filteredDebits.entries.length"\r\n\t\t\t\t\t[loading]="isLoading">\r\n\t\t\t<ng-template pTemplate="header">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<p-checkbox [binary]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="isAllDebitsChecked"\r\n\t\t\t\t\t\t\t\t\t\t(onChange)="onAllDebitsSelected()"></p-checkbox>\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-40">&nbsp;</th>\r\n\t\t\t\t\t<th class="fixed-width-col-40">AA</th>\r\n\t\t\t\t\t<th class="fixed-width-col-120">\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a7\u03c1\u03b7\u03bc\u03b1\u03c4\u03b9\u03ba\u03bf\u03cd \u039a\u03b1\u03c4\u03b1\u03bb\u03cc\u03b3\u03bf\u03c5</th>\r\n\t\t\t\t\t<th class="fixed-width-col-170">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u03a7\u03c1\u03ad\u03c9\u03c3\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u039a\u03b1\u03b8\u03b1\u03c1\u03cc \u03a0\u03bf\u03c3\u03cc</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u0395\u03c0\u03b9\u03b2\u03b1\u03c1\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2*</th>\r\n\t\t\t\t\t<th class="fixed-width-col-100">\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="body"\r\n\t\t\t\t\t\t\t let-dto\r\n\t\t\t\t\t\t\t let-rowIndex="rowIndex">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae</span>\r\n\t\t\t\t\t\t<p-checkbox [binary]="true"\r\n\t\t\t\t\t\t\t\t\t\t[(ngModel)]="dto.isChecked"\r\n\t\t\t\t\t\t\t\t\t\t(onChange)="_calculateTotalAmounts()">\r\n\t\t\t\t\t\t</p-checkbox>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-40 text-center">\r\n\t\t\t\t\t\t<span class="ui-column-title">&nbsp;</span>\r\n\t\t\t\t\t\t<i class="fa-fw"\r\n\t\t\t\t\t\t\t[ngClass]="dto.isBebaiomeno ? \'far fa-dot-circle\' : \'fas fa-dot-circle\'"\r\n\t\t\t\t\t\t\taria-hidden="true"></i>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-40">\r\n\t\t\t\t\t\t<span class="ui-column-title">AA</span>\r\n\t\t\t\t\t\t{{ rowIndex + 1 }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-120">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a7\u03c1\u03b7\u03bc\u03b1\u03c4\u03b9\u03ba\u03bf\u03cd \u039a\u03b1\u03c4\u03b1\u03bb\u03cc\u03b3\u03bf\u03c5</span>\r\n\t\t\t\t\t\t{{ dto.aaEggrafis }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-170">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u03a7\u03c1\u03ad\u03c9\u03c3\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.perigrafi }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.hmerominiaLixis | date:\'dd/LL/yyyy\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u039a\u03b1\u03b8\u03b1\u03c1\u03cc \u03a0\u03bf\u03c3\u03cc</span>\r\n\t\t\t\t\t\t{{ dto.currentKatharoPoso | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u0395\u03c0\u03b9\u03b2\u03b1\u03c1\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2</span>\r\n\t\t\t\t\t\t{{ dto.currentProsafksisi + dto.currentKrathseis | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right">\r\n\t\t\t\t\t\t<span class="ui-column-title">\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf</span>\r\n\t\t\t\t\t\t{{ dto.currentSynolo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template pTemplate="footer">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td *ngIf="!isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-470 text-right"\r\n\t\t\t\t\t\t colspan="5">\r\n\t\t\t\t\t\t<strong>\u03a3\u03cd\u03bd\u03bf\u03bb\u03b1:</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td *ngIf="isNonPersistedEnabled"\r\n\t\t\t\t\t\t class="fixed-width-col-510 text-right"\r\n\t\t\t\t\t\t colspan="6">\r\n\t\t\t\t\t\t<strong>\u03a3\u03cd\u03bd\u03bf\u03bb\u03b1:</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right"\r\n\t\t\t\t\t\t colspan="1">\r\n\t\t\t\t\t\t<strong>{{ totalCurrentKatharo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right"\r\n\t\t\t\t\t\t colspan="1">\r\n\t\t\t\t\t\t<strong>{{ totalCurrentProsafksisi | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="fixed-width-col-100 text-right"\r\n\t\t\t\t\t\t colspan="1">\r\n\t\t\t\t\t\t<strong>{{ totalcurrentSynolo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</strong>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</ng-template>\r\n\t\t</p-table>\r\n\t\t<p class="mt-1"><strong>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: {{ filteredDebits.entries?.length }}</strong></p>\r\n\t\t<p><small><em>* \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u03a0\u03c1\u03bf\u03c3\u03b1\u03c5\u03be\u03ae\u03c3\u03b5\u03b9\u03c2 \u03ba\u03b1\u03b9 \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u039a\u03c1\u03b1\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2</em></small></p>\r\n\r\n\t\t<div *ngIf="calculatedChecked.countChecked > 0"\r\n\t\t\t  class="debits-info__selected-debits">\r\n\t\t\t<ng-container *ngTemplateOutlet="selectedDebits"></ng-container>\r\n\t\t</div>\r\n\r\n\t\t<app-payment-methods [showMethods]="calculatedChecked.countChecked > 0"\r\n\t\t\t\t\t\t\t\t\t[assetsUrl]="assetsUrl"\r\n\t\t\t\t\t\t\t\t\t(createRequest)="_payActions()"\r\n\t\t\t\t\t\t\t\t\t[isLoadingPaymentResponse]="isLoadingPaymentResponse"\r\n\t\t\t\t\t\t\t\t\t(loadingSimplifyModal)="isLoadingSimplifyModalChanged($event)">\r\n\t\t</app-payment-methods>\r\n\t</ng-container>\r\n</div>\r\n\r\n<ng-template #selectedDebits>\r\n\t<p>\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 <span class="totalPoso">{{ calculatedChecked.countChecked }}\r\n\t\t\t{{ calculatedChecked.countText }}</span></p>\r\n\t<div class="d-flex total-selected-cost">\r\n\t\t<p>\u039a\u03b1\u03b8\u03b1\u03c1\u03cc \u03c3\u03cd\u03bd\u03bf\u03bb\u03bf: <span\r\n\t\t\t\t\tclass="totalPoso">{{ calculatedChecked.checkedKatharo | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</span></p>\r\n\t\t<p>\u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u03b5\u03c0\u03b9\u03b2\u03b1\u03c1\u03cd\u03bd\u03c3\u03b5\u03b9\u03c2: <span\r\n\t\t\t\t\tclass="totalPoso">{{ calculatedChecked.checkedEpivarinseis | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</span></p>\r\n\t\t<p>\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: <span id="sumTotalToBank"\r\n\t\t\t\t\tclass="totalPoso">{{ calculatedChecked.checkedSum | currency:\'\u20ac\':\'symbol\':\'1.2\' }}</span></p>\r\n\t</div>\r\n</ng-template>\r\n'},kpNr:function(t,e,n){"use strict";n.r(e),n.d(e,"EpaymentsModule",(function(){return j}));var r,i=n("fXoL"),s=n("1kSV"),a=n("PCNd"),o=n("zazq"),l=n("XNiG"),c=n("z6cu"),d=n("eIep"),p=n("Sy1n"),u=n("d08n"),h=n("/rUF"),f=n("iFvM"),g=n("AEAu"),y=function(t,e,n,r){var i,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a},m=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},b=function(){function t(e,n,r,i,s){_classCallCheck(this,t),this.toasterSrv=e,this.oidcSecuritySrv=n,this.epaymentsSrv=r,this.cdr=i,this._parent=s,this.isMobile=!1,this.isLoadingSimplifyModal=!1,this.debitsMessage=null,this.calculatedChecked={countChecked:0,countText:"\u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2",checkedSum:0,checkedKatharo:0,checkedProsafksisis:0},this.isAllDebitsChecked=!1,this.isLoading=!0,this.isLoadingPaymentResponse=!1,this.eidosDebit=[{value:0,perigrafi:"\u038c\u03bb\u03b5\u03c2"},{value:1,perigrafi:"\u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b5\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2"},{value:2,perigrafi:"\u039c\u03b7 \u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b5\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2"}],this.selectedEidosId=0,this.onDestroy=new l.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isMobile=this._parent.isMobile,this.assetsUrl=this._parent.assetsUrl,this.isNonPersistedEnabled=AppConfOptions.show_non_persisted_debits,this.oidcSecuritySrv.getUserData().subscribe((function(e){e&&(t.user=e,t._initDebitsByTin()),Object(f.c)(t.cdr)}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"onAllDebitsSelected",value:function(){var t=this;this.debits.entries.forEach((function(e){e.isChecked=t.isAllDebitsChecked})),Object(f.c)(this.cdr),this._calculateTotalAmounts()}},{key:"onScrollToPaymentMethods",value:function(){document.getElementById("debits-info__payment").scrollIntoView({behavior:"smooth"})}},{key:"onSelectedPersistedTypeChanged",value:function(t){this.selectedEidosId=+t.target.value,this.filteredDebits=JSON.parse(JSON.stringify(this.debits));var e=JSON.parse(JSON.stringify(this.debits));1===this.selectedEidosId?this.filteredDebits.entries=e.entries.filter((function(t){return!0===t.isBebaiomeno})):2===this.selectedEidosId?this.filteredDebits.entries=e.entries.filter((function(t){return!1===t.isBebaiomeno})):this.filteredDebits.entries=e.entries,Object(f.c)(this.cdr),this._fillDebitsTable(this.filteredDebits)}},{key:"isLoadingSimplifyModalChanged",value:function(t){this.isLoadingSimplifyModal=t,Object(f.c)(this.cdr)}},{key:"_initDebitsByTin",value:function(){var t=this;this.isLoading=!0;var e={tin:this.user.tin};this.epaymentsSrv.getBankMessages().pipe(Object(d.a)((function(n){return t.bankMessages=n,t.epaymentsSrv.getDebitsByTin(e)}))).subscribe((function(e){e&&(e.entries&&e.entries.length>=0?(t.debits=e,t.filteredDebits=e,t._fillDebitsTable(t.debits)):(e.message||e.messageId)&&(t.debitsMessage=t.bankMessages[e.messageId]?t.bankMessages[e.messageId]:e.message,t.toasterSrv.showError("",e.message)),t.isLoading=!1)}))}},{key:"_handleError",value:function(t){return Object(c.a)(t.message)}},{key:"_fillDebitsTable",value:function(t){if(this.isLoading=!0,Object(f.c)(this.cdr),2==t.statusCode)return this.toasterSrv.showWarning("","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd."),void(this.debitsMessage="\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd.");if(4==t.statusCode)return this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03ae\u03c4\u03b1\u03bd \u03b4\u03c5\u03bd\u03b1\u03c4\u03ae \u03b7 \u03c6\u03cc\u03c1\u03c4\u03c9\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b2\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd \u03c3\u03b1\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1."),void(this.debitsMessage="\u0394\u03b5\u03bd \u03ae\u03c4\u03b1\u03bd \u03b4\u03c5\u03bd\u03b1\u03c4\u03ae \u03b7 \u03c6\u03cc\u03c1\u03c4\u03c9\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b2\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd \u03c3\u03b1\u03c2. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1.");0===t.entries.length&&(this.debitsMessage="\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b3\u03b9\u03b1 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae \u03bc\u03ad\u03c3\u03c9 \u03c4\u03bf\u03c5 online \u03c3\u03c5\u03c3\u03c4\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2."),!1===this.isNonPersistedEnabled&&(t.entries=t.entries.filter((function(t){return!0===t.isBebaiomeno}))),t.entries.forEach((function(t){t.isChecked=!1}));var e=t.entries.map((function(t){return t.currentKatharoPoso}));this.totalCurrentKatharo=e.reduce((function(t,e){return t+e}),0);var n=t.entries.map((function(t){return t.currentProsafksisi})),r=t.entries.map((function(t){return t.currentKrathseis}));this.totalCurrentProsafksisi=n.reduce((function(t,e){return t+e}),0)+r.reduce((function(t,e){return t+e}),0);var i=t.entries.map((function(t){return t.currentSynolo}));this.totalcurrentSynolo=i.reduce((function(t,e){return t+e}),0),t.entries.sort((function(t,e){return Date.parse(t.hmerominiaLixis)/1e3-Date.parse(e.hmerominiaLixis)/1e3})),this.isLoading=!1,Object(f.c)(this.cdr)}},{key:"_calculateTotalAmounts",value:function(){var t,e=0,n=0,r=0,i=0;this.debits.entries.forEach((function(t){t.isChecked&&(i++,e+=t.currentSynolo,n+=t.currentKatharoPoso,r+=t.currentProsafksisi+t.currentKrathseis)})),t=1==i?"\u03bf\u03c6\u03b5\u03b9\u03bb\u03ae":"\u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c2",this.calculatedChecked={countChecked:i,countText:t,checkedSum:e,checkedKatharo:n,checkedEpivarinseis:r}}},{key:"_createRemittanceInfo",value:function(t){return t.remittanceInfo}},{key:"_payActions",value:function(){var t=this.debits.entries.filter((function(t){return t.isChecked}));this.paymentRequestDto={tinRelated:this.user.tin,relatedCallbackUrl:AuthConfOptions.redirect_url+"/epayments/receipts",billingAddressCity:this.user.address_city,billingAddressCountryCode:this.user.address_country_code,billingAddressZip:this.user.address_zip,billingAddress:this.user.address,userEmail:this.user.email,userPhone:this.user.phone_number,paymentMethodKey:"",entries:[]};var e,n=_createForOfIteratorHelper(t.filter((function(t){return t.isChecked})));try{for(n.s();!(e=n.n()).done;){var r=e.value,i={remittanceInfo:this._createRemittanceInfo(r),amount:r.currentSynolo,debtorName:r.eponymia,tin:this.user.tin,description:r.perigrafi};this.paymentRequestDto.entries.push(i)}}catch(s){n.e(s)}finally{n.f()}this.isLoadingPaymentResponse=!0,this.paymentMethodsComp._addPaymentRequest(this.paymentRequestDto)}}]),t}();b.ctorParameters=function(){return[{type:h.a},{type:o.c},{type:g.a},{type:i.k},{type:p.a}]},y([Object(i.lb)(u.a,{static:!1}),m("design:type",u.a)],b.prototype,"paymentMethodsComp",void 0),y([Object(i.G)(),m("design:type",Boolean)],b.prototype,"isAuthorized",void 0),b=y([Object(i.n)({selector:"app-debits",template:(r=n("SYTK"),r&&r.__esModule?r:{default:r}).default,changeDetection:i.j.Default}),m("design:paramtypes",[h.a,o.c,g.a,i.k,p.a])],b);var v=n("tyNb"),k=n("ofXK"),w=function(t,e,n,r){var i,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a},x=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},C=function(){function t(e,n,r,i){_classCallCheck(this,t),this.oidcSecuritySrv=e,this.location=n,this.router=r,this.route=i,this.onDestroy=new l.a,this.index=0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.oidcSecuritySrv.getIsAuthorized().subscribe((function(e){t.isAuthorized=e,AppConfOptions&&AppConfOptions.epayments_tab_info&&""!=AppConfOptions.epayments_tab_info&&(t.tabMsg=AppConfOptions.epayments_tab_info)})),"receipts"===this.route.children[0].snapshot.url[0].path?this.index=1:this.index=0}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"onTabChanged",value:function(t){0==t.index?this.router.navigate(["./debits"],{relativeTo:this.route}):this.router.navigate(["./receipts"],{relativeTo:this.route})}}]),t}();C.ctorParameters=function(){return[{type:o.c},{type:k.j},{type:v.d},{type:v.a}]},w([Object(i.G)(),x("design:type",Boolean)],C.prototype,"isAuthorized",void 0),C=w([Object(i.n)({selector:"app-epayments-layout",template:function(t){return t&&t.__esModule?t:{default:t}}(n("QXyn")).default}),x("design:paramtypes",[o.c,k.j,v.d,v.a])],C);var O=n("tk/3"),R=n("wd/R"),S=n("LRne"),P=n("1G5W"),T=function(t,e,n,r){var i,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a},_=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},D=function(){function t(e,n,r,i,s,a){_classCallCheck(this,t),this.oidcSecuritySrv=e,this.epaymentsSrv=n,this.toasterSrv=r,this.cdr=i,this.route=s,this._http=a,this.onDestroy=new l.a,this.totalPoso=0,this.receiptsUrlBase=AppConfOptions.epayments_api,this.receiptType="all",this.isLoading=!0,this.hmerominiaApodiksisRange=null,this.hmerominiaSinallagisRange=null,this.today=new Date,this.locale=f.d,this.yearRange=f.h,this.tropoiPliromis=[{id:"all",perigrafi:"\u038c\u03bb\u03bf\u03b9"},{id:"municipality",perigrafi:"\u03a4\u03b1\u03bc\u03b5\u03af\u03bf \u0394\u03ae\u03bc\u03bf\u03c5"},{id:"bank",perigrafi:"Online"}]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.epaymentsSrv.getPaymentSettings().subscribe((function(e){return t.paymentsSettings=e})),this.epaymentsSrv.getBankMessages().pipe(Object(d.a)((function(e){return e?(t.oikonomikiBankMessages=e,t.oidcSecuritySrv.getUserData().pipe(Object(P.a)(t.onDestroy))):Object(S.a)(!1)})),Object(d.a)((function(e){return e?(t.user=e,t.route.queryParams.pipe(Object(P.a)(t.onDestroy))):Object(S.a)(!1)}))).subscribe((function(e){if(e){var n,r=e;if(r.messagecode||r.paymentStatus)n=r.messagecode?r.messagecode:r.paymentStatus,t.bankStatusMessage=t.oikonomikiBankMessages[n],t.bankStatusMessageClass="TRANSACTION_COMPLETED"==n||"APPROVED"==n?"success":"fail";Object(f.c)(t.cdr),t._initReceiptsByTin()}else t.toasterSrv.showError("","\u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac..."),t.isLoading=!1,Object(f.c)(t.cdr)}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_initReceiptsByTin",value:function(){var t=this;this.isLoading=!0;var e=new Date,n={tin:this.user.tin,year:e.getFullYear()};this.epaymentsSrv.getPaymentsByTin(n).subscribe((function(e){e&&(t.receipts=e,t.totalPoso=0,t.receipts.entries&&t.receipts.entries.length>0&&t.receipts.entries.forEach((function(e){t.totalPoso+=e.receiptAmount})),!t.receipts.statusCode||2!=t.receipts.statusCode&&3!=t.receipts.statusCode?1==t.receipts.statusCode&&0==t.receipts.entries.length?t.receiptsMessage="\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03b9\u03c2 \u03b5\u03af\u03c3\u03c0\u03c1\u03b1\u03be\u03b7\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2.":t._fillOrderedReceipts(t.receipts):t.receipts.responseMetadata.metadata.hasOwnProperty("REV_DEPTOR_NOT_FOUND")?(t.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03b9\u03c2 \u03b5\u03af\u03c3\u03c0\u03c1\u03b1\u03be\u03b7\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2."),t.receiptsMessage="\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b1\u03c0\u03bf\u03b4\u03b5\u03af\u03be\u03b5\u03b9\u03c2 \u03b5\u03af\u03c3\u03c0\u03c1\u03b1\u03be\u03b7\u03c2 \u03c3\u03c4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2."):t.receipts.responseMetadata.metadata.hasOwnProperty("REV_MULTIPLE_DEPTORS_FOUND")&&(t.toasterSrv.showError("error","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd."),t.receiptsMessage="\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf \u03c4\u03b1\u03bc\u03b5\u03af\u03bf \u03c4\u03bf\u03c5 \u03b4\u03ae\u03bc\u03bf\u03c5. \u03a4\u03bf \u0391\u03a6\u039c \u03c3\u03b1\u03c2 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03c0\u03b1\u03c1\u03b1\u03c0\u03ac\u03bd\u03c9 \u03b1\u03c0\u03cc \u03bc\u03b9\u03b1 \u03ba\u03b1\u03c1\u03c4\u03ad\u03bb\u03b5\u03c2, \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03b3\u03c7\u03c9\u03bd\u03b5\u03c5\u03b8\u03bf\u03cd\u03bd.")),t.isLoading=!1,Object(f.c)(t.cdr)}))}},{key:"btnApplyFiltersClicked",value:function(){var t=this;this.isLoading=!0,this.orderedReceiptsFiltered=Object(f.b)(this.orderedReceipts),this.hmerominiaApodiksisRange&&(this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter((function(e){return!!R.utc(e.receiptDateCreated).isBetween(R.utc(t.hmerominiaApodiksisRange[0]),R.utc(t.hmerominiaApodiksisRange[1]).add(1,"day"))}))),this.hmerominiaSinallagisRange&&(this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter((function(e){return!!R(e.bankTxnDateCreated).isBetween(R(t.hmerominiaSinallagisRange[0]),R(t.hmerominiaSinallagisRange[1]).add(1,"day"))}))),Object(f.c)(this.cdr),this._filterByType()}},{key:"btnCleanFiltersClicked",value:function(){this.orderedReceiptsFiltered=Object(f.b)(this.orderedReceipts),this.hmerominiaApodiksisRange=null,this.hmerominiaSinallagisRange=null,this.receiptType,Object(f.c)(this.cdr)}},{key:"_filterByType",value:function(){"bank"==this.receiptType?this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter((function(t){return 0!=t.isOnline})):"municipality"==this.receiptType&&(this.orderedReceiptsFiltered=this.orderedReceiptsFiltered.filter((function(t){return 1!=t.isOnline}))),this.isLoading=!1,Object(f.c)(this.cdr)}},{key:"btnBankStatusMessageClicked",value:function(){this.bankStatusMessage=null,this._initReceiptsByTin()}},{key:"_fillOrderedReceipts",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=this.receipts);var n=this.receipts.entries.filter((function(t){return null===t.receiptDateCreated})),r=this.receipts.entries.filter((function(t){return null!=t.receiptDateCreated}));this.orderedReceipts=r.sort((function(t,e){return e.receiptDateCreated!==t.receiptDateCreated?e.receiptDateCreated>t.receiptDateCreated:parseInt(e.receiptIncrNr.split("/").pop())>parseInt(t.receiptIncrNr.split("/").pop())})),0!=n.length&&n.forEach((function(e){t.orderedReceipts.unshift(e)})),this.orderedReceipts.forEach((function(t){0==t.isOnline?t.icon="far fa-building":t.icon="fas fa-desktop",null==t.bankTxnDescr?t.description=t.receiptDescr:t.description=t.bankTxnDescr,null==t.bankTxnPaymentTotal?t.paymentTotal=t.receiptAmount:t.paymentTotal=t.bankTxnPaymentTotal,null!=t.receiptId&&null!=t.bankTxnUid?t.link='<a href="'+AppConfOptions.epayments_api+"/api/PersistedDebits/GetPaymentFile/"+t.bankTxnUid+'" target="_blank"><i class="far fa-file-pdf"></i></a>':t.link=""})),this.orderedReceiptsFiltered=Object(f.b)(this.orderedReceipts),Object(f.c)(this.cdr)}},{key:"handleError",value:function(t){return console.log(t.message),console.log(t.error),Object(c.a)(t.message)}}]),t}();D.ctorParameters=function(){return[{type:o.c},{type:g.a},{type:h.a},{type:i.k},{type:v.a},{type:O.b}]},T([Object(i.G)(),_("design:type",Boolean)],D.prototype,"isAuthorized",void 0);var I=[{path:"",component:C,children:[{path:"",pathMatch:"full",redirectTo:"debits"},{path:"debits",component:b},{path:"receipts",component:D=T([Object(i.n)({selector:"app-receipts",template:function(t){return t&&t.__esModule?t:{default:t}}(n("MX7W")).default,changeDetection:i.j.OnPush}),_("design:paramtypes",[o.c,g.a,h.a,i.k,v.a,O.b])],D)}]}],M=function t(){_classCallCheck(this,t)};M=function(t,e,n,r){var i,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a}([Object(i.L)({imports:[v.e.forChild(I)],exports:[v.e]})],M);var j=function t(){_classCallCheck(this,t)};j=function(t,e,n,r){var i,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a}([Object(i.L)({imports:[M,a.a,s.d],declarations:[C,b,D],providers:[g.a]})],j)}}]);