"use strict";(self.webpackChunkegritos_group_eg_web_apps=self.webpackChunkegritos_group_eg_web_apps||[]).push([[546],{7546:(ui,v,r)=>{r.r(v),r.d(v,{KoinoxristoiModule:()=>ri,PublicLibKoinLoader:()=>di});var y=r(7048),t=r(4496),h=r(7921),o=r(3228),f=r(6230),k=r(7564),G=r(6700),b=r(5657),D=r(6040),I=r(3616),J=r(9336),S=r(2700),p=r(4704),m=r(9144),M=r(7368),u=r(1368),E=r(1123),Y=r(3856),A=r(6328),g=r(6504),F=r(6116),z=r(232),$=r(5544),O=r(4344),K=r(120),_=r(8552),P=r(312),H=r(4476),W=r(6835),L=r(1148);const Q=["createAitisiForm"];function Z(e,l){if(1&e){const i=t.KQA();t.I0R(0,"div",17)(1,"label"),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.I0R(4,"ng-select",18),t.iHE("ngModelChange",function(s){t.usT(i);const a=t.GaO(2);return t.kNx(a.model.epixirisiId,s)||(a.model.epixirisiId=s),t.CGJ(s)}),t.qCj("ngModelChange",function(){t.usT(i);const s=t.GaO(2);return t.CGJ(s.onEpixeirisiChanged())}),t.C$Y(),t.I0R(5,"div",19),t.OEk(6),t.wVc(7,"translate"),t.C$Y()()}if(2&e){const i=t.GaO(2);t.yG2(2),t.oRS("",t.kDX(3,7,null==i.translation?null:i.translation.katastimata.epixeirisi),"*"),t.yG2(2),t.E7m("appendTo","body")("virtualScroll",!0)("items",i.epixeirisiInfo),t.OKB("ngModel",i.model.epixirisiId),t.yG2(),t.E7m("hidden",!i.isFormSubmitted||i.isFormSubmitted&&i.model.epixirisiId),t.yG2(),t.oRS(" *",t.kDX(7,9,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," ")}}function tt(e,l){if(1&e){const i=t.KQA();t.I0R(0,"div",20)(1,"label"),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.I0R(4,"ng-select",21),t.iHE("ngModelChange",function(s){t.usT(i);const a=t.GaO(2);return t.kNx(a.model.eidosAdeiasId,s)||(a.model.eidosAdeiasId=s),t.CGJ(s)}),t.qCj("ngModelChange",function(){t.usT(i);const s=t.GaO(2);return t.CGJ(s.onEidosAdeiasChanged())}),t.C$Y(),t.I0R(5,"div",19),t.OEk(6),t.wVc(7,"translate"),t.C$Y()()}if(2&e){const i=t.GaO(2);t.E7m("ngClass",i.model.eidosAdeiasId?"col-md-6":""),t.yG2(2),t.oRS("",t.kDX(3,8,null==i.translation?null:i.translation.katastimata.eidosAdeias),"*"),t.yG2(2),t.E7m("appendTo","body")("virtualScroll",!0)("items",i.eidiAdeion),t.OKB("ngModel",i.model.eidosAdeiasId),t.yG2(),t.E7m("hidden",!i.isFormSubmitted||i.isFormSubmitted&&i.model.eidosAdeiasId),t.yG2(),t.oRS(" *",t.kDX(7,10,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," ")}}function it(e,l){if(1&e){const i=t.KQA();t.I0R(0,"div",23)(1,"label"),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.I0R(4,"ng-select",24),t.iHE("ngModelChange",function(s){t.usT(i);const a=t.GaO(3);return t.kNx(a.model.timologioId,s)||(a.model.timologioId=s),t.CGJ(s)}),t.qCj("ngModelChange",function(){t.usT(i);const s=t.GaO(3);return t.CGJ(s.onTimokatalogosChanged())}),t.C$Y(),t.I0R(5,"div",19),t.OEk(6),t.wVc(7,"translate"),t.C$Y()()}if(2&e){const i=t.GaO(3);t.yG2(2),t.oRS("",t.kDX(3,8,null==i.translation?null:i.translation.katastimata.timologio),"*"),t.yG2(2),t.E7m("appendTo","body")("searchable",!0)("virtualScroll",!0)("items",i.timologia),t.OKB("ngModel",i.model.timologioId),t.yG2(),t.E7m("hidden",!i.isFormSubmitted||i.isFormSubmitted&&i.model.timologioId),t.yG2(),t.oRS(" *",t.kDX(7,10,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," ")}}function et(e,l){1&e&&(t.I0R(0,"span"),t.OEk(1,"*"),t.C$Y())}function nt(e,l){1&e&&(t.I0R(0,"span"),t.OEk(1,"*"),t.C$Y())}function st(e,l){1&e&&(t.I0R(0,"span"),t.OEk(1,"*"),t.C$Y())}function ot(e,l){1&e&&(t.I0R(0,"span"),t.OEk(1,"*"),t.C$Y())}const B=()=>({width:"100%"}),T=()=>({suffix:""});function at(e,l){if(1&e){const i=t.KQA();t.SAx(0),t.I0R(1,"div",25)(2,"label"),t.OEk(3),t.wVc(4,"translate"),t.C$Y(),t.I0R(5,"div",26)(6,"div",27)(7,"input",28),t.iHE("ngModelChange",function(s){t.usT(i);const a=t.GaO(3);return t.kNx(a.model.posotitaPeriodou,s)||(a.model.posotitaPeriodou=s),t.CGJ(s)}),t.qCj("ngModelChange",function(){t.usT(i);const s=t.GaO(3);return t.CGJ(s.onPosotitaPeriodouChanged())}),t.C$Y()(),t.I0R(8,"div",29)(9,"input",30),t.iHE("ngModelChange",function(s){t.usT(i);const a=t.GaO(3);return t.kNx(a.model.xreosiAna,s)||(a.model.xreosiAna=s),t.CGJ(s)}),t.C$Y()()(),t.I0R(10,"div",19),t.OEk(11),t.wVc(12,"translate"),t.C$Y()(),t.I0R(13,"div",25)(14,"label"),t.OEk(15),t.wVc(16,"translate"),t.C$Y(),t.I0R(17,"p-calendar",31),t.iHE("ngModelChange",function(s){t.usT(i);const a=t.GaO(3);return t.kNx(a.model.apo,s)||(a.model.apo=s),t.CGJ(s)}),t.qCj("ngModelChange",function(){t.usT(i);const s=t.GaO(3);return t.CGJ(s.onHmApoChanged())}),t.C$Y(),t.I0R(18,"div",19),t.OEk(19),t.wVc(20,"translate"),t.C$Y()(),t.I0R(21,"div",25)(22,"label"),t.OEk(23),t.wVc(24,"translate"),t.C$Y(),t.I0R(25,"p-calendar",32),t.iHE("ngModelChange",function(s){t.usT(i);const a=t.GaO(3);return t.kNx(a.model.eos,s)||(a.model.eos=s),t.CGJ(s)}),t.C$Y(),t.I0R(26,"div",19),t.OEk(27),t.wVc(28,"translate"),t.C$Y()(),t.I0R(29,"div",25)(30,"label"),t.OEk(31),t.wVc(32,"translate"),t.C$Y(),t.I0R(33,"input",33),t.iHE("ngModelChange",function(s){t.usT(i);const a=t.GaO(3);return t.kNx(a.model.dieuthinsi,s)||(a.model.dieuthinsi=s),t.CGJ(s)}),t.C$Y(),t.I0R(34,"div",19),t.OEk(35),t.wVc(36,"translate"),t.C$Y()(),t.I0R(37,"div",25)(38,"label"),t.OEk(39),t.wVc(40,"translate"),t.yuY(41,et,2,0,"span",3),t.C$Y(),t.I0R(42,"input",34),t.iHE("ngModelChange",function(s){t.usT(i);const a=t.GaO(3);return t.kNx(a.model.mikosAitisis,s)||(a.model.mikosAitisis=s),t.CGJ(s)}),t.qCj("ngModelChange",function(){t.usT(i);const s=t.GaO(3);return t.CGJ(s.onCalculateEmvado())}),t.C$Y(),t.I0R(43,"div",19),t.OEk(44),t.wVc(45,"translate"),t.C$Y()(),t.I0R(46,"div",25)(47,"label"),t.OEk(48),t.wVc(49,"translate"),t.yuY(50,nt,2,0,"span",3),t.C$Y(),t.I0R(51,"input",35),t.iHE("ngModelChange",function(s){t.usT(i);const a=t.GaO(3);return t.kNx(a.model.platosAitisis,s)||(a.model.platosAitisis=s),t.CGJ(s)}),t.qCj("ngModelChange",function(){t.usT(i);const s=t.GaO(3);return t.CGJ(s.onCalculateEmvado())}),t.C$Y(),t.I0R(52,"div",19),t.OEk(53),t.wVc(54,"translate"),t.C$Y()(),t.I0R(55,"div",25)(56,"label"),t.OEk(57),t.wVc(58,"translate"),t.yuY(59,st,2,0,"span",3),t.C$Y(),t.I0R(60,"input",36),t.iHE("ngModelChange",function(s){t.usT(i);const a=t.GaO(3);return t.kNx(a.model.embadonAitisis,s)||(a.model.embadonAitisis=s),t.CGJ(s)}),t.C$Y(),t.I0R(61,"div",19),t.OEk(62),t.wVc(63,"translate"),t.C$Y()(),t.I0R(64,"div",25)(65,"label"),t.OEk(66),t.wVc(67,"translate"),t.yuY(68,ot,2,0,"span",3),t.C$Y(),t.I0R(69,"input",37),t.iHE("ngModelChange",function(s){t.usT(i);const a=t.GaO(3);return t.kNx(a.model.posotitaAitisis,s)||(a.model.posotitaAitisis=s),t.CGJ(s)}),t.C$Y(),t.I0R(70,"div",19),t.OEk(71),t.wVc(72,"translate"),t.C$Y()(),t.k70()}if(2&e){const i=t.GaO(3);t.yG2(3),t.oRS("",t.kDX(4,68,null==i.translation?null:i.translation.katastimata.xreosiAna),"*"),t.yG2(4),t.OKB("ngModel",i.model.posotitaPeriodou),t.yG2(2),t.OKB("ngModel",i.model.xreosiAna),t.yG2(),t.E7m("hidden",!i.isFormSubmitted||i.isFormSubmitted&&i.model.posotitaPeriodou),t.yG2(),t.oRS(" *",t.kDX(12,70,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," "),t.yG2(4),t.oRS("",t.kDX(16,72,null==i.translation?null:i.translation.katastimata.imApo),"*"),t.yG2(2),t.m_g(t.q4q(100,B)),t.E7m("baseZIndex",9999)("firstDayOfWeek",1)("monthNavigator",!0)("yearNavigator",!0)("yearRange",i.yearRange)("showIcon",!0)("showButtonBar",!0)("touchUI",!0),t.OKB("ngModel",i.model.apo),t.yG2(),t.E7m("hidden",!i.isFormSubmitted||i.isFormSubmitted&&i.model.apo),t.yG2(),t.oRS(" *",t.kDX(20,74,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," "),t.yG2(4),t.oRS("",t.kDX(24,76,null==i.translation?null:i.translation.katastimata.imEos),"*"),t.yG2(2),t.m_g(t.q4q(101,B)),t.E7m("baseZIndex",9999)("firstDayOfWeek",1)("monthNavigator",!0)("yearNavigator",!0)("yearRange",i.yearRange)("showIcon",!0)("showButtonBar",!0)("touchUI",!0),t.OKB("ngModel",i.model.eos),t.yG2(),t.E7m("hidden",!i.isFormSubmitted||i.isFormSubmitted&&i.model.eos),t.yG2(),t.oRS(" *",t.kDX(28,78,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," "),t.yG2(4),t.oRS("",t.kDX(32,80,null==i.translation?null:i.translation.egwebapps.egrAddress),"*"),t.yG2(2),t.OKB("ngModel",i.model.dieuthinsi),t.yG2(),t.E7m("hidden",!i.isFormSubmitted||i.isFormSubmitted&&i.model.dieuthinsi),t.yG2(),t.oRS(" *",t.kDX(36,82,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," "),t.yG2(4),t.cNF(t.kDX(40,84,null==i.translation?null:i.translation.katastimata.mikos)),t.yG2(2),t.E7m("ngIf",null==i.selectedTimologio?null:i.selectedTimologio.meEmbadon),t.yG2(),t.E7m("options",t.q4q(102,T)),t.OKB("ngModel",i.model.mikosAitisis),t.E7m("required",null==i.selectedTimologio?null:i.selectedTimologio.meEmbadon)("disabled",!i.model.timologioId||i.selectedTimologio&&(i.selectedTimologio.mePosotita||i.selectedTimologio.meEmbadonOnlyTm)),t.yG2(),t.E7m("hidden",!i.isFormSubmitted||i.isFormSubmitted&&(!(null!=i.selectedTimologio&&i.selectedTimologio.meEmbadon)||!(null!=i.selectedTimologio&&i.selectedTimologio.meEmbadonOnlyTm)||(null==i.selectedTimologio?null:i.selectedTimologio.meEmbadon)&&i.model.mikosAitisis)),t.yG2(),t.oRS(" *",t.kDX(45,86,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," "),t.yG2(4),t.cNF(t.kDX(49,88,null==i.translation?null:i.translation.katastimata.platos)),t.yG2(2),t.E7m("ngIf",null==i.selectedTimologio?null:i.selectedTimologio.meEmbadon),t.yG2(),t.E7m("options",t.q4q(103,T)),t.OKB("ngModel",i.model.platosAitisis),t.E7m("required",null==i.selectedTimologio?null:i.selectedTimologio.meEmbadon)("disabled",!i.model.timologioId||i.selectedTimologio&&(i.selectedTimologio.mePosotita||i.selectedTimologio.meEmbadonOnlyTm)),t.yG2(),t.E7m("hidden",!i.isFormSubmitted||i.isFormSubmitted&&(!(null!=i.selectedTimologio&&i.selectedTimologio.meEmbadon)||!(null!=i.selectedTimologio&&i.selectedTimologio.meEmbadonOnlyTm)||(null==i.selectedTimologio?null:i.selectedTimologio.meEmbadon)&&i.model.platosAitisis)),t.yG2(),t.oRS(" *",t.kDX(54,90,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," "),t.yG2(4),t.cNF(t.kDX(58,92,null==i.translation?null:i.translation.katastimata.emvado)),t.yG2(2),t.E7m("ngIf",(null==i.selectedTimologio?null:i.selectedTimologio.meEmbadon)||(null==i.selectedTimologio?null:i.selectedTimologio.meEmbadonOnlyTm)),t.yG2(),t.E7m("options",t.q4q(104,T)),t.OKB("ngModel",i.model.embadonAitisis),t.E7m("disabled",!i.model.timologioId||!(null!=i.selectedTimologio&&i.selectedTimologio.meEmbadonOnlyTm))("required",(null==i.selectedTimologio?null:i.selectedTimologio.meEmbadon)||(null==i.selectedTimologio?null:i.selectedTimologio.meEmbadonOnlyTm)),t.yG2(),t.E7m("hidden",!i.isFormSubmitted||i.isFormSubmitted&&(!(null!=i.selectedTimologio&&i.selectedTimologio.meEmbadon)||!(null!=i.selectedTimologio&&i.selectedTimologio.meEmbadonOnlyTm)||((null==i.selectedTimologio?null:i.selectedTimologio.meEmbadon)||(null==i.selectedTimologio?null:i.selectedTimologio.meEmbadonOnlyTm))&&i.model.embadonAitisis)),t.yG2(),t.oRS(" *",t.kDX(63,94,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," "),t.yG2(4),t.cNF(t.kDX(67,96,null==i.translation?null:i.translation.katastimata.posotita)),t.yG2(2),t.E7m("ngIf",null==i.selectedTimologio?null:i.selectedTimologio.mePosotita),t.yG2(),t.OKB("ngModel",i.model.posotitaAitisis),t.E7m("required",null==i.selectedTimologio?null:i.selectedTimologio.mePosotita)("disabled",!i.model.timologioId||i.selectedTimologio&&(i.selectedTimologio.meEmbadon||i.selectedTimologio.meEmbadonOnlyTm)),t.yG2(),t.E7m("hidden",!i.isFormSubmitted||i.isFormSubmitted&&(!(null!=i.selectedTimologio&&i.selectedTimologio.mePosotita)||(null==i.selectedTimologio?null:i.selectedTimologio.mePosotita)&&i.model.posotitaAitisis)),t.yG2(),t.oRS(" *",t.kDX(72,98,null==i.translation?null:i.translation.egwebapps.egrRequiredField)," ")}}function lt(e,l){if(1&e&&(t.SAx(0),t.yuY(1,it,8,12,"div",22)(2,at,73,105,"ng-container",3),t.k70()),2&e){const i=t.GaO(2);t.yG2(),t.E7m("ngIf",i.model.eidosAdeiasId&&i.timologia),t.yG2(),t.E7m("ngIf",i.model.timologioId)}}function rt(e,l){if(1&e&&t.wR5(0,"p-message",38),2&e){const i=t.GaO(2);t.E7m("styleClass","my-1 form-msgs")("escape",!1)("text",i.formErrorsMsg)}}function dt(e,l){if(1&e){const i=t.KQA();t.SAx(0),t.I0R(1,"div",8),t.yuY(2,Z,8,11,"div",9),t.wR5(3,"eg-loading",0),t.yuY(4,tt,8,12,"div",10)(5,lt,3,2,"ng-container",3),t.C$Y(),t.yuY(6,rt,1,3,"p-message",11),t.I0R(7,"div",12)(8,"button",13),t.qCj("click",function(){t.usT(i);const s=t.GaO();return t.CGJ(s.onSubmit())}),t.wR5(9,"i",14),t.OEk(10),t.wVc(11,"translate"),t.C$Y(),t.I0R(12,"button",15),t.qCj("click",function(){t.usT(i);const s=t.GaO();return t.CGJ(s.closeCreate.emit())}),t.wR5(13,"i",16),t.OEk(14),t.wVc(15,"translate"),t.C$Y()(),t.k70()}if(2&e){const i=t.GaO();t.yG2(2),t.E7m("ngIf",i.canSelectEpixeirisi),t.yG2(),t.E7m("condition",i.isLoadingFormData)("customClass","egr-load-small"),t.yG2(),t.E7m("ngIf",i.model.epixirisiId&&i.eidiAdeion),t.yG2(),t.E7m("ngIf",!i.isLoadingFormData),t.yG2(),t.E7m("ngIf",i.formErrorsMsg&&""!=i.formErrorsMsg),t.yG2(4),t.oRS(" ",t.kDX(11,8,null==i.translation?null:i.translation.egwebapps.egrSave)," "),t.yG2(4),t.oRS(" ",t.kDX(15,10,null==i.translation?null:i.translation.egwebapps.egrReturn)," ")}}function ut(e,l){1&e&&t.C_f(0)}function ct(e,l){if(1&e&&(t.I0R(0,"div",8),t.yuY(1,ut,1,0,"ng-container",9),t.C$Y()),2&e){t.GaO();const i=t.Gew(9);t.yG2(),t.E7m("ngTemplateOutlet",i)}}function pt(e,l){if(1&e&&(t.I0R(0,"div",10)(1,"div",11)(2,"strong",12),t.OEk(3),t.wVc(4,"translate"),t.C$Y(),t.I0R(5,"span",12),t.wR5(6,"i",13),t.OEk(7),t.wVc(8,"translate"),t.C$Y(),t.I0R(9,"span",12),t.wR5(10,"i",14),t.OEk(11),t.wVc(12,"translate"),t.C$Y()()()),2&e){const i=t.GaO();t.yG2(3),t.oRS("",t.kDX(4,3,null==i.translation?null:i.translation.katastimata.aitisiStatus),":"),t.yG2(4),t.oRS(" ",t.kDX(8,5,null==i.translation?null:i.translation.katastimata.aitisiStatus5),""),t.yG2(4),t.oRS(" ",t.kDX(12,7,null==i.translation?null:i.translation.katastimata.aitisiStatus2),"")}}function mt(e,l){if(1&e){const i=t.KQA();t.I0R(0,"tr")(1,"th",15),t.OEk(2,"\xa0"),t.C$Y(),t.I0R(3,"th",16)(4,"p-checkbox",17),t.iHE("ngModelChange",function(s){t.usT(i);const a=t.GaO();return t.kNx(a.isAllDebitsChecked,s)||(a.isAllDebitsChecked=s),t.CGJ(s)}),t.qCj("onChange",function(){t.usT(i);const s=t.GaO();return t.CGJ(s.onAllDebitsSelected())}),t.C$Y()(),t.I0R(5,"th",18),t.OEk(6),t.wVc(7,"translate"),t.wR5(8,"p-sortIcon",19),t.C$Y(),t.I0R(9,"th",20),t.OEk(10),t.wVc(11,"translate"),t.C$Y(),t.I0R(12,"th",21),t.OEk(13),t.wVc(14,"translate"),t.C$Y(),t.I0R(15,"th",21),t.OEk(16),t.wVc(17,"translate"),t.C$Y(),t.I0R(18,"th",22),t.OEk(19),t.wVc(20,"translate"),t.C$Y(),t.I0R(21,"th",21),t.OEk(22),t.wVc(23,"translate"),t.C$Y(),t.I0R(24,"th",21),t.OEk(25),t.wVc(26,"translate"),t.C$Y(),t.I0R(27,"th",21),t.OEk(28),t.wVc(29,"translate"),t.C$Y(),t.I0R(30,"th",23),t.OEk(31,"\xa0 "),t.C$Y()()}if(2&e){const i=t.GaO();t.yG2(4),t.E7m("binary",!0),t.OKB("ngModel",i.isAllDebitsChecked),t.yG2(2),t.oRS("",t.kDX(7,11,null==i.translation?null:i.translation.katastimata.aitisiDate)," "),t.yG2(4),t.cNF(t.kDX(11,13,null==i.translation?null:i.translation.egwebapps.egrProtocolNbr)),t.yG2(3),t.cNF(t.kDX(14,15,null==i.translation?null:i.translation.katastimata.eidosAdeias)),t.yG2(3),t.cNF(t.kDX(17,17,null==i.translation?null:i.translation.katastimata.timologio)),t.yG2(3),t.cNF(t.kDX(20,19,null==i.translation?null:i.translation.katastimata.fromToColumn)),t.yG2(3),t.cNF(t.kDX(23,21,null==i.translation?null:i.translation.katastimata.emvadoPosotitaAitisisColumn)),t.yG2(3),t.cNF(t.kDX(26,23,null==i.translation?null:i.translation.katastimata.emvadoPosotitaEgkrisisColumn)),t.yG2(3),t.cNF(t.kDX(29,25,null==i.translation?null:i.translation.egwebapps.egrTotalCost)),t.yG2(2),t.E7m("frozen",!0)}}function gt(e,l){1&e&&(t.I0R(0,"span"),t.wR5(1,"i",13),t.C$Y())}function ht(e,l){1&e&&(t.I0R(0,"span"),t.wR5(1,"i",33),t.C$Y())}function _t(e,l){1&e&&(t.I0R(0,"span"),t.wR5(1,"i",14),t.C$Y())}function ft(e,l){if(1&e&&(t.I0R(0,"span")(1,"strong"),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.OEk(4),t.wVc(5,"number"),t.C$Y()),2&e){const i=t.GaO().$implicit,n=t.GaO();t.yG2(2),t.oRS("",t.kDX(3,2,null==n.translation?null:n.translation.katastimata.emvado),":"),t.yG2(2),t.oRS(" ",t.I7O(5,4,i.embadonAitisis,"1.2-2","el")," ")}}function Ct(e,l){if(1&e&&(t.I0R(0,"span")(1,"strong"),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.OEk(4),t.wVc(5,"number"),t.C$Y()),2&e){const i=t.GaO().$implicit,n=t.GaO();t.yG2(2),t.oRS("",t.kDX(3,2,null==n.translation?null:n.translation.katastimata.posotita),":"),t.yG2(2),t.oRS(" ",t.I7O(5,4,i.posotitaAitisis,"1.2-2","el")," ")}}function yt(e,l){if(1&e&&(t.I0R(0,"span")(1,"strong"),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.OEk(4),t.wVc(5,"number"),t.C$Y()),2&e){const i=t.GaO().$implicit,n=t.GaO();t.yG2(2),t.oRS("",t.kDX(3,2,null==n.translation?null:n.translation.katastimata.emvado),":"),t.yG2(2),t.oRS(" ",t.I7O(5,4,i.embadonEgrisis,"1.2-2","el")," ")}}function kt(e,l){if(1&e&&(t.I0R(0,"span")(1,"strong"),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.OEk(4),t.wVc(5,"number"),t.C$Y()),2&e){const i=t.GaO().$implicit,n=t.GaO();t.yG2(2),t.oRS("",t.kDX(3,2,null==n.translation?null:n.translation.katastimata.posotita),":"),t.yG2(2),t.oRS(" ",t.I7O(5,4,i.posotitaEgrisis,"1.2-2","el")," ")}}function bt(e,l){if(1&e){const i=t.KQA();t.I0R(0,"button",34),t.qCj("click",function(){t.usT(i);const s=t.GaO().$implicit,a=t.GaO();return t.CGJ(a.editAitisi.emit(s))}),t.wR5(1,"i",35),t.C$Y()}}const R=e=>[e,"EUR","symbol","1.2-2","el"];function It(e,l){if(1&e){const i=t.KQA();t.I0R(0,"tr")(1,"td",24),t.yuY(2,gt,2,0,"span",25)(3,ht,2,0,"span",25)(4,_t,2,0,"span",25),t.C$Y(),t.I0R(5,"td",24)(6,"span",26),t.OEk(7),t.wVc(8,"translate"),t.C$Y(),t.I0R(9,"p-checkbox",27),t.iHE("ngModelChange",function(s){const d=t.usT(i).$implicit;return t.kNx(d.isChecked,s)||(d.isChecked=s),t.CGJ(s)}),t.qCj("onChange",function(){t.usT(i);const s=t.GaO();return t.CGJ(s._calculateTotalAmounts())}),t.C$Y()(),t.I0R(10,"td",28)(11,"span",26),t.OEk(12),t.wVc(13,"translate"),t.C$Y(),t.OEk(14),t.wVc(15,"date"),t.C$Y(),t.I0R(16,"td",20)(17,"span",26),t.OEk(18),t.wVc(19,"translate"),t.C$Y(),t.OEk(20),t.C$Y(),t.I0R(21,"td",21)(22,"span",26),t.OEk(23),t.wVc(24,"translate"),t.C$Y(),t.OEk(25),t.C$Y(),t.I0R(26,"td",21)(27,"span",26),t.OEk(28),t.wVc(29,"translate"),t.C$Y(),t.OEk(30),t.C$Y(),t.I0R(31,"td",29)(32,"span",26),t.OEk(33),t.wVc(34,"translate"),t.C$Y(),t.OEk(35),t.wVc(36,"date"),t.wVc(37,"date"),t.C$Y(),t.I0R(38,"td",30)(39,"span",26),t.OEk(40),t.wVc(41,"translate"),t.C$Y(),t.yuY(42,ft,6,8,"span",25)(43,Ct,6,8,"span",25),t.C$Y(),t.I0R(44,"td",30)(45,"span",26),t.OEk(46),t.wVc(47,"translate"),t.C$Y(),t.yuY(48,yt,6,8,"span",25)(49,kt,6,8,"span",25),t.C$Y(),t.I0R(50,"td",30)(51,"span",26),t.OEk(52),t.wVc(53,"translate"),t.C$Y(),t.OEk(54),t.wVc(55,"currency"),t.C$Y(),t.I0R(56,"td",31)(57,"span",26),t.OEk(58,"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"),t.C$Y(),t.yuY(59,bt,2,0,"button",32),t.C$Y()()}if(2&e){const i=l.$implicit,n=t.GaO();t.yG2(2),t.E7m("ngIf",i.katastasiId&&3==i.katastasiId),t.yG2(),t.E7m("ngIf",i.katastasiId&&2==i.katastasiId),t.yG2(),t.E7m("ngIf",i.katastasiId&&1==i.katastasiId),t.yG2(3),t.cNF(t.kDX(8,28,null==n.translation?null:n.translation.egwebapps.egrSelect)),t.yG2(2),t.E7m("binary",!0),t.OKB("ngModel",i.isChecked),t.E7m("disabled",1!=i.katastasiId),t.yG2(3),t.cNF(t.kDX(13,30,null==n.translation?null:n.translation.katastimata.aitisiDate)),t.yG2(2),t.oRS(" ",t.g7$(15,32,i.hmniaAitisis,"dd/MM/yyyy")," "),t.yG2(4),t.cNF(t.kDX(19,35,null==n.translation?null:n.translation.egwebapps.egrProtocolNbr)),t.yG2(2),t.oRS(" ",i.protokolo," "),t.yG2(3),t.cNF(t.kDX(24,37,null==n.translation?null:n.translation.katastimata.eidosAdeias)),t.yG2(2),t.oRS(" ",i.eidosAdeiasDescription," "),t.yG2(3),t.cNF(t.kDX(29,39,null==n.translation?null:n.translation.katastimata.timologio)),t.yG2(2),t.oRS(" ",i.timologioPerigrafi," "),t.yG2(3),t.cNF(t.kDX(34,41,null==n.translation?null:n.translation.katastimata.fromToColumn)),t.yG2(2),t.CAO(" ",t.g7$(36,43,i.apo,"dd/MM/yyyy")," - ",t.g7$(37,46,i.eos,"dd/MM/yyyy")," "),t.yG2(5),t.cNF(t.kDX(41,49,null==n.translation?null:n.translation.katastimata.emvadoPosotitaAitisisColumn)),t.yG2(2),t.E7m("ngIf",!i.posotitaAitisis&&i.embadonAitisis),t.yG2(),t.E7m("ngIf",i.posotitaAitisis),t.yG2(3),t.cNF(t.kDX(47,51,null==n.translation?null:n.translation.katastimata.emvadoPosotitaEgkrisisColumn)),t.yG2(2),t.E7m("ngIf",!i.posotitaEgrisis&&i.embadonEgrisis),t.yG2(),t.E7m("ngIf",i.posotitaEgrisis),t.yG2(3),t.cNF(t.kDX(53,53,null==n.translation?null:n.translation.egwebapps.egrTotalCost)),t.yG2(2),t.oRS(" ",t.MxA(55,55,t.S45(61,R,i.sinolikoPoso))," "),t.yG2(2),t.E7m("frozen",!0),t.yG2(3),t.E7m("ngIf",3==i.katastasiId)}}function At(e,l){if(1&e&&(t.I0R(0,"tr")(1,"td",36),t.OEk(2),t.wVc(3,"translate"),t.C$Y()()),2&e){const i=t.GaO();t.yG2(2),t.oRS(" ",t.kDX(3,1,null==i.translation?null:i.translation.egwebapps.egrNoResultsFound)," ")}}function xt(e,l){if(1&e&&(t.I0R(0,"tr")(1,"td",36)(2,"strong"),t.OEk(3),t.wVc(4,"translate"),t.C$Y()()()),2&e){const i=t.GaO();t.yG2(3),t.CAO("",t.kDX(4,2,null==i.translation?null:i.translation.egwebapps.egrTotal),": ",null==i.aitiseis?null:i.aitiseis.length,"")}}function wt(e,l){1&e&&t.C_f(0)}function Gt(e,l){if(1&e&&(t.I0R(0,"div",8),t.yuY(1,wt,1,0,"ng-container",9),t.C$Y()),2&e){t.GaO();const i=t.Gew(9);t.yG2(),t.E7m("ngTemplateOutlet",i)}}function Et(e,l){if(1&e){const i=t.KQA();t.I0R(0,"div",37)(1,"div")(2,"p",38),t.OEk(3),t.wVc(4,"translate"),t.I0R(5,"span",39),t.OEk(6),t.C$Y()(),t.I0R(7,"p",38),t.OEk(8),t.wVc(9,"translate"),t.I0R(10,"span",39),t.OEk(11),t.wVc(12,"currency"),t.C$Y()()(),t.I0R(13,"eg-checkout",40),t.qCj("payBtnClick",function(s){t.usT(i);const a=t.GaO();return t.CGJ(a.onCreatePaymentRequest(s))}),t.wVc(14,"translate"),t.C$Y()()}if(2&e){const i=t.GaO();t.yG2(3),t.oRS("",t.kDX(4,9,null==i.translation?null:i.translation.egwebapps.egrSelected)," "),t.yG2(3),t.CAO(" ",i.calculatedChecked.countChecked," ",i.calculatedChecked.countText," "),t.yG2(2),t.oRS("",t.kDX(9,11,null==i.translation?null:i.translation.egwebapps.egrTotalCost),": "),t.yG2(3),t.cNF(t.wB1(12,13,i.calculatedChecked.checkedSinolo,"\u20ac","symbol","1.2")),t.yG2(2),t.E7m("isPaymentFormValid",!0)("doPaymentSubscription",i.onDoPaymentSubject.asObservable())("govPaymentGatewayApiUrl",i.govPaymentGatewayApiUrl)("buttonText",t.kDX(14,18,null==i.translation?null:i.translation.egwebapps.egrPaymentBtnText))}}function Ot(e,l){if(1&e&&t.wR5(0,"p-message",6),2&e){const i=t.GaO();t.E7m("severity",i.bankStatusMessageClass)("text",i.bankStatusMessage)("styleClass","mb-2")}}function Tt(e,l){if(1&e&&(t.I0R(0,"th",14),t.OEk(1),t.wVc(2,"translate"),t.C$Y()),2&e){const i=t.GaO(2);t.yG2(),t.cNF(t.kDX(2,1,null==i.translation?null:i.translation.katastimata.diakritikosTitlos))}}function Rt(e,l){if(1&e&&(t.I0R(0,"tr")(1,"th",7),t.OEk(2),t.wVc(3,"translate"),t.wR5(4,"p-sortIcon",8),t.C$Y(),t.yuY(5,Tt,3,3,"th",9),t.I0R(6,"th",10),t.OEk(7),t.wVc(8,"translate"),t.wR5(9,"p-sortIcon",11),t.C$Y(),t.I0R(10,"th",12),t.OEk(11),t.wVc(12,"translate"),t.C$Y(),t.I0R(13,"th",13),t.OEk(14),t.wVc(15,"translate"),t.C$Y(),t.I0R(16,"th",13),t.OEk(17),t.wVc(18,"translate"),t.C$Y(),t.I0R(19,"th",14),t.OEk(20),t.wVc(21,"translate"),t.C$Y(),t.I0R(22,"th",13),t.OEk(23),t.wVc(24,"translate"),t.C$Y(),t.I0R(25,"th",13),t.OEk(26),t.wVc(27,"translate"),t.C$Y(),t.I0R(28,"th",12),t.OEk(29),t.wVc(30,"translate"),t.C$Y()()),2&e){const i=t.GaO();t.yG2(2),t.oRS("",t.kDX(3,10,null==i.translation?null:i.translation.egwebapps.egrAA)," "),t.yG2(3),t.E7m("ngIf",i.epixeirisiInfo&&i.epixeirisiInfo.length>1),t.yG2(2),t.oRS("",t.kDX(8,12,null==i.translation?null:i.translation.katastimata.aitisiDate)," "),t.yG2(4),t.cNF(t.kDX(12,14,null==i.translation?null:i.translation.egwebapps.egrProtocolNbr)),t.yG2(3),t.cNF(t.kDX(15,16,null==i.translation?null:i.translation.katastimata.eidosAdeias)),t.yG2(3),t.cNF(t.kDX(18,18,null==i.translation?null:i.translation.katastimata.timologio)),t.yG2(3),t.cNF(t.kDX(21,20,null==i.translation?null:i.translation.katastimata.fromToColumn)),t.yG2(3),t.cNF(t.kDX(24,22,null==i.translation?null:i.translation.katastimata.emvadoPosotitaEgkrisisColumn)),t.yG2(3),t.cNF(t.kDX(27,24,null==i.translation?null:i.translation.egwebapps.egrTotalCost)),t.yG2(3),t.cNF(t.kDX(30,26,null==i.translation?null:i.translation.egwebapps.egrFile))}}function vt(e,l){if(1&e&&(t.I0R(0,"td",14)(1,"span",16),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.OEk(4),t.C$Y()),2&e){const i=t.GaO().$implicit,n=t.GaO();t.yG2(2),t.cNF(t.kDX(3,2,null==n.translation?null:n.translation.katastimata.diakritikosTitlos)),t.yG2(2),t.oRS(" ",i.diakritikosTitlos," ")}}function Dt(e,l){if(1&e&&(t.I0R(0,"span")(1,"strong"),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.OEk(4),t.wVc(5,"number"),t.C$Y()),2&e){const i=t.GaO().$implicit,n=t.GaO();t.yG2(2),t.oRS("",t.kDX(3,2,null==n.translation?null:n.translation.katastimata.emvado),":"),t.yG2(2),t.oRS(" ",t.I7O(5,4,i.embadonEgrisis,"1.2-2","el")," ")}}function St(e,l){if(1&e&&(t.I0R(0,"span")(1,"strong"),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.OEk(4),t.wVc(5,"number"),t.C$Y()),2&e){const i=t.GaO().$implicit,n=t.GaO();t.yG2(2),t.oRS("",t.kDX(3,2,null==n.translation?null:n.translation.katastimata.posotita),":"),t.yG2(2),t.oRS(" ",t.I7O(5,4,i.posotitaEgrisis,"1.2-2","el")," ")}}function Mt(e,l){if(1&e&&(t.I0R(0,"a",23),t.wVc(1,"async"),t.wVc(2,"securePlg"),t.wR5(3,"i",24),t.C$Y()),2&e){const i=t.GaO().$implicit,n=t.GaO();t._6D("download",i.fileName),t.E7m("href",t.kDX(1,2,t.kDX(2,4,n.katastimataApiUrl+"/api/DocDms/DownloadFile/"+i.dmsId+"/AdeiaKoinoxriston/"+i.epixirisiId+"/"+i.etos)),t.K6U)}}function Yt(e,l){if(1&e&&(t.I0R(0,"tr")(1,"td",15)(2,"span",16),t.OEk(3),t.wVc(4,"translate"),t.C$Y(),t.OEk(5),t.C$Y(),t.yuY(6,vt,5,4,"td",9),t.I0R(7,"td",17)(8,"span",16),t.OEk(9),t.wVc(10,"translate"),t.C$Y(),t.OEk(11),t.wVc(12,"date"),t.C$Y(),t.I0R(13,"td",12)(14,"span",16),t.OEk(15),t.wVc(16,"translate"),t.C$Y(),t.OEk(17),t.C$Y(),t.I0R(18,"td",13)(19,"span",16),t.OEk(20),t.wVc(21,"translate"),t.C$Y(),t.OEk(22),t.C$Y(),t.I0R(23,"td",13)(24,"span",16),t.OEk(25),t.wVc(26,"translate"),t.C$Y(),t.OEk(27),t.C$Y(),t.I0R(28,"td",18)(29,"span",16),t.OEk(30),t.wVc(31,"translate"),t.C$Y(),t.OEk(32),t.wVc(33,"date"),t.wVc(34,"date"),t.C$Y(),t.I0R(35,"td",19)(36,"span",16),t.OEk(37),t.wVc(38,"translate"),t.C$Y(),t.yuY(39,Dt,6,8,"span",20)(40,St,6,8,"span",20),t.C$Y(),t.I0R(41,"td",19)(42,"span",16),t.OEk(43),t.wVc(44,"translate"),t.C$Y(),t.OEk(45),t.wVc(46,"currency"),t.C$Y(),t.I0R(47,"td",21)(48,"span",16),t.OEk(49),t.wVc(50,"translate"),t.C$Y(),t.yuY(51,Mt,4,6,"a",22),t.C$Y()()),2&e){const i=l.$implicit,n=t.GaO();t.yG2(3),t.cNF(t.kDX(4,21,null==n.translation?null:n.translation.egwebapps.egrAA)),t.yG2(2),t.oRS(" ",i.id," "),t.yG2(),t.E7m("ngIf",n.epixeirisiInfo&&n.epixeirisiInfo.length>1),t.yG2(3),t.cNF(t.kDX(10,23,null==n.translation?null:n.translation.katastimata.aitisiDate)),t.yG2(2),t.oRS(" ",t.g7$(12,25,i.hmniaAitisis,"dd/MM/yyyy")," "),t.yG2(4),t.cNF(t.kDX(16,28,null==n.translation?null:n.translation.egwebapps.egrProtocolNbr)),t.yG2(2),t.oRS(" ",i.protokolo," "),t.yG2(3),t.cNF(t.kDX(21,30,null==n.translation?null:n.translation.katastimata.eidosAdeias)),t.yG2(2),t.oRS(" ",i.eidosAdeiasDescription," "),t.yG2(3),t.cNF(t.kDX(26,32,null==n.translation?null:n.translation.katastimata.timologio)),t.yG2(2),t.oRS(" ",i.timologioPerigrafi," "),t.yG2(3),t.cNF(t.kDX(31,34,null==n.translation?null:n.translation.katastimata.fromToColumn)),t.yG2(2),t.CAO(" ",t.g7$(33,36,i.apo,"dd/MM/yyyy")," - ",t.g7$(34,39,i.eos,"dd/MM/yyyy")," "),t.yG2(5),t.cNF(t.kDX(38,42,null==n.translation?null:n.translation.katastimata.emvadoPosotitaEgkrisisColumn)),t.yG2(2),t.E7m("ngIf",!i.posotitaEgrisis&&i.embadonEgrisis),t.yG2(),t.E7m("ngIf",i.posotitaEgrisis),t.yG2(3),t.cNF(t.kDX(44,44,null==n.translation?null:n.translation.egwebapps.egrTotalCost)),t.yG2(2),t.oRS(" ",t.MxA(46,46,t.S45(54,R,i.sinolikoPoso))," "),t.yG2(4),t.cNF(t.kDX(50,52,null==n.translation?null:n.translation.egwebapps.egrFile)),t.yG2(2),t.E7m("ngIf",null!=i.dmsId&&""!=i.dmsId)}}function Ft(e,l){if(1&e&&(t.I0R(0,"tr")(1,"td",25),t.OEk(2),t.wVc(3,"translate"),t.C$Y()()),2&e){const i=t.GaO();t.yG2(2),t.oRS(" ",t.kDX(3,1,null==i.translation?null:i.translation.egwebapps.egrNoResultsFound)," ")}}function $t(e,l){if(1&e&&(t.I0R(0,"tr")(1,"td",26)(2,"strong"),t.OEk(3),t.wVc(4,"translate"),t.C$Y()(),t.I0R(5,"td",27)(6,"strong"),t.OEk(7),t.wVc(8,"translate"),t.wVc(9,"currency"),t.C$Y()()()),2&e){const i=t.GaO();t.yG2(),t.E7m("ngClass",i.epixeirisiInfo&&i.epixeirisiInfo.length>1?"fixed-width-col-1200":"fixed-width-col-1000"),t.e48("colspan",i.epixeirisiInfo&&i.epixeirisiInfo.length>1?8:7),t.yG2(2),t.CAO("",t.kDX(4,7,null==i.translation?null:i.translation.egwebapps.egrTotal),": ",null==i.aitiseis?null:i.aitiseis.length,""),t.yG2(2),t.e48("colspan",2),t.yG2(2),t.CAO("",t.kDX(8,9,null==i.translation?null:i.translation.egwebapps.egrTotalCost),": ",t.MxA(9,11,t.S45(17,R,i.totalSum)),"")}}function Kt(e,l){if(1&e&&(t.wR5(0,"p-message",5),t.wVc(1,"translate")),2&e){const i=t.GaO();t.E7m("text",t.kDX(1,1,null==i.translation?null:i.translation.egwebapps.egrProblemFound))}}function Pt(e,l){if(1&e&&(t.wR5(0,"p-message",5),t.wVc(1,"translate")),2&e){const i=t.GaO();t.E7m("text",t.kDX(1,1,null==i.translation?null:i.translation.katastimata.noEpixeirisiFound))}}function Lt(e,l){if(1&e&&(t.I0R(0,"p",14)(1,"strong"),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.OEk(4),t.C$Y()),2&e){const i=t.GaO(2);t.yG2(2),t.oRS("",t.kDX(3,2,null==i.translation?null:i.translation.katastimata.epixeirisi),":"),t.yG2(2),t.oRS("\xa0",i.epixeirisiInfo[0].eponimia," ")}}function Bt(e,l){if(1&e){const i=t.KQA();t.SAx(0),t.I0R(1,"div",6),t.yuY(2,Lt,5,4,"p",7),t.I0R(3,"button",8),t.qCj("click",function(){t.usT(i);const s=t.GaO();return t.CGJ(s.isModalOpen=!0)}),t.wR5(4,"span",9),t.OEk(5),t.wVc(6,"translate"),t.C$Y()(),t.I0R(7,"p-tabView",10),t.qCj("onChange",function(s){t.usT(i);const a=t.GaO();return t.CGJ(a.onTabChanged(s))}),t.I0R(8,"p-tabPanel",11),t.wVc(9,"translate"),t.I0R(10,"app-koin-aitiseis-istoriko-pliromon",12),t.qCj("editAitisi",function(s){t.usT(i);const a=t.GaO();return t.CGJ(a.onEditAitisi(s))}),t.C$Y()(),t.I0R(11,"p-tabPanel",11),t.wVc(12,"translate"),t.I0R(13,"app-koin-aitiseis-list",13),t.qCj("editAitisi",function(s){t.usT(i);const a=t.GaO();return a.selectedAitisi=s,t.CGJ(a.isModalOpen=!0)}),t.C$Y()()(),t.k70()}if(2&e){const i=t.GaO();t.yG2(2),t.E7m("ngIf",i.epixeirisiInfo&&1==i.epixeirisiInfo.length),t.yG2(3),t.oRS(" ",t.kDX(6,13,null==i.translation?null:i.translation.katastimata.createApplication)," "),t.yG2(2),t.E7m("activeIndex",i.index),t.yG2(),t.E7m("header",t.kDX(9,15,null==i.translation?null:i.translation.egwebapps.history)),t.yG2(2),t.E7m("epixeirisiInfo",i.epixeirisiInfo)("selectedLang",i.selectedLang)("translation",i.translation),t.yG2(),t.E7m("header",t.kDX(12,17,null==i.translation?null:i.translation.katastimata.myApplications)),t.yG2(2),t.E7m("epixeirisiInfo",i.epixeirisiInfo)("userInfo",i.userInfo)("reloadData",i.reloadData)("selectedLang",i.selectedLang)("translation",i.translation)}}function Vt(e,l){if(1&e){const i=t.KQA();t.I0R(0,"app-koin-aitiseis-create",15),t.qCj("closeCreate",function(){t.usT(i);const s=t.GaO();return s.isModalOpen=!1,t.CGJ(s.selectedAitisi=null)})("reloadData",function(s){t.usT(i);const a=t.GaO();return t.CGJ(a.reloadData=s)}),t.C$Y()}if(2&e){const i=t.GaO();t.E7m("epixeirisiInfo",i.epixeirisiInfo)("aitisi",i.selectedAitisi)("userInfo",i.userInfo)("selectedLang",i.selectedLang)("translation",i.translation)}}const Ut=()=>({minWidth:"80vw",maxWidth:"80vw",overflow:"visible"});class Nt{constructor(l,i){this.http=l,this.exceptionService=i,this.getBaseUrl=()=>this.baseUrl,AppConfOptions&&AppConfOptions.katastimata_api?(this.baseUrl=AppConfOptions.katastimata_api,this.financeApiUrl=(0,o.w1)(AppConfOptions.finance_api)?(0,o.w1)(AppConfOptions.epayments_api)?null:(0,o.sF)(AppConfOptions.epayments_api):(0,o.sF)(AppConfOptions.finance_api)):(this.baseUrl="/",this.financeApiUrl=(0,o.sF)(AppConfOptions.financeApi)),this.baseUrl+="api",this.financeApiUrl+="api"}}let w=(()=>{class e extends Nt{constructor(i,n){super(n,i),this.exceptionSrv=i,this.http=n,this.userInfoSubject=new G.g(null),this.userInfo$=this.userInfoSubject.asObservable(),this.selectedLangSubject=new G.g(null),this.selectedLang$=this.selectedLangSubject.asObservable(),this.translationSubject=new G.g(null),this.translation$=this.translationSubject.asObservable(),this.egOnInit()}egOnInit(){this.userInfo$.subscribe(i=>{this.userInfo=i}),this.selectedLang$.subscribe(i=>{this.selectedLang=i}),this.translation$.subscribe(i=>{this.translation=i})}initUserInfo(){if(!this.userInfo){let n,i=null;n=window.localStorage.length&&null!=typeof localStorage.getItem("default-auth-config")?window.localStorage:window.sessionStorage;for(let s=0;s<n.length;s++){const a=n.key(s);a.includes("default-auth-config")&&(i=JSON.parse(n.getItem(a)).userData,this.userInfoSubject.next({email:i.email,username:i.given_name,tin:i.tin,family_name:i.family_name,given_name:i.given_name,name:i.name,address_city:i.address_city,address_country_code:i.address_country_code,address_zip:i.address_zip,address:i.address,fathers_name:i.fathers_name,mothers_name:i.mothers_name,adt:i.adt,phone_number:i.phone_number}))}}}getAllKoinEidosAdeias(){return this.baseUrl=(0,o.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/KoinAitiseisWeb/GetAllKoinEidosAdeias`).pipe((0,p.k)(n=>n),(0,m.a)(this.exceptionSrv.catchBadResponse))}getEpixeirisiInfo(i){return this.baseUrl=(0,o.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/KoinAitiseisWeb/GetKoinAitiseisWebEpixirisiInfo/${i}`).pipe((0,p.k)(s=>s),(0,m.a)(this.exceptionSrv.catchBadResponse))}getKoinTimologiaForWebPlugin(i){return this.baseUrl=(0,o.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/KoinAitiseisWeb/GetKoinTimologiaForWebPlugin/${i}`).pipe((0,p.k)(s=>s),(0,m.a)(this.exceptionSrv.catchBadResponse))}getTimologioById(i){return this.baseUrl=(0,o.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/KoinTimologia/GetById/${i}`).pipe((0,p.k)(s=>s),(0,m.a)(this.exceptionSrv.catchBadResponse))}getKoinAitiseisWebPending(i){return this.baseUrl=(0,o.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/KoinAitiseisWeb/GetKoinAitiseisWebPending/${i}`).pipe((0,p.k)(s=>s),(0,m.a)(this.exceptionSrv.catchBadResponse))}getKoinAitiseisWebToPay(i){return this.baseUrl=(0,o.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/KoinAitiseisWeb/GetKoinAitiseisWebToPay/${i}`).pipe((0,p.k)(s=>s),(0,m.a)(this.exceptionSrv.catchBadResponse))}getKoinAitiseisWebPayed(i){return this.baseUrl=(0,o.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/KoinAitiseisWeb/GetKoinAitiseisWebPayed/${i}`).pipe((0,p.k)(s=>s),(0,m.a)(this.exceptionSrv.catchBadResponse))}koinAitisiWebCreate(i){return this.baseUrl=(0,o.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.post(`${this.baseUrl}/KoinAitiseisWeb/KoinAitisiWebCreate`,i).pipe((0,p.k)(s=>s),(0,m.a)(this.exceptionSrv.catchBadResponse))}markKoinAitisiWebExoflisi(i){return this.baseUrl=(0,o.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.post(`${this.baseUrl}/KoinAitiseisWeb/MarkKoinAitisiWebExoflisi`,i).pipe((0,p.k)(s=>s),(0,m.a)(this.exceptionSrv.catchBadResponse))}static#t=this.\u0275fac=function(n){return new(n||e)(t.CoB(o.gn),t.CoB(y.KK))};static#i=this.\u0275prov=t.wxM({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Xt{constructor(){this.bankTransactionId=null}}var V=function(e){return e[e.Egkrithike=1]="Egkrithike",e[e.Aporifthike=2]="Aporifthike",e[e.AnameneteApantisi=3]="AnameneteApantisi",e[e.AnamoniAitisis=4]="AnamoniAitisis",e[e.Elegxthike=5]="Elegxthike",e}(V||{}),U=function(e){return e.epixeirisiId="\u0395\u03c0\u03b9\u03c7\u03b5\u03af\u03c1\u03b7\u03c3\u03b7",e.eidosAdeias="\u0395\u03af\u03b4\u03bf\u03c2 \u0391\u03b4\u03b5\u03af\u03b1\u03c2",e.timologio="\u03a4\u03b9\u03bc\u03bf\u03bb\u03cc\u03b3\u03b9\u03bf",e.posotitaPeriodou="\u03a7\u03c1\u03ad\u03c9\u03c3\u03b7 \u0391\u03bd\u03ac",e.apo="\u0397\u03bc. \u0391\u03c0\u03cc",e.eos="\u0397\u03bc. \u0388\u03c9\u03c2",e.dieuthinsi="\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7",e.mikosAitisis="\u039c\u03ae\u03ba\u03bf\u03c2",e.platosAitisis="\u03a0\u03bb\u03ac\u03c4\u03bf\u03c2",e.embadonAitisis="\u0395\u03bc\u03b2\u03b1\u03b4\u03cc",e.posotitaAitisis="\u03a0\u03bf\u03c3\u03cc\u03c4\u03b7\u03c4\u03b1",e}(U||{});let jt=(()=>{class e{constructor(i,n,s,a){this.aitiseisKoinoxristonNgSrv=i,this.toasterSrv=n,this.confirmationSrv=s,this.cdr=a,this.selectedLang="el",this.closeCreate=new t._w7,this.reloadData=new t._w7,this.yearRange=(0,o.sj)(50,50),this.canSelectEpixeirisi=!1,this.isLoading=!1,this.isLoadingFormData=!1,this.isFormSubmitted=!1,this.formsMsg="",this.formDictionaryEnum=U}ngOnInit(){this.isLoading=!0,this.canSelectEpixeirisi=null!=this.epixeirisiInfo&&this.epixeirisiInfo.length>1,(0,o.Er)(this.cdr),this.aitiseisKoinoxristonNgSrv.getAllKoinEidosAdeias().subscribe(i=>{i?(this.eidiAdeion=i,this.aitisi?(this.model=(0,o.O0)(this.aitisi),this._initDataForEdit()):this.model={id:0,katastasiId:V.AnameneteApantisi,hmniaAitisis:(0,o.c9)(new Date)},this.epixeirisiInfo&&this.epixeirisiInfo.length>1?this.epixeirisiInfo.forEach(n=>{n.displayLabel=n.eponimia+" | \u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7: "+n.dieuthinsi}):this.epixeirisiInfo&&1==this.epixeirisiInfo.length&&!this.aitisi&&(this.model.epixirisiId=this.epixeirisiInfo[0].epixirisiId,this.model.dieuthinsi=this.epixeirisiInfo[0].dieuthinsi)):(this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b5\u03b9\u03b4\u03ce\u03bd \u03b1\u03b4\u03b5\u03b9\u03ce\u03bd."),this.closeCreate.emit()),this.isLoading=!1,(0,o.Er)(this.cdr)})}onEpixeirisiChanged(){let i=this.epixeirisiInfo.find(n=>n.epixirisiId==this.model.epixirisiId);this.model.dieuthinsi=i?i.dieuthinsi:null,(0,o.Er)(this.cdr)}onEidosAdeiasChanged(){this.model.eidosAdeiasId&&(this.isLoadingFormData=!0,this.timologia=null,(0,o.Er)(this.cdr),this.aitiseisKoinoxristonNgSrv.getKoinTimologiaForWebPlugin(this.model.eidosAdeiasId).subscribe(i=>{i?this.timologia=i:this.toasterSrv.showError("","\u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03c4\u03b9\u03bc\u03bf\u03bb\u03cc\u03b3\u03b9\u03b1."),this.isLoadingFormData=!1,(0,o.Er)(this.cdr)}))}onTimokatalogosChanged(){this.model.timologioId&&this.timologia&&this.timologia.length&&(this.selectedTimologio=this.timologia.find(i=>i.id==this.model.timologioId),this.model.xreosiAna=this.selectedTimologio?this.selectedTimologio.tiposAdeias.xreosiAna?.description:null,this.model.timologioId=this.selectedTimologio?this.selectedTimologio.id:null,this.model.timologioPerigrafi=this.selectedTimologio?this.selectedTimologio.description:null,this.model.tiposAdeiasId=this.selectedTimologio?this.selectedTimologio.tiposAdeias?.id:null,(0,o.Er)(this.cdr),this.onHmApoChanged())}onHmApoChanged(){this.model.apo&&this.selectedTimologio&&(this.selectedTimologioDetail=this.selectedTimologio.koinTimologiaDetail.find(i=>new Date(i.hmniaApo)<=new Date(this.model.apo)&&(!i.hmniaEos||new Date(i.hmniaEos)>=new Date(this.model.apo))),this.selectedTimologioDetail||this.toasterSrv.showError("","\u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b5 \u03b5\u03bd\u03b5\u03c1\u03b3\u03cc \u03c4\u03b9\u03bc\u03bf\u03bb\u03cc\u03b3\u03b9\u03bf."),this.onPosotitaPeriodouChanged()),(0,o.Er)(this.cdr)}onPosotitaPeriodouChanged(){if(this.model.apo&&this.model.posotitaPeriodou&&0!=this.model.posotitaPeriodou){this.model.apo.setHours(0,0,0);let i=(0,o.M5)(new Date(this.model.apo)).toUTCString(),n=new Date(i).getTime();switch(this.selectedTimologio.tiposAdeias.xreosiAnaId){case 1:1==+this.model.posotitaPeriodou?this.model.eos=new Date(this.model.apo.getFullYear(),11,31):(this.model.eos=new Date(n+314496e5*this.model.posotitaPeriodou),this.model.eos.setDate(this.model.apo.getDate()),this.model.eos=new Date(this.model.apo.getFullYear()+ +this.model.posotitaPeriodou,11,31));break;case 2:this.model.eos=new Date(n+2592e6*this.model.posotitaPeriodou);break;case 3:this.model.eos=this.model.apo,this.model.posotitaPeriodou>1&&(this.model.eos=new Date(n+864e5*(this.model.posotitaPeriodou-1)));break;case 4:this.model.eos=new Date(n+5184e5*this.model.posotitaPeriodou),this.model.posotitaPeriodou>1&&(this.model.eos=new Date(n+6048e5*(this.model.posotitaPeriodou-1)+5184e5));break;case 5:let s=this.model.apo.getMonth();1==this.model.posotitaPeriodou?this.model.eos=s>=0&&s<=5?new Date(this.model.apo.getFullYear(),5,30):new Date(this.model.apo.getFullYear(),11,31):(this.model.eos=new Date(n+15552e6*this.model.posotitaPeriodou),this.model.eos.setDate(this.model.apo.getDate()))}(0,o.Er)(this.cdr)}}onCalculateEmvado(){this.selectedTimologio.meEmbadon&&this.model.mikosAitisis&&this.model.platosAitisis&&(this.model.embadonAitisis=this.model.mikosAitisis*this.model.platosAitisis,(0,o.Er)(this.cdr))}onSubmit(){this.isFormSubmitted=!0,this.formErrorsMsg=null,this.isFormSubmitted&&this.createAitisiForm.valid?this.confirmationSrv.confirm({message:"\u039a\u03b1\u03c4\u03ac \u03c4\u03b7 \u03b4\u03b7\u03bc\u03b9\u03bf\u03c5\u03c1\u03b3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b1\u03af\u03c4\u03b7\u03c3\u03ae\u03c2 \u03c3\u03b1\u03c2 \u03b1\u03c5\u03c4\u03ae \u03b8\u03b1 \u03c0\u03ac\u03c1\u03b5\u03b9 \u03b1\u03c5\u03c4\u03cc\u03bc\u03b1\u03c4\u03b1 \u03b1\u03c1. \u03c0\u03c1\u03c9\u03c4\u03bf\u03ba\u03cc\u03bb\u03bb\u03bf\u03c5.<br/>\u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5;",accept:()=>{this.isLoading=!0,this.model.etos=this.model.apo.getFullYear(),this.model.hmniaAitisis=(0,o.M5)(new Date(this.model.hmniaAitisis)),this.model.apo=(0,o.M5)(new Date(this.model.apo)),this.model.eos=(0,o.M5)(new Date(this.model.eos)),this.model.userEponimia=`${this.userInfo.family_name} ${this.userInfo.name} ${this.userInfo.fathers_name} ${this.userInfo.mothers_name}`,this.model.userAfm=this.userInfo.tin,(0,o.Er)(this.cdr),this.aitiseisKoinoxristonNgSrv.koinAitisiWebCreate(this.model).subscribe(i=>{i&&(this.toasterSrv.showSuccess("","\u0397 \u03b1\u03af\u03c4\u03b7\u03c3\u03ae \u03c3\u03b1\u03c2 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03b8\u03b7\u03ba\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03ce\u03c2. \u039c\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03c4\u03b5\u03af\u03c4\u03b5 \u03bc\u03ad\u03c7\u03c1\u03b9 \u03bd\u03b1 \u03b5\u03bb\u03b5\u03b3\u03c7\u03b8\u03b5\u03af \u03b1\u03c0\u03cc \u03c4\u03bf \u0394\u03ae\u03bc\u03bf."),this.reloadData.emit(!0)),this.isLoading=!1,(0,o.Er)(this.cdr)})},reject:()=>{}}):(this.formErrorsMsg=(0,o.SG)(this.createAitisiForm,this.formDictionaryEnum,""),(0,o.Er)(this.cdr))}_initDataForEdit(){this.model.apo=this.model.apo?new Date(this.model.apo):null,this.model.eos=this.model.eos?new Date(this.model.eos):null,this.model.hmniaAitisis=this.model.hmniaAitisis?new Date(this.model.hmniaAitisis):null,this.onEidosAdeiasChanged(),(0,o.Er)(this.cdr)}static#t=this.\u0275fac=function(n){return new(n||e)(t.GI1(w),t.GI1(o.y6),t.GI1(k.EV),t.GI1(t.kD9))};static#i=this.\u0275cmp=t.In1({type:e,selectors:[["app-koin-aitiseis-create"]],viewQuery:function(n,s){if(1&n&&t.CC$(Q,5),2&n){let a;t.wto(a=t.Gqi())&&(s.createAitisiForm=a.first)}},inputs:{epixeirisiInfo:"epixeirisiInfo",aitisi:"aitisi",userInfo:"userInfo",selectedLang:"selectedLang",translation:"translation"},outputs:{closeCreate:"closeCreate",reloadData:"reloadData"},features:[t.M5G([k.EV])],decls:9,vars:4,consts:[[3,"condition","customClass"],[1,"form"],["createAitisiForm","ngForm"],[4,"ngIf"],["header","\u03a0\u03a1\u039f\u03a3\u039f\u03a7\u0397","icon","pi pi-exclamation-triangle","appendTo","body","baseZIndex","2020","autoZIndex","false",3,"blockScroll"],["confirmDialog",""],["type","button","pButton","","icon","pi pi-check","label","\u039d\u0391\u0399","aria-label","\u039d\u0391\u0399",1,"btn","btn-sm","btn-primary",3,"click"],["type","button","pButton","","icon","pi pi-times","label","\u039f\u03a7\u0399","aria-label","\u039f\u03a7\u0399",1,"btn","btn-sm","btn-danger",3,"click"],[1,"row"],["class","form-group col-12",4,"ngIf"],["class","form-group col-12",3,"ngClass",4,"ngIf"],["severity","error",3,"styleClass","escape","text",4,"ngIf"],[1,"form-actions","d-flex","flex-wrap"],["type","button",1,"btn","btn-primary","mb-0","me-1",3,"click"],[1,"far","fa-save","fa-fw"],["type","button",1,"btn","btn-warning","mb-0",3,"click"],[1,"fas","fa-times","fa-fw"],[1,"form-group","col-12"],["name","epixeirisiId","bindLabel","displayLabel","bindValue","epixirisiId","required","",1,"ontop-select",3,"appendTo","virtualScroll","items","ngModel","ngModelChange"],[1,"validation-msg","text-danger","pt-1",3,"hidden"],[1,"form-group","col-12",3,"ngClass"],["name","eidosAdeias","bindLabel","description","bindValue","id","required","",1,"ontop-select",3,"appendTo","virtualScroll","items","ngModel","ngModelChange"],["class","form-group col-12 col-md-6",4,"ngIf"],[1,"form-group","col-12","col-md-6"],["name","timologio","bindLabel","description","bindValue","id","required","",1,"ontop-select",3,"appendTo","searchable","virtualScroll","items","ngModel","ngModelChange"],[1,"form-group","col-12","col-md-3"],[1,"row","m-0"],[1,"col-2","p-0"],["name","posotitaPeriodou","placeholder","1","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-10","p-0"],["name","xreosiAna","placeholder","\u0395\u03a4\u039f\u03a3","type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["name","apo","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body","required","",3,"baseZIndex","firstDayOfWeek","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","touchUI","ngModel","ngModelChange"],["name","eos","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body","required","",3,"baseZIndex","firstDayOfWeek","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","touchUI","ngModel","ngModelChange"],["name","dieuthinsi","placeholder","\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7","type","text","disabled","","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","mikosAitisis","placeholder","0,00","type","text","currencyMask","","lang","el-GR","autocomplete","off",1,"form-control",3,"options","ngModel","required","disabled","ngModelChange"],["name","platosAitisis","placeholder","0,00","type","text","currencyMask","","lang","el-GR","autocomplete","off",1,"form-control",3,"options","ngModel","required","disabled","ngModelChange"],["name","embadonAitisis","placeholder","0,00","type","text","currencyMask","","lang","el-GR",1,"form-control",3,"options","ngModel","disabled","required","ngModelChange"],["name","posotitaAitisis","placeholder","10","type","text",1,"form-control",3,"ngModel","required","disabled","ngModelChange"],["severity","error",3,"styleClass","escape","text"]],template:function(n,s){if(1&n){const a=t.KQA();t.wR5(0,"eg-loading",0),t.I0R(1,"form",1,2),t.yuY(3,dt,16,12,"ng-container",3),t.C$Y(),t.I0R(4,"p-confirmDialog",4,5)(6,"p-footer")(7,"button",6),t.qCj("click",function(){t.usT(a);const c=t.Gew(5);return t.CGJ(c.accept())}),t.C$Y(),t.I0R(8,"button",7),t.qCj("click",function(){t.usT(a);const c=t.Gew(5);return t.CGJ(c.reject())}),t.C$Y()()()}2&n&&(t.E7m("condition",s.isLoading)("customClass","egr-load-small"),t.yG2(3),t.E7m("ngIf",!s.isLoading&&s.model),t.yG2(),t.E7m("blockScroll",!0))},dependencies:[u.QF,u.u_,g.sz,g.ot,g.ue,g.u,g.eJ,g._G,g.SC,k.Go,F.c,z.A9,A.S,$.Yf,O.Mb,K.UT,o.uU,f.sD],encapsulation:2,changeDetection:0})}return e})(),N=(()=>{class e{constructor(i,n,s,a,d,c,x){if(this.aitiseisKoinoxristonNgSrv=i,this.paymentSrv=n,this.toasterSrv=s,this.cookieSrv=a,this._http=d,this.route=c,this.cdr=x,this.reloadData=!1,this.selectedLang="el",this.editAitisi=new t._w7,this.aitiseis=[],this.onDestroy=new b.E,this.paymentRequestDto=void 0,this.onDoPaymentSubject=new b.E,this.requestObs=[],this.initPaymentMethods=!1,this.isLoading=!1,this.isLoadingResponse=!1,this.isAllDebitsChecked=!1,this.calculatedChecked={countChecked:0,countText:"\u03b1\u03b9\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2",checkedSinolo:0},this.applicationUrl=(0,o.sF)(AppConfOptions.applicationUrl),typeof AuthConfOptions<"u"&&typeof AppConfOptions<"u"&&"katastimata_api"in AppConfOptions&&("epayments_api"in AppConfOptions||"finance_api"in AppConfOptions)){let C=(0,o.w1)(AppConfOptions.finance_api)?(0,o.w1)(AppConfOptions.epayments_api)?null:(0,o.sF)(AppConfOptions.epayments_api):(0,o.sF)(AppConfOptions.finance_api);this.govPaymentGatewayApiUrl=(0,o.w1)(AppConfOptions.gov_payment_gateway_api)?C:(0,o.sF)(AppConfOptions.gov_payment_gateway_api),this.relatedCallbackUrl=encodeURI((0,o.sF)(this.applicationUrl)+"/koinoxristoi/istoriko-pliromon")}else{let C=(0,o.sF)(AppConfOptions.financeApi);this.govPaymentGatewayApiUrl=(0,o.w1)(AppConfOptions.govPaymentGatewayApi)?C:(0,o.sF)(AppConfOptions.govPaymentGatewayApi),this.relatedCallbackUrl=encodeURI((0,o.sF)(this.applicationUrl)+"/plugin/aitiseis-koinoxriston/istoriko-pliromon")}}ngOnInit(){(0,D.E)([this.aitiseisKoinoxristonNgSrv.translation$,this.aitiseisKoinoxristonNgSrv.selectedLang$]).pipe((0,I.a)(this.onDestroy)).subscribe(i=>{i&&(this.translation=i[0]?i[0]:null,this.selectedLang=i[1]?i[1]:null,(0,o.Er)(this.cdr)),this.cookieSrv.get("selectedLang")?this.selectedLang=this.cookieSrv.get("selectedLang"):(this.selectedLang="el",this.cookieSrv.set("selectedLang",this.selectedLang))}),this._loadData()}ngOnChanges(i){i&&i.reloadData&&(this.reloadData=i.reloadData.currentValue,this.reloadData&&(this.reloadData=!1,this.aitiseis=[],this._loadData()))}ngOnDestroy(){this.onDestroy.next(null)}onAllDebitsSelected(){this.aitiseis.forEach(i=>{1==i.katastasiId&&(i.isChecked=this.isAllDebitsChecked)}),(0,o.Er)(this.cdr),this._calculateTotalAmounts()}onCreatePaymentRequest(i){this.isLoadingResponse=!0,this.initPaymentMethods=!0,this.isLoadingResponse=!0,this.paymentRequestDto=void 0,this.paymentResponseDto=void 0,this.requestObs=[],(0,o.Er)(this.cdr),this.paymentRequestDto=this._createPaymentRequest(this.aitiseis,i);let n=null!=this.paymentRequestDto&&null!=this.paymentRequestDto.entries&&this.paymentRequestDto.entries.length>0;(0,o.w1)(this.paymentRequestDto.userEmail)?n?(this.toasterSrv.showWarning("","\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03c4\u03bf email \u03c3\u03b1\u03c2 \u03c3\u03c4\u03b7 \u03c3\u03b5\u03bb\u03af\u03b4\u03b1 \u03c4\u03bf\u03c5 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb \u03c3\u03b1\u03c2."),this.isLoadingResponse=!1,(0,o.Er)(this.cdr)):(this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 \u03b1\u03b9\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c0\u03c1\u03c2\u03bf\u03c2 \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2."),this.isLoadingResponse=!1,(0,o.Er)(this.cdr)):this.paymentSrv.addPaymentRequest(this.govPaymentGatewayApiUrl,this.paymentRequestDto).subscribe(s=>{s?(this.paymentResponseDto=s,this.onDoPaymentSubject.next(this.paymentResponseDto)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2."),this.isLoadingResponse=!1,(0,o.Er)(this.cdr)})}_loadData(){this.isLoading=!0,(0,o.Er)(this.cdr);let i=[this.aitiseisKoinoxristonNgSrv.getKoinAitiseisWebPending(this.epixeirisiInfo[0].ofeiletisAfm),this.aitiseisKoinoxristonNgSrv.getKoinAitiseisWebToPay(this.epixeirisiInfo[0].ofeiletisAfm)];(0,J.y)(i).subscribe(n=>{n&&(this.aitiseis=n[0]?[...this.aitiseis,...n[0]]:this.aitiseis,this.aitiseis=n[1]?[...this.aitiseis,...n[1]]:this.aitiseis,this.epixeirisiInfo&&this.epixeirisiInfo.length&&this.aitiseis&&this.aitiseis.length&&this.aitiseis.forEach(s=>{s.diakritikosTitlos=this.epixeirisiInfo.find(a=>a.epixirisiId==s.epixirisiId).eponimia})),this.isLoading=!1,(0,o.Er)(this.cdr)})}_calculateTotalAmounts(){let i=0,n=0,s="\u03b1\u03b9\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2";this.aitiseis.forEach(a=>{a.isChecked&&(n++,i+=a.sinolikoPoso)}),s=1==n?"\u03b1\u03af\u03c4\u03b7\u03c3\u03b7":"\u03b1\u03b9\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2",this.calculatedChecked={countChecked:n,countText:s,checkedSinolo:i},(0,o.Er)(this.cdr)}_createPaymentRequest(i,n){let s={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:n.key,entries:[]};"PIRBGRAA"===n.key&&(s.billingAddressCountryCode=null);let a=i.filter(d=>d.isChecked);return a&&a.length&&a.forEach(d=>{let c=this.epixeirisiInfo.find(C=>C.epixirisiId==d.epixirisiId).ofeiletisEponimia;s.entries.push({remittanceInfo:d.paymentCode,amount:+d.paymentAmount,debtorName:c,tin:this.userInfo.tin,description:d.paymentCaption,metadata:null})}),s}static#t=this.\u0275fac=function(n){return new(n||e)(t.GI1(w),t.GI1(o.U5),t.GI1(o.y6),t.GI1(o.q4),t.GI1(y.KK),t.GI1(h.gV),t.GI1(t.kD9))};static#i=this.\u0275cmp=t.In1({type:e,selectors:[["app-koin-aitiseis-list"]],inputs:{epixeirisiInfo:"epixeirisiInfo",userInfo:"userInfo",reloadData:"reloadData",selectedLang:"selectedLang",translation:"translation"},outputs:{editAitisi:"editAitisi"},features:[t.SYr],decls:10,vars:11,consts:[["class","debits-info__selected-debits",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","footer"],["selectedDebits",""],[1,"debits-info__selected-debits"],[4,"ngTemplateOutlet"],[1,"d-flex","align-items-center"],[1,"w-100"],[1,"me-1"],[1,"fas","fa-stop-circle","fa-fw","eidos-5"],[1,"fas","fa-stop-circle","fa-fw","eidos-2"],[1,"fixed-width-col-60"],[1,"fixed-width-col-40","text-center"],[3,"binary","ngModel","ngModelChange","onChange"],["pSortableColumn","hmniaAitisis",1,"fixed-width-col-140"],["field","hmniaAitisis"],[1,"fixed-width-col-100"],[1,"fixed-width-col-150"],[1,"fixed-width-col-200"],["alignFrozen","right","pFrozenColumn","",1,"fixed-width-col-100",3,"frozen"],[1,"fixed-width-col-60","text-center"],[4,"ngIf"],[1,"p-column-title"],[3,"binary","ngModel","disabled","ngModelChange","onChange"],[1,"fixed-width-col-140","text-center"],[1,"fixed-width-col-200","text-center"],[1,"fixed-width-col-150","text-end"],["alignFrozen","right","pFrozenColumn","",1,"fixed-width-col-100","text-center",3,"frozen"],["class","btn btn-primary btn-sm mb-0","type","button","aria-label","\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0391\u03af\u03c4\u03b7\u03c3\u03b7\u03c2",3,"click",4,"ngIf"],[1,"fas","fa-stop-circle","fa-fw","eidos-3"],["type","button","aria-label","\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0391\u03af\u03c4\u03b7\u03c3\u03b7\u03c2",1,"btn","btn-primary","btn-sm","mb-0",3,"click"],[1,"fas","fa-edit","fa-fw"],["colspan","11"],[1,"debits-info","d-flex","flex-wrap","justify-content-around","w-100","align-items-center","mb-1"],[1,"mb-0"],[1,"totalPoso"],[3,"isPaymentFormValid","doPaymentSubscription","govPaymentGatewayApiUrl","buttonText","payBtnClick"]],template:function(n,s){1&n&&(t.yuY(0,ct,2,1,"div",0),t.I0R(1,"p-table",1),t.yuY(2,pt,13,9,"ng-template",2)(3,mt,32,27,"ng-template",3)(4,It,60,63,"ng-template",4)(5,At,4,3,"ng-template",5)(6,xt,5,4,"ng-template",6),t.C$Y(),t.yuY(7,Gt,2,1,"div",0)(8,Et,15,20,"ng-template",null,7,t.gJz)),2&n&&(t.E7m("ngIf",s.calculatedChecked.countChecked>0&&!s.isLoading),t.yG2(),t.E7m("value",s.aitiseis)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",s.isLoading)("totalRecords",null==s.aitiseis?null:s.aitiseis.length),t.yG2(6),t.E7m("ngIf",s.calculatedChecked.countChecked>0&&!s.isLoading))},dependencies:[u.u_,u.XV,g.ue,g._G,k.U3,_.oJ,_.E5,_._E,_.q4,P.yw,o.CG,u.hl,u.cf,u.y,f.sD],styles:["[_ngcontent-%COMP%]:root{--eidos-1: #1E90FF;--eidos-2: #2E8B57;--eidos-3: #DC143C;--eidos-4: #CD919E;--eidos-5: #EEC900;--eidos-6: #912CEE;--eidos-7: #80A980}.fixed-width-col-40[_ngcontent-%COMP%]{width:40px!important;min-width:40px!important}.fixed-width-col-100[_ngcontent-%COMP%]{width:100px!important;min-width:100px!important}.fixed-width-col-140[_ngcontent-%COMP%]{width:140px!important;min-width:140px!important}.fixed-width-col-150[_ngcontent-%COMP%]{width:150px!important;min-width:150px!important}.fixed-width-col-200[_ngcontent-%COMP%]{width:200px!important;min-width:200px!important}.eidos-1[_ngcontent-%COMP%]{color:var(--eidos-1)}.eidos-2[_ngcontent-%COMP%]{color:var(--eidos-2)}.eidos-3[_ngcontent-%COMP%]{color:var(--eidos-3)}.eidos-4[_ngcontent-%COMP%]{color:var(--eidos-4)}.eidos-5[_ngcontent-%COMP%]{color:var(--eidos-5)}.eidos-6[_ngcontent-%COMP%]{color:var(--eidos-6)}.eidos-7[_ngcontent-%COMP%]{color:var(--eidos-7)}.bg-eidos-1[_ngcontent-%COMP%]{background-color:var(--eidos-1)!important}.bg-eidos-2[_ngcontent-%COMP%]{background-color:var(--eidos-2)!important}.bg-eidos-3[_ngcontent-%COMP%]{background-color:var(--eidos-3)!important}.bg-eidos-4[_ngcontent-%COMP%]{background-color:var(--eidos-4)!important}.bg-eidos-5[_ngcontent-%COMP%]{background-color:var(--eidos-5)!important}.bg-eidos-6[_ngcontent-%COMP%]{background-color:var(--eidos-6)!important}.bg-eidos-7[_ngcontent-%COMP%]{background-color:var(--eidos-7)!important}"],changeDetection:0})}return e})(),Jt=(()=>{class e{constructor(i,n,s){this.http=i,this.sanitizer=n,this.toasterSrv=s}transform(i){return this.http.get(i,{responseType:"blob"}).pipe((0,p.k)(n=>this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(n))),(0,m.a)(n=>(0,o.Og)(n,this.toasterSrv)))}static#t=this.\u0275fac=function(n){return new(n||e)(t.GI1(y.KK,16),t.GI1(H.mI,16),t.GI1(o.y6,16))};static#i=this.\u0275pipe=t.UTH({name:"securePlg",type:e,pure:!0})}return e})(),X=(()=>{class e{constructor(i,n,s,a,d){if(this.aitiseisKoinoxristonNgSrv=i,this.egPaymentSrv=n,this._http=s,this.route=a,this.cdr=d,this.selectedLang="el",this.editAitisi=new t._w7,this.onDestroy=new b.E,this.aitiseis=[],this.isLoading=!1,this.applicationUrl=(0,o.sF)(AppConfOptions.applicationUrl),typeof AuthConfOptions<"u"&&typeof AppConfOptions<"u"&&"katastimata_api"in AppConfOptions&&("epayments_api"in AppConfOptions||"finance_api"in AppConfOptions)){let c=(0,o.w1)(AppConfOptions.finance_api)?(0,o.w1)(AppConfOptions.epayments_api)?null:(0,o.sF)(AppConfOptions.epayments_api):(0,o.sF)(AppConfOptions.finance_api);this.govPaymentGatewayApiUrl=(0,o.w1)(AppConfOptions.gov_payment_gateway_api)?c:(0,o.sF)(AppConfOptions.gov_payment_gateway_api),this.katastimataApiUrl=(0,o.sF)(AppConfOptions.katastimata_api)}else{let c=(0,o.sF)(AppConfOptions.financeApi);this.govPaymentGatewayApiUrl=(0,o.w1)(AppConfOptions.govPaymentGatewayApi)?c:(0,o.sF)(AppConfOptions.govPaymentGatewayApi),this.katastimataApiUrl=(0,o.sF)(AppConfOptions.applicationUrl)}}ngOnInit(){this.egPaymentSrv.getBankMessages(this.govPaymentGatewayApiUrl).pipe((0,M.G)(i=>i?(this.oikonomikiBankMessages=i,this.route.queryParams.pipe((0,I.a)(this.onDestroy))):(0,S.of)(!1))).subscribe(i=>{if(i){let s=i.messagecode,a=i.btId;if(s)if(this.bankStatusMessage=this.oikonomikiBankMessages[s],"TRANSACTION_COMPLETED"==s){if(this.bankStatusMessageClass="success",a){let d=new Xt;d.bankTransactionId=a,this.aitiseisKoinoxristonNgSrv.markKoinAitisiWebExoflisi(d).subscribe(()=>{this._loadData()})}}else this.bankStatusMessageClass="error"}(0,o.Er)(this.cdr)}),this._loadData()}ngOnDestroy(){this.onDestroy.next(null)}onEditKoinoxristos(i){this.editAitisi.emit(i)}_loadData(){this.isLoading=!0,this.totalSum=0,(0,o.Er)(this.cdr),this.aitiseisKoinoxristonNgSrv.getKoinAitiseisWebPayed(this.epixeirisiInfo[0].ofeiletisAfm).subscribe(i=>{i&&(this.aitiseis=i,this.epixeirisiInfo&&this.epixeirisiInfo.length&&this.aitiseis&&this.aitiseis.length&&this.aitiseis.forEach(n=>{this.epixeirisiInfo.some(a=>a.epixirisiId==n.epixirisiId)&&(n.diakritikosTitlos=this.epixeirisiInfo.find(a=>a.epixirisiId==n.epixirisiId).eponimia,this.totalSum+=n.sinolikoPoso)})),this.isLoading=!1,(0,o.Er)(this.cdr)})}static#t=this.\u0275fac=function(n){return new(n||e)(t.GI1(w),t.GI1(o.U5),t.GI1(y.KK),t.GI1(h.gV),t.GI1(t.kD9))};static#i=this.\u0275cmp=t.In1({type:e,selectors:[["app-koin-aitiseis-istoriko-pliromon"]],inputs:{epixeirisiInfo:"epixeirisiInfo",selectedLang:"selectedLang",translation:"translation"},outputs:{editAitisi:"editAitisi"},decls:6,vars:10,consts:[[3,"severity","text","styleClass",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","footer"],[3,"severity","text","styleClass"],["pSortableColumn","id",1,"fixed-width-col-100"],["field","id"],["class","fixed-width-col-200",4,"ngIf"],["pSortableColumn","hmniaAitisis",1,"fixed-width-col-150"],["field","hmniaAitisis"],[1,"fixed-width-col-100"],[1,"fixed-width-col-150"],[1,"fixed-width-col-200"],[1,"fixed-width-col-100","text-end"],[1,"p-column-title"],[1,"fixed-width-col-150","text-center"],[1,"fixed-width-col-200","text-center"],[1,"fixed-width-col-150","text-end"],[4,"ngIf"],[1,"fixed-width-col-100","text-center"],["class","btn btn-sm btn-outline-info m-0 me-1","type","button",3,"href","download",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-info","m-0","me-1",3,"href","download"],[1,"fas","fa-download"],["colspan","9"],[3,"ngClass"],[1,"fixed-width-col-250"]],template:function(n,s){1&n&&(t.yuY(0,Ot,1,3,"p-message",0),t.I0R(1,"p-table",1),t.yuY(2,Rt,31,28,"ng-template",2)(3,Yt,52,56,"ng-template",3)(4,Ft,4,3,"ng-template",4)(5,$t,10,19,"ng-template",5),t.C$Y()),2&n&&(t.E7m("ngIf",s.bankStatusMessage),t.yG2(),t.E7m("value",s.aitiseis)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",s.isLoading)("totalRecords",null==s.aitiseis?null:s.aitiseis.length))},dependencies:[u.QF,u.u_,k.U3,_.oJ,_.E5,_.q4,A.S,u.a,u.hl,u.cf,u.y,f.sD,Jt],styles:[".fixed-width-col-100[_ngcontent-%COMP%]{width:100px!important;min-width:100px!important}.fixed-width-col-150[_ngcontent-%COMP%]{width:150px!important;min-width:150px!important}.fixed-width-col-200[_ngcontent-%COMP%]{width:200px!important;min-width:200px!important}.fixed-width-col-1100[_ngcontent-%COMP%]{width:1000px!important;min-width:1000px!important}.fixed-width-col-1200[_ngcontent-%COMP%]{width:1200px!important;min-width:1200px!important}"],changeDetection:0})}return e})(),q=(()=>{class e{constructor(i,n,s,a,d,c,x,C){this.aitiseisKoinoxristonNgSrv=i,this.toasterSrv=n,this.translateSrv=s,this.config=a,this.cdr=d,this._http=c,this.router=x,this.route=C,this.selectedLang="el",this.countriesList=[],this.onDestroy=new b.E,this.reloadData=!1,this.index=0,this.isLoading=!0,this.isModalOpen=!1,this.epixeirisiNotFound=!1}ngOnInit(){this.selectedLang=this.selectedLang?this.selectedLang:"el",this.isLoading=!0,(0,o.Er)(this.cdr),this.translateSrv.getTranslation(this.selectedLang?this.selectedLang:"el").subscribe(i=>{this.translation??=i,this.aitiseisKoinoxristonNgSrv.translationSubject.next(i)}),this.aitiseisKoinoxristonNgSrv.initUserInfo(),this.aitiseisKoinoxristonNgSrv.userInfo$.pipe((0,M.G)(i=>{if(i){if(this.userInfo=i,typeof AppConfOptions<"u"&&"stsServer"in AppConfOptions){let n=(0,o.sF)(AppConfOptions.stsServer);return this._http.get(n+"/api/general/GetCountries")}if(typeof AuthConfOptions<"u"&&"stsServer"in AuthConfOptions){let n=(0,o.sF)(AuthConfOptions.stsServer);return this._http.get(n+"/api/general/GetCountries")}return this._http.get("https://auth.dev.egritosgroup.gr/api/general/GetCountries")}return(0,S.of)(!1)}),(0,I.a)(this.onDestroy)).subscribe(i=>{i&&(this.countriesList=i,this.userInfo.address_country_code&&""!=this.userInfo.address_country_code&&(this.userInfo.address_country_num=this.countriesList.find(n=>n.Alpha2Code==this.userInfo.address_country_code).NumericCode.toString()),this.userInfo.email=(0,o.w1)(this.userInfo.email)?this.userInfo.email:this.userInfo.email.trim(),this.userInfo.username=(0,o.w1)(this.userInfo.username)?this.userInfo.username:this.userInfo.username.trim(),this.userInfo.tin=(0,o.w1)(this.userInfo.tin)?this.userInfo.tin:this.userInfo.tin.trim(),this.userInfo.family_name=(0,o.w1)(this.userInfo.family_name)?this.userInfo.family_name:this.userInfo.family_name.trim(),this.userInfo.given_name=(0,o.w1)(this.userInfo.given_name)?this.userInfo.given_name:this.userInfo.given_name.trim(),this.userInfo.fathers_name=(0,o.w1)(this.userInfo.fathers_name)?this.userInfo.fathers_name:this.userInfo.fathers_name.trim(),this.userInfo.mothers_name=(0,o.w1)(this.userInfo.mothers_name)?this.userInfo.mothers_name:this.userInfo.mothers_name.trim(),this.userInfo.name=(0,o.w1)(this.userInfo.name)?this.userInfo.name:this.userInfo.name.trim(),this.userInfo.address_city=(0,o.w1)(this.userInfo.address_city)?this.userInfo.address_city:this.userInfo.address_city.trim(),this.userInfo.address_country_code=(0,o.w1)(this.userInfo.address_country_code)?this.userInfo.address_country_code:this.userInfo.address_country_code.trim(),this.userInfo.address_country_num=(0,o.w1)(this.userInfo.address_country_num)?this.userInfo.address_country_num:this.userInfo.address_country_num.trim(),this.userInfo.address_zip=(0,o.w1)(this.userInfo.address_zip)?this.userInfo.address_zip:this.userInfo.address_zip.trim(),this.userInfo.address=(0,o.w1)(this.userInfo.address)?this.userInfo.address:this.userInfo.address.trim(),this.userInfo.adt=(0,o.w1)(this.userInfo.adt)?this.userInfo.adt:this.userInfo.adt.trim(),this.userInfo.phone_number=(0,o.w1)(this.userInfo.phone_number)?this.userInfo.phone_number:this.userInfo.phone_number.trim()),this.router.url.includes("istoriko-pliromon")?this.index=0:this.router.url.includes("list")&&(this.index=1),(0,o.Er)(this.cdr)}),this.aitiseisKoinoxristonNgSrv.getEpixeirisiInfo(this.userInfo.tin).subscribe(i=>{i?this.epixeirisiInfo=i:this.epixeirisiNotFound=!0,this.isLoading=!1,(0,o.Er)(this.cdr)})}ngOnChanges(i){i&&i.selectedLang&&(this.selectedLang=i.selectedLang.currentValue?i.selectedLang.currentValue:"el",this.translateSrv.getTranslation(this.selectedLang?this.selectedLang:"el").subscribe(n=>{this.translation??=n,(0,o.Er)(this.cdr),this.aitiseisKoinoxristonNgSrv.translationSubject.next(n)}))}ngOnDestroy(){this.onDestroy.next(null)}onTabChanged(i){0==i.index?this.router.navigate(["./istoriko-pliromon"],{relativeTo:this.route,queryParamsHandling:"preserve"}):this.router.navigate(["./list"],{relativeTo:this.route.parent})}onEditAitisi(i){i&&i.id&&(this.selectedAitisi=i,this.isModalOpen=!0,(0,o.Er)(this.cdr))}static#t=this.\u0275fac=function(n){return new(n||e)(t.GI1(w),t.GI1(o.y6),t.GI1(f.qS),t.GI1(k.MV),t.GI1(t.kD9),t.GI1(y.KK),t.GI1(h.E5),t.GI1(h.gV))};static#i=this.\u0275cmp=t.In1({type:e,selectors:[["lib-koin-aitiseis-ng"]],inputs:{selectedLang:"selectedLang"},features:[t.SYr],decls:10,vars:21,consts:[["severity","error",3,"text",4,"ngIf"],[3,"condition","customClass"],[4,"ngIf"],["appendTo","body","resizable","false","modal","true",3,"header","visible","draggable","closable","visibleChange"],[3,"epixeirisiInfo","aitisi","userInfo","selectedLang","translation","closeCreate","reloadData",4,"ngIf"],["severity","error",3,"text"],[1,"mb-3","py-1","d-flex","flex-wrap"],["class","m-0 me-1 d-inline-flex align-items-center eponimia-title",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm","m-0","ms-auto",3,"click"],["aria-hidden","true",1,"fas","fa-plus"],[3,"activeIndex","onChange"],[3,"header"],[3,"epixeirisiInfo","selectedLang","translation","editAitisi"],[3,"epixeirisiInfo","userInfo","reloadData","selectedLang","translation","editAitisi"],[1,"m-0","me-1","d-inline-flex","align-items-center","eponimia-title"],[3,"epixeirisiInfo","aitisi","userInfo","selectedLang","translation","closeCreate","reloadData"]],template:function(n,s){1&n&&(t.yuY(0,Kt,2,3,"p-message",0),t.wVc(1,"async"),t.yuY(2,Pt,2,3,"p-message",0),t.wR5(3,"eg-loading",1),t.yuY(4,Bt,14,19,"ng-container",2),t.wVc(5,"async"),t.I0R(6,"p-dialog",3),t.iHE("visibleChange",function(d){return t.kNx(s.isModalOpen,d)||(s.isModalOpen=d),d}),t.wVc(7,"translate"),t.wVc(8,"translate"),t.yuY(9,Vt,1,5,"app-koin-aitiseis-create",4),t.C$Y()),2&n&&(t.E7m("ngIf",!t.kDX(1,12,s.aitiseisKoinoxristonNgSrv.userInfo$)),t.yG2(2),t.E7m("ngIf",!s.epixeirisiInfo&&!s.isLoading),t.yG2(),t.E7m("condition",s.isLoading)("customClass","egr-load-small"),t.yG2(),t.E7m("ngIf",t.kDX(5,14,s.aitiseisKoinoxristonNgSrv.userInfo$)&&s.epixeirisiInfo&&!s.isLoading),t.yG2(2),t.m_g(t.q4q(20,Ut)),t.E7m("header",s.selectedAitisi?t.kDX(7,16,null==s.translation?null:s.translation.katastimata.editApplication):t.kDX(8,18,null==s.translation?null:s.translation.katastimata.createApplication)),t.OKB("visible",s.isModalOpen),t.E7m("draggable",!1)("closable",!0),t.yG2(3),t.E7m("ngIf",s.isModalOpen))},dependencies:[u.u_,E.DX,E.Gk,Y.C,A.S,o.uU,jt,N,X,u.a,f.sD],encapsulation:2,changeDetection:0})}return e})();const zt=[{path:"",component:q,children:[{path:"",pathMatch:"full",redirectTo:"istoriko-pliromon"},{path:"istoriko-pliromon",component:X},{path:"list",component:N}]}];let Ht=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#i=this.\u0275mod=t.a4G({type:e});static#e=this.\u0275inj=t.s3X({imports:[h.qQ.forChild(zt),h.qQ]})}return e})();const Wt={align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."};let j=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#i=this.\u0275mod=t.a4G({type:e});static#e=this.\u0275inj=t.s3X({providers:[{provide:O.Ku,useValue:Wt}],imports:[u.MD,g.y,Ht,E.Y1,F.Y,_.q0,P.Q1,Y.k,A.e,L.Y,W.W,$.a6,O.k1,K.gb,o.qU,o.CQ,f.O0.forRoot({defaultLanguage:"el",loader:{provide:f._E,useClass:o.xU,deps:[y.KK]}})]})}return e})();var Qt=r(4864),Zt=r(5265),ti=r(9161),ii=r(2656);function ei(e,l){if(1&e&&t.wR5(0,"p-message",3),2&e){const i=t.GaO();t.E7m("text",null==i.translation?null:i.translation.egwebapps.egwebappsLoginMesg)}}function ni(e,l){if(1&e&&(t.I0R(0,"p-panel",6),t.wR5(1,"div",7),t.wVc(2,"decodeHtmlString"),t.C$Y()),2&e){const i=t.GaO(2);t.E7m("header",null==i.translation?null:i.translation.egwebapps.information)("styleClass","tab-msg mb-3")("toggleable",!0),t.yG2(),t.E7m("innerHTML",t.kDX(2,4,i.tabMsg),t.E3n)}}function si(e,l){if(1&e&&t.wR5(0,"lib-koin-aitiseis-ng",8),2&e){const i=t.GaO(2);t.E7m("selectedLang",i.selectedLang)}}function oi(e,l){if(1&e&&(t.SAx(0),t.yuY(1,ni,3,6,"p-panel",4)(2,si,1,1,"lib-koin-aitiseis-ng",5),t.k70()),2&e){const i=t.GaO();t.yG2(),t.E7m("ngIf",i.tabMsg),t.yG2(),t.E7m("ngIf",i.isAuthorized)}}const ai=[{path:"",component:(()=>{class e{constructor(i,n,s){this.cookieService=i,this.appCacheSrv=n,this.cdr=s,this.onDestroy=new b.E,this.afmNotFound=!1,this.selectedLang="el"}ngOnInit(){let i;(0,D.E)([this.appCacheSrv.translation$,this.appCacheSrv.selectedLang$]).pipe((0,I.a)(this.onDestroy)).subscribe(n=>{n&&(this.translation=n[0],this.selectedLang=n[1],this.selectedLang&&(1==AppConfOptions.multilingual&&"el"!=this.selectedLang&&AppConfOptions.koinoxristoi_tab_info_en&&""!=AppConfOptions.koinoxristoi_tab_info_en?this.tabMsg=AppConfOptions.koinoxristoi_tab_info_en:AppConfOptions.koinoxristoi_tab_info&&""!=AppConfOptions.koinoxristoi_tab_info&&"el"==this.selectedLang&&(this.tabMsg=AppConfOptions.koinoxristoi_tab_info)),(0,o.Er)(this.cdr))});for(let n=0;n<window.sessionStorage.length;n++)window.sessionStorage.key(n).includes("authzData")&&(i=window.sessionStorage.getItem(window.sessionStorage.key(n)).replace(/"/g,""));"true"==window.sessionStorage.getItem("_isAuthorized")&&(this.isAuthorized=!0,i&&""!=i&&this.cookieService.set("koinoxristoi-egritos-token",i)),this.appCacheSrv.user$.pipe((0,I.a)(this.onDestroy)).subscribe(n=>{this.afmNotFound=!1,(0,o.Er)(this.cdr),n&&(0,o.w1)(n.tin)&&AppConfOptions.koinoxristoi_afm_required&&(this.afmNotFound=!0),(0,o.Er)(this.cdr)})}ngOnDestroy(){this.onDestroy.next(null)}static#t=this.\u0275fac=function(n){return new(n||e)(t.GI1(o.q4),t.GI1(ti.i),t.GI1(t.kD9))};static#i=this.\u0275cmp=t.In1({type:e,selectors:[["app-koinoxristoi"]],decls:4,vars:3,consts:[[1,"module-title"],["severity","warn",3,"text",4,"ngIf"],[4,"ngIf"],["severity","warn",3,"text"],[3,"header","styleClass","toggleable",4,"ngIf"],[3,"selectedLang",4,"ngIf"],[3,"header","styleClass","toggleable"],[3,"innerHTML"],[3,"selectedLang"]],template:function(n,s){1&n&&(t.I0R(0,"h3",0),t.OEk(1),t.C$Y(),t.yuY(2,ei,1,1,"p-message",1)(3,oi,3,2,"ng-container",2)),2&n&&(t.yG2(),t.cNF(null==s.translation?null:s.translation.menu.koinoxristoiMenuItem),t.yG2(),t.E7m("ngIf",!s.isAuthorized),t.yG2(),t.E7m("ngIf",!s.afmNotFound))},dependencies:[u.u_,A.S,L.s,q,ii.m],encapsulation:2,changeDetection:0})}return e})(),children:[{path:"",loadChildren:()=>Promise.resolve().then(r.bind(r,7546)).then(e=>e.PublicLibKoinLoader)}]}];let li=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#i=this.\u0275mod=t.a4G({type:e});static#e=this.\u0275inj=t.s3X({imports:[h.qQ.forChild(ai),h.qQ]})}return e})(),ri=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#i=this.\u0275mod=t.a4G({type:e});static#e=this.\u0275inj=t.s3X({imports:[Zt.k,Qt.IB,li,j]})}return e})(),di=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#i=this.\u0275mod=t.a4G({type:e});static#e=this.\u0275inj=t.s3X({imports:[j]})}return e})()}}]);