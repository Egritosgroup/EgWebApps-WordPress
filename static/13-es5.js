!function(){function e(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=d(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,a=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){a=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(a)throw o}}}}function t(e,i){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,i)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,o=s(e);if(t){var r=s(this).constructor;i=Reflect.construct(o,arguments,r)}else i=o.apply(this,arguments);return n(this,i)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return l(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{UGYw:function(n,s,r){"use strict";r.r(s),r.d(s,"KliseisModule",(function(){return pi})),r.d(s,"PublicLibLoader",(function(){return mi}));var d=r("mrSG"),l=r("fXoL"),u=r("tk/3"),h=r("LRne"),p=r("2Vo4"),m=r("XNiG"),f=r("lJxs"),g=r("JIr8"),y=r("eIep"),b=r("1G5W"),v=r("3Pt+"),k=r("5eHb"),S=r("tyNb"),P=r("ofXK"),A=r("3u8h"),C=r("ZOsW"),T=r("9nqD"),I=r("eO1q"),R=r("QIUk"),O=r("Ji6n"),w=r("/RsI"),M=r("FMpt"),x=r("7CaW"),E=r("LuMj"),_=r("rEr+"),D=r("dPl2"),U=r("zazq"),q=r("7zfz");function K(e,t){1&e&&(l.Rc(0),l.Oc(1,"app-kliseis-unauthorized-pay"),l.Qc())}function F(e,t){if(1&e){var i=l.Uc();l.Tc(0,"div",9),l.Tc(1,"button",10),l.ed("click",(function(){return l.Gd(i),l.gd(2).onAddKlisiClicked()})),l.Oc(2,"i",11),l.Rd(3," \u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u039d\u03ad\u03b1\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2 "),l.Sc(),l.Sc()}}function j(e,t){if(1&e){var i=l.Uc();l.Tc(0,"app-kliseis-receipts",12),l.ed("changeTabIndex",(function(){return l.Gd(i),l.gd(2).index=1})),l.Sc()}if(2&e){var n=l.gd(2);l.pd("tabChanged",n.onTbChanged)}}function L(e,t){if(1&e){var i=l.Uc();l.Rc(0),l.Pd(1,F,4,0,"div",3),l.Tc(2,"p-tabView",4),l.ed("onChange",(function(e){return l.Gd(i),l.gd().onTabChanged(e)})),l.Tc(3,"p-tabPanel",5),l.Oc(4,"app-kliseis-debits",6),l.Sc(),l.Tc(5,"p-tabPanel",7),l.Pd(6,j,1,1,"ng-template",8),l.Sc(),l.Sc(),l.Qc()}if(2&e){var n=l.gd();l.Ac(1),l.pd("ngIf",n.onlinePaymentsSettingsCompany&&"1"==n.onlinePaymentsSettingsCompany),l.Ac(1),l.pd("activeIndex",n.index),l.Ac(2),l.pd("isDataChanged",n.isDataChanged)("userInfo",n.userInfo)("onlinePaymentsSettingsCompany",n.onlinePaymentsSettingsCompany)}}function N(e,t){if(1&e){var i=l.Uc();l.Tc(0,"lib-kliseis-add-new",13),l.ed("klisiAdded",(function(e){return l.Gd(i),l.gd()._klisiAdded(e)})),l.Sc()}if(2&e){var n=l.gd();l.pd("userInfo",n.userInfo)("isLoadingPaymentRequest",n.isLoadingPaymentRequest)("relatedCallbackUrl",n.returnUrl)}}var z=["requestBankDataForm"];function G(e,t){1&e&&(l.Tc(0,"div",8),l.Tc(1,"span",9),l.Oc(2,"i",10),l.Sc(),l.Tc(3,"span"),l.Rd(4,"\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bc\u03ad\u03bd\u03b5\u03c4\u03b5, \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03bf\u03cd\u03bc\u03b5 \u03bc\u03b5 \u03c4\u03bf \u0394\u03ae\u03bc\u03bf \u03b3\u03b9\u03b1 \u03bf\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1."),l.Sc(),l.Sc())}function B(e,t){if(1&e&&l.Oc(0,"p-message",11),2&e){var i=l.gd();l.pd("text",i.errorMessageProfile)}}function W(e,t){1&e&&l.Oc(0,"img",17)}function $(e,t){1&e&&l.Oc(0,"img",22),2&e&&l.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa-secure.svg",l.Id)}function H(e,t){1&e&&l.Oc(0,"img",23),2&e&&l.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard-idcheck.svg",l.Id)}function V(e,t){if(1&e&&(l.Rc(0),l.Oc(1,"img",19),l.hd(2,"lowercase"),l.Pd(3,$,1,1,"img",20),l.hd(4,"lowercase"),l.Pd(5,H,1,1,"img",21),l.hd(6,"lowercase"),l.Qc()),2&e){var i=t.$implicit;l.Ac(1),l.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/"+l.id(2,3,i)+".svg",l.Id),l.Ac(2),l.pd("ngIf","visa"==l.id(4,5,i)),l.Ac(2),l.pd("ngIf","mastercard"==l.id(6,7,i))}}function Q(e,t){if(1&e&&(l.Rc(0),l.Pd(1,V,7,9,"ng-container",18),l.Qc()),2&e){var i=l.gd(2).$implicit;l.Ac(1),l.pd("ngForOf",i.services)}}function J(e,t){if(1&e&&(l.Rc(0),l.Pd(1,Q,2,1,"ng-container",3),l.Qc()),2&e){var i=l.gd().$implicit;l.Ac(1),l.pd("ngIf",i.services&&i.services.length>0)}}var X=function(){return{width:"360px"}};function Y(e,t){if(1&e){var i=l.Uc();l.Tc(0,"div",13),l.ed("click",(function(){l.Gd(i);var e=t.$implicit;return l.gd(2).onSelectPaymentMethod(e)})),l.Tc(1,"p-card",14),l.Tc(2,"div",15),l.Pd(3,W,1,0,"img",16),l.Pd(4,J,2,1,"ng-container",3),l.Sc(),l.Sc(),l.Sc()}if(2&e){var n=t.$implicit;l.Ac(1),l.Md(l.ud(6,X)),l.pd("header",n.label)("subheader",n.description),l.Ac(2),l.pd("ngIf","IRIS"==n.key),l.Ac(1),l.pd("ngIf","IRIS"!=n.key)}}function Z(e,t){if(1&e&&(l.Rc(0),l.Pd(1,Y,5,7,"div",12),l.Qc()),2&e){var i=l.gd();l.Ac(1),l.pd("ngForOf",i.onlinePaymentSettings.paymentMethods)}}function ee(e,t){1&e&&(l.Tc(0,"div",8),l.Tc(1,"span",9),l.Oc(2,"i",10),l.Sc(),l.Sc())}function te(e,t){if(1&e&&(l.Rc(0),l.Oc(1,"input",27),l.Qc()),2&e){var i=t.$implicit;l.Ac(1),l.qd("name",i.key),l.qd("value",i.value)}}function ie(e,t){if(1&e&&(l.Rc(0),l.Pd(1,te,2,2,"ng-container",18),l.hd(2,"keyvalue"),l.Oc(3,"input",26),l.Qc()),2&e){var i=l.gd(2);l.Ac(1),l.pd("ngForOf",l.id(2,2,i.paymentResponseDto.postFields)),l.Ac(2),l.qd("value",i.everypayToken)}}function ne(e,t){if(1&e&&(l.Tc(0,"form",24),l.Pd(1,ie,4,4,"ng-container",3),l.Oc(2,"div",25),l.Sc()),2&e){var i=l.gd();l.qd("action",null==i.paymentResponseDto?null:i.paymentResponseDto.postUrl,l.Id),l.Ac(1),l.pd("ngIf",i.paymentResponseDto)}}function se(e,t){if(1&e&&l.Oc(0,"form",28),2&e){var i=l.gd();l.qd("action",null==i.paymentResponseDto?null:i.paymentResponseDto.postUrl,l.Id)}}function oe(e,t){if(1&e&&(l.Tc(0,"div"),l.Oc(1,"input",29),l.Sc()),2&e){var i=t.$implicit;l.Ac(1),l.qd("name",i.key),l.qd("value",i.value)}}function re(e,t){if(1&e&&(l.Rc(0),l.Pd(1,oe,2,2,"div",18),l.Qc()),2&e){var i=l.gd();l.Ac(1),l.pd("ngForOf",i.paymentResponseDto.postFields)}}function ae(e,t){if(1&e){var i=l.Uc();l.Tc(0,"div",6),l.Tc(1,"button",7),l.ed("click",(function(){return l.Gd(i),l.gd().onInitPaymentRequest()})),l.Oc(2,"i",8),l.Rd(3," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),l.Sc(),l.Sc()}if(2&e){var n=l.gd();l.Ac(1),l.pd("disabled",n.isLoadingCheckout)}}function ce(e,t){1&e&&(l.Tc(0,"div",9),l.Oc(1,"i",10),l.Sc())}function de(e,t){1&e&&(l.Tc(0,"div",11),l.Oc(1,"img",12),l.Oc(2,"img",13),l.Oc(3,"img",14),l.Oc(4,"img",15),l.Oc(5,"img",16),l.Sc()),2&e&&(l.Ac(4),l.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa-secure.svg",l.Id),l.Ac(1),l.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard-idcheck.svg",l.Id))}function le(e,t){if(1&e){var i=l.Uc();l.Tc(0,"app-payment-methods",17),l.ed("loadingCheckout",(function(e){return l.Gd(i),l.gd().onLoadingCheckoutChanged(e)})),l.Sc()}if(2&e){var n=l.gd();l.pd("user",n.userInfo)("paymentRequestDto",n.paymentRequestDto)("isUnauthorized",n.isUnauthorized)("onlinePaymentSettings",n.onlinePaymentSettings)("isLoadingCheckout",n.isLoadingCheckout)}}function ue(e,t){if(1&e&&(l.Rc(0),l.Tc(1,"p"),l.Rd(2,"\u0393\u03b9\u03b1 \u03c4\u03b7\u03bd \u03bf\u03bb\u03bf\u03ba\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2 \u03c3\u03b1\u03c2, \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b1\u03c0\u03bf\u03b4\u03b5\u03c7\u03b8\u03b5\u03af\u03c4\u03b5 \u03c4\u03bf\u03c5\u03c2 \u03cc\u03c1\u03bf\u03c5\u03c2 \u03c7\u03c1\u03ae\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03b9\u03c3\u03c4\u03bf\u03c3\u03b5\u03bb\u03af\u03b4\u03b1\u03c2."),l.Sc(),l.Tc(3,"p"),l.Tc(4,"a",18),l.Rd(5,"\u0394\u03b9\u03b1\u03b2\u03ac\u03c3\u03c4\u03b5 \u03b5\u03b4\u03ce \u03c4\u03bf\u03c5\u03c2 \u03cc\u03c1\u03bf\u03c5\u03c2 \u03c7\u03c1\u03ae\u03c3\u03b7\u03c2."),l.Sc(),l.Sc(),l.Qc()),2&e){var i=l.gd();l.Ac(4),l.qd("href",i.termsLink,l.Id)}}function he(e,t){if(1&e){var i=l.Uc();l.Tc(0,"p-footer"),l.Tc(1,"div",19),l.Tc(2,"p-radioButton",20),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd().termsValue=e})),l.Sc(),l.Tc(3,"p-radioButton",21),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd().termsValue=e})),l.Sc(),l.Sc(),l.Tc(4,"button",22),l.ed("click",(function(){return l.Gd(i),l.gd().onTermsChanged()})),l.Oc(5,"i",23),l.Rd(6," \u03a3\u03c5\u03bd\u03ad\u03c7\u03b5\u03b9\u03b1 "),l.Sc(),l.Sc()}if(2&e){var n=l.gd();l.Ac(2),l.pd("ngModel",n.termsValue),l.Ac(1),l.pd("ngModel",n.termsValue)}}var pe=["f"];function me(e,t){1&e&&(l.Tc(0,"div",2),l.Tc(1,"span",3),l.Oc(2,"i",4),l.Sc(),l.Sc())}function fe(e,t){1&e&&(l.Tc(0,"span"),l.Rd(1,"*"),l.Sc())}function ge(e,t){if(1&e){var i=l.Uc();l.Tc(0,"div",7),l.Tc(1,"div",29),l.Oc(2,"p-message",30),l.Tc(3,"label"),l.Rd(4,"\u0388\u03c4\u03bf\u03c2"),l.Sc(),l.Tc(5,"input",31,32),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(2).etosKlisis=e})),l.Sc(),l.Tc(7,"div",14),l.Rd(8),l.Sc(),l.Sc(),l.Sc()}if(2&e){var n=l.Ed(6),s=l.gd(2);l.Ac(2),l.pd("styleClass","mt-2 mb-1"),l.Ac(3),l.pd("ngModel",s.etosKlisis)("readonly",s.model.hmerominiaEkdosis||s.response),l.Ac(2),l.pd("hidden",!s.isFormSubmitted||!s.etosKlisis||s.isFormSubmitted&&s.etosKlisis&&n.valid),l.Ac(1),l.Td(" \u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 \u03a7\u03a7\u03a7\u03a7 \u03cc\u03c0\u03bf\u03c5 \u03a7 \u03bc\u03cc\u03bd\u03bf \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bc\u03b9\u03ba\u03c1\u03cc\u03c4\u03b5\u03c1\u03bf \u03ae \u03af\u03c3\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf ",s.thisYear,". ")}}function ye(e,t){1&e&&l.Oc(0,"p-message",33)}function be(e,t){if(1&e){var i=l.Uc();l.Tc(0,"div",38),l.Tc(1,"label"),l.Rd(2,"Email*"),l.Sc(),l.Tc(3,"input",39,40),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(4).model.email=e})),l.Sc(),l.Tc(5,"div",14),l.Rd(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),l.Sc(),l.Sc()}if(2&e){var n=l.Ed(4),s=l.gd(4);l.pd("ngClass",s.response.hasTilefono?"col-md-12":"col-md-8"),l.Ac(3),l.pd("ngModel",s.model.email)("readonly",s.response.hasEmail&&s.model.email),l.Ac(2),l.pd("hidden",!s.isFormSubmitted||s.isFormSubmitted&&n.valid)}}function ve(e,t){if(1&e){var i=l.Uc();l.Tc(0,"div",38),l.Tc(1,"label"),l.Rd(2,"\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb.*"),l.Sc(),l.Tc(3,"input",41),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(4).model.tilefono=e})),l.Sc(),l.Tc(4,"div",14),l.Rd(5," *\u03a4\u03bf \u03ba\u03b9\u03bd\u03b7\u03c4\u03cc \u03c4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03ad\u03c7\u03b5\u03b9 10 \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 69\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7. "),l.Sc(),l.Sc()}if(2&e){var n=l.gd(4);l.pd("ngClass",n.response.hasEmail?"col-md-12":"col-md-4"),l.Ac(3),l.pd("ngModel",n.model.tilefono)("readonly",n.response.hasTilefono&&n.model.tilefono),l.Ac(1),l.pd("hidden",!n.isFormSubmitted||n.isFormSubmitted&&n.model.tilefono)}}function ke(e,t){if(1&e&&(l.Tc(0,"div",7),l.Pd(1,be,7,4,"div",37),l.Pd(2,ve,6,4,"div",37),l.Sc()),2&e){var i=l.gd(3);l.Ac(1),l.pd("ngIf",!i.response.hasEmail),l.Ac(1),l.pd("ngIf",!i.response.hasTilefono)}}function Se(e,t){if(1&e){var i=l.Uc();l.Tc(0,"div",7),l.Tc(1,"div",42),l.Tc(2,"label"),l.Rd(3,"\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7*"),l.Sc(),l.Tc(4,"input",43),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(3).model.address=e})),l.Sc(),l.Tc(5,"div",14),l.Rd(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),l.Sc(),l.Sc(),l.Tc(7,"div",44),l.Tc(8,"label"),l.Rd(9,"\u03a4.\u039a.*"),l.Sc(),l.Tc(10,"input",45),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(3).model.tk=e})),l.Sc(),l.Tc(11,"div",14),l.Rd(12," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),l.Sc(),l.Sc(),l.Sc()}if(2&e){var n=l.gd(3);l.Ac(4),l.pd("ngModel",n.model.address)("readonly",n.response.hasDieuthinsi&&n.model.address),l.Ac(1),l.pd("hidden",!n.isFormSubmitted||n.isFormSubmitted&&n.model.address),l.Ac(5),l.pd("ngModel",n.model.tk)("readonly",n.response.hasDieuthinsi&&n.model.tk),l.Ac(1),l.pd("hidden",!n.isFormSubmitted||n.isFormSubmitted&&n.model.tk)}}function Pe(e,t){if(1&e){var i=l.Uc();l.Tc(0,"div",7),l.Tc(1,"div",29),l.Tc(2,"label"),l.Rd(3,"\u03a0\u03cc\u03bb\u03b7*"),l.Sc(),l.Tc(4,"input",46),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(3).model.poli=e})),l.Sc(),l.Tc(5,"div",14),l.Rd(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),l.Sc(),l.Sc(),l.Sc()}if(2&e){var n=l.gd(3);l.Ac(4),l.pd("ngModel",n.model.poli)("readonly",n.response.hasDieuthinsi&&n.model.poli),l.Ac(1),l.pd("hidden",!n.isFormSubmitted||n.isFormSubmitted&&n.model.poli)}}function Ae(e,t){if(1&e){var i=l.Uc();l.Rc(0),l.Tc(1,"div",7),l.Tc(2,"div",34),l.Tc(3,"label"),l.Rd(4,"\u03a0\u03bf\u03c3\u03cc*"),l.Sc(),l.Tc(5,"input",35,36),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(2).model.poso=e})),l.Sc(),l.Tc(7,"div",14),l.Rd(8," *\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03bc\u03b5 \u03bc\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03cc \u03c0\u03bf\u03c3\u03cc. "),l.Sc(),l.Sc(),l.Sc(),l.Pd(9,ke,3,2,"div",20),l.Pd(10,Se,13,6,"div",20),l.Pd(11,Pe,7,3,"div",20),l.Qc()}if(2&e){var n=l.gd(2);l.Ac(5),l.pd("ngModel",n.model.poso)("readonly",0!=n.response.klisiId),l.Ac(2),l.pd("hidden",!n.isFormSubmitted||n.isFormSubmitted&&n.model.poso&&n.model.poso>0),l.Ac(2),l.pd("ngIf",!n.response.hasEmail||n.response.hasTilefono),l.Ac(1),l.pd("ngIf",!n.response.hasDieuthinsi),l.Ac(1),l.pd("ngIf",!n.response.hasDieuthinsi)}}function Ce(e,t){if(1&e){var i=l.Uc();l.Tc(0,"button",47),l.ed("click",(function(){return l.Gd(i),l.gd(2).onAnazitisi()})),l.Oc(1,"i",48),l.Rd(2," \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7 "),l.Sc()}}function Te(e,t){if(1&e){var i=l.Uc();l.Tc(0,"div",49),l.Tc(1,"div"),l.Tc(2,"div",50),l.Tc(3,"button",51),l.ed("click",(function(){return l.Gd(i),l.gd(2).onCreatePaymentRequest()})),l.Oc(4,"i",52),l.Rd(5," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),l.Sc(),l.Sc(),l.Tc(6,"div",53),l.Oc(7,"img",54),l.Oc(8,"img",55),l.Oc(9,"img",56),l.Oc(10,"img",57),l.Oc(11,"img",58),l.Sc(),l.Sc(),l.Tc(12,"button",59),l.ed("click",(function(){return l.Gd(i),l.gd(2).onCancelKlisi()})),l.Oc(13,"i",60),l.Rd(14," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 "),l.Sc(),l.Sc()}2&e&&(l.Ac(10),l.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa-secure.svg",l.Id),l.Ac(1),l.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard-idcheck.svg",l.Id))}function Ie(e,t){if(1&e&&l.Oc(0,"div",61),2&e){var i=l.gd(2);l.pd("innerHTML",i.formErrorsMsg,l.Hd)}}function Re(e,t){1&e&&(l.Tc(0,"div",62),l.Tc(1,"span",3),l.Oc(2,"i",63),l.Sc(),l.Sc())}function Oe(e,t){if(1&e&&l.Oc(0,"div",61),2&e){var i=l.gd(2);l.pd("innerHTML",i.response.messageResponse,l.Hd)}}function we(e,t){1&e&&l.Oc(0,"p-message",64)}var Me=function(){return{width:"100%"}};function xe(e,t){if(1&e){var i=l.Uc();l.Tc(0,"form",5,6),l.Tc(2,"div",7),l.Tc(3,"div",8),l.Tc(4,"p-checkbox",9,10),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd().model.isForeign=e})),l.Sc(),l.Sc(),l.Sc(),l.Tc(6,"div",7),l.Tc(7,"div",11),l.Tc(8,"label"),l.Rd(9,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2*"),l.Sc(),l.Tc(10,"input",12,13),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd().model.arithmosKlisis=e})),l.Sc(),l.Tc(12,"div",14),l.Rd(13," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03ad\u03c0\u03bf\u03bd\u03c4\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03bc\u03ad\u03c7\u03c1\u03b9 12 \u03b1\u03c1\u03b9\u03b8\u03bc\u03bf\u03af. "),l.Sc(),l.Sc(),l.Tc(14,"div",11),l.Tc(15,"label"),l.Rd(16,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2*"),l.Sc(),l.Tc(17,"input",15,16),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd().model.arithmosKikloforias=e})),l.Sc(),l.Tc(19,"div",14),l.Rd(20," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),l.Sc(),l.Sc(),l.Sc(),l.Tc(21,"div",7),l.Tc(22,"div",11),l.Tc(23,"label"),l.Rd(24,"\u0397\u03bc. \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2"),l.Pd(25,fe,2,0,"span",17),l.Sc(),l.Tc(26,"p-calendar",18),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd().model.hmerominiaEkdosis=e})),l.Sc(),l.Sc(),l.Tc(27,"div",11),l.Tc(28,"label"),l.Rd(29,"\u038f\u03c1\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2"),l.Sc(),l.Tc(30,"p-calendar",19),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd().model.oraEkdosis=e})),l.Sc(),l.Sc(),l.Sc(),l.Pd(31,ge,9,5,"div",20),l.Pd(32,ye,1,0,"p-message",21),l.Pd(33,Ae,12,6,"ng-container",17),l.Tc(34,"div",22),l.Pd(35,Ce,3,0,"button",23),l.Sc(),l.Pd(36,Te,15,2,"div",24),l.Oc(37,"app-checkout",25),l.Pd(38,Ie,1,1,"div",26),l.Pd(39,Re,3,0,"div",27),l.Pd(40,Oe,1,1,"div",26),l.Pd(41,we,1,0,"p-message",28),l.Sc()}if(2&e){var n=l.Ed(11),s=l.Ed(18),o=l.gd();l.Ac(4),l.pd("ngModel",o.model.isForeign)("readonly",o.response),l.Ac(6),l.pd("ngModel",o.model.arithmosKlisis)("readonly",o.response),l.Ac(2),l.pd("hidden",!o.isFormSubmitted||o.isFormSubmitted&&n.valid),l.Ac(5),l.pd("ngModel",o.model.arithmosKikloforias)("readonly",o.response),l.Ac(2),l.pd("hidden",!o.isFormSubmitted||o.isFormSubmitted&&s.valid),l.Ac(6),l.pd("ngIf",!o.showEtos),l.Ac(1),l.Md(l.ud(43,Me)),l.pd("baseZIndex",9999)("locale",o.locale)("maxDate",o.today)("monthNavigator",!0)("yearNavigator",!0)("yearRange",o.yearRange)("showIcon",!0)("showButtonBar",!0)("showTime",!1)("ngModel",o.model.hmerominiaEkdosis)("required",!o.showEtos)("disabled",o.etosKlisis&&""!=o.etosKlisis||o.response||o.isFormSubmitted),l.Ac(4),l.Md(l.ud(44,Me)),l.pd("baseZIndex",9999)("locale",o.locale)("timeOnly",!0)("showIcon",!0)("ngModel",o.model.oraEkdosis)("disabled",o.etosKlisis&&""!=o.etosKlisis||o.response||o.isFormSubmitted),l.Ac(1),l.pd("ngIf",o.showEtos),l.Ac(1),l.pd("ngIf",!o.allowsPayment),l.Ac(1),l.pd("ngIf",o.response&&o.response.canPay&&o.allowsPayment),l.Ac(2),l.pd("ngIf",!o.isFormSubmitted||!o.response),l.Ac(1),l.pd("ngIf",o.isFormSubmitted&&o.response&&o.response.canPay&&o.allowsPayment),l.Ac(1),l.pd("userInfo",o.userInfo)("paymentRequestDto",o.paymentRequestDto)("onlinePaymentsSettingsCompany",o.onlinePaymentsSettingsCompany),l.Ac(1),l.pd("ngIf",o.formErrorsMsg&&""!=o.formErrorsMsg),l.Ac(1),l.pd("ngIf",o.isLoadingResponse||o.isLoadingPaymentRequest),l.Ac(1),l.pd("ngIf",o.response&&!o.isLoadingResponse&&o.response.messageResponse&&""!=o.response.messageResponse),l.Ac(1),l.pd("ngIf",o.saveFailed)}}function Ee(e,t){1&e&&(l.Tc(0,"div",5),l.Tc(1,"span",6),l.Oc(2,"i",7),l.Sc(),l.Sc())}function _e(e,t){1&e&&l.Oc(0,"p-message",8)}function De(e,t){if(1&e&&l.Oc(0,"p-message",9),2&e){var i=l.gd();l.pd("text",i.errorMsg)("styleClass","mb-2")}}function Ue(e,t){1&e&&l.Pc(0)}function qe(e,t){if(1&e&&(l.Rc(0),l.Pd(1,Ue,1,0,"ng-container",20),l.Qc()),2&e){l.gd(2);var i=l.Ed(5);l.Ac(1),l.pd("ngTemplateOutlet",i)}}function Ke(e,t){if(1&e){var i=l.Uc();l.Tc(0,"tr"),l.Tc(1,"th",21),l.Tc(2,"p-checkbox",22),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(2).checkAll=e}))("onChange",(function(){return l.Gd(i),l.gd(2).onCheckAllKliseisClicked()})),l.Sc(),l.Sc(),l.Tc(3,"th",23),l.Rd(4,"\xa0"),l.Sc(),l.Tc(5,"th",24),l.Rd(6,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),l.Sc(),l.Tc(7,"th",25),l.Rd(8,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),l.Sc(),l.Tc(9,"th",24),l.Rd(10,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),l.Sc(),l.Tc(11,"th",26),l.Rd(12,"\u038c\u03c7\u03b7\u03bc\u03b1"),l.Sc(),l.Tc(13,"th",25),l.Rd(14,"\u03a0\u03bf\u03c3\u03cc \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),l.Sc(),l.Tc(15,"th",25),l.Rd(16,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2*"),l.Sc(),l.Tc(17,"th",24),l.Rd(18,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2"),l.Sc(),l.Sc()}if(2&e){var n=l.gd(2);l.Ac(2),l.pd("binary",!0)("ngModel",n.checkAll)("disabled",!n.checkAllEnabled)}}function Fe(e,t){if(1&e){var i=l.Uc();l.Tc(0,"tr",28),l.Tc(1,"td",33),l.Tc(2,"span",30),l.Rd(3,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),l.Sc(),l.Tc(4,"p-checkbox",22),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd().$implicit.isChecked=e}))("onChange",(function(){l.Gd(i);var e=l.gd().$implicit;return l.gd(2).onCheckKlisiClicked(e)})),l.Sc(),l.Sc(),l.Oc(5,"td",34),l.Sc()}if(2&e){var n=l.gd().$implicit;l.pd("ngClass",n.canPay&&n.canCheck?"":"disabled-row"),l.Ac(4),l.pd("binary",!0)("ngModel",n.isChecked)("disabled",!n.canPay||!n.canCheck),l.Ac(1),l.pd("innerHtml",n.cannotPayReason,l.Hd)}}function je(e,t){if(1&e){var i=l.Uc();l.Tc(0,"td",21),l.Tc(1,"span",30),l.Rd(2,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),l.Sc(),l.Tc(3,"p-checkbox",22),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd().$implicit.isChecked=e}))("onChange",(function(){l.Gd(i);var e=l.gd().$implicit;return l.gd(2).onCheckKlisiClicked(e)})),l.Sc(),l.Sc()}if(2&e){var n=l.gd().$implicit;l.Ac(3),l.pd("binary",!0)("ngModel",n.isChecked)("disabled",!n.canPay||!n.canCheck)}}function Le(e,t){1&e&&(l.Tc(0,"span"),l.Oc(1,"span",35),l.Sc())}function Ne(e,t){1&e&&(l.Tc(0,"span"),l.Oc(1,"span",36),l.Sc())}function ze(e,t){if(1&e&&(l.Tc(0,"span",37),l.Tc(1,"strong"),l.Rd(2,"\u0395\u03af\u03b4\u03bf\u03c2: "),l.Sc(),l.Rd(3),l.Sc()),2&e){var i=l.gd().$implicit;l.Ac(3),l.Sd(i.eidosOximatos)}}function Ge(e,t){if(1&e&&(l.Tc(0,"span",37),l.Tc(1,"strong"),l.Rd(2,"\u039c\u03ac\u03c1\u03ba\u03b1: "),l.Sc(),l.Rd(3),l.Sc()),2&e){var i=l.gd().$implicit;l.Ac(3),l.Sd(i.markaOximatos)}}function Be(e,t){if(1&e&&(l.Tc(0,"span",37),l.Tc(1,"strong"),l.Rd(2,"\u03a7\u03c1\u03ce\u03bc\u03b1: "),l.Sc(),l.Rd(3),l.Sc()),2&e){var i=l.gd().$implicit;l.Ac(3),l.Sd(i.xromaOximatos)}}function We(e,t){if(1&e&&(l.Pd(0,Fe,6,5,"tr",27),l.Tc(1,"tr",28),l.Pd(2,je,4,3,"td",29),l.Tc(3,"td",21),l.Tc(4,"span",30),l.Rd(5,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7"),l.Sc(),l.Pd(6,Le,2,0,"span",3),l.Pd(7,Ne,2,0,"span",3),l.Sc(),l.Tc(8,"td",24),l.Tc(9,"span",30),l.Rd(10,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),l.Sc(),l.Rd(11),l.Sc(),l.Tc(12,"td",25),l.Tc(13,"span",30),l.Rd(14,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),l.Sc(),l.Rd(15),l.hd(16,"date"),l.Sc(),l.Tc(17,"td",24),l.Tc(18,"span",30),l.Rd(19,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),l.Sc(),l.Rd(20),l.Sc(),l.Tc(21,"td",26),l.Tc(22,"span",30),l.Rd(23,"\u038c\u03c7\u03b7\u03bc\u03b1"),l.Sc(),l.Pd(24,ze,4,1,"span",31),l.Pd(25,Ge,4,1,"span",31),l.Pd(26,Be,4,1,"span",31),l.Sc(),l.Tc(27,"td",32),l.Tc(28,"span",30),l.Rd(29,"\u03a0\u03bf\u03c3\u03cc \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),l.Sc(),l.Rd(30),l.hd(31,"currency"),l.Sc(),l.Tc(32,"td",32),l.Tc(33,"span",30),l.Rd(34,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2*"),l.Sc(),l.Rd(35),l.hd(36,"currency"),l.Sc(),l.Tc(37,"td",24),l.Tc(38,"span",30),l.Rd(39,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2"),l.Sc(),l.Rd(40),l.Sc(),l.Sc()),2&e){var i=t.$implicit;l.pd("ngIf",i.cannotPayReason&&""!=i.cannotPayReason),l.Ac(1),l.pd("ngClass",i.canPay&&i.canCheck?"":"disabled-row"),l.Ac(1),l.pd("ngIf",!i.cannotPayReason||""==i.cannotPayReason),l.Ac(4),l.pd("ngIf",i.statusId&&1==i.statusId),l.Ac(1),l.pd("ngIf",i.statusId&&5==i.statusId),l.Ac(4),l.Td(" ",i.arithmosKlisis," "),l.Ac(4),l.Ud(" ",l.jd(16,15,i.hmerominiaEkdosis,"dd/MM/yyyy")," ",i.oraEkdosis&&i.hmerominiaEkdosis?"- "+i.oraEkdosis:i.oraEkdosis," "),l.Ac(5),l.Td(" ",i.arithmosKikloforias," "),l.Ac(4),l.pd("ngIf",i.eidosOximatos),l.Ac(1),l.pd("ngIf",i.markaOximatos),l.Ac(1),l.pd("ngIf",i.xromaOximatos),l.Ac(4),l.Td(" ",l.ld(31,18,i.pliroteoPoso,"EUR","symbol","1.2-2")," "),l.Ac(5),l.Td(" ",l.ld(36,23,i.ofeilisPoso,"EUR","symbol","1.2-2")," "),l.Ac(5),l.Td(" ",i.stoixeiaBebaiosis," ")}}var $e=function(e){return[e,"EUR","symbol","1.2-2","el"]};function He(e,t){if(1&e&&(l.Tc(0,"tr"),l.Tc(1,"td",38),l.Tc(2,"strong"),l.Rd(3),l.Sc(),l.Sc(),l.Tc(4,"td",39),l.Tc(5,"strong"),l.Rd(6),l.hd(7,"currency"),l.Sc(),l.Sc(),l.Tc(8,"td",39),l.Tc(9,"strong"),l.Rd(10),l.hd(11,"currency"),l.Sc(),l.Sc(),l.Oc(12,"td",24),l.Sc()),2&e){var i=l.gd(2);l.Ac(3),l.Td("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2: ",i.model.length,""),l.Ac(3),l.Sd(l.md(7,3,l.vd(15,$e,i.sumPosoKlisis))),l.Ac(4),l.Sd(l.md(11,9,l.vd(17,$e,i.sumPliroteoPoso)))}}function Ve(e,t){1&e&&l.Pc(0)}function Qe(e,t){if(1&e&&(l.Rc(0),l.Pd(1,Ve,1,0,"ng-container",20),l.Qc()),2&e){l.gd(2);var i=l.Ed(5);l.Ac(1),l.pd("ngTemplateOutlet",i)}}function Je(e,t){if(1&e&&(l.Rc(0),l.Oc(1,"p-message",10),l.Pd(2,qe,2,1,"ng-container",3),l.Tc(3,"legend",11),l.Tc(4,"span",12),l.Oc(5,"i",13),l.Rd(6," \u0391\u03a0\u039b\u0397\u03a1\u03a9\u03a4\u0397"),l.Sc(),l.Tc(7,"span",12),l.Oc(8,"i",14),l.Rd(9," \u039a\u0391\u03a4\u0391\u03a7\u03a9\u03a1\u0397\u03a3\u0397 \u0391\u03a0\u039f WEB"),l.Sc(),l.Sc(),l.Tc(10,"p-table",15),l.Pd(11,Ke,19,3,"ng-template",16),l.Pd(12,We,41,28,"ng-template",17),l.Pd(13,He,13,19,"ng-template",18),l.Sc(),l.Tc(14,"p",19),l.Tc(15,"small"),l.Tc(16,"em"),l.Rd(17,"* \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u03a0\u03c1\u03bf\u03c3\u03b1\u03c5\u03be\u03ae\u03c3\u03b5\u03b9\u03c2 \u03ba\u03b1\u03b9 \u03a4\u03c1\u03ad\u03c7\u03bf\u03c5\u03c3\u03b5\u03c2 \u039a\u03c1\u03b1\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2"),l.Sc(),l.Sc(),l.Sc(),l.Pd(18,Qe,2,1,"ng-container",3),l.Qc()),2&e){var i=l.gd();l.Ac(1),l.pd("styleClass","my-2"),l.Ac(1),l.pd("ngIf",i.checkedKliseisTotal&&i.checkedKliseisTotal>0),l.Ac(8),l.pd("value",i.model)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("resetPageOnSort",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",i.model.length)("loading",i.isLoading),l.Ac(8),l.pd("ngIf",i.checkedKliseisTotal&&i.checkedKliseisTotal>0)}}function Xe(e,t){if(1&e&&(l.Tc(0,"div",40),l.Tc(1,"div"),l.Tc(2,"p"),l.Rd(3,"\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 "),l.Tc(4,"span",41),l.Rd(5),l.Sc(),l.Sc(),l.Tc(6,"p",42),l.Rd(7,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: "),l.Tc(8,"span",41),l.Rd(9),l.hd(10,"currency"),l.Sc(),l.Sc(),l.Sc(),l.Oc(11,"app-checkout",43),l.Sc()),2&e){var i=l.gd();l.Ac(5),l.Ud("",i.checkedKliseisTotal," ",1===i.checkedKliseisTotal?"\u03ba\u03bb\u03ae\u03c3\u03b7":"\u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2",""),l.Ac(4),l.Sd(l.ld(10,6,i.sumPliromis,"\u20ac","symbol","1.2")),l.Ac(2),l.pd("userInfo",i.userInfo)("onlinePaymentsSettingsCompany",i.onlinePaymentsSettingsCompany)("klisis",i.checkedKliseis)}}function Ye(e,t){1&e&&l.Oc(0,"p-message",4),2&e&&l.pd("styleClass","mb-2")}function Ze(e,t){if(1&e&&l.Oc(0,"p-message",5),2&e){var i=l.gd();l.pd("severity",i.bankStatusMessageClass)("text",i.bankStatusMessage)("styleClass","mb-2")}}function et(e,t){1&e&&(l.Tc(0,"div",6),l.Tc(1,"span",7),l.Oc(2,"i",8),l.Sc(),l.Sc())}function tt(e,t){1&e&&(l.Tc(0,"tr"),l.Tc(1,"th",17),l.Rd(2,"\xa0"),l.Sc(),l.Tc(3,"th",18),l.Rd(4,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),l.Sc(),l.Tc(5,"th",19),l.Rd(6,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),l.Sc(),l.Tc(7,"th",18),l.Rd(8,"\u039f\u03b4\u03cc\u03c2 - \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2"),l.Sc(),l.Tc(9,"th",18),l.Rd(10,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),l.Sc(),l.Tc(11,"th",19),l.Rd(12,"\u038c\u03c7\u03b7\u03bc\u03b1"),l.Sc(),l.Tc(13,"th",20),l.Rd(14,"\u03a0\u03bf\u03c3\u03cc"),l.Sc(),l.Tc(15,"th",18),l.Rd(16,"\u039f\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1"),l.Sc(),l.Sc())}function it(e,t){1&e&&(l.Tc(0,"span"),l.Oc(1,"i",11),l.Sc())}function nt(e,t){1&e&&(l.Tc(0,"span"),l.Oc(1,"i",12),l.Sc())}function st(e,t){if(1&e&&(l.Tc(0,"span",25),l.Tc(1,"strong"),l.Rd(2,"\u0395\u03af\u03b4\u03bf\u03c2: "),l.Sc(),l.Rd(3),l.Sc()),2&e){var i=l.gd().$implicit;l.Ac(3),l.Sd(i.eidosOximatos)}}function ot(e,t){if(1&e&&(l.Tc(0,"span",25),l.Tc(1,"strong"),l.Rd(2,"\u039c\u03ac\u03c1\u03ba\u03b1: "),l.Sc(),l.Rd(3),l.Sc()),2&e){var i=l.gd().$implicit;l.Ac(3),l.Sd(i.markaOximatos)}}function rt(e,t){if(1&e&&(l.Tc(0,"span",25),l.Tc(1,"strong"),l.Rd(2,"\u03a7\u03c1\u03ce\u03bc\u03b1: "),l.Sc(),l.Rd(3),l.Sc()),2&e){var i=l.gd().$implicit;l.Ac(3),l.Sd(i.xromaOximatos)}}function at(e,t){if(1&e&&(l.Tc(0,"span"),l.Tc(1,"strong"),l.Rd(2,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0392\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2:"),l.Sc(),l.Rd(3),l.Sc()),2&e){var i=l.gd().$implicit;l.Ac(3),l.Td(" ",i.stoixeiaBebaiosis,"")}}function ct(e,t){if(1&e&&(l.Tc(0,"span"),l.Oc(1,"br"),l.Tc(2,"strong"),l.Rd(3,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2:"),l.Sc(),l.Rd(4),l.Sc()),2&e){var i=l.gd().$implicit;l.Ac(4),l.Td(" ",i.stoixeiaApodeiksis,"")}}function dt(e,t){if(1&e&&(l.Tc(0,"tr"),l.Tc(1,"td",21),l.Tc(2,"span",22),l.Rd(3,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7"),l.Sc(),l.Pd(4,it,2,0,"span",3),l.Pd(5,nt,2,0,"span",3),l.Sc(),l.Tc(6,"td",18),l.Tc(7,"span",22),l.Rd(8,"\u0391\u03c1. \u039a\u03bb\u03ae\u03c3\u03b7\u03c2"),l.Sc(),l.Rd(9),l.Sc(),l.Tc(10,"td",19),l.Tc(11,"span",22),l.Rd(12,"\u0397\u03bc/\u03bd\u03af\u03b1 - \u038f\u03c1\u03b1"),l.Sc(),l.Rd(13),l.hd(14,"date"),l.Sc(),l.Tc(15,"td",18),l.Tc(16,"span",22),l.Rd(17,"\u039f\u03b4\u03cc\u03c2 - \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2"),l.Sc(),l.Rd(18),l.Sc(),l.Tc(19,"td",18),l.Tc(20,"span",22),l.Rd(21,"\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2"),l.Sc(),l.Rd(22),l.Sc(),l.Tc(23,"td",19),l.Tc(24,"span",22),l.Rd(25,"\u038c\u03c7\u03b7\u03bc\u03b1"),l.Sc(),l.Pd(26,st,4,1,"span",23),l.Pd(27,ot,4,1,"span",23),l.Pd(28,rt,4,1,"span",23),l.Sc(),l.Tc(29,"td",24),l.Tc(30,"span",22),l.Rd(31,"\u03a0\u03bf\u03c3\u03cc"),l.Sc(),l.Rd(32),l.hd(33,"currency"),l.Sc(),l.Tc(34,"td",18),l.Tc(35,"span",22),l.Rd(36,"\u039f\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1"),l.Sc(),l.Pd(37,at,4,1,"span",3),l.Pd(38,ct,5,1,"span",3),l.Sc(),l.Sc()),2&e){var i=t.$implicit;l.Ac(4),l.pd("ngIf",i.statusId&&2==i.statusId),l.Ac(1),l.pd("ngIf",i.statusId&&6==i.statusId),l.Ac(4),l.Td(" ",i.arithmosKlisis," "),l.Ac(4),l.Ud(" ",l.jd(14,15,i.hmerominiaEkdosis,"dd/MM/yyyy")," ",i.oraEkdosis&&i.hmerominiaEkdosis?"- "+i.oraEkdosis:i.oraEkdosis," "),l.Ac(5),l.Vd(" ",i.odosPerigrafi," ",i.odosPerigrafi&&i.odosArithmos?"-":""," ",i.odosArithmos," "),l.Ac(4),l.Td(" ",i.arithmosKikloforias," "),l.Ac(4),l.pd("ngIf",i.eidosOximatos),l.Ac(1),l.pd("ngIf",i.markaOximatos),l.Ac(1),l.pd("ngIf",i.xromaOximatos),l.Ac(4),l.Td(" ",l.ld(33,18,i.pliroteoPoso,"EUR","symbol","1.2-2")," "),l.Ac(5),l.pd("ngIf",i.stoixeiaBebaiosis),l.Ac(1),l.pd("ngIf",i.stoixeiaApodeiksis)}}function lt(e,t){if(1&e&&(l.Tc(0,"tr"),l.Tc(1,"td",26),l.Tc(2,"strong"),l.Rd(3),l.hd(4,"currency"),l.Sc(),l.Sc(),l.Sc()),2&e){var i=l.gd(2);l.Ac(3),l.Td("\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc: ",l.md(4,1,l.vd(7,$e,i.sumPliroteoPoso)),"")}}function ut(e,t){if(1&e&&(l.Rc(0),l.Tc(1,"legend",9),l.Tc(2,"span",10),l.Oc(3,"i",11),l.Rd(4," \u0395\u039e\u039f\u03a6\u039b\u0397\u03a3\u0397 \u03a3\u03a4\u039f \u0394\u0397\u039c\u039f"),l.Sc(),l.Tc(5,"span",10),l.Oc(6,"i",12),l.Rd(7," \u0395\u039e\u039f\u03a6\u039b\u0397\u03a3\u0397 WEB"),l.Sc(),l.Sc(),l.Tc(8,"p"),l.Rd(9,"\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u039a\u03bb\u03ae\u03c3\u03b5\u03c9\u03bd: "),l.Tc(10,"strong"),l.Rd(11),l.Sc(),l.Sc(),l.Tc(12,"p-table",13),l.Pd(13,tt,17,0,"ng-template",14),l.Pd(14,dt,39,23,"ng-template",15),l.Pd(15,lt,5,9,"ng-template",16),l.Sc(),l.Qc()),2&e){var i=l.gd();l.Ac(11),l.Sd(i.model.length),l.Ac(1),l.pd("value",i.model)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",i.model.length)}}var ht=["klisiAnazitisi"],pt=["klisiPayUnauthorized"];function mt(e,t){if(1&e&&l.Oc(0,"p-message",5),2&e){var i=l.gd();l.pd("severity",i.bankStatusMessageClass)("text",i.bankStatusMessage)("styleClass","mb-2")}}function ft(e,t){if(1&e&&(l.Tc(0,"a",6),l.Oc(1,"i",7),l.Rd(2," \u0395\u03c0\u03b9\u03c3\u03c4\u03c1\u03bf\u03c6\u03ae"),l.Sc()),2&e){var i=l.gd();l.qd("href",i.callbackUrl,l.Id)}}function gt(e,t){if(1&e&&l.Oc(0,"div",30),2&e){var i=l.gd(2);l.pd("innerHTML",i.formErrorsMsg,l.Hd)}}function yt(e,t){1&e&&(l.Tc(0,"div",31),l.Tc(1,"span",32),l.Oc(2,"i",33),l.Sc(),l.Sc())}function bt(e,t){if(1&e&&(l.Tc(0,"div"),l.Rd(1),l.Sc()),2&e){var i=l.gd(3);l.Dc("alert alert-",i.requestMsgClass," text-white"),l.Ac(1),l.Td(" ",i.requestMsg," ")}}function vt(e,t){if(1&e){var i=l.Uc();l.Tc(0,"div",10),l.Tc(1,"div",20),l.Tc(2,"label"),l.Rd(3,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1*"),l.Sc(),l.Tc(4,"input",48,49),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(4).model.debtorName=e})),l.Sc(),l.Tc(6,"div",17),l.Rd(7," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),l.Sc(),l.Sc(),l.Tc(8,"div",20),l.Tc(9,"label"),l.Rd(10,"\u0391.\u03a6.\u039c.*"),l.Sc(),l.Tc(11,"input",50,51),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(4).model.tin=e})),l.Sc(),l.Tc(13,"div",17),l.Rd(14," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2 \u03b1\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u0391.\u03a6.\u039c. "),l.Sc(),l.Sc(),l.Sc()}if(2&e){var n=l.Ed(5),s=l.Ed(12),o=l.gd(4);l.Ac(4),l.pd("ngModel",o.model.debtorName),l.Ac(2),l.pd("hidden",!o.isFormPaySubmitted||o.isFormPaySubmitted&&n.valid),l.Ac(5),l.pd("ngModel",o.model.tin),l.Ac(2),l.pd("hidden",!o.isFormPaySubmitted||o.isFormPaySubmitted&&s.valid)}}function kt(e,t){if(1&e){var i=l.Uc();l.Tc(0,"div",53),l.Tc(1,"label"),l.Rd(2,"Email*"),l.Sc(),l.Tc(3,"input",54,55),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(5).model.email=e})),l.Sc(),l.Tc(5,"div",17),l.Rd(6," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),l.Sc(),l.Sc()}if(2&e){var n=l.Ed(4),s=l.gd(5);l.pd("ngClass",s.response.hasTilefono?"col-md-12":"col-md-6"),l.Ac(3),l.pd("ngModel",s.model.email),l.Ac(2),l.pd("hidden",!s.isFormPaySubmitted||s.isFormPaySubmitted&&n.valid)}}function St(e,t){if(1&e){var i=l.Uc();l.Tc(0,"div",53),l.Tc(1,"label"),l.Rd(2,"\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf*"),l.Sc(),l.Tc(3,"input",56,57),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(5).model.tilefono=e})),l.Sc(),l.Tc(5,"div",17),l.Rd(6," *\u03a4\u03bf \u03ba\u03b9\u03bd\u03b7\u03c4\u03cc \u03c4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03ad\u03c7\u03b5\u03b9 10 \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 69\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7. "),l.Sc(),l.Sc()}if(2&e){var n=l.Ed(4),s=l.gd(5);l.pd("ngClass",s.response.hasEmail?"col-md-12":"col-md-6"),l.Ac(3),l.pd("ngModel",s.model.tilefono),l.Ac(2),l.pd("hidden",!s.isFormPaySubmitted||s.isFormPaySubmitted&&n.valid)}}function Pt(e,t){if(1&e&&(l.Tc(0,"div",10),l.Pd(1,kt,7,3,"div",52),l.Pd(2,St,7,3,"div",52),l.Sc()),2&e){var i=l.gd(4);l.Ac(1),l.pd("ngIf",!i.response.hasEmail),l.Ac(1),l.pd("ngIf",!i.response.hasTilefono)}}function At(e,t){if(1&e){var i=l.Uc();l.Tc(0,"div",10),l.Tc(1,"div",58),l.Tc(2,"label"),l.Rd(3,"\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7*"),l.Sc(),l.Tc(4,"input",59,60),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(4).model.address=e})),l.Sc(),l.Tc(6,"div",17),l.Rd(7," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),l.Sc(),l.Sc(),l.Tc(8,"div",61),l.Tc(9,"label"),l.Rd(10,"\u03a4.\u039a.*"),l.Sc(),l.Tc(11,"input",62,63),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(4).model.tk=e})),l.Sc(),l.Tc(13,"div",17),l.Rd(14," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),l.Sc(),l.Sc(),l.Tc(15,"div",20),l.Tc(16,"label"),l.Rd(17,"\u03a0\u03cc\u03bb\u03b7*"),l.Sc(),l.Tc(18,"input",64,65),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(4).model.poli=e})),l.Sc(),l.Tc(20,"div",17),l.Rd(21," \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),l.Sc(),l.Sc(),l.Tc(22,"div",14),l.Tc(23,"label"),l.Rd(24,"\u03a7\u03ce\u03c1\u03b1*"),l.Sc(),l.Tc(25,"ng-select",66,67),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd(4).model.countryId=e})),l.Sc(),l.Tc(27,"div",17),l.Rd(28," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),l.Sc(),l.Sc(),l.Sc()}if(2&e){var n=l.Ed(5),s=l.Ed(12),o=l.Ed(19),r=l.gd(4);l.Ac(4),l.pd("ngModel",r.model.address),l.Ac(2),l.pd("hidden",!r.isFormPaySubmitted||r.isFormPaySubmitted&&n.valid),l.Ac(5),l.pd("ngModel",r.model.tk),l.Ac(2),l.pd("hidden",!r.isFormPaySubmitted||r.isFormPaySubmitted&&s.valid),l.Ac(5),l.pd("ngModel",r.model.poli),l.Ac(2),l.pd("hidden",!r.isFormPaySubmitted||r.isFormPaySubmitted&&o.valid),l.Ac(5),l.pd("items",r.countriesList)("virtualScroll",!0)("searchable",!0)("ngModel",r.model.countryId),l.Ac(2),l.pd("hidden",!r.isFormPaySubmitted||r.isFormPaySubmitted&&r.model.countryId)}}function Ct(e,t){if(1&e&&l.Oc(0,"div",30),2&e){var i=l.gd(4);l.pd("innerHTML",i.formErrorsMsgPay,l.Hd)}}function Tt(e,t){if(1&e){var i=l.Uc();l.Tc(0,"form",36,37),l.Pd(2,vt,15,4,"div",38),l.Pd(3,Pt,3,2,"div",38),l.Pd(4,At,29,11,"div",38),l.Tc(5,"div",39),l.Tc(6,"button",40),l.ed("click",(function(){return l.Gd(i),l.gd(3).onCreatePaymentRequest()})),l.Oc(7,"i",41),l.Rd(8," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),l.Sc(),l.Tc(9,"div",42),l.Oc(10,"img",43),l.Oc(11,"img",44),l.Oc(12,"img",45),l.Oc(13,"img",46),l.Oc(14,"img",47),l.Sc(),l.Sc(),l.Pd(15,Ct,1,1,"div",28),l.Sc()}if(2&e){var n=l.gd(3);l.Ac(2),l.pd("ngIf",!n.response.hasOfeileti&&n.response.isOfeiletisPay),l.Ac(1),l.pd("ngIf",!n.response.hasEmail||!n.response.hasTilefono),l.Ac(1),l.pd("ngIf",!n.response.hasDieuthinsi),l.Ac(9),l.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa-secure.svg",l.Id),l.Ac(1),l.pd("src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard-idcheck.svg",l.Id),l.Ac(1),l.pd("ngIf",n.formErrorsMsgPay&&""!=n.formErrorsMsgPay)}}function It(e,t){if(1&e&&(l.Rc(0),l.Pd(1,bt,2,4,"div",34),l.Pd(2,Tt,16,6,"form",35),l.Qc()),2&e){var i=l.gd(2);l.Ac(1),l.pd("ngIf",i.requestMsg&&""!=i.requestMsg),l.Ac(1),l.pd("ngIf",i.response.canPay)}}function Rt(e,t){if(1&e){var i=l.Uc();l.Rc(0),l.Tc(1,"form",8,9),l.Tc(3,"div",10),l.Tc(4,"div",11),l.Tc(5,"p-checkbox",12,13),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd().model.isForeign=e})),l.Sc(),l.Sc(),l.Tc(7,"div",14),l.Tc(8,"label"),l.Rd(9,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2*"),l.Sc(),l.Tc(10,"input",15,16),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd().model.arithmosKlisis=e})),l.Sc(),l.Tc(12,"div",17),l.Rd(13," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03ad\u03c0\u03bf\u03bd\u03c4\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03bc\u03ad\u03c7\u03c1\u03b9 12 \u03b1\u03c1\u03b9\u03b8\u03bc\u03bf\u03af. "),l.Sc(),l.Sc(),l.Tc(14,"div",14),l.Tc(15,"label"),l.Rd(16,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2*"),l.Sc(),l.Tc(17,"input",18,19),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd().model.arithmosKikloforias=e})),l.Sc(),l.Tc(19,"div",17),l.Rd(20," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),l.Sc(),l.Sc(),l.Tc(21,"div",20),l.Tc(22,"label"),l.Rd(23,"\u0388\u03c4\u03bf\u03c2 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2*"),l.Sc(),l.Tc(24,"input",21,22),l.ed("ngModelChange",(function(e){return l.Gd(i),l.gd().model.etos=e})),l.Sc(),l.Tc(26,"div",17),l.Rd(27),l.Sc(),l.Sc(),l.Sc(),l.Tc(28,"div",23),l.Tc(29,"button",24),l.ed("click",(function(){return l.Gd(i),l.gd().onCheckKlisi()})),l.Oc(30,"i",25),l.Rd(31," \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7"),l.Sc(),l.Tc(32,"button",26),l.ed("click",(function(){return l.Gd(i),l.gd().onCancel()})),l.Oc(33,"i",27),l.Rd(34," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7"),l.Sc(),l.Sc(),l.Pd(35,gt,1,1,"div",28),l.Sc(),l.Pd(36,yt,3,0,"div",29),l.Pd(37,It,3,2,"ng-container",3),l.Qc()}if(2&e){var n=l.Ed(11),s=l.Ed(18),o=l.Ed(25),r=l.gd();l.Ac(5),l.pd("ngModel",r.model.isForeign)("disabled",r.response&&r.response.canPay),l.Ac(5),l.pd("ngModel",r.model.arithmosKlisis)("disabled",r.response&&r.response.canPay),l.Ac(2),l.pd("hidden",!r.isFormSubmitted||r.response||r.isFormSubmitted&&n.valid),l.Ac(5),l.pd("ngModel",r.model.arithmosKikloforias)("disabled",r.response&&r.response.canPay),l.Ac(2),l.pd("hidden",!r.isFormSubmitted||r.response||r.isFormSubmitted&&s.valid),l.Ac(5),l.pd("ngModel",r.model.etos)("disabled",r.response&&r.response.canPay),l.Ac(2),l.pd("hidden",!r.isFormSubmitted||r.response||r.isFormSubmitted&&o.valid),l.Ac(1),l.Td(" \u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf & \u03c4\u03b7\u03c2 \u03bc\u03bf\u03c1\u03c6\u03ae\u03c2 \u03a7\u03a7\u03a7\u03a7 \u03cc\u03c0\u03bf\u03c5 \u03a7 \u03bc\u03cc\u03bd\u03bf \u03c8\u03b7\u03c6\u03af\u03b1 \u03ba\u03b1\u03b9 \u03bc\u03b9\u03ba\u03c1\u03cc\u03c4\u03b5\u03c1\u03bf \u03ae \u03af\u03c3\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf ",r.thisYear,". "),l.Ac(8),l.pd("ngIf",r.formErrorsMsg&&""!=r.formErrorsMsg),l.Ac(1),l.pd("ngIf",r.isLoading),l.Ac(1),l.pd("ngIf",r.response&&!r.isLoading)}}var Ot={firstDayOfWeek:1,dayNames:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf"],dayNamesShort:["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5\u03c4","\u03a4\u03b5\u03c4","\u03a4\u03c1","\u03a0\u03b5\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03b1\u03b2"],dayNamesMin:["\u039a","\u0394","\u03a4","\u03a4","\u03a0","\u03a0","\u03a3"],monthNames:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],monthNamesShort:["\u0399\u03b1\u03bd","\u03a6\u03b5\u03b2","\u039c\u03ac\u03c1","\u0391\u03c0\u03c1","\u039c\u03ac\u03b9","\u0399\u03bf\u03cd","\u0399\u03bf\u03cd","\u0391\u03cd\u03b3","\u03a3\u03b5\u03c0","\u039f\u03ba\u03c4","\u039d\u03bf\u03ad","\u0394\u03b5\u03ba"],today:"\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1",clear:"\u039a\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"},wt="".concat((new Date).getFullYear()-50,":").concat((new Date).getFullYear()+50);function Mt(e){return e.setHours(e.getHours()-e.getTimezoneOffset()/60),e}function xt(e){try{e.detectChanges()}catch(t){}}function Et(e,t,i){var n="",s=[],o=e.control;return Object.keys(o.controls).forEach((function(e){var t=o.get(e);t instanceof v.d&&s.push.apply(s,c(function e(t){var i=[];return Object.keys(t.controls).forEach((function(n){var s=t.get(n);s instanceof v.d&&i.push.apply(i,c(e(s)));var o=s.errors;o&&Object.keys(o).forEach((function(e){i.push({control:n,error:e,value:o[e]})}))})),i}(t)));var i=t.errors;i&&Object.keys(i).forEach((function(t){s.push({control:e,error:t,value:i[t]})}))})),!(!s&&!i)&&(n="<ul>",s.forEach((function(e){var i,s=e.control.split("-")[0];"required"==e.error?i="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"minlength"==e.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"maxlength"==e.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03ad\u03b3\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"afmvalidator"==e.error&&(i="\u039f \u0391.\u03a6.\u039c. \u03b4\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9"),n+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+t[s]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+i+"</li>"})),n+=i,n+="</ul>")}function _t(e){var t=new RegExp("^[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7]{2}[\u0391\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u039d\u039f\u03a1\u03a4\u03a5\u03a7 ][0-9]{4}$"),i=new RegExp("^[\u0394\u039f\u039a][0-9]{4}$");return!(!t.test(e)&&!i.test(e))}function Dt(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toUpperCase()).replace("A","\u0391")).replace("B","\u0392")).replace("E","\u0395")).replace("H","\u0397")).replace("I","\u0399")).replace("K","\u039a")).replace("M","\u039c")).replace("N","\u039d")).replace("O","\u039f")).replace("P","\u03a1")).replace("T","\u03a4")).replace("X","\u03a7")).replace("Y","\u03a5")).replace("Z","\u0396")}function Ut(e){return e&&""!=e.trim().toString()&&(e=function(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toUpperCase()).replace(new RegExp("\u0393","g"),"")).replace(new RegExp("\u0394","g"),"")).replace(new RegExp("\u0398","g"),"")).replace(new RegExp("\u039b","g"),"")).replace(new RegExp("\u039e","g"),"")).replace(new RegExp("\u03a0","g"),"")).replace(new RegExp("\u03a3","g"),"")).replace(new RegExp("\u03a6","g"),"")).replace(new RegExp("\u03a8","g"),"")).replace(new RegExp("\u03a9","g"),"")).replace(new RegExp("C","g"),"")).replace(new RegExp("D","g"),"")).replace(new RegExp("F","g"),"")).replace(new RegExp("G","g"),"")).replace(new RegExp("J","g"),"")).replace(new RegExp("L","g"),"")).replace(new RegExp("Q","g"),"")).replace(new RegExp("R","g"),"")).replace(new RegExp("S","g"),"")).replace(new RegExp("U","g"),"")).replace(new RegExp("V","g"),"")).replace(new RegExp("W","g"),"")}(e)),e}function qt(e,t){var i="";if(e.error instanceof Error&&e.error&&e.error.message||void 0!==e.error&&e.error&&e.error.message)i=""+e.error.message;else switch(e.status){case 400:i=e.error;break;case 403:i="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. \n";break;case 401:i="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. \n",setTimeout((function(){return window.location.reload()}),1e3);break;default:i="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1 \u03bc\u03b5 \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc ".concat(e.status,", \u03ba\u03b1\u03b9 \u03c0\u03b5\u03c1\u03b9\u03b5\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf: ").concat(void 0!==e.body?e.body.error:void 0!==e.message?e.message:"")}return console.log("ERRORING: ",e),t.showError("\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1",""+i),Object(h.a)(!1)}var Kt=function(){function e(t){o(this,e),this.toastrSrv=t}return a(e,[{key:"show",value:function(e,t,i){t&&this.toastrSrv[i](t,e,{progressBar:!0,onActivateTick:!0})}},{key:"showError",value:function(e,t){this.show(e,t,"error")}},{key:"showInfo",value:function(e,t){this.show(e,t,"info")}},{key:"showSuccess",value:function(e,t){this.show(e,t,"success")}},{key:"showWarning",value:function(e,t){this.show(e,t,"warning")}}]),e}();Kt.\u0275fac=function(e){return new(e||Kt)(l.bd(k.b))},Kt.\u0275prov=Object(l.Jc)({factory:function(){return new Kt(Object(l.bd)(k.b))},token:Kt,providedIn:"root"}),Kt.ctorParameters=function(){return[{type:k.b}]};var Ft=function e(t){var i=this;o(this,e),this.toasterSrv=t,this.catchBadResponse=function(e){var t="";if(e.error instanceof Error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else if(void 0!==e.error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else switch(e.status){case 403:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error "+e.status;break;case 401:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n "+e.status;break;default:t="Backend returned code ".concat(e.status,", body was: ").concat(void 0!==e.body?e.body.error:void 0!==e.message?e.message:"")}return i.toasterSrv.showError("",""+t),Object(h.a)(!1)}};Ft.\u0275fac=function(e){return new(e||Ft)(l.bd(Kt))},Ft.\u0275prov=Object(l.Jc)({factory:function(){return new Ft(Object(l.bd)(Kt))},token:Ft,providedIn:"root"}),Ft.ctorParameters=function(){return[{type:Kt}]};var jt=function(e){!function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),i&&t(e,i)}(s,e);var n=i(s);function s(e,t,i){var r;return o(this,s),(r=n.call(this,i,e,t)).exceptionSrv=e,r.toasterSrv=t,r.http=i,r.kliseisUrl=r.baseUrl+"/KliseisWeb",r.kliseisFinanceUrl=r.baseUrl+"/Finance",r}return a(s,[{key:"getKliseis",value:function(e){var t=this;return this.http.get("".concat(this.kliseisUrl,"/GetKliseisWebByAfm/").concat(e)).pipe(Object(f.a)((function(e){return e})),Object(g.a)((function(e){return qt(e,t.toasterSrv)})))}},{key:"getKliseisPayed",value:function(e){var t=this;return this.http.get("".concat(this.kliseisUrl,"/GetKliseisPayedWebByAfm/").concat(e)).pipe(Object(f.a)((function(e){return e})),Object(g.a)((function(e){return qt(e,t.toasterSrv)})))}},{key:"getKlisiById",value:function(e){var t=this;return this.http.get("".concat(this.kliseisUrl,"/GetById/").concat(e)).pipe(Object(f.a)((function(e){return e})),Object(g.a)((function(e){return qt(e,t.toasterSrv)})))}},{key:"getStoixeiaKlisisForWebPliromi",value:function(e){var t=this;return this.http.post(this.kliseisUrl+"/GetStoixeiaKlisisForWebPliromi/",e).pipe(Object(f.a)((function(e){return e})),Object(g.a)((function(e){return qt(e,t.toasterSrv)})))}},{key:"getStoixeiaKlisisForWebPliromiEtos",value:function(e){var t=this;return this.http.post(this.kliseisUrl+"/GetStoixeiaKlisisForWebPliromiEtos/",e).pipe(Object(f.a)((function(e){return e})),Object(g.a)((function(e){return qt(e,t.toasterSrv)})))}},{key:"createKlisiWebAsync",value:function(e){var t=this,i=this.kliseisUrl+"/CreateKlisiWebAsync";return this.http.post(i,e).pipe(Object(f.a)((function(e){return e})),Object(g.a)((function(e){return qt(e,t.toasterSrv)})))}},{key:"markKlisiWebExoflisi",value:function(e){var t=this,i=this.kliseisUrl+"/MarkKlisiWebExoflisi";return this.http.post(i,e).pipe(Object(f.a)((function(e){return e})),Object(g.a)((function(e){return qt(e,t.toasterSrv)})))}},{key:"addPaymentRequest",value:function(e){var t=this,i=this.financeUrl+"/Banks/AddPaymentRequest";return this.http.post(i,e).pipe(Object(f.a)((function(e){return e})),Object(g.a)((function(e){return qt(e,t.toasterSrv)})))}},{key:"getFinancePaymentCallback",value:function(e){var t=this;return this.http.get("".concat(this.kliseisUrl,"/GetFinancePaymentCallback?btId=").concat(e.btId,"&returnUrl=").concat(e.returnUrl,"&status=").concat(e.status,"&messagecode=").concat(e.messagecode)).pipe(Object(f.a)((function(e){return e})),Object(g.a)((function(e){return qt(e,t.toasterSrv)})))}},{key:"fillPaymentRequestDtoNonAuthorized",value:function(e){var t=this,i=this.kliseisFinanceUrl+"/FillPaymentRequestDtoNonAuthorized";return this.http.post(i,e).pipe(Object(f.a)((function(e){return e})),Object(g.a)((function(e){return qt(e,t.toasterSrv)})))}},{key:"fillPaymentRequestAuthorized",value:function(e){var t=this,i=this.kliseisFinanceUrl+"/FillPaymentRequestDtoAuthorized";return this.http.post(i,e).pipe(Object(f.a)((function(e){return e})),Object(g.a)((function(e){return qt(e,t.toasterSrv)})))}},{key:"getPaymentSettings",value:function(){var e=this,t=this.baseUrl+"/oikonomiki/GetPaymentSettings";return this.paymentSettings?Object(h.a)(this.paymentSettings):this.http.get(t).pipe(Object(f.a)((function(t){return e.paymentSettings=t,t})),Object(g.a)((function(t){return qt(t,e.toasterSrv)})))}},{key:"getPluginCustomerOptions",value:function(){var e=this,t=this.baseUrl+"/Configurations/GetPluginCustomerSpecificOptions";return this.http.get(t).pipe(Object(f.a)((function(e){return e})),Object(g.a)((function(t){return qt(t,e.toasterSrv)})))}}]),s}(function(){return function e(t,i,n){var s=this;o(this,e),this.http=t,this.exceptionService=i,this.toasterSrv=n,this.getBaseUrl=function(){return s.baseUrl},AppConfOptions&&AppConfOptions.kliseis_api?(this.baseUrl=AppConfOptions.kliseis_api,this.financeUrl=AppConfOptions.epayments_api):(this.baseUrl="/",this.financeUrl=AppConfOptions.financeApi),this.baseUrl+="api",this.financeUrl+="api"}}());jt.\u0275fac=function(e){return new(e||jt)(l.bd(Ft),l.bd(Kt),l.bd(u.b))},jt.\u0275prov=Object(l.Jc)({factory:function(){return new jt(Object(l.bd)(Ft),Object(l.bd)(Kt),Object(l.bd)(u.b))},token:jt,providedIn:"root"}),jt.ctorParameters=function(){return[{type:Ft},{type:Kt},{type:u.b}]};var Lt=function(){function e(t){o(this,e),this.http=t,this.isAuthorizedSubject=new p.a(null),this.isAuthorized$=this.isAuthorizedSubject.asObservable(),this.userInfoSubject=new p.a(null),this.userInfo$=this.userInfoSubject.asObservable(),this.applicationOptionsSubject=new p.a(null),this.applicationOptions$=this.applicationOptionsSubject.asObservable(),this.customerSpecificOptionsSubject=new p.a(null),this.customerSpecificOptions$=this.customerSpecificOptionsSubject.asObservable(),this.pluginCustomerSpecificOptionsSubject=new p.a(null),this.pluginCustomerSpecificOptions$=this.pluginCustomerSpecificOptionsSubject.asObservable(),AppConfOptions&&AppConfOptions.kliseis_api?this.baseUrl=AppConfOptions.kliseis_api:this.baseUrl="/",this.baseUrl+="api",this.egOnInit()}return a(e,[{key:"egOnInit",value:function(){var e=this;this.isAuthorized$.subscribe((function(t){e.isAuthorized=t})),this.userInfo$.subscribe((function(t){e.userInfo=t})),this.applicationOptions$.subscribe((function(t){e.applicationOptions=t})),this.customerSpecificOptions$.subscribe((function(t){e.customerSpecificOptions=t})),this.pluginCustomerSpecificOptions$.subscribe((function(t){e.pluginCustomerSpecificOptions=t}))}},{key:"initIsAuthorized",value:function(){if(!this.isAuthorized)for(var e,t=0;t<window.localStorage.length;t++){var i=window.localStorage.key(t);"_isAuthorized"===i.slice(0,13)&&(e=JSON.parse(window.localStorage.getItem(i)),this.isAuthorizedSubject.next(e))}}},{key:"initUserInfo",value:function(){if(!this.userInfo)for(var e=null,t=0;t<window.localStorage.length;t++){var i=window.localStorage.key(t);"userData"===i.slice(0,8)&&(e=JSON.parse(window.localStorage.getItem(i)),this.userInfoSubject.next({email:e.email,username:e.given_name,tin:e.tin,family_name:e.family_name,given_name:e.given_name,fathers_name:e.fathers_name,mothers_name:e.mothers_name,name:e.name,address_city:e.address_city,address_country_code:e.address_country_code,address_zip:e.address_zip,address:e.address,adt:e.adt,phone_number:e.phone_number}))}}},{key:"iniApplicationOptions",value:function(){var e=this;if(!this.applicationOptions){var t=this.baseUrl+"/Configurations/GetAllOptions";this.http.get(t).subscribe((function(t){t&&e.applicationOptionsSubject.next(t)}))}}},{key:"initCustomerSpecificOptions",value:function(){var e=this;if(!this.customerSpecificOptions){var t=this.baseUrl+"/Configurations/GetCustomerSpecificOptions";this.http.get(t).subscribe((function(t){t&&e.customerSpecificOptionsSubject.next(t)}))}}},{key:"initPluginCustomerSpecificOptions",value:function(){var e=this;if(!this.pluginCustomerSpecificOptions){var t=this.baseUrl+"/Configurations/GetPluginCustomerSpecificOptions";this.http.get(t).subscribe((function(t){t&&e.pluginCustomerSpecificOptionsSubject.next(t)}))}}}]),e}();Lt.\u0275fac=function(e){return new(e||Lt)(l.bd(u.b))},Lt.\u0275prov=Object(l.Jc)({factory:function(){return new Lt(Object(l.bd)(u.b))},token:Lt,providedIn:"root"}),Lt.ctorParameters=function(){return[{type:u.b}]};var Nt=function(){function e(t,i,n,s,r,a,c){o(this,e),this.kliseisNgSrv=t,this.pluginCacheSrv=i,this.toasterSrv=n,this._http=s,this.router=r,this.route=a,this.cdr=c,this.onDestroy=new m.a,this.paymentResponseDto=null,this.countriesList=[],this.index=0,this.isAddingKlisi=!1,this.isDataChanged=!1,this.isAuthorized=!1,this.isLoadingPaymentRequest=!1,this.applicationUrl="",this.kliseisApiUrl="",this.financeApiUrl="",this.returnUrl="",this.onTbChanged=!1,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.kliseisApiUrl=AppConfOptions.kliseis_api,this.financeApiUrl=AppConfOptions.epayments_api,this.returnUrl=encodeURI(this.applicationUrl+"/kliseis/receipts")):(this.applicationUrl=AppConfOptions.applicationUrl,this.kliseisApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi,this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts"))}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.pluginCacheSrv.initIsAuthorized(),this.pluginCacheSrv.initUserInfo(),this.pluginCacheSrv.isAuthorized$.pipe(Object(y.a)((function(t){return e.isAuthorized=t||!1,e.isAuthorized?(e.router.url.includes("receipts")?e.onTabChanged({index:1}):e.onTabChanged({index:0}),e.pluginCacheSrv.userInfo$):Object(h.a)(!1)})),Object(y.a)((function(t){return t?(e.userInfo=t,"undefined"!=typeof AuthConfOptions?e._http.get(AuthConfOptions.stsServer+"/api/general/GetCountries"):e._http.get("http://auth.dev.egritosgroup.gr/api/general/GetCountries")):Object(h.a)(!1)})),Object(y.a)((function(t){return t?(e.countriesList=t,e.userInfo.address_country_code&&""!=e.userInfo.address_country_code&&(e.userInfo.address_country_num=e.countriesList.find((function(t){return t.Alpha2Code==e.userInfo.address_country_code})).NumericCode.toString()),e.kliseisNgSrv.getPluginCustomerOptions()):Object(h.a)(!1)})),Object(b.a)(this.onDestroy)).subscribe((function(t){if(t){var i=t;i.configurationOptions&&i.configurationOptions.length&&i.configurationOptions.some((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id}))&&(e.onlinePaymentsSettingsCompany=i.configurationOptions.find((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id})).value)}xt(e.cdr)})),this.router.events.pipe(Object(b.a)(this.onDestroy)).subscribe((function(t){if(t&&t instanceof S.c){var i=t.url;e.isAuthorized&&(i.includes("receipts")?e.index=1:e.index=0)}}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"ngAfterViewInit",value:function(){this.router.url.includes("receipts")?this.index=1:this.index=0,xt(this.cdr)}},{key:"onTabChanged",value:function(e){0==e.index?this.router.navigate(["./debits"],{relativeTo:this.route}):(this.onTbChanged=!0,xt(this.cdr),this.router.navigate(["./receipts"],{relativeTo:this.route,preserveQueryParams:!0}))}},{key:"onAddKlisiClicked",value:function(){this.isAddingKlisi=!0,xt(this.cdr)}},{key:"_klisiAdded",value:function(e){this.isDataChanged=!0,this.isAddingKlisi=!1,xt(this.cdr)}}]),e}();Nt.\u0275fac=function(e){return new(e||Nt)(l.Nc(jt),l.Nc(Lt),l.Nc(Kt),l.Nc(u.b),l.Nc(S.d),l.Nc(S.a),l.Nc(l.k))},Nt.\u0275cmp=l.Hc({type:Nt,selectors:[["lib-kliseis-ng"]],decls:4,vars:6,consts:[[4,"ngIf"],["header","\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u039d\u03ad\u03b1\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange"],[3,"userInfo","isLoadingPaymentRequest","relatedCallbackUrl","klisiAdded",4,"ngIf"],["class","d-flex justify-content-end mb-1",4,"ngIf"],[3,"activeIndex","onChange"],["header","\u0391\u03c0\u03bb\u03ae\u03c1\u03c9\u03c4\u03b5\u03c2 \u039a\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2"],[3,"isDataChanged","userInfo","onlinePaymentsSettingsCompany"],["header","\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd \u039a\u03bb\u03ae\u03c3\u03b5\u03c9\u03bd"],["pTemplate","content"],[1,"d-flex","justify-content-end","mb-1"],["type","button",1,"btn","btn-sm","btn-info",3,"click"],["aria-hidden","true",1,"fas","fa-plus","fa-fw"],[3,"tabChanged","changeTabIndex"],[3,"userInfo","isLoadingPaymentRequest","relatedCallbackUrl","klisiAdded"]],template:function(e,t){1&e&&(l.Pd(0,K,2,0,"ng-container",0),l.Pd(1,L,7,5,"ng-container",0),l.Tc(2,"p-dialog",1),l.ed("visibleChange",(function(e){return t.isAddingKlisi=e})),l.Pd(3,N,1,3,"lib-kliseis-add-new",2),l.Sc()),2&e&&(l.pd("ngIf",!t.isAuthorized),l.Ac(1),l.pd("ngIf",t.isAuthorized&&t.userInfo),l.Ac(1),l.pd("visible",t.isAddingKlisi)("draggable",!1)("closable",!0),l.Ac(1),l.pd("ngIf",t.isAddingKlisi&&t.userInfo))},directives:function(){return[P.p,w.a,ri,D.b,D.a,ii,q.f,ni,ti]},encapsulation:2,changeDetection:0}),Nt.ctorParameters=function(){return[{type:jt},{type:Lt},{type:Kt},{type:u.b},{type:S.d},{type:S.a},{type:l.k}]};var zt,Gt,Bt,Wt,$t=function(){function e(t,i){o(this,e),this.oidcSecuritySrv=t,this.router=i}return a(e,[{key:"canActivate",value:function(e,t){return this.oidcSecuritySrv.getIsAuthorized().pipe(Object(f.a)((function(e){return!!e})))}}]),e}();$t.\u0275fac=function(e){return new(e||$t)(l.bd(U.c),l.bd(S.d))},$t.\u0275prov=l.Jc({token:$t,factory:$t.\u0275fac}),$t.ctorParameters=function(){return[{type:U.c},{type:S.d}]},function(e){e[e.apliroti=1]="apliroti",e[e.exoflimeni=2]="exoflimeni",e[e.akiri=3]="akiri",e[e.diagrafiDS=4]="diagrafiDS",e[e.apoWeb=5]="apoWeb",e[e.exoflisiWeb=6]="exoflisiWeb"}(zt||(zt={}));var Ht=function e(){o(this,e),this.arithmosKlisis=null,this.hmerominiaEkdosis=null,this.arithmosKikloforias=null,this.oraEkdosis=null,this.poso=null,this.etos=null,this.isAuthorized=!0,this.debtorName=null,this.tin=null,this.email=null,this.tilefono=null,this.address=null,this.tk=null,this.poli=null,this.isForeign=!1,this.cardholderName=null},Vt=function e(){o(this,e),this.bankTransactionId=null,this.tin=null,this.adt=null,this.debtorName=null,this.address_city=null,this.address_country_code=null,this.address_zip=null,this.address=null,this.email=null,this.phone_number=null},Qt=function e(){o(this,e),this.remittanceInfo=null,this.amount=null,this.debtorName=null,this.tin=null,this.description=null},Jt=function e(){o(this,e),this.remittanceInfo=null,this.eponimia=null,this.tinRelated=null,this.billingAddress=null,this.billingAddressZip=null,this.billingAddressCity=null,this.billingAddressCountryCode=null,this.billingAddressState=null,this.userEmail=null,this.userPhone=null,this.userHomePhone=null,this.userWorkPhone=null,this.cardholderName=null,this.relatedCallbackUrl=null,this.paymentMethodKey=null},Xt=function e(){o(this,e),this.btId=null,this.returnUrl=null,this.status=null,this.messagecode=null};!function(e){e[e.Ok=1]="Ok",e[e.Error=2]="Error",e[e.Warning=3]="Warning",e[e.UndefinedError=4]="UndefinedError"}(Gt||(Gt={})),function(e){e.arithmosKlisis="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2",e.arithmosKikloforias="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2",e.poso="\u03a0\u03bf\u03c3\u03cc",e.etosKlisis="\u0388\u03c4\u03bf\u03c2 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2",e.email="Email",e.tilefono="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf",e.address="\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7",e.tk="\u03a4.\u039a.",e.poli="\u03a0\u03cc\u03bb\u03b7",e.hmerominiaEkdosis="\u0397\u03bc. \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2",e.debtorName="\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1",e.tin="\u0391.\u03a6.\u039c.",e.egsCountry="\u03a7\u03ce\u03c1\u03b1",e.cardHolderName="\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2"}(Bt||(Bt={})),function(e){e.billAddrState="\u03a0\u03b5\u03c1\u03b9\u03c6\u03ad\u03c1\u03b5\u03b9\u03b1",e.cardholderName="\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2",e.mobilePhone="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf"}(Wt||(Wt={}));var Yt=function(){function e(t,i,n){o(this,e),this.kliseisNgSrv=t,this.toasterSrv=i,this.cdr=n,this.isUnauthorized=!1,this.loadingCheckout=new l.x,this.onDestroy=new m.a,this.requestBankData=!1,this.errorMessageProfile=null,this.isFormSubmitted=!1,this.formDictionaryEnum=Wt}return a(e,[{key:"ngOnChanges",value:function(e){e&&e.onlinePaymentSettings&&(this.onlinePaymentSettings=e.onlinePaymentSettings.currentValue,this.onlinePaymentSettings&&this.onlinePaymentSettings.paymentMethods&&(this.pancretaPaymentMethod=this.onlinePaymentSettings.paymentMethods.find((function(e){return"STPGGRAA"==e.key})),document.getElementById("script_1_pancreta")||this.pancretaPaymentMethod&&this._loadPancretaScripts(this.pancretaPaymentMethod),this.ethnikiPaymentMethod=this.onlinePaymentSettings.paymentMethods.find((function(e){return"ETHNGRAA"==e.key})),document.getElementById("script_1_ethniki")||this.ethnikiPaymentMethod&&this.ethnikiPaymentMethod.parameters&&this._loadEthnikiScripts(this.ethnikiPaymentMethod)),xt(this.cdr)),e&&e.paymentRequestDto&&(this.isUnauthorized?(this.unauthorizedPaymentRequestDto=e.paymentRequestDto.currentValue,this.paymentRequestDto=void 0,this.unauthorizedPaymentRequestDto&&this._checkPaymentRequest()):(this.paymentRequestDto=e.paymentRequestDto.currentValue,this.paymentRequestDto&&this._checkPaymentRequest()),xt(this.cdr))}},{key:"onSelectPaymentMethod",value:function(e){var t=this;this.selectedPaymentMethod=e||this.onlinePaymentSettings.paymentMethods.filter((function(e){return e.key==t.onlinePaymentSettings.defaultPaymentMethodKey}))[0],this.paymentRequestDto&&(this.paymentRequestDto.paymentMethodKey=this.paymentRequestDto?this.selectedPaymentMethod.key:null),this.unauthorizedPaymentRequestDto&&(this.unauthorizedPaymentRequestDto.paymentMethodKey=this.unauthorizedPaymentRequestDto?this.selectedPaymentMethod.key:null),this.paymentRequestDto||this.unauthorizedPaymentRequestDto?(this.showMethods=!1,xt(this.cdr),this._submitPayment()):(this.showMethods=!1,xt(this.cdr))}},{key:"onEthnikiPaymentRequestSucceded",value:function(e){var t=this;this.paymentResponseDto=e;var i=document.getElementById("ethnikiPaymentBtn");i.setAttribute("data-amount",e.postFields.amount),i.setAttribute("data-reference",e.postFields.reference),i.setAttribute("data-sc-key",this.ethnikiPaymentMethod.parameters.publicKey),setTimeout((function(){i.click()})),SimplifyCommerce.hostedPayments((function(i){if(i){var n="data"in i;if("close"in i&&1==i.close){var s=document.createElement("input");s.setAttribute("name","PaymentStatus"),s.setAttribute("value","CLOSED"),s.setAttribute("type","text"),s.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(s);var o=document.createElement("input");o.setAttribute("name","Reference"),o.setAttribute("value",e.postFields.reference),o.setAttribute("type","text"),o.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(o),setTimeout((function(){t._submiToOikonomiki()}))}else if(n){var r=i;for(var a in r)if(r.hasOwnProperty(a)&&"data"==a)for(var c in r.data)r.data.hasOwnProperty(c)&&"object"==typeof r.data[c]&&delete r.data[c];("ErrorCode"in r||"declineReason"in r)&&(r.Reference=e.postFields.reference);for(var d=0,l=Object.keys(r);d<l.length;d++){var u=l[d];if("object"==typeof r[u])for(var h=0,p=Object.keys(r[u]);h<p.length;h++){var m=p[h],f=r[u][m],g=document.createElement("input");g.setAttribute("name",m),g.setAttribute("value",f),g.setAttribute("type","text"),g.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(g)}else{var y=r[u],b=document.createElement("input");b.setAttribute("name",u),b.setAttribute("value",y),b.setAttribute("type","text"),b.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(b)}}t.loadingCheckout.emit(!1),setTimeout((function(){t._submiToOikonomiki()}))}}}),{operation:"create.payment",scKey:this.ethnikiPaymentMethod.parameters.publicKey,color:"#204969",currency:"EUR",amount:e.postFields.amount,reference:e.postFields.reference,masterpass:e.postFields.masterpass})}},{key:"onPancretaPaymentRequestSucceded",value:function(e){this.paymentResponseDto=e,xt(this.cdr);var t=document.createElement("script");t.id="script_2_pancreta",document.body.appendChild(t),document.getElementById("script_2_pancreta").innerHTML='var everypay = Everypay("'+this.pancretaPaymentMethod.parameters.publicKey+'", { locale: "el" });',this.loadingCheckout.emit(!1),setTimeout((function(){var t=document.createElement("script");t.id="script_3_pancreta",document.body.appendChild(t),document.getElementById("script_3_pancreta").innerHTML='everypay.button("#everypay-btn-container", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"amount": '.concat(e.postFields.amount,',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"locale": "el",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"on_token_received": function(token, showError, hideForm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (token) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_token").value = token;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_form").submit();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\tdocument.getElementById("everypay-btn-container").querySelectorAll("button")[0].click();')}))}},{key:"_checkPaymentRequest",value:function(){var e=this;this.selectedPaymentMethod||(this.onlinePaymentSettings&&this.onlinePaymentSettings.defaultPaymentMethodKey?this.selectedPaymentMethod=this.onlinePaymentSettings.paymentMethods.filter((function(t){return t.key==e.onlinePaymentSettings.defaultPaymentMethodKey}))[0]:this.onlinePaymentSettings&&1==this.onlinePaymentSettings.paymentMethods.length&&(this.selectedPaymentMethod=this.onlinePaymentSettings.paymentMethods[0])),(this.paymentRequestDto||this.unauthorizedPaymentRequestDto)&&this.selectedPaymentMethod?(this.paymentRequestDto?this.paymentRequestDto.paymentMethodKey=this.selectedPaymentMethod.key:this.unauthorizedPaymentRequestDto&&(this.unauthorizedPaymentRequestDto.paymentMethodKey=this.selectedPaymentMethod.key),this.onSelectPaymentMethod(this.selectedPaymentMethod)):(this.paymentRequestDto||this.unauthorizedPaymentRequestDto)&&this.onlinePaymentSettings&&!this.selectedPaymentMethod&&setTimeout((function(){e.showMethods=!0,e.isLoadingPaymentResponse=!1,xt(e.cdr)}))}},{key:"_postBankForm",value:function(e){var t=this;if("ETHNGRAA"==this.selectedPaymentMethod.key&&null!=this.selectedPaymentMethod.parameters)this.onEthnikiPaymentRequestSucceded(e);else if("STPGGRAA"==this.selectedPaymentMethod.key)this.onPancretaPaymentRequestSucceded(e);else{var i=Object.keys(e.postFields).map((function(t){return{key:t,value:e.postFields[t]}}));e.postFields=i,this.paymentResponseDto=e,xt(this.cdr),this.loadingCheckout.emit(!1),setTimeout((function(){document.querySelector("#bankPaymentForm").submit(),t.isLoadingPaymentResponse=!1,xt(t.cdr)}))}}},{key:"_submiToOikonomiki",value:function(){document.querySelector("#ethniki_form").submit()}},{key:"_loadEthnikiScripts",value:function(e){return new Promise((function(t,i){var n=document.createElement("script");n.id="script_1_ethniki",n.src=e.parameters.javaScriptSource,n.onload=t,document.body.appendChild(n)}))}},{key:"_loadPancretaScripts",value:function(e){return new Promise((function(t,i){var n=document.createElement("script");n.id="script_1_pancreta",n.src=e.parameters.javaScriptSource,n.onload=t,document.body.appendChild(n)}))}},{key:"_submitPayment",value:function(){var e=this;this.paymentRequestDto?this.kliseisNgSrv.addPaymentRequest(this.paymentRequestDto).subscribe((function(t){if(t){var i=t;e.paymentResponseDto=i.model,i.statusCode==Gt.Ok?i.model.getUrl&&""!=i.model.getUrl?i.model.getUrl&&""!=i.model.getUrl&&window.open(i.model.getUrl,"_self"):e._postBankForm(i.model):i.statusCode==Gt.Error&&"DEBTOR_ADDRESS_REQUIRED"==i.messageId&&(e.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",e.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb."))}e.isLoadingPaymentResponse=!1,xt(e.cdr)})):this.unauthorizedPaymentRequestDto&&this.kliseisNgSrv.fillPaymentRequestDtoNonAuthorized(this.unauthorizedPaymentRequestDto).subscribe((function(t){if(t){var i=t;i.statusCode&&i.statusCode==Gt.Ok&&i.model?i.model.getUrl&&""!=i.model.getUrl?i.model.getUrl&&""!=i.model.getUrl&&window.open(i.model.getUrl,"_self"):e._postBankForm(i.model):i.statusCode&&i.statusCode==Gt.Error&&"DEBTOR_ADDRESS_REQUIRED"==i.messageId?(e.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",e.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.")):e.toasterSrv.showError("",i.message)}}))}},{key:"_closePaymentMethods",value:function(){var e=this;setTimeout((function(){e.showMethods=!1,xt(e.cdr)}))}}]),e}();Yt.\u0275fac=function(e){return new(e||Yt)(l.Nc(jt),l.Nc(Kt),l.Nc(l.k))},Yt.\u0275cmp=l.Hc({type:Yt,selectors:[["app-payment-methods"]],viewQuery:function(e,t){var i;1&e&&l.Wd(z,!0),2&e&&l.Dd(i=l.fd())&&(t.requestBankDataForm=i.first)},inputs:{isUnauthorized:"isUnauthorized",onlinePaymentSettings:"onlinePaymentSettings",paymentRequestDto:"paymentRequestDto",user:"user",countriesList:"countriesList",isLoadingCheckout:"isLoadingCheckout"},outputs:{loadingCheckout:"loadingCheckout"},features:[l.yc],decls:11,vars:11,consts:[["class","bg-white","style","width: 100%; height: 100px; text-align: center;",4,"ngIf"],["severity","error",3,"text",4,"ngIf"],["header","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03a4\u03c1\u03cc\u03c0\u03bf \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange","onHide"],[4,"ngIf"],["id","everypay_form","method","post",3,"action",4,"ngIf"],["id","ethniki_form","method","post",3,"action",4,"ngIf"],["id","ethnikiPaymentBtn","data-name","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae",1,"d-none"],["id","bankPaymentForm","method","POST",1,"d-none",3,"action"],[1,"bg-white",2,"width","100%","height","100px","text-align","center"],[1,"d-flex","justify-content-center","align-items-center","w-100",2,"height","70%"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],["severity","error",3,"text"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["styleClass","p-card-shadow m-1 payment-card",3,"header","subheader"],[1,"text-center"],["alt","Iris","src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/iris.jpg",4,"ngIf"],["alt","Iris","src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/iris.jpg"],[4,"ngFor","ngForOf"],["alt","service","height","40",3,"src"],["alt","visa-secure","width","40",3,"src",4,"ngIf"],["alt","mastercard-id-check","width","40",3,"src",4,"ngIf"],["alt","visa-secure","width","40",3,"src"],["alt","mastercard-id-check","width","40",3,"src"],["id","everypay_form","method","post",3,"action"],["id","everypay-btn-container",1,"d-none"],["name","everypay_token","id","everypay_token","type","text",1,"d-none",3,"value"],["type","text",1,"d-none",3,"name","value"],["id","ethniki_form","method","post",3,"action"],["type","text",3,"name","value"]],template:function(e,t){1&e&&(l.Pd(0,G,5,0,"div",0),l.Pd(1,B,1,1,"p-message",1),l.Tc(2,"p-dialog",2),l.ed("visibleChange",(function(e){return t.showMethods=e}))("onHide",(function(){return t.showMethods=!1,t.loadingCheckout.emit(!1)})),l.Pd(3,Z,2,1,"ng-container",3),l.Pd(4,ee,3,0,"div",0),l.Sc(),l.Pd(5,ne,3,2,"form",4),l.Pd(6,se,1,1,"form",5),l.Tc(7,"button",6),l.Rd(8," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\n"),l.Sc(),l.Tc(9,"form",7),l.Pd(10,re,2,1,"ng-container",3),l.Sc()),2&e&&(l.pd("ngIf",t.isLoadingPaymentResponse),l.Ac(1),l.pd("ngIf",t.errorMessageProfile&&""!=t.errorMessageProfile),l.Ac(1),l.pd("visible",t.showMethods)("draggable",!1)("closable",!0),l.Ac(1),l.pd("ngIf",t.onlinePaymentSettings),l.Ac(1),l.pd("ngIf",!t.onlinePaymentSettings),l.Ac(1),l.pd("ngIf",t.pancretaPaymentMethod),l.Ac(1),l.pd("ngIf",t.ethnikiPaymentMethod),l.Ac(3),l.qd("action",null==t.paymentResponseDto?null:t.paymentResponseDto.postUrl,l.Id),l.Ac(1),l.pd("ngIf",t.paymentResponseDto))},directives:[P.p,w.a,v.v,v.l,v.m,M.b,P.o,R.a],pipes:[P.m,P.i],encapsulation:2,changeDetection:0}),Yt.ctorParameters=function(){return[{type:jt},{type:Kt},{type:l.k}]},Yt.propDecorators={requestBankDataForm:[{type:l.mb,args:["requestBankDataForm",{static:!1}]}],paymentRequestDto:[{type:l.G}],user:[{type:l.G}],countriesList:[{type:l.G}],onlinePaymentSettings:[{type:l.G}],isUnauthorized:[{type:l.G}],isLoadingCheckout:[{type:l.G}],loadingCheckout:[{type:l.S}]};var Zt=function(){function t(e,i,n){o(this,t),this.kliseisNgSrv=e,this.toasterSrv=i,this.cdr=n,this.isUnauthorized=!1,this.onDestroy=new m.a,this.applicationUrl="",this.kliseisApiUrl="",this.financeApiUrl="",this.returnUrl="",this.termsLink="",this.showTermsModal=!1,this.termsValue="true",this.kliseisRemittanceInfos=[],this.initPaymentMethods=!1,this.isLoadingCheckout=!1}return a(t,[{key:"ngOnInit",value:function(){var e=this;"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.kliseisApiUrl=AppConfOptions.kliseis_api,this.financeApiUrl=AppConfOptions.epayments_api,this.returnUrl=encodeURI(this.applicationUrl+"/kliseis/receipts"),AppConfOptions.oroi_xrisis_link&&""!=AppConfOptions.oroi_xrisis_link&&(this.termsLink=AppConfOptions.oroi_xrisis_link)):(this.applicationUrl=AppConfOptions.applicationUrl,this.kliseisApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi,this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts")),this.kliseisNgSrv.getPaymentSettings().pipe(Object(b.a)(this.onDestroy)).subscribe((function(t){t&&(e.onlinePaymentSettings=t,e.onlinePaymentSettings.paymentMethods.length&&e.onlinePaymentSettings.paymentMethods.forEach((function(e){if(e.services&&e.services.length>0)for(var t=0;t<e.services.length;t++)e.services[t]=e.services[t].toLowerCase()}))),xt(e.cdr)}))}},{key:"ngOnChanges",value:function(e){e&&e.paymentRequestDto&&(this.paymentRequestDto=e.paymentRequestDto.currentValue,this.paymentRequestDto&&(this.initPaymentMethods=!1,this.onInitPaymentRequest()),xt(this.cdr))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"onTermsChanged",value:function(){this.showTermsModal=!1,xt(this.cdr),"false"==this.termsValue?(this.isLoadingCheckout=!1,xt(this.cdr)):((this.paymentRequestDto||this.klisis&&this.klisis.length)&&(this.initPaymentMethods=!0,xt(this.cdr)),this.onCreatePaymentRequest())}},{key:"onInitPaymentRequest",value:function(){this.termsLink&&""!=this.termsLink?(this.showTermsModal=!0,xt(this.cdr)):this.onCreatePaymentRequest()}},{key:"onCreatePaymentRequest",value:function(){var t=this;if(this.isLoadingCheckout=!0,this.initPaymentMethods=!0,xt(this.cdr),this.klisis&&this.klisis.length&&this.userInfo){var i;this.kliseisRemittanceInfos=[],this.paymentRequestDto=void 0,xt(this.cdr);var n,s=e(this.klisis);try{for(s.s();!(n=s.n()).done;){var o=n.value;this.kliseisRemittanceInfos=[].concat(c(this.kliseisRemittanceInfos),[this._createRemittanceInfo(o)])}}catch(u){s.e(u)}finally{s.f()}if(i={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.returnUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:"",entries:[]},this.onlinePaymentsSettingsCompany&&"1"==this.onlinePaymentsSettingsCompany||!this.onlinePaymentsSettingsCompany)this.kliseisNgSrv.fillPaymentRequestAuthorized(this.kliseisRemittanceInfos).subscribe((function(e){if(e){for(var n=0;n<e.length;n++){var s=e[n];if(s.amount&&s.amount>0){var o={remittanceInfo:s.remittanceInfo,amount:s.amount,debtorName:t.userInfo.given_name+" "+t.userInfo.family_name,tin:t.userInfo.tin,description:t._createDescription(t.klisis[n])};i.entries.push(o)}}t.paymentRequestDto=i,xt(t.cdr)}}));else{var r,a=e(this.klisis);try{for(a.s();!(r=a.n()).done;){var d=r.value,l={remittanceInfo:d.remittanceInfo,amount:d.ofeilisPoso,debtorName:this.userInfo.given_name+" "+this.userInfo.family_name,tin:this.userInfo.tin,description:this._createDescription(d)};i.entries.push(l)}}catch(u){a.e(u)}finally{a.f()}this.paymentRequestDto=i,xt(this.cdr)}}}},{key:"onLoadingCheckoutChanged",value:function(e){this.isLoadingCheckout=e,this.isLoadingCheckout||(this.paymentRequestDto=void 0),xt(this.cdr)}},{key:"_createRemittanceInfo",value:function(e){return e.remittanceInfo}},{key:"_createDescription",value:function(e){return"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2: "+e.arithmosKlisis.toString()+", \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2: "+e.arithmosKikloforias+", \u0397\u03bc\u03b5\u03c1/\u03bd\u03b9\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2: "+e.hmerominiaEkdosis}}]),t}();Zt.\u0275fac=function(e){return new(e||Zt)(l.Nc(jt),l.Nc(Kt),l.Nc(l.k))},Zt.\u0275cmp=l.Hc({type:Zt,selectors:[["app-checkout"]],viewQuery:function(e,t){var i;1&e&&l.Wd(Yt,!0),2&e&&l.Dd(i=l.fd())&&(t.paymentMethodsComp=i.first)},inputs:{isUnauthorized:"isUnauthorized",paymentRequestDto:"paymentRequestDto",userInfo:"userInfo",klisis:"klisis",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany"},features:[l.yc],decls:7,vars:9,consts:[["class","d-flex flex-wrap align-items-center justify-content-center",4,"ngIf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["class","d-flex align-items-center justify-content-between",4,"ngIf"],[3,"user","paymentRequestDto","isUnauthorized","onlinePaymentSettings","isLoadingCheckout","loadingCheckout",4,"ngIf"],["header","\u038c\u03c1\u03bf\u03b9 \u03a7\u03c1\u03ae\u03c3\u03b7\u03c2 \u0397\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03a5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange"],[4,"ngIf"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center"],["id","btnPayDebits","type","button",1,"paymentBtn","btn","btn-warning","px-4","font-weight-bold","text-white",2,"width","175px",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-money-check","fa-fw"],[1,"d-flex","justify-content-center","align-items-center"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],[1,"d-flex","align-items-center","justify-content-between"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa.svg","alt","visa","height","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard.svg","alt","mastercard","height","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/maestro.svg","alt","maestro","height","40",1,"mr-1"],["alt","visa-secure","width","40",1,"mr-1",3,"src"],["alt","mastercard-id-check","width","40",3,"src"],[3,"user","paymentRequestDto","isUnauthorized","onlinePaymentSettings","isLoadingCheckout","loadingCheckout"],["target","_blank",3,"href"],[1,"radios-container","mr-1"],["name","termsradio","value","true","label","\u0391\u03c0\u03bf\u03b4\u03bf\u03c7\u03ae",3,"ngModel","ngModelChange"],["name","termsradio","value","false","label","\u0391\u03c0\u03cc\u03c1\u03c1\u03b9\u03c8\u03b7",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-success","m-0","ml-auto",3,"click"],[1,"fas","fa-long-arrow-alt-right","fa-fw"]],template:function(e,t){1&e&&(l.Pd(0,ae,4,1,"div",0),l.Pd(1,ce,2,0,"div",1),l.Pd(2,de,6,2,"div",2),l.Pd(3,le,1,5,"app-payment-methods",3),l.Tc(4,"p-dialog",4),l.ed("visibleChange",(function(e){return t.showTermsModal=e})),l.Pd(5,ue,6,1,"ng-container",5),l.Pd(6,he,7,2,"p-footer",5),l.Sc()),2&e&&(l.pd("ngIf",!t.paymentRequestDto&&t.klisis),l.Ac(1),l.pd("ngIf",t.isLoadingCheckout),l.Ac(1),l.pd("ngIf",!t.paymentRequestDto&&t.klisis),l.Ac(1),l.pd("ngIf",t.initPaymentMethods),l.Ac(1),l.pd("visible",t.showTermsModal)("draggable",!1)("closable",!1),l.Ac(1),l.pd("ngIf",t.showTermsModal),l.Ac(1),l.pd("ngIf",t.showTermsModal))},directives:[P.p,w.a,Yt,q.b,E.a,v.k,v.n],encapsulation:2}),Zt.ctorParameters=function(){return[{type:jt},{type:Kt},{type:l.k}]},Zt.propDecorators={paymentMethodsComp:[{type:l.mb,args:[Yt,{static:!1}]}],userInfo:[{type:l.G}],paymentRequestDto:[{type:l.G}],klisis:[{type:l.G}],isUnauthorized:[{type:l.G}],onlinePaymentsSettingsCompany:[{type:l.G}]};var ei=function(){function e(){o(this,e),this.validator=this.afmValidator()}return a(e,[{key:"validate",value:function(e){return this.validator(e)}},{key:"afmValidator",value:function(){return function(e){return e&&e.value&&!function(e){if(!e||e.length<9)return!1;if("000000000"==e)return!0;e=e.split("").reverse().join("");for(var t=0,i=1;i<=8;i++)if(t+=+e.charAt(i)<<i,isNaN(t))return!1;return t%11%10==+e.charAt(0)}(e.value)?{afmvalidator:{valid:!1}}:null}}}]),e}();ei.\u0275fac=function(e){return new(e||ei)},ei.\u0275dir=l.Ic({type:ei,selectors:[["","validateAfm",""]],features:[l.zc([{provide:v.h,useExisting:ei,multi:!0}])]}),ei.ctorParameters=function(){return[]};var ti=function(){function e(t,i,n,s){o(this,e),this.kliseisNgSrv=t,this.pluginCacheSrv=i,this.toasterSrv=n,this.cdr=s,this.klisiAdded=new l.x,this.paymentRequestDto=void 0,this.onDestroy=new m.a,this.initPaymentMethods=!1,this.allowsPayment=!0,this.today=new Date,this.thisYear=this.today.getFullYear(),this.locale=Ot,this.yearRange=wt,this.isLoading=!1,this.isLoadingResponse=!1,this.isFormSubmitted=!1,this.saveFailed=!1,this.showEtos=!1,this.isFormValid=!0,this.formDictionaryEnum=Bt}return a(e,[{key:"ngOnChanges",value:function(e){e&&e.isLoadingPaymentRequest&&(this.isLoadingPaymentRequest=e.isLoadingPaymentRequest.currentValue,xt(this.cdr))}},{key:"ngOnInit",value:function(){var e=this;this.model=new Ht,this.model.address=this.userInfo.address?this.userInfo.address:null,this.model.poli=this.userInfo.address_city?this.userInfo.address_city:null,this.model.tk=this.userInfo.address_zip?this.userInfo.address_zip:null,this.model.tilefono=this.userInfo.phone_number?this.userInfo.phone_number:null,this.model.email=this.userInfo.email?this.userInfo.email:null,xt(this.cdr),this.pluginCacheSrv.initPluginCustomerSpecificOptions(),this.pluginCacheSrv.pluginCustomerSpecificOptions$.pipe(Object(b.a)(this.onDestroy)).subscribe((function(t){t&&(t.configurationOptions.some((function(e){return"PluginCustomerSpecificOptions:EtosKlisis"==e.id}))&&(e.showEtos="true"==t.configurationOptions.find((function(e){return"PluginCustomerSpecificOptions:EtosKlisis"==e.id})).value.toLocaleLowerCase()),t.configurationOptions.some((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id}))&&(e.onlinePaymentsSettingsCompany=t.configurationOptions.find((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id})).value)),xt(e.cdr)}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"onAnazitisi",value:function(){var e=this;this.isFormSubmitted=!0,this.response=null,this.isFormValid=!0,this.formErrors=null,this.formErrorsMsg="";var t,i="";if(!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias?""!=(t=Ut(t=Dt(this.model.arithmosKikloforias)).toUpperCase())&&0==_t(t)?(this.toasterSrv.showWarning("","\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000)"),this.isFormValid=!1):this.model.arithmosKikloforias&&this.model.arithmosKikloforias!=t&&(this.isFormValid=!0):this.isFormValid=!0,(!this.etosKlisis&&!this.model.hmerominiaEkdosis||this.model.hmerominiaEkdosis>new Date)&&(this.isFormValid=!1),this.etosKlisis&&+this.etosKlisis<=+this.thisYear?this.model.hmerominiaEkdosis=new Date(this.etosKlisis+"-01-01"):this.etosKlisis&&+this.etosKlisis>+this.thisYear&&(i="<li>\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf "+this.thisYear+".</li>"),xt(this.cdr),this.isFormSubmitted&&this.isFormValid)this.isLoadingResponse=!0,this.model.etos=+this.model.hmerominiaEkdosis.getFullYear(),this.model.arithmosKikloforias&&t&&this.model.arithmosKikloforias!=t&&(this.model.arithmosKikloforias=t),xt(this.cdr),this.kliseisNgSrv.getStoixeiaKlisisForWebPliromiEtos(this.model).subscribe((function(t){t?(e.response=t,e.response&&e.response.poso&&0!=e.response.klisiId&&(e.model.poso=e.response.poso),e.response&&e.response.canPay&&0==e.response.klisiId&&"1"!=e.onlinePaymentsSettingsCompany?(e.allowsPayment=!1,e.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03b3\u03ba\u03b5\u03ba\u03c1\u03b9\u03bc\u03ad\u03bd\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2.")):e.allowsPayment=!0):e.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03bc\u03b5 \u03c4\u03b7\u03bd \u03ba\u03bb\u03ae\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b1\u03bd\u03b1\u03b6\u03b7\u03c4\u03ae\u03c3\u03b1\u03c4\u03b5."),e.isLoadingResponse=!1,xt(e.cdr)}));else{if(this.formErrors=Et(this.f,this.formDictionaryEnum,""),this.formErrors||!this.isFormValid){if(this.formErrorsMsg="<ul>",this.formErrors&&this.formErrors.forEach((function(t){var i;"required"==t.error?i="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==t.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==t.error&&(i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),e.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+e.formDictionaryEnum[t.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+i+"</li>"})),this.etosKlisis||this.model.hmerominiaEkdosis||(this.formErrorsMsg+="<li>\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03b5\u03af\u03c4\u03b5 \u03c4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03c4\u03b5 \u03c4\u03b7\u03bd \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2.</li>"),!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias){var n=Dt(this.model.arithmosKikloforias);""!=(n=Ut(t).toUpperCase())&&0==_t(n)&&(this.formErrorsMsg+="<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000).</li>")}this.formErrorsMsg+=i,this.formErrorsMsg+="<ul>"}xt(this.cdr)}}},{key:"onCancelKlisi",value:function(){this.isFormSubmitted=!1,this.paymentRequestDto=void 0,xt(this.cdr),this.response?(this.response=null,xt(this.cdr)):this.klisiAdded.emit(null)}},{key:"onCreatePaymentRequest",value:function(){var e,t=this;this.initPaymentMethods=!0,this.isLoadingResponse=!0,xt(this.cdr),e={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:this.userInfo.address_city?this.userInfo.address_city:this.model.poli,billingAddressCountryCode:this.userInfo.address_country_code?this.userInfo.address_country_code:"GR",billingAddressZip:this.userInfo.address_zip?this.userInfo.address_zip:this.model.tk,billingAddress:this.userInfo.address?this.userInfo.address:this.model.address,userEmail:this.userInfo.email?this.userInfo.email:this.model.email,userPhone:this.userInfo.phone_number?this.userInfo.phone_number:this.model.tilefono,paymentMethodKey:"",entries:[]};var i=new Qt;if(i.tin=this.userInfo.tin,i.amount=this.model.poso,i.debtorName=this.userInfo.given_name+" "+this.userInfo.family_name,i.description="\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2: "+this.model.arithmosKlisis.toString()+", \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2: "+this.model.arithmosKikloforias+", \u0397\u03bc\u03b5\u03c1/\u03bd\u03b9\u03b1 \u0388\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2: "+Mt(this.model.hmerominiaEkdosis),xt(this.cdr),this.response&&0==this.response.klisiId){this.saveFailed=!1;var n=this.model.oraEkdosis?this.model.oraEkdosis.getHours()+":"+this.model.oraEkdosis.getMinutes():null;this.createKlisi={hmerominiaEkdosis:Mt(this.model.hmerominiaEkdosis),oraEkdosis:n?n.toString():null,arithmosKikloforias:this.model.arithmosKikloforias,arithmosKlisis:this.model.arithmosKlisis,pliroteoPoso:this.model.poso,eponimia:this.userInfo.given_name+" "+this.userInfo.family_name,eponimo:this.userInfo.family_name,patronimo:this.userInfo.fathers_name,mitronimo:this.userInfo.mothers_name,onoma:this.userInfo.given_name,afm:this.userInfo.tin,odos:this.userInfo.address?this.userInfo.address:this.model.address,poli:this.userInfo.address_city?this.userInfo.address_city:this.model.poli,tk:this.userInfo.address_zip?this.userInfo.address_zip:this.model.tk,adt:this.userInfo.adt,tilefono:this.userInfo.phone_number?this.userInfo.phone_number:this.model.tilefono,email:this.userInfo.email?this.userInfo.email:this.model.email},this.kliseisNgSrv.createKlisiWebAsync(this.createKlisi).subscribe((function(n){n?(i.remittanceInfo=n.remittanceInfo,e.entries=[],e.entries.push(i),t.paymentRequestDto=e,xt(t.cdr)):(t.saveFailed=!0,xt(t.cdr)),t.isLoadingResponse=!1,xt(t.cdr)}))}else 0!=this.response.klisiId&&(i.remittanceInfo=this.response.remittanceInfo,e.entries=[],e.entries.push(i),this.isLoadingResponse=!1,this.paymentRequestDto=e,xt(this.cdr))}},{key:"_getErrorReason",value:function(){return this.model.hmerominiaEkdosis>=new Date?"\u0397 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03ba\u03b1\u03b9 \u03b7 \u03ce\u03c1\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c0\u03c1\u03bf\u03b3\u03b5\u03bd\u03ad\u03c3\u03c4\u03b5\u03c1\u03b5\u03c2.":this.model.arithmosKikloforias?this.model.arithmosKlisis?this.model.poso<=0?"\u03a4\u03bf \u03c0\u03bf\u03c3\u03cc \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf.":"":"\u039f \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2 \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2.":"\u039f \u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 \u03b4\u03b5\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2."}}]),e}();ti.\u0275fac=function(e){return new(e||ti)(l.Nc(jt),l.Nc(Lt),l.Nc(Kt),l.Nc(l.k))},ti.\u0275cmp=l.Hc({type:ti,selectors:[["lib-kliseis-add-new"]],viewQuery:function(e,t){var i;1&e&&(l.Wd(Yt,!0),l.Wd(pe,!0)),2&e&&(l.Dd(i=l.fd())&&(t.paymentMethodsComp=i.first),l.Dd(i=l.fd())&&(t.f=i.first))},inputs:{isLoadingPaymentRequest:"isLoadingPaymentRequest",userInfo:"userInfo",relatedCallbackUrl:"relatedCallbackUrl"},outputs:{klisiAdded:"klisiAdded"},features:[l.yc],decls:2,vars:2,consts:[["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],["class","form",4,"ngIf"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"form"],["f","ngForm"],[1,"row"],[1,"form-group","col-12","d-inline-flex","align-items-start"],["name","isForeign","value","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","label","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","binary","true",3,"ngModel","readonly","ngModelChange"],["isForeign","ngModel"],[1,"form-group","col-12","col-sm-6"],["name","arithmosKlisis","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2","type","text","pattern","([0-9]{1,12})","maxlength","12","autocomplete","off","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["arithmosKlisisInput","ngModel"],[1,"text-danger","pt-1",3,"hidden"],["name","arithmosKikloforias","placeholder","\u0391\u03c1. \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2","type","text","autocomplete","off","required","",1,"form-control",2,"text-transform","uppercase",3,"ngModel","readonly","ngModelChange"],["arithmosKikloforiasInput","ngModel"],[4,"ngIf"],["name","hmerominiaEkdosis","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body",3,"baseZIndex","locale","maxDate","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","showTime","ngModel","required","disabled","ngModelChange"],["name","oraEkdosis","placeholder","\u03a9\u03a9:\u039b\u039b","hourFormat","24","appendTo","body",3,"baseZIndex","locale","timeOnly","showIcon","ngModel","disabled","ngModelChange"],["class","row",4,"ngIf"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03b3\u03ba\u03b5\u03ba\u03c1\u03b9\u03bc\u03ad\u03bd\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2.",4,"ngIf"],[1,"form-actions","row","justify-content-center","pb-0"],["class","btn btn-primary btn-sm mr-1","type","button",3,"click",4,"ngIf"],["class","d-flex w-100 align-items-start justify-content-between",4,"ngIf"],[3,"userInfo","paymentRequestDto","onlinePaymentsSettingsCompany"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["class","bg-white","style","width: 100%; height: 50px;",4,"ngIf"],["severity","warn","text","\u0397 \u03b1\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2 \u03b1\u03c0\u03ad\u03c4\u03c5\u03c7\u03b5.",4,"ngIf"],[1,"col-12"],["severity","warn","text","\u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03bc\u03b7 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1\u03c2 \u03c3\u03c5\u03bc\u03c0\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7\u03c2 \u03b1\u03ba\u03c1\u03b9\u03b2\u03bf\u03cd\u03c2 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1\u03c2 & \u03ce\u03c1\u03b1\u03c2 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03c4\u03b5 \u03c4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2.",3,"styleClass"],["name","etosKlisis","placeholder","\u0388\u03c4\u03bf\u03c2","type","text","pattern","([0-9]{4})$",1,"form-control",3,"ngModel","readonly","ngModelChange"],["etosKlisisInput","ngModel"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03b4\u03c5\u03bd\u03b1\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u03b5\u03be\u03cc\u03c6\u03bb\u03b7\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03b3\u03ba\u03b5\u03ba\u03c1\u03b9\u03bc\u03ad\u03bd\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2."],[1,"form-group","col-12"],["name","poso","placeholder","0,01","type","text","currencyMask","","lang","el-GR","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["posoInput","ngModel"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["name","email","placeholder","Email","type","email","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["emailInput","ngModel"],["name","tilefono","placeholder","69XXXXXXXX","type","text","pattern","^69([0-9]{8})$","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],[1,"col-12","col-md-8"],["name","address","placeholder","\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7","type","text","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],[1,"col-12","col-md-4"],["name","tk","placeholder","\u03a4.\u039a.","type","text","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["name","poli","placeholder","\u03a0\u03cc\u03bb\u03b7","type","text","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["type","button",1,"btn","btn-primary","btn-sm","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],[1,"d-flex","w-100","align-items-start","justify-content-between"],[1,"d-flex","flex-wrap","align-items-center","justify-content-center"],["id","btnPayDebits","type","button",1,"btn","btn-warning","px-4","font-weight-bold","text-white",2,"width","175px",3,"click"],["aria-hidden","true",1,"fas","fa-money-check","fa-fw"],[1,"d-flex","align-items-center","justify-content-between"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa.svg","alt","visa","height","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard.svg","alt","mastercard","\u03a6","","height","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/maestro.svg","alt","maestro","height","40",1,"mr-1"],["alt","visa-secure","width","40",1,"mr-1",3,"src"],["alt","mastercard-id-check","width","40",3,"src"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"bg-white",2,"width","100%","height","50px"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],["severity","warn","text","\u0397 \u03b1\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7 \u03c4\u03b7\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b7\u03c2 \u03b1\u03c0\u03ad\u03c4\u03c5\u03c7\u03b5."]],template:function(e,t){1&e&&(l.Pd(0,me,3,0,"div",0),l.Pd(1,xe,42,45,"form",1)),2&e&&(l.pd("ngIf",!t.model||t.isLoading),l.Ac(1),l.pd("ngIf",t.model&&!t.isLoading))},directives:[P.p,v.v,v.l,v.m,O.a,v.k,v.n,v.b,v.q,v.f,v.s,I.a,Zt,M.b,T.b,P.n],encapsulation:2,changeDetection:0}),ti.ctorParameters=function(){return[{type:jt},{type:Lt},{type:Kt},{type:l.k}]},ti.propDecorators={paymentMethodsComp:[{type:l.mb,args:[Yt,{static:!1}]}],f:[{type:l.mb,args:["f"]}],userInfo:[{type:l.G}],isLoadingPaymentRequest:[{type:l.G}],relatedCallbackUrl:[{type:l.G}],klisiAdded:[{type:l.S}]};var ii=function(){function e(t,i,n){o(this,e),this.kliseisNgSrv=t,this.toasterSrv=i,this.cdr=n,this.model=[],this.checkedKliseis=[],this.checkAll=!1,this.checkAllEnabled=!0,this.isLoading=!0,this.errorMsg=null,this.isLoadingSimplifyModal=!1,this.isLoadingPaymentSettings=!1,this.isUserDataValid=!0,this.sumPliromis=0,this.sumPliroteoPoso=0,this.sumPosoKlisis=0,this.checkedKliseisTotal=0}return a(e,[{key:"ngOnInit",value:function(){this._loadData()}},{key:"_loadData",value:function(){var e=this;this.isLoading=!0,this.errorMsg=null,xt(this.cdr),this.kliseisNgSrv.getKliseis(this.userInfo.tin).subscribe((function(t){t?(e.model=t,e.model.forEach((function(t){t.cannotPayReason=t.cannotPayReason?t.cannotPayReason:"",t.canCheck=!0,t.afm=t.afm?t.afm:e.userInfo.tin,e.checkAllEnabled=e.model.filter((function(e){return!e.canPay})).length!=e.model.length,e.sumPosoKlisis+=t.pliroteoPoso,e.sumPliroteoPoso+=t.ofeilisPoso?t.ofeilisPoso:0,t.afm!=e.userInfo.tin&&(t.cannotPayReason+="<br/>\u0392\u03b5\u03b2\u03b1\u03b9\u03c9\u03bc\u03ad\u03bd\u03b7 \u03ba\u03bb\u03ae\u03c3\u03b7 \u03c3\u03b5 \u0391.\u03a6.\u039c. \u03b4\u03b9\u03b1\u03c6\u03bf\u03c1\u03b5\u03c4\u03b9\u03ba\u03cc \u03b1\u03c0\u03cc \u03c4\u03bf \u03b4\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2, \u03c3\u03b5 \u03c7\u03c1\u03bf\u03bd\u03b9\u03ba\u03ae \u03c3\u03c4\u03b9\u03b3\u03bc\u03ae \u03cc\u03c0\u03bf\u03c5 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03b5\u03c3\u03c4\u03b5 \u03c9\u03c2 \u03ba\u03ac\u03c4\u03bf\u03c7\u03bf\u03c2 \u03c4\u03bf\u03c5 \u03bf\u03c7\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2.")}))):e.errorMsg="\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd \u03c3\u03b1\u03c2.",e.isLoading=!1,xt(e.cdr)}))}},{key:"_calculatePosa",value:function(){var e=this;this.sumPliromis=0,this.checkedKliseisTotal=0,this.checkedKliseis=[],this.checkedKliseisTotal=this.model.filter((function(e){return e.isChecked})).length,this.checkedKliseis=this.model.filter((function(e){return e.isChecked})),this.model.filter((function(e){return e.isChecked})).forEach((function(t){e.sumPliromis+=t.ofeilisPoso?t.ofeilisPoso:0})),xt(this.cdr)}},{key:"onCheckAllKliseisClicked",value:function(){var e=this;this.checkAll=!!this.checkAll,this.model.forEach((function(t){e.checkAll?t.isChecked=!(t.afm!=e.userInfo.tin||!t.canPay):t.isChecked=!1})),xt(this.cdr),this._calculatePosa()}},{key:"onCheckKlisiClicked",value:function(e){var t;(t=this.model.some((function(e){return e.isChecked}))?this.model.find((function(e){return e.isChecked})).afm:null)?(t=e.afm,this.model.forEach((function(e){e.afm!=t?e.canCheck=!1:e.canCheck=!0}))):this.model.forEach((function(e){e.canCheck=!0})),xt(this.cdr),this._calculatePosa()}},{key:"isLoadingSimplifyModalChanged",value:function(e){this.isLoadingSimplifyModal=e,xt(this.cdr)}},{key:"isLoadingPaymentSettingsChanged",value:function(e){this.isLoadingPaymentSettings=e,xt(this.cdr)}},{key:"isUserDataValidChanged",value:function(e){this.isUserDataValid=e,xt(this.cdr)}}]),e}();ii.\u0275fac=function(e){return new(e||ii)(l.Nc(jt),l.Nc(Kt),l.Nc(l.k))},ii.\u0275cmp=l.Hc({type:ii,selectors:[["app-kliseis-debits"]],viewQuery:function(e,t){var i;1&e&&l.Wd(Yt,!0),2&e&&l.Dd(i=l.fd())&&(t.paymentMethodsComp=i.first)},inputs:{isDataChanged:"isDataChanged",userInfo:"userInfo",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany"},decls:6,vars:4,consts:[["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2.",4,"ngIf"],["severity","error",3,"text","styleClass",4,"ngIf"],[4,"ngIf"],["selectedDebits",""],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2."],["severity","error",3,"text","styleClass"],["severity","warn","text","\u0398\u03b1 \u03b8\u03ad\u03bb\u03b1\u03bc\u03b5 \u03bd\u03b1 \u03c3\u03b1\u03c2 \u03b5\u03bd\u03b7\u03bc\u03b5\u03c1\u03ce\u03c3\u03bf\u03c5\u03bc\u03b5 \u03c0\u03c9\u03c2 \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03b5\u03be\u03bf\u03c6\u03bb\u03ae\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1\u03c5\u03c4\u03cc\u03c7\u03c1\u03bf\u03bd\u03b1 \u03bc\u03cc\u03bd\u03bf \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c0\u03bf\u03c5 \u03ad\u03c7\u03bf\u03c5\u03bd \u03c7\u03c1\u03b5\u03c9\u03b8\u03b5\u03af \u03c3\u03c4\u03bf \u03af\u03b4\u03b9\u03bf \u0391.\u03a6.\u039c.",3,"styleClass"],[1,"d-flex","flex-wrap","mb-1",2,"font-size","14px"],[1,"mr-1"],[1,"fas","fa-stop-circle","fa-fw","apliroti"],[1,"fas","fa-stop-circle","fa-fw","kataxorisi_web"],["tableStyleClass","kliseis-debits-table",3,"value","autoLayout","responsive","scrollable","lazy","paginator","resetPageOnSort","alwaysShowPaginator","rows","totalRecords","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"mb-2"],[4,"ngTemplateOutlet"],[1,"fixed-width-col-40","text-center"],[3,"binary","ngModel","disabled","ngModelChange","onChange"],[1,"fixed-width-col-40"],[1,"fixed-width-col-120"],[1,"fixed-width-col-100"],[1,"fixed-width-col-150"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["class","fixed-width-col-40 text-center",4,"ngIf"],[1,"p-column-title"],["class","d-block",4,"ngIf"],[1,"fixed-width-col-100","text-right"],["rowspan","2",1,"fixed-width-col-40","text-center"],["colspan","8",3,"innerHtml"],["aria-label","\u0391\u03c0\u03bb\u03ae\u03c1\u03c9\u03c4\u03b7",1,"fas","fa-stop-circle","fa-fw","apliroti"],["aria-label","\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u03b1\u03c0\u03cc WEB",1,"fas","fa-stop-circle","fa-fw","kataxorisi_web"],[1,"d-block"],["colspan","6",1,"fixed-width-col-570"],["colspan","1",1,"fixed-width-col-100","text-right"],[1,"debits-info","d-flex","flex-wrap","justify-content-around","w-100","align-items-center","pb-1","mb-1","border-bottom","border-light"],[1,"totalPoso"],[1,"text-right"],[3,"userInfo","onlinePaymentsSettingsCompany","klisis"]],template:function(e,t){1&e&&(l.Pd(0,Ee,3,0,"div",0),l.Pd(1,_e,1,0,"p-message",1),l.Pd(2,De,1,2,"p-message",2),l.Pd(3,Je,19,14,"ng-container",3),l.Pd(4,Xe,12,11,"ng-template",null,4,l.Qd)),2&e&&(l.pd("ngIf",!t.model||t.isLoading),l.Ac(1),l.pd("ngIf",t.model&&0===t.model.length&&!t.isLoading&&(!t.errorMsg||""==t.errorMsg)),l.Ac(1),l.pd("ngIf",t.errorMsg&&""!=t.errorMsg&&!t.isLoading),l.Ac(1),l.pd("ngIf",t.model&&t.model.length>0&&!t.isLoading))},directives:[P.p,M.b,_.d,q.f,P.u,O.a,v.k,v.n,P.n,Zt],pipes:[P.f,P.d],encapsulation:2,changeDetection:0}),ii.ctorParameters=function(){return[{type:jt},{type:Kt},{type:l.k}]},ii.propDecorators={paymentMethodsComp:[{type:l.mb,args:[Yt,{static:!1}]}],isDataChanged:[{type:l.G}],userInfo:[{type:l.G}],onlinePaymentsSettingsCompany:[{type:l.G}]};var ni=function(){function e(t,i,n,s,r,a){o(this,e),this.kliseisNgSrv=t,this.pluginCacheSrv=i,this.route=n,this.router=s,this._http=r,this.cdr=a,this.changeTabIndex=new l.x,this.model=[],this.checkAll=!1,this.sumPliroteoPoso=0,this.applicationUrl="",this.kliseisApiUrl="",this.financeApiUrl="",this.isLoading=!0,this.onDestroy=new m.a,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.kliseis_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.kliseisApiUrl=AppConfOptions.kliseis_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.kliseisApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.pluginCacheSrv.userInfo$.pipe(Object(b.a)(this.onDestroy)).subscribe((function(t){t&&(e.userInfo=t),xt(e.cdr)})),this._getBankMessages().pipe(Object(y.a)((function(t){return t?(e.oikonomikiBankMessages=t,e.pluginCacheSrv.userInfo$.pipe(Object(b.a)(e.onDestroy))):Object(h.a)(!1)})),Object(y.a)((function(t){return t?(e.userInfo=t,e.route.queryParams.pipe(Object(b.a)(e.onDestroy))):Object(h.a)(!1)}))).subscribe((function(t){if(t){var i=t;if(e.bankMessage=i.messagecode,e.btid=i.btId,e.bankMessage)if(e.changeTabIndex.emit(1),e.bankStatusMessage=e.oikonomikiBankMessages[e.bankMessage],"TRANSACTION_COMPLETED"==e.bankMessage){if(e.bankStatusMessageClass="success",e.btid){var n=new Vt;n.address=e.userInfo.address,n.address_city=e.userInfo.address_city,n.address_country_code=e.userInfo.address_country_code,n.address_zip=e.userInfo.address_zip,n.adt=e.userInfo.adt,n.debtorName=e.userInfo.given_name+" "+e.userInfo.family_name,n.email=e.userInfo.email,n.phone_number=e.userInfo.phone_number,n.tin=e.userInfo.tin,n.bankTransactionId=e.btid,e.kliseisNgSrv.markKlisiWebExoflisi(n).subscribe((function(){e._loadData()}))}}else e.bankStatusMessageClass="error",e._loadData();else e._loadData();xt(e.cdr)}}))}},{key:"ngOnChanges",value:function(e){e&&e.tabChanged&&(this.bankStatusMessage=void 0,xt(this.cdr))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_loadData",value:function(){var e=this;this.isLoading=!0,xt(this.cdr),this.kliseisNgSrv.getKliseisPayed(this.userInfo.tin).subscribe((function(t){t&&(e.model=t,e.model.forEach((function(t){return e.sumPliroteoPoso+=t.pliroteoPoso})),e.model=e.model.sort((function(e,t){return e.hmerominiaEkdosis!=t.hmerominiaEkdosis?new Date(t.hmerominiaEkdosis).getTime()-new Date(e.hmerominiaEkdosis).getTime():+t.arithmosKlisis-+e.arithmosKlisis}))),e.isLoading=!1,xt(e.cdr)}))}},{key:"_getBankMessages",value:function(){var e=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(e)}}]),e}();ni.\u0275fac=function(e){return new(e||ni)(l.Nc(jt),l.Nc(Lt),l.Nc(S.a),l.Nc(S.d),l.Nc(u.b),l.Nc(l.k))},ni.\u0275cmp=l.Hc({type:ni,selectors:[["app-kliseis-receipts"]],inputs:{tabChanged:"tabChanged"},outputs:{changeTabIndex:"changeTabIndex"},features:[l.yc],decls:4,vars:4,consts:[["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2.",3,"styleClass",4,"ngIf"],[3,"severity","text","styleClass",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03ba\u03bb\u03ae\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u0391.\u03a6.\u039c. \u03c3\u03b1\u03c2.",3,"styleClass"],[3,"severity","text","styleClass"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"d-flex","flex-wrap","mb-1",2,"font-size","14px"],[1,"mr-1"],[1,"fas","fa-stop-circle","fa-fw","exoflimeni"],[1,"fas","fa-stop-circle","fa-fw","exoflisi_web"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"fixed-width-col-40"],[1,"fixed-width-col-120"],[1,"fixed-width-col-150"],[1,"fixed-width-col-100"],[1,"fixed-width-col-40","text-center"],[1,"p-column-title"],["class","d-block",4,"ngIf"],[1,"fixed-width-col-100","text-right"],[1,"d-block"],["colspan","8",1,"text-right"]],template:function(e,t){1&e&&(l.Pd(0,Ye,1,1,"p-message",0),l.Pd(1,Ze,1,3,"p-message",1),l.Pd(2,et,3,0,"div",2),l.Pd(3,ut,16,10,"ng-container",3)),2&e&&(l.pd("ngIf",t.model&&0===t.model.length&&!t.isLoading),l.Ac(1),l.pd("ngIf",t.bankStatusMessage&&""!=t.bankStatusMessage),l.Ac(1),l.pd("ngIf",!t.model||t.isLoading),l.Ac(1),l.pd("ngIf",t.model&&t.model.length>0&&!t.isLoading))},directives:[P.p,M.b,_.d,q.f],pipes:[P.f,P.d],encapsulation:2,changeDetection:0}),ni.ctorParameters=function(){return[{type:jt},{type:Lt},{type:S.a},{type:S.d},{type:u.b},{type:l.k}]},ni.propDecorators={tabChanged:[{type:l.G}],changeTabIndex:[{type:l.S}]};var si=[{path:"",component:Nt,children:[{path:"debits",component:ii,canActivate:[$t]},{path:"receipts",component:ni,canActivate:[$t]}]}],oi=function e(){o(this,e)};oi.\u0275mod=l.Lc({type:oi}),oi.\u0275inj=l.Kc({factory:function(e){return new(e||oi)},imports:[[S.g.forChild(si)],S.g]}),("undefined"==typeof ngJitMode||ngJitMode)&&l.Jd(oi,{imports:function(){return[S.g]},exports:function(){return[S.g]}});var ri=function(){function e(t,i,n,s,r,a){o(this,e),this.kliseisNgSrv=t,this.toasterSrv=i,this.route=n,this.router=s,this._http=r,this.cdr=a,this.model=new Ht,this.countriesList=[],this.onDestroy=new m.a,this.isLoading=!1,this.requestMsg="",this.requestMsgClass="info",this.isFormSubmitted=!1,this.isFormPaySubmitted=!1,this.initPaymentMethods=!1,this.isLoadingPaymentResponse=!1,this.showCardHolderName=!1,this.oikonomikiBankMessages={CODE_HAS_NO_BALANCE:"\u039f \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2 \u03ad\u03c7\u03b5\u03b9 \u03bc\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03cc \u03c5\u03c0\u03cc\u03bb\u03bf\u03b9\u03c0\u03bf",CODE_NOT_FOUND:"\u039f \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2 \u03b4\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b5",DEBTOR_ADDRESS_REQUIRED:"\u0394\u03b5\u03bd \u03ad\u03c7\u03bf\u03c5\u03bd \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03c9\u03b8\u03b5\u03af \u03c4\u03b1 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2",DEBTOR_NOT_UNIQUE:"\u039f \u03bf\u03c6\u03b5\u03b9\u03bb\u03ad\u03c4\u03b7\u03c2 \u03b4\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03c4\u03b1\u03c5\u03c4\u03bf\u03c0\u03bf\u03b9\u03b7\u03b8\u03b5\u03af \u03bc\u03bf\u03bd\u03b1\u03b4\u03b9\u03ba\u03ac \u03bc\u03b5 \u03b2\u03ac\u03c3\u03b7 \u03c4\u03bf \u0391\u03a6\u039c",DEBTOR_TIN_REQUIRED:"\u0391\u03c0\u03b1\u03b9\u03c4\u03b5\u03af\u03c4\u03b1\u03b9 \u0391\u03a6\u039c",HASH_MISMATCH:"\u0391\u03b4\u03c5\u03bd\u03b1\u03bc\u03af\u03b1 \u03b5\u03c0\u03b1\u03bb\u03ae\u03b8\u03b5\u03c5\u03c3\u03b7\u03c2 \u03c4\u03b7\u03c2 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae\u03c2",INVALID_CULTURE:"\u0386\u03b3\u03bd\u03c9\u03c3\u03c4\u03b7 \u03ba\u03c9\u03b4\u03b9\u03ba\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7 \u03b3\u03bb\u03ce\u03c3\u03c3\u03b1\u03c2",OK:"",SETTLEMENT_PENDING:"\u0397 \u03c7\u03c1\u03ad\u03c9\u03c3\u03b7 \u03b5\u03af\u03bd\u03b1\u03b9 \u03c3\u03b5 \u03b5\u03ba\u03ba\u03c1\u03b5\u03bc\u03cc\u03c4\u03b7\u03c4\u03b1",TICKET_NOT_ISSUED:"\u0394\u03b5\u03bd \u03b5\u03ba\u03b4\u03cc\u03b8\u03b7\u03ba\u03b5 Ticket",TRANSACTION_CANCELED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b1\u03ba\u03c5\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u03b1\u03c0\u03bf \u03c4\u03bf \u03c7\u03c1\u03ae\u03c3\u03c4\u03b7.",TRANSACTION_COMPLETED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1.",TRANSACTION_ERROR:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b4\u03b5\u03bd \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5",TRANSACTION_REJECTED:"\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03b1\u03c0\u03bf\u03c1\u03c1\u03af\u03c6\u03b8\u03b7\u03ba\u03b5 \u03b1\u03c0\u03bf \u03c4\u03b7\u03bd \u03c4\u03c1\u03ac\u03c0\u03b5\u03b6\u03b1",UNKNOWN_ERROR:"\u0386\u03b3\u03bd\u03c9\u03c3\u03c4\u03bf \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1"},this.today=new Date,this.thisYear=this.today.getFullYear(),this.isFormValid=!0,this.formDictionaryEnum=Bt}return a(e,[{key:"ngOnInit",value:function(){var e=this;AppConfOptions.applicationUrl&&AppConfOptions.applicationUrl.includes("localhost")?(this.financeApi=AppConfOptions.financeApi,this.callbackUrl=AppConfOptions.applicationUrl+"/plugin"):(this.financeApi=AppConfOptions.epayments_api,this.callbackUrl=AuthConfOptions.application_url+"/kliseis"),this._http.get("https://auth.dev.egritosgroup.gr/api/general/GetCountries").pipe(Object(y.a)((function(t){return t?(e.countriesList=t,e.kliseisNgSrv.getPaymentSettings()):Object(h.a)(!1)})),Object(y.a)((function(t){return t?(e.onlinePaymentSettings=t,e.route.queryParams):Object(h.a)(!1)})),Object(y.a)((function(t){if(t){var i=t;if(i.messagecode&&"TRANSACTION_COMPLETED"==i.messagecode){e.bankStatusMessage=e.oikonomikiBankMessages[i.messagecode];var n=new Xt;return n.btId=i.btId,n.returnUrl=e.callbackUrl,n.status=i.status,n.messagecode=i.messagecode,xt(e.cdr),e.kliseisNgSrv.getFinancePaymentCallback(n)}return e.bankStatusMessage=e.oikonomikiBankMessages[i.messagecode],e.bankStatusMessageClass="fail",xt(e.cdr),Object(h.a)(!1)}return Object(h.a)(!1)})),Object(b.a)(this.onDestroy)).subscribe((function(t){e.bankStatusMessageClass=t?"success":"error",xt(e.cdr)}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"onCheckKlisi",value:function(){var e=this;this.isFormSubmitted=!0,this.isFormValid=!0,this.formErrorsMsg="",this.requestMsg="";var t,i="";if(!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias?""!=(t=Ut(t=Dt(this.model.arithmosKikloforias)).toUpperCase())&&0==_t(t)?(this.toasterSrv.showWarning("","\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000)"),this.isFormValid=!1):this.model.arithmosKikloforias&&this.model.arithmosKikloforias!=t&&(this.isFormValid=!0):this.isFormValid=!0,this.model.etos&&+this.model.etos>+this.thisYear&&(this.isFormValid=!1,i="<li>\u03a4\u03bf \u03ad\u03c4\u03bf\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc \u03c4\u03bf "+this.thisYear+".</li>"),xt(this.cdr),this.isFormSubmitted&&this.klisiAnazitisi.valid&&this.isFormValid)this.isLoading=!0,this.response=null,this.requestMsg="",this.model.isAuthorized=!1,this.model.arithmosKikloforias&&t&&this.model.arithmosKikloforias!=t&&(this.model.arithmosKikloforias=t),xt(this.cdr),this.kliseisNgSrv.getStoixeiaKlisisForWebPliromiEtos(this.model).subscribe((function(t){t?(e.response=t,e.response.canPay?(e.toasterSrv.showInfo("",e.response.messageResponse),e.requestMsg=e.response.messageResponse):(e.toasterSrv.showWarning("",e.response.messageResponse),e.requestMsg=e.response.messageResponse,e.requestMsgClass="warning")):(e.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1."),e.requestMsg="\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03c1\u03bf\u03c3\u03c0\u03b1\u03b8\u03ae\u03c3\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1.",e.requestMsgClass="error"),e.isLoading=!1,xt(e.cdr)}));else{var n="";if(n+=i,!this.model.isForeign&&this.model.arithmosKikloforias&&""!=this.model.arithmosKikloforias){var s=Dt(this.model.arithmosKikloforias);""!=(s=Ut(t).toUpperCase())&&0==_t(s)&&(n+="<li>\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03bf\u03cd \u03b1\u03c1. \u03ba\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2 (\u03c3\u03c9\u03c3\u03c4\u03ae \u03bc\u03bf\u03c1\u03c6\u03ae: \u03a7\u03a7\u03a70000).</li>")}this.formErrors=Et(this.klisiAnazitisi,this.formDictionaryEnum,n),xt(this.cdr)}}},{key:"onCancel",value:function(){this.model=new Ht,this.response=null,this.isFormSubmitted=!1,this.isFormPaySubmitted=!1,this.formErrors=null,this.formErrorsMsg=null,this.requestMsg="",xt(this.cdr)}},{key:"onCreatePaymentRequest",value:function(){this.isFormPaySubmitted=!0,this.isFormSubmitted=!1,this.formErrorsMsgPay="",this.formErrorsPay=null;var e=new Jt;xt(this.cdr),this.isFormPaySubmitted&&this.klisiPayUnauthorized.valid?(e.remittanceInfo=this.response.remittanceInfo,e.relatedCallbackUrl=this.callbackUrl,this.response.hasDieuthinsi||(e.billingAddress=this.model.address,e.billingAddressZip=this.model.tk,e.billingAddressCity=this.model.poli,e.billingAddressCountryCode=this.model.countryId,e.userPhone=this.model.tilefono),e.userEmail=this.response.hasEmail?null:this.model.email,e.eponimia=this.model.debtorName?this.model.debtorName:null,e.tinRelated=this.model.tin?this.model.tin:null,e.paymentMethodKey="",e.cardholderName=this.model.cardholderName,this.initPaymentMethods=!0,this.isLoadingPaymentResponse=!0,this.kliseisUnauthorizedRequest=e,xt(this.cdr)):(this.formErrorsMsgPay="",this.formErrorsPay=Et(this.klisiPayUnauthorized,this.formDictionaryEnum,""),xt(this.cdr))}}]),e}();ri.\u0275fac=function(e){return new(e||ri)(l.Nc(jt),l.Nc(Kt),l.Nc(S.a),l.Nc(S.d),l.Nc(u.b),l.Nc(l.k))},ri.\u0275cmp=l.Hc({type:ri,selectors:[["app-kliseis-unauthorized-pay"]],viewQuery:function(e,t){var i;1&e&&(l.Wd(ht,!0),l.Wd(pt,!0),l.Wd(Yt,!0)),2&e&&(l.Dd(i=l.fd())&&(t.klisiAnazitisi=i.first),l.Dd(i=l.fd())&&(t.klisiPayUnauthorized=i.first),l.Dd(i=l.fd())&&(t.paymentMethodsComp=i.first))},decls:5,vars:5,consts:[[3,"severity","text","styleClass",4,"ngIf"],[1,"w-100","text-center","mb-0","mt-2"],["class","btn btn-primary btn-sm",3,"href",4,"ngIf"],[4,"ngIf"],[3,"paymentRequestDto","isUnauthorized"],[3,"severity","text","styleClass"],[1,"btn","btn-primary","btn-sm",3,"href"],["aria-hidden","true",1,"fas","fa-undo","fa-fw"],[1,"form"],["klisiAnazitisi","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6","d-inline-flex","align-items-center"],["name","isForeign","value","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","label","\u039e\u03ad\u03bd\u03b5\u03c2 \u03c0\u03b9\u03bd\u03b1\u03ba\u03af\u03b4\u03b5\u03c2","binary","true",3,"ngModel","disabled","ngModelChange"],["isForeign","ngModel"],[1,"form-group","col-12","col-md-6"],["name","arithmosKlisis","type","text","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03bb\u03ae\u03c3\u03b7\u03c2","pattern","([0-9]{1,12})","maxlength","12","autocomplete","off","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["arithmosKlisisInput","ngModel"],[1,"text-danger","pt-1",3,"hidden"],["name","arithmosKikloforias","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u039a\u03c5\u03ba\u03bb\u03bf\u03c6\u03bf\u03c1\u03af\u03b1\u03c2","type","text","autocomplete","off","required","",1,"form-control",2,"text-transform","uppercase",3,"ngModel","disabled","ngModelChange"],["arithmosKikloforiasInput","ngModel"],[1,"col-12","col-md-6"],["name","etosKlisis","type","text","placeholder","\u0388\u03c4\u03bf\u03c2","pattern","([0-9]{4})","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["etosKlisisInput","ngModel"],[1,"form-actions","row","justify-content-center","pb-0"],["type","button",1,"btn","btn-primary","mr-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["type","button",1,"btn","btn-warning",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["class","bg-white","style","width: 100%; height: 100px",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"bg-white",2,"width","100%","height","100px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[3,"class",4,"ngIf"],["class","form mt-2",4,"ngIf"],[1,"form","mt-2"],["klisiPayUnauthorized","ngForm"],["class","row",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","mx-auto","mt-2",2,"width","350px"],["id","btnPayDebits","type","button",1,"btn","btn-warning","px-4","font-weight-bold","text-white","m-auto",2,"width","175px",3,"click"],["aria-hidden","true",1,"fas","fa-money-check","fa-fw"],[1,"d-flex","align-items-center","justify-content-between"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/visa.svg","alt","visa","height","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/mastercard.svg","alt","mastercard","\u03a6","","height","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/themes/egritostheme/images/bank-images/maestro.svg","alt","maestro","height","40",1,"mr-1"],["alt","visa-secure","width","40",1,"mr-1",3,"src"],["alt","mastercard-id-check","width","40",3,"src"],["name","debtorName","type","text","placeholder","\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1","required","",1,"form-control",3,"ngModel","ngModelChange"],["debtorNameInput","ngModel"],["name","tin","type","text","placeholder","\u0391.\u03a6.\u039c.","validateAfm","","required","",1,"form-control",3,"ngModel","ngModelChange"],["tinInput","ngModel"],["class","col-12",3,"ngClass",4,"ngIf"],[1,"col-12",3,"ngClass"],["name","email","type","email","placeholder","Email","required","",1,"form-control",3,"ngModel","ngModelChange"],["emailInput","ngModel"],["name","tilefono","type","text","placeholder","69XXXXXXXX","pattern","^69([0-9]{8})$","required","",1,"form-control",3,"ngModel","ngModelChange"],["tilefonoInput","ngModel"],[1,"col-12","col-md-9"],["name","address","type","text","placeholder","\u0394\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7","required","",1,"form-control",3,"ngModel","ngModelChange"],["addressInput","ngModel"],[1,"col-12","col-md-3"],["name","tk","type","text","placeholder","\u03a4.\u039a.","required","",1,"form-control",3,"ngModel","ngModelChange"],["tkInput","ngModel"],["name","poli","type","text","placeholder","\u03a0\u03cc\u03bb\u03b7","required","",1,"form-control",3,"ngModel","ngModelChange"],["poliInput","ngModel"],["name","egsCountry","bindLabel","Perigrafi","bindValue","Id","appendTo","body","required","",3,"items","virtualScroll","searchable","ngModel","ngModelChange"],["egsCountry","ngModel"]],template:function(e,t){1&e&&(l.Pd(0,mt,1,3,"p-message",0),l.Tc(1,"div",1),l.Pd(2,ft,3,1,"a",2),l.Sc(),l.Pd(3,Rt,38,15,"ng-container",3),l.Oc(4,"app-checkout",4)),2&e&&(l.pd("ngIf",t.bankStatusMessage&&""!=t.bankStatusMessage),l.Ac(2),l.pd("ngIf",t.bankStatusMessage&&""!=t.bankStatusMessage),l.Ac(1),l.pd("ngIf",!t.bankStatusMessage),l.Ac(1),l.pd("paymentRequestDto",t.kliseisUnauthorizedRequest)("isUnauthorized",!0))},directives:[P.p,Zt,M.b,v.v,v.l,v.m,O.a,v.k,v.n,v.b,v.q,v.f,v.s,ei,P.n,C.a],encapsulation:2,changeDetection:0}),ri.ctorParameters=function(){return[{type:jt},{type:Kt},{type:S.a},{type:S.d},{type:u.b},{type:l.k}]},ri.propDecorators={klisiAnazitisi:[{type:l.mb,args:["klisiAnazitisi"]}],klisiPayUnauthorized:[{type:l.mb,args:["klisiPayUnauthorized"]}],paymentMethodsComp:[{type:l.mb,args:[Yt,{static:!1}]}]};var ai=function e(){o(this,e)};ai.\u0275mod=l.Lc({type:ai}),ai.\u0275inj=l.Kc({factory:function(e){return new(e||ai)},providers:[$t,{provide:T.a,useValue:{align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."}}],imports:[[P.c,v.e,oi,A.c,D.c,I.b,_.e,O.b,w.b,M.a,x.b,R.b,E.b,T.c,C.c],C.c]}),("undefined"==typeof ngJitMode||ngJitMode)&&l.Jd(ai,{declarations:function(){return[Nt,ii,ni,ri,ti,ei,Yt,Zt]},imports:function(){return[P.c,v.e,oi,A.c,D.c,I.b,_.e,O.b,w.b,M.a,x.b,R.b,E.b,T.c,C.c]},exports:function(){return[Nt,ii,ni,ri,ti,ei,C.c]}});var ci=r("1kSV"),di=r("PCNd"),li=function(){function e(t,i){o(this,e),this.oidcSecuritySrv=t,this.router=i,this.onDestroy=new m.a}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.oidcSecuritySrv.getIsAuthorized().subscribe((function(t){e.isAuthorized=t,e.isAuthorized?(AppConfOptions&&AppConfOptions.kliseis_debits_tab_info&&""!=AppConfOptions.kliseis_debits_tab_info&&e.router.url.includes("debits")&&(e.tabMsg=AppConfOptions.kliseis_debits_tab_info),AppConfOptions&&AppConfOptions.kliseis_receipts_tab_info&&""!=AppConfOptions.kliseis_receipts_tab_info&&e.router.url.includes("receipts")&&(e.tabMsg=AppConfOptions.kliseis_receipts_tab_info)):AppConfOptions&&AppConfOptions.kliseis_unauthorized_info&&""!=AppConfOptions.kliseis_unauthorized_info&&(e.tabMsg=AppConfOptions.kliseis_unauthorized_info)})),this.router.events.pipe(Object(b.a)(this.onDestroy)).subscribe((function(t){if(t&&t instanceof S.c){var i=t.url;e.isAuthorized&&(i.includes("receipts")?AppConfOptions&&AppConfOptions.kliseis_receipts_tab_info&&""!=AppConfOptions.kliseis_receipts_tab_info&&(e.tabMsg=AppConfOptions.kliseis_receipts_tab_info):AppConfOptions&&AppConfOptions.kliseis_debits_tab_info&&""!=AppConfOptions.kliseis_debits_tab_info&&(e.tabMsg=AppConfOptions.kliseis_debits_tab_info))}}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}}]),e}();li.ctorParameters=function(){return[{type:U.c},{type:S.d}]};var ui=[{path:"",component:li=Object(d.b)([Object(l.n)({selector:"app-kliseis",template:'<p-panel *ngIf="tabMsg"\r\n\t\t\theader="\u03a0\u03bb\u03b7\u03c1\u03bf\u03c6\u03bf\u03c1\u03af\u03b5\u03c2"\r\n\t\t\t[styleClass]="\'tab-msg mb-3\'"\r\n\t\t\t[toggleable]="true">\r\n\t<div [innerHTML]="tabMsg | decodeHtmlString"></div>\r\n</p-panel>\r\n\r\n<lib-kliseis-ng></lib-kliseis-ng>\r\n'}),Object(d.c)("design:paramtypes",[U.c,S.d])],li),children:[{path:"",loadChildren:function(){return Promise.resolve().then(r.bind(null,"UGYw")).then((function(e){return e.PublicLibLoader}))}}]}],hi=function e(){o(this,e)};hi=Object(d.b)([Object(l.L)({imports:[S.g.forChild(ui)],exports:[S.g]})],hi);var pi=function e(){o(this,e)};pi=Object(d.b)([Object(l.L)({declarations:[li],imports:[di.a,hi,ci.d,ai]})],pi);var mi=function e(){o(this,e)};mi=Object(d.b)([Object(l.L)({imports:[ai]})],mi)}}])}();