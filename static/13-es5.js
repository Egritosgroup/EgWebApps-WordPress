function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,n=_getPrototypeOf(e);if(t){var s=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"8BaW":function(e,t,i){"use strict";i.r(t),i.d(t,"DimotikosForosModule",(function(){return St})),i.d(t,"PublicLibLoader",(function(){return Pt}));var n=i("fXoL"),s=i("mrSG"),o=i("tk/3"),a=i("LRne"),r=i("2Vo4"),c=i("XNiG"),d=i("cp0P"),l=i("lJxs"),p=i("JIr8"),u=i("eIep"),f=i("1G5W"),m=i("pLZG"),h=i("5eHb"),y=i("tyNb"),g=i("3Pt+"),b=i("ofXK"),v=i("3u8h"),k=i("ZOsW"),I=i("9nqD"),S=i("eO1q"),P=i("rEr+"),O=i("dPl2"),U=i("Ji6n"),j=i("C7T5"),C=i.n(j),D=i("7zfz");function _(e,t){1&e&&(n.Tc(0),n.Vc(1,"div",4),n.Vc(2,"div",5),n.Vc(3,"div",6),n.Sd(4," \u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b4\u03bf\u03ba\u03b9\u03bc\u03ac\u03c3\u03c4\u03b5 \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1! "),n.Uc(),n.Uc(),n.Uc(),n.Sc())}function V(e,t){if(1&e&&(n.Vc(0,"p",15),n.Vc(1,"strong"),n.Sd(2,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1 \u0395\u03c0\u03b9\u03c7\u03b5\u03af\u03c1\u03b7\u03c3\u03b7\u03c2:"),n.Uc(),n.Sd(3),n.Uc()),2&e){var i=n.jd(3);n.Bc(3),n.Ud("\xa0",i.epixeirisiInfo.eponimia," ")}}function R(e,t){if(1&e){var i=n.Wc();n.Vc(0,"button",16),n.hd("click",(function(){return n.Id(i),n.jd(3).onCreateNewDilosiClicked()})),n.Qc(1,"span",17),n.Sd(2," \u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2 \u039d\u03ad\u03b1\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 "),n.Uc()}}function M(e,t){if(1&e&&(n.Vc(0,"div",12),n.Qd(1,V,4,1,"p",13),n.Qd(2,R,3,0,"button",14),n.Uc()),2&e){var i=n.jd(2);n.Bc(1),n.sd("ngIf",i.epixeirisiInfo),n.Bc(1),n.sd("ngIf",i.diloseisInfoResponse&&i.diloseisInfoResponse.length>0)}}function w(e,t){if(1&e){var i=n.Wc();n.Vc(0,"app-katastimata-receipts",18),n.hd("reloadData",(function(){return n.Id(i),n.jd(2)._loadData()})),n.Uc()}if(2&e){var s=n.jd(2);n.sd("diloseisReceipts",s.model)("userInfo",s.userInfo)("isLoading",s.isLoading)("diloseisInfoResponse",s.diloseisInfoResponse)}}function x(e,t){if(1&e){var i=n.Wc();n.Vc(0,"app-katastimata-saved",21),n.hd("reloadData",(function(){return n.Id(i),n.jd(3)._loadData()})),n.Uc()}if(2&e){var s=n.jd(3);n.sd("dilosiInfoSaved",s.diloseisInfoSaved)("userInfo",s.userInfo)("isLoading",s.isLoading)("diloseisInfoResponse",s.diloseisInfoResponse)("onlinePaymentsSettingsCompany",s.onlinePaymentsSettingsCompany)("epixeirisiInfo",s.epixeirisiInfo)}}function B(e,t){1&e&&(n.Vc(0,"p-tabPanel",19),n.Qd(1,x,1,6,"ng-template",20),n.Uc())}function A(e,t){if(1&e){var i=n.Wc();n.Tc(0),n.Qd(1,M,3,2,"div",7),n.Vc(2,"p-tabView",8),n.hd("onChange",(function(e){return n.Id(i),n.jd().onTabChanged(e)})),n.Vc(3,"p-tabPanel",9),n.Qd(4,w,1,4,"app-katastimata-receipts",10),n.Uc(),n.Qd(5,B,2,0,"p-tabPanel",11),n.Uc(),n.Sc()}if(2&e){var s=n.jd();n.Bc(1),n.sd("ngIf",s.epixeirisiInfo||s.diloseisInfoResponse&&s.diloseisInfoResponse.length>0),n.Bc(1),n.sd("activeIndex",s.index),n.Bc(2),n.sd("ngIf",s.model),n.Bc(1),n.sd("ngIf",s.diloseisInfoSaved&&s.diloseisInfoSaved.length&&s.onlinePaymentsSettingsCompany)}}function F(e,t){if(1&e){var i=n.Wc();n.Vc(0,"app-katastimata-create-dilosi",22),n.hd("updateSaved",(function(e){return n.Id(i),n.jd().onReloadSaved(e)})),n.Uc()}if(2&e){var s=n.jd();n.sd("diloseisInfoResponse",s.diloseisInfoResponse)("dilosi",null)("onlinePaymentsSettingsCompany",s.onlinePaymentsSettingsCompany)("epixeirisiInfo",s.epixeirisiInfo)}}var T=["dimotikosForosForm"];function E(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",6),n.Vc(1,"label"),n.Sd(2,"\u03a0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc*"),n.Uc(),n.Vc(3,"ng-select",20,21),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(2).selectedPososto=e})),n.Uc(),n.Vc(5,"div",9),n.Sd(6," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc()}if(2&e){var s=n.jd(2);n.Bc(3),n.sd("items",s.pososta)("searchable",!0)("clearable",!1)("ngModel",s.selectedPososto),n.Bc(2),n.sd("hidden",!s.isFormSubmitted||"1"==s.onlinePaymentsSettingsCompany||s.isFormSubmitted&&"1"!=s.onlinePaymentsSettingsCompany&&s.selectedPososto&&""!=s.selectedPososto)}}function L(e,t){if(1&e){var i=n.Wc();n.Vc(0,"li"),n.Sd(1),n.Vc(2,"small"),n.Qc(3,"i",26),n.Sd(4),n.kd(5,"date"),n.Uc(),n.Sd(6,"\xa0 "),n.Vc(7,"button",27),n.hd("click",(function(){n.Id(i);var e=t.$implicit;return n.jd(3).downloadFile(e.dmsId)})),n.Qc(8,"i",28),n.Sd(9," \u039a\u03b1\u03c4\u03ad\u03b2\u03b1\u03c3\u03bc\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03bf\u03c5 "),n.Uc(),n.Uc()}if(2&e){var s=t.$implicit;n.Bc(1),n.Vd(" ",s.perigrafi," (",s.fileName,")\xa0 "),n.Bc(3),n.Ud(" ",n.md(5,3,s.creationTime,"dd/MM/yyyy"),"")}}function Q(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",5),n.Vc(1,"div",22),n.Vc(2,"h5"),n.Sd(3,"\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u0391\u03c1\u03c7\u03b5\u03af\u03b1"),n.Uc(),n.Vc(4,"ul"),n.Qd(5,L,10,6,"li",23),n.Uc(),n.Vc(6,"button",24),n.hd("click",(function(){n.Id(i);var e=n.jd(2);return e.toggleEditFiles=!e.toggleEditFiles})),n.Qc(7,"i",25),n.Sd(8," \u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd "),n.Uc(),n.Uc(),n.Uc()}if(2&e){var s=n.jd(2);n.Bc(5),n.sd("ngForOf",s.dilosiFiles)}}function q(e,t){1&e&&(n.Vc(0,"div",36),n.Qc(1,"i",37),n.Sd(2," \u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03bd\u03ad\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf, \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03bf\u03cd\u03bd \u03cc\u03bb\u03b1 \u03c4\u03b1 \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 \u03ba\u03b1\u03b9 \u03b8\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c4\u03b1 \u03b1\u03bd\u03b5\u03b2\u03ac\u03c3\u03b5\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac."),n.Uc())}function W(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",5),n.Qd(1,q,3,0,"div",29),n.Vc(2,"div",30),n.Vc(3,"label",31),n.Sd(4,"\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)*"),n.Uc(),n.Vc(5,"input",32,33),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(2).periodikiDilosiFPA=e}))("change",(function(e){return n.Id(i),n.jd(2).onFileChange(e,"periodikiDilosiFPA")})),n.Uc(),n.Vc(7,"div",9),n.Sd(8," *\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Vc(9,"div",30),n.Vc(10,"label",34),n.Sd(11,"\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf (\u03a0.\u03c7. \u0399\u03c3\u03bf\u03b6\u03cd\u03b3\u03b9\u03bf)"),n.Uc(),n.Vc(12,"input",35),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(2).extraFile=e}))("change",(function(e){return n.Id(i),n.jd(2).onFileChange(e,"extraFile")})),n.Uc(),n.Uc(),n.Uc()}if(2&e){var s=n.jd(2);n.Bc(1),n.sd("ngIf",s.toggleEditFiles),n.Bc(4),n.sd("ngModel",s.periodikiDilosiFPA),n.Bc(2),n.sd("hidden",!s.isFormSubmitted||s.isFormSubmitted&&s.periodikiDilosiFPA),n.Bc(5),n.sd("ngModel",s.extraFile)}}function N(e,t){if(1&e&&n.Qc(0,"div",38),2&e){var i=n.jd(2);n.sd("innerHTML",i.formErrorsMsg,n.Jd)}}function G(e,t){if(1&e&&(n.Vc(0,"div",39),n.Vc(1,"p"),n.Sd(2),n.Uc(),n.Uc()),2&e){var i=n.jd(2);n.Bc(2),n.Td(i.errorMessageProfile)}}function z(e,t){if(1&e){var i=n.Wc();n.Vc(0,"form",3,4),n.Vc(2,"div",5),n.Vc(3,"div",6),n.Vc(4,"label"),n.Sd(5,"\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2*"),n.Uc(),n.Vc(6,"ng-select",7,8),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().dilosiCopy.dilosiId=e}))("change",(function(e){n.Id(i);var t=n.jd();return t.onSelectedDilosiChanged(e),t.isFormDirty=!0})),n.Uc(),n.Vc(8,"div",9),n.Sd(9," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Vc(10,"div",6),n.Vc(11,"label"),n.Sd(12,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),n.Uc(),n.Qc(13,"input",10),n.kd(14,"date"),n.Uc(),n.Uc(),n.Vc(15,"div",5),n.Qd(16,E,7,5,"div",11),n.Vc(17,"div",12),n.Vc(18,"label"),n.Sd(19,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc*"),n.Uc(),n.Vc(20,"input",13,14),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().dilosiCopy.ypokeimenoPoso=e}))("ngModelChange",(function(){return n.Id(i),n.jd().isFormDirty=!0})),n.Uc(),n.Vc(22,"div",9),n.Sd(23," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Uc(),n.Qd(24,Q,9,1,"div",15),n.Qd(25,W,13,4,"div",15),n.Vc(26,"button",16),n.hd("click",(function(){return n.Id(i),n.jd().onSubmit()})),n.Qc(27,"span",17),n.Sd(28," \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc\u03c2 \u03a0\u03bf\u03c3\u03ce\u03bd "),n.Uc(),n.Qd(29,N,1,1,"div",18),n.Qd(30,G,3,1,"div",19),n.Uc()}if(2&e){var s=n.Gd(7),o=n.Gd(21),a=n.jd();n.Bc(6),n.sd("items",a.diloseisInfoResponse)("ngModel",a.dilosiCopy.dilosiId)("searchable",!0)("clearable",!1),n.Bc(2),n.sd("hidden",!a.isFormSubmitted||a.isFormSubmitted&&s.valid),n.Bc(5),n.sd("value",n.md(14,14,a.dilosiCopy.hmeromiaLixisDilosis,"dd/MM/yyyy")),n.Bc(3),n.sd("ngIf","1"!=a.onlinePaymentsSettingsCompany),n.Bc(1),n.sd("ngClass","1"==a.onlinePaymentsSettingsCompany?"":"col-md-6"),n.Bc(3),n.sd("ngModel",a.dilosiCopy.ypokeimenoPoso),n.Bc(2),n.sd("hidden",!a.isFormSubmitted||a.isFormSubmitted&&o.valid),n.Bc(2),n.sd("ngIf",a.dilosiFiles&&a.dilosiFiles.length),n.Bc(1),n.sd("ngIf",a.toggleEditFiles||!a.dilosiFiles||a.dilosiFiles&&0==a.dilosiFiles.length),n.Bc(4),n.sd("ngIf",a.formErrorsMsg&&""!=a.formErrorsMsg),n.Bc(1),n.sd("ngIf",a.errorMessageProfile)}}function K(e,t){1&e&&(n.Vc(0,"div",40),n.Vc(1,"span",41),n.Qc(2,"i",42),n.Uc(),n.Uc())}function $(e,t){1&e&&(n.Vc(0,"p",46),n.Vc(1,"span",47),n.Sd(2,"\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),n.Uc(),n.Uc())}function J(e,t){if(1&e&&(n.Vc(0,"p",46),n.Vc(1,"span",49),n.Sd(2),n.Uc(),n.Uc()),2&e){var i=n.jd(2);n.Bc(2),n.Td(i.kodikosPliromis)}}var H=function(e){return[e,"\u20ac","symbol","1.2","el"]};function Y(e,t){if(1&e){var i=n.Wc();n.Tc(0),n.Vc(1,"h4",43),n.Sd(2,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03bf\u03cd"),n.Uc(),n.Vc(3,"div",44),n.Vc(4,"div",45),n.Vc(5,"div"),n.Vc(6,"p",46),n.Vc(7,"span",47),n.Sd(8,"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),n.Uc(),n.Uc(),n.Vc(9,"p",46),n.Vc(10,"span",47),n.Sd(11,"\u03a0\u03bf\u03c3\u03cc \u03a4\u03ad\u03bb\u03bf\u03c5\u03c2:"),n.Uc(),n.Uc(),n.Vc(12,"p",46),n.Vc(13,"span",47),n.Sd(14,"\u039c\u03ae\u03bd\u03b5\u03c2 \u039a\u03b1\u03b8\u03c5\u03c3\u03c4\u03ad\u03c1\u03b7\u03c3\u03b7\u03c2:"),n.Uc(),n.Uc(),n.Vc(15,"p",46),n.Vc(16,"span",47),n.Sd(17,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03c1\u03bf\u03c3\u03c4\u03af\u03bc\u03bf\u03c5:"),n.Uc(),n.Uc(),n.Vc(18,"p",46),n.Vc(19,"span",47),n.Sd(20,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),n.Uc(),n.Uc(),n.Qd(21,$,3,0,"p",48),n.Uc(),n.Vc(22,"div"),n.Vc(23,"p",46),n.Vc(24,"span",49),n.Sd(25),n.Uc(),n.Uc(),n.Vc(26,"p",46),n.Vc(27,"span",49),n.Sd(28),n.kd(29,"currency"),n.Uc(),n.Uc(),n.Vc(30,"p",46),n.Vc(31,"span",49),n.Sd(32),n.Uc(),n.Uc(),n.Vc(33,"p",46),n.Vc(34,"span",49),n.Sd(35),n.kd(36,"currency"),n.Uc(),n.Uc(),n.Vc(37,"p",46),n.Vc(38,"span",49),n.Sd(39),n.kd(40,"currency"),n.Uc(),n.Uc(),n.Qd(41,J,3,1,"p",48),n.Uc(),n.Uc(),n.Vc(42,"app-payment",50),n.hd("errorMsg",(function(e){return n.Id(i),n.jd().errorMessageProfile=e})),n.Uc(),n.Uc(),n.Sc()}if(2&e){var s=n.jd();n.Bc(21),n.sd("ngIf",s.kodikosPliromis),n.Bc(4),n.Td(s.dilosiWebPaymentInfo.paymentCaption),n.Bc(3),n.Td(n.pd(29,11,n.yd(29,H,s.dilosiWebPaymentInfo.telosPoso))),n.Bc(4),n.Td(s.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines),n.Bc(3),n.Td(n.pd(36,17,n.yd(31,H,s.dilosiWebPaymentInfo.prostimoPoso))),n.Bc(4),n.Td(n.pd(40,23,n.yd(33,H,s.dilosiWebPaymentInfo.paymentAmount))),n.Bc(2),n.sd("ngIf",s.kodikosPliromis),n.Bc(1),n.sd("userInfo",s.userInfo)("requestObs",null)("createWebPaymentInfo",s.dilosiWebPaymentInfo)("canPay",!s.isFormDirty)}}function X(e,t){1&e&&(n.Vc(0,"div",5),n.Vc(1,"p",6),n.Sd(2," \u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc. "),n.Uc(),n.Uc())}function Z(e,t){1&e&&(n.Vc(0,"div",7),n.Vc(1,"p",8),n.Sd(2,"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u03b9\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2."),n.Uc(),n.Uc())}function ee(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div"),n.Vc(1,"button",9),n.hd("click",(function(){return n.Id(i),n.jd().btnBankStatusMessageClicked()})),n.Qc(2,"i",10),n.Uc(),n.Sd(3),n.Uc()}if(2&e){var s=n.jd();n.Ec("bank-msg w-100 mb-2 position-relative ",s.bankStatusMessageClass,""),n.Bc(3),n.Ud(" ",s.bankStatusMessage,"\n")}}function te(e,t){1&e&&(n.Vc(0,"div",11),n.Vc(1,"span",12),n.Qc(2,"i",13),n.Uc(),n.Uc())}function ie(e,t){1&e&&(n.Vc(0,"tr"),n.Vc(1,"th",19),n.Sd(2,"\u0391/\u0391"),n.Uc(),n.Vc(3,"th",20),n.Sd(4,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),n.Uc(),n.Vc(5,"th",21),n.Sd(6,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Uc(),n.Vc(7,"th",21),n.Sd(8,"\u03a4\u03ad\u03bb\u03bf\u03c2"),n.Uc(),n.Vc(9,"th",21),n.Sd(10,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),n.Uc(),n.Vc(11,"th",22),n.Sd(12,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),n.Uc(),n.Uc())}function ne(e,t){if(1&e&&(n.Vc(0,"tr"),n.Vc(1,"td",19),n.Vc(2,"span",23),n.Sd(3,"\u0391/\u0391"),n.Uc(),n.Sd(4),n.Uc(),n.Vc(5,"td",20),n.Vc(6,"span",23),n.Sd(7,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),n.Uc(),n.Sd(8),n.Uc(),n.Vc(9,"td",24),n.Vc(10,"span",23),n.Sd(11,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Uc(),n.Sd(12),n.kd(13,"currency"),n.Uc(),n.Vc(14,"td",24),n.Vc(15,"span",23),n.Sd(16,"\u03a4\u03ad\u03bb\u03bf\u03c2"),n.Uc(),n.Sd(17),n.kd(18,"currency"),n.Uc(),n.Vc(19,"td",24),n.Vc(20,"span",23),n.Sd(21,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),n.Uc(),n.Sd(22),n.kd(23,"currency"),n.Uc(),n.Vc(24,"td",22),n.Vc(25,"span",23),n.Sd(26,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),n.Uc(),n.Sd(27),n.Uc(),n.Uc()),2&e){var i=t.$implicit,s=t.rowIndex;n.Bc(4),n.Ud(" ",s+1," "),n.Bc(4),n.Ud(" ",i.dilosiCaption," "),n.Bc(4),n.Ud(" ",n.od(13,6,i.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),n.Bc(5),n.Ud(" ",n.od(18,11,i.telosPoso,"\u20ac","symbol","1.2")," "),n.Bc(5),n.Ud(" ",n.od(23,16,i.prostimoPoso,"\u20ac","symbol","1.2")," "),n.Bc(5),n.Ud(" ",i.stoixeiaApodixis," ")}}var se=function(e){return[e,"EUR","symbol","1.2-2","el"]};function oe(e,t){if(1&e&&(n.Vc(0,"tr"),n.Vc(1,"td",25),n.Vc(2,"strong"),n.Sd(3,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf:"),n.Uc(),n.Uc(),n.Vc(4,"td",24),n.Vc(5,"strong"),n.Sd(6),n.kd(7,"currency"),n.Uc(),n.Uc(),n.Vc(8,"td",24),n.Vc(9,"strong"),n.Sd(10),n.kd(11,"currency"),n.Uc(),n.Uc(),n.Vc(12,"td",24),n.Vc(13,"strong"),n.Sd(14),n.kd(15,"currency"),n.Uc(),n.Uc(),n.Vc(16,"td",22),n.Sd(17,"\xa0"),n.Uc(),n.Uc()),2&e){var i=n.jd(2);n.Bc(6),n.Td(n.pd(7,3,n.yd(21,se,i.sumYpokeimeno))),n.Bc(4),n.Td(n.pd(11,9,n.yd(23,se,i.sumTelos))),n.Bc(4),n.Td(n.pd(15,15,n.yd(25,se,i.sumProstimo)))}}function ae(e,t){if(1&e&&(n.Tc(0),n.Vc(1,"p",14),n.Vc(2,"strong"),n.Sd(3),n.Uc(),n.Uc(),n.Vc(4,"p-table",15),n.Qd(5,ie,13,0,"ng-template",16),n.Qd(6,ne,28,21,"ng-template",17),n.Qd(7,oe,18,27,"ng-template",18),n.Uc(),n.Vc(8,"p",14),n.Vc(9,"strong"),n.Sd(10),n.Uc(),n.Uc(),n.Sc()),2&e){var i=n.jd();n.Bc(3),n.Ud("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",i.diloseisReceipts.length,""),n.Bc(1),n.sd("value",i.diloseisReceipts)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",i.diloseisReceipts.length),n.Bc(6),n.Ud("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",i.diloseisReceipts.length,"")}}function re(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div"),n.Vc(1,"button",7),n.hd("click",(function(){return n.Id(i),n.jd().onBankStatusMessage()})),n.Qc(2,"i",8),n.Uc(),n.Sd(3),n.Uc()}if(2&e){var s=n.jd();n.Ec("bank-msg badge w-100 mb-2 position-relative ",s.bankStatusMessageClass,""),n.Bc(3),n.Ud(" ",s.bankStatusMessage,"\n")}}function ce(e,t){1&e&&(n.Vc(0,"div",9),n.Vc(1,"span",10),n.Qc(2,"i",11),n.Uc(),n.Uc())}function de(e,t){1&e&&n.Rc(0)}function le(e,t){if(1&e&&(n.Vc(0,"div",19),n.Qd(1,de,1,0,"ng-container",20),n.Uc()),2&e){n.jd(2);var i=n.Gd(4);n.Bc(1),n.sd("ngTemplateOutlet",i)}}function pe(e,t){if(1&e){var i=n.Wc();n.Vc(0,"tr"),n.Vc(1,"th",21),n.Vc(2,"p-checkbox",22),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd(2).isAllDebitsChecked=e}))("onChange",(function(){return n.Id(i),n.jd(2).onAllDebitsSelected()})),n.Uc(),n.Uc(),n.Vc(3,"th",23),n.Sd(4,"A/A"),n.Uc(),n.Vc(5,"th",24),n.Sd(6,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),n.Uc(),n.Vc(7,"th",25),n.Sd(8,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Uc(),n.Vc(9,"th",25),n.Sd(10,"\u03a4\u03ad\u03bb\u03bf\u03c2"),n.Uc(),n.Vc(11,"th",25),n.Sd(12,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),n.Uc(),n.Vc(13,"th",25),n.Sd(14,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2"),n.Uc(),n.Vc(15,"th",26),n.Sd(16,"\xa0"),n.Uc(),n.Uc()}if(2&e){var s=n.jd(2);n.Bc(2),n.sd("binary",!0)("ngModel",s.isAllDebitsChecked)}}function ue(e,t){if(1&e){var i=n.Wc();n.Vc(0,"tr"),n.Vc(1,"td",21),n.Vc(2,"span",27),n.Sd(3,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),n.Uc(),n.Vc(4,"p-checkbox",22),n.hd("ngModelChange",(function(e){return n.Id(i),t.$implicit.isChecked=e}))("onChange",(function(){return n.Id(i),n.jd(2)._calculateTotalAmounts()})),n.Uc(),n.Uc(),n.Vc(5,"td",23),n.Vc(6,"span",27),n.Sd(7,"A/A"),n.Uc(),n.Sd(8),n.Uc(),n.Vc(9,"td",24),n.Vc(10,"span",27),n.Sd(11,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),n.Uc(),n.Sd(12),n.Uc(),n.Vc(13,"td",28),n.Vc(14,"span",27),n.Sd(15,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Uc(),n.Sd(16),n.kd(17,"currency"),n.Uc(),n.Vc(18,"td",28),n.Vc(19,"span",27),n.Sd(20,"\u03a4\u03ad\u03bb\u03bf\u03c2"),n.Uc(),n.Sd(21),n.kd(22,"currency"),n.Uc(),n.Vc(23,"td",28),n.Vc(24,"span",27),n.Sd(25,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),n.Uc(),n.Sd(26),n.kd(27,"currency"),n.Uc(),n.Vc(28,"td",28),n.Vc(29,"span",27),n.Sd(30,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2"),n.Uc(),n.Sd(31),n.kd(32,"currency"),n.Uc(),n.Vc(33,"td",29),n.Vc(34,"span",27),n.Sd(35,"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"),n.Uc(),n.Vc(36,"button",30),n.hd("click",(function(){n.Id(i);var e=t.$implicit;return n.jd(2).onEdit(e)})),n.Qc(37,"i",31),n.Uc(),n.Uc(),n.Uc()}if(2&e){var s=t.$implicit,o=t.rowIndex;n.Bc(4),n.sd("binary",!0)("ngModel",s.isChecked),n.Bc(4),n.Ud(" ",o+1," "),n.Bc(4),n.Ud(" ",s.dilosiDescription," "),n.Bc(4),n.Ud(" ",n.od(17,8,s.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),n.Bc(5),n.Ud(" ",n.od(22,13,s.telosPoso,"\u20ac","symbol","1.2")," "),n.Bc(5),n.Ud(" ",n.od(27,18,s.prostimoPoso,"\u20ac","symbol","1.2")," "),n.Bc(5),n.Ud(" ",n.od(32,23,s.telosPoso+s.prostimoPoso,"\u20ac","symbol","1.2")," ")}}function fe(e,t){if(1&e&&(n.Vc(0,"tr"),n.Vc(1,"td",32),n.Vc(2,"strong"),n.Sd(3,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf:"),n.Uc(),n.Uc(),n.Vc(4,"td",28),n.Vc(5,"strong"),n.Sd(6),n.kd(7,"currency"),n.Uc(),n.Uc(),n.Vc(8,"td",28),n.Vc(9,"strong"),n.Sd(10),n.kd(11,"currency"),n.Uc(),n.Uc(),n.Vc(12,"td",28),n.Vc(13,"strong"),n.Sd(14),n.kd(15,"currency"),n.Uc(),n.Uc(),n.Vc(16,"td",28),n.Vc(17,"strong"),n.Sd(18),n.kd(19,"currency"),n.Uc(),n.Uc(),n.Vc(20,"td",26),n.Sd(21,"\xa0"),n.Uc(),n.Uc()),2&e){var i=n.jd(2);n.Bc(6),n.Td(n.pd(7,4,n.yd(28,se,i.sumYpokeimeno))),n.Bc(4),n.Td(n.pd(11,10,n.yd(30,se,i.sumTelos))),n.Bc(4),n.Td(n.pd(15,16,n.yd(32,se,i.sumProstimo))),n.Bc(4),n.Td(n.pd(19,22,n.yd(34,se,i.sumToPay)))}}function me(e,t){1&e&&n.Rc(0)}function he(e,t){if(1&e){var i=n.Wc();n.Tc(0),n.Vc(1,"div",19),n.Qd(2,me,1,0,"ng-container",20),n.Uc(),n.Vc(3,"app-payment",33),n.hd("errorMsg",(function(e){return n.Id(i),n.jd(2).errorMessageProfile=e})),n.Uc(),n.Sc()}if(2&e){var s=n.jd(2),o=n.Gd(4);n.Bc(2),n.sd("ngTemplateOutlet",o),n.Bc(1),n.sd("userInfo",s.userInfo)("requestObs",s.requestObs)}}function ye(e,t){if(1&e&&(n.Vc(0,"div",34),n.Vc(1,"p"),n.Sd(2),n.Uc(),n.Uc()),2&e){var i=n.jd(2);n.Bc(2),n.Td(i.errorMessageProfile)}}function ge(e,t){if(1&e&&(n.Tc(0),n.Qd(1,le,2,1,"div",12),n.Vc(2,"p",13),n.Vc(3,"strong"),n.Sd(4),n.Uc(),n.Uc(),n.Vc(5,"p-table",14),n.Qd(6,pe,17,2,"ng-template",15),n.Qd(7,ue,38,28,"ng-template",16),n.Qd(8,fe,22,36,"ng-template",17),n.Uc(),n.Vc(9,"p",13),n.Vc(10,"strong"),n.Sd(11),n.Uc(),n.Uc(),n.Qd(12,he,4,3,"ng-container",2),n.Qd(13,ye,3,1,"div",18),n.Sc()),2&e){var i=n.jd();n.Bc(1),n.sd("ngIf",i.calculatedChecked.countChecked>0),n.Bc(3),n.Ud("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",i.dilosiInfoSaved.length,""),n.Bc(1),n.sd("value",i.dilosiInfoSaved)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",i.dilosiInfoSaved.length),n.Bc(6),n.Ud("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: ",i.dilosiInfoSaved.length,""),n.Bc(1),n.sd("ngIf",i.calculatedChecked.countChecked>0),n.Bc(1),n.sd("ngIf",i.errorMessageProfile)}}function be(e,t){if(1&e&&(n.Vc(0,"p"),n.Sd(1,"\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 "),n.Vc(2,"span",35),n.Sd(3),n.Uc(),n.Uc(),n.Vc(4,"div",36),n.Vc(5,"p"),n.Sd(6,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a4\u03ad\u03bb\u03bf\u03c2: "),n.Vc(7,"span",35),n.Sd(8),n.kd(9,"currency"),n.Uc(),n.Uc(),n.Vc(10,"p"),n.Sd(11,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf: "),n.Vc(12,"span",35),n.Sd(13),n.kd(14,"currency"),n.Uc(),n.Uc(),n.Vc(15,"p"),n.Sd(16,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: "),n.Vc(17,"span",37),n.Sd(18),n.kd(19,"currency"),n.Uc(),n.Uc(),n.Uc()),2&e){var i=n.jd();n.Bc(3),n.Vd("",i.calculatedChecked.countChecked," ",i.calculatedChecked.countText,""),n.Bc(5),n.Td(n.od(9,5,i.calculatedChecked.checkedTelos,"\u20ac","symbol","1.2")),n.Bc(5),n.Td(n.od(14,10,i.calculatedChecked.checkedProstimo,"\u20ac","symbol","1.2")),n.Bc(5),n.Td(n.od(19,15,i.calculatedChecked.checkedTelos+i.calculatedChecked.checkedProstimo,"\u20ac","symbol","1.2"))}}function ve(e,t){if(1&e){var i=n.Wc();n.Vc(0,"app-katastimata-create-dilosi",38),n.hd("updateSaved",(function(e){return n.Id(i),n.jd().updateDilosiInTable(e)})),n.Uc()}if(2&e){var s=n.jd();n.sd("diloseisInfoResponse",s.diloseisInfoResponse)("dilosi",s.selectedDilosi)("onlinePaymentsSettingsCompany",s.onlinePaymentsSettingsCompany)}}var ke=["requestBankDataForm"];function Ie(e,t){1&e&&(n.Vc(0,"div",12),n.Vc(1,"span",13),n.Qc(2,"i",14),n.Uc(),n.Vc(3,"span"),n.Sd(4,"\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bc\u03ad\u03bd\u03b5\u03c4\u03b5, \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03bf\u03cd\u03bc\u03b5 \u03bc\u03b5 \u03c4\u03bf \u0394\u03ae\u03bc\u03bf \u03b3\u03b9\u03b1 \u03bf\u03b9\u03ba\u03bf\u03bd\u03bf\u03bc\u03b9\u03ba\u03ac \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1."),n.Uc(),n.Uc())}function Se(e,t){if(1&e&&(n.Vc(0,"div",15),n.Vc(1,"div",16),n.Sd(2),n.Uc(),n.Uc()),2&e){var i=n.jd();n.Bc(2),n.Ud(" ",i.errorMessageProfile," ")}}function Pe(e,t){if(1&e&&(n.Vc(0,"h5"),n.Sd(1),n.Uc()),2&e){var i=n.jd().$implicit;n.Bc(1),n.Td(i.label)}}function Oe(e,t){if(1&e&&n.Qc(0,"small",24),2&e){var i=n.jd().$implicit;n.sd("innerHTML",i.description,n.Jd)}}function Ue(e,t){if(1&e&&(n.Qc(0,"img",27),n.kd(1,"lowercase")),2&e){var i=t.$implicit;n.sd("src","https://egritosgroup.gr/wp-content/uploads/2020/10/"+n.ld(1,2,i)+".jpg",n.Kd)("alt",i)}}function je(e,t){if(1&e&&(n.Tc(0),n.Qd(1,Ue,2,4,"img",26),n.Sc()),2&e){var i=n.jd(2).$implicit;n.Bc(1),n.sd("ngForOf",i.services)}}function Ce(e,t){if(1&e&&(n.Vc(0,"div",25),n.Qd(1,je,2,1,"ng-container",11),n.Uc()),2&e){var i=n.jd().$implicit;n.Bc(1),n.sd("ngIf",i.services&&i.services.length>0)}}function De(e,t){1&e&&(n.Vc(0,"div",25),n.Qc(1,"img",28),n.Uc())}function _e(e,t){if(1&e){var i=n.Wc();n.Tc(0),n.Vc(1,"div",21),n.hd("click",(function(){n.Id(i);var e=t.$implicit;return n.jd(3).btnPayClicked(e)})),n.Qd(2,Pe,2,1,"h5",11),n.Qd(3,Oe,1,1,"small",22),n.Qd(4,Ce,2,1,"div",23),n.Qd(5,De,2,0,"div",23),n.Uc(),n.Sc()}if(2&e){var s=t.$implicit,o=n.jd(3);n.Bc(1),n.Dc("payment-method btn btn-outline-primary w-100 text-dark mb-2 d-flex align-items-center justify-content-between "+o.paymentMethodsClass),n.sd("id",s.key),n.Bc(1),n.sd("ngIf",s.label),n.Bc(1),n.sd("ngIf",s.description),n.Bc(1),n.sd("ngIf","IRIS"!=s.key),n.Bc(1),n.sd("ngIf","IRIS"==s.key)}}function Ve(e,t){if(1&e&&(n.Vc(0,"div",19),n.Qd(1,_e,6,7,"ng-container",20),n.Uc()),2&e){var i=n.jd(2);n.Bc(1),n.sd("ngForOf",i.onlinePaymentSettings.paymentMethods)}}function Re(e,t){1&e&&(n.Vc(0,"div",12),n.Vc(1,"span",13),n.Qc(2,"i",14),n.Uc(),n.Uc())}function Me(e,t){if(1&e&&(n.Vc(0,"div",17),n.Qd(1,Ve,2,1,"div",18),n.Qd(2,Re,3,0,"div",0),n.Uc()),2&e){var i=n.jd();n.Bc(1),n.sd("ngIf",i.onlinePaymentSettings),n.Bc(1),n.sd("ngIf",!i.onlinePaymentSettings)}}function we(e,t){if(1&e&&n.Qc(0,"div",40),2&e){var i=n.jd(2);n.sd("innerHTML",i.formErrorsMsg,n.Jd)}}function xe(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div",3),n.Vc(1,"form",29,30),n.Vc(3,"div",31),n.Vc(4,"div",32),n.Vc(5,"label",33),n.Sd(6,"\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2*"),n.Uc(),n.Vc(7,"input",34),n.hd("ngModelChange",(function(e){return n.Id(i),n.jd().paymentRequestDto.cardholderName=e})),n.Uc(),n.Vc(8,"div",35),n.Sd(9," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Uc(),n.Vc(10,"div",36),n.Vc(11,"button",37),n.hd("click",(function(){return n.Id(i),n.jd()._submitPaymentRequest()})),n.Qc(12,"i",38),n.Sd(13," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),n.Uc(),n.Uc(),n.Qd(14,we,1,1,"div",39),n.Uc(),n.Uc()}if(2&e){var s=n.jd();n.Bc(7),n.sd("ngModel",s.paymentRequestDto.cardholderName),n.Bc(1),n.sd("hidden",!s.isFormSubmitted||s.isFormSubmitted&&s.paymentRequestDto.cardholderName),n.Bc(6),n.sd("ngIf",s.formErrorsMsg&&""!=s.formErrorsMsg)}}function Be(e,t){if(1&e&&(n.Tc(0),n.Qc(1,"input",44),n.Sc()),2&e){var i=t.$implicit;n.Bc(1),n.td("name",i.key),n.td("value",i.value)}}function Ae(e,t){if(1&e&&(n.Tc(0),n.Qd(1,Be,2,2,"ng-container",20),n.kd(2,"keyvalue"),n.Qc(3,"input",43),n.Sc()),2&e){var i=n.jd(2);n.Bc(1),n.sd("ngForOf",n.ld(2,2,i.paymentResponseDto.postFields)),n.Bc(2),n.td("value",i.everypayToken)}}function Fe(e,t){if(1&e&&(n.Vc(0,"form",41),n.Qd(1,Ae,4,4,"ng-container",11),n.Qc(2,"div",42),n.Uc()),2&e){var i=n.jd();n.td("action",null==i.paymentResponseDto?null:i.paymentResponseDto.postUrl,n.Kd),n.Bc(1),n.sd("ngIf",i.paymentResponseDto)}}function Te(e,t){if(1&e&&n.Qc(0,"form",45),2&e){var i=n.jd();n.td("action",null==i.paymentResponseDto?null:i.paymentResponseDto.postUrl,n.Kd)}}function Ee(e,t){if(1&e&&(n.Vc(0,"div"),n.Qc(1,"input",46),n.Uc()),2&e){var i=t.$implicit;n.Bc(1),n.td("name",i.key),n.td("value",i.value)}}function Le(e,t){if(1&e&&(n.Tc(0),n.Qd(1,Ee,2,2,"div",20),n.Sc()),2&e){var i=n.jd();n.Bc(1),n.sd("ngForOf",i.paymentResponseDto.postFields)}}function Qe(e,t){if(1&e){var i=n.Wc();n.Vc(0,"button",7),n.hd("click",(function(){return n.Id(i),n.jd()._payActions()})),n.Qc(1,"i",8),n.Sd(2," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae "),n.Uc()}if(2&e){var s=n.jd();n.sd("disabled",!s.canPay)}}function qe(e,t){1&e&&(n.Vc(0,"span",9),n.Qc(1,"i",10),n.Uc())}function We(e,t){if(1&e){var i=n.Wc();n.Vc(0,"app-payment-methods",11),n.hd("createRequest",(function(){return n.Id(i),n.jd()._payActions()}))("loadingSimplifyModal",(function(e){return n.Id(i),n.jd().isLoadingSimplifyModalChanged(e)}))("isLoadingPaymentSettings",(function(e){return n.Id(i),n.jd().isLoadingPaymentSettingsChanged(e)}))("isUserDataValid",(function(e){return n.Id(i),n.jd().isUserDataValidChanged(e)})),n.Uc()}if(2&e){var s=n.jd();n.sd("assetsUrl",s.assetsUrl)("user",s.userInfo)("isLoadingPaymentResponse",s.isLoadingPaymentResponse)}}var Ne=function(){function e(t){_classCallCheck(this,e),this.toastr=t}return _createClass(e,[{key:"show",value:function(e,t,i){t&&this.toastr[i](t,e,{progressBar:!0,onActivateTick:!0})}},{key:"showError",value:function(e,t){this.show(e,t,"error")}},{key:"showInfo",value:function(e,t){this.show(e,t,"info")}},{key:"showSuccess",value:function(e,t){this.show(e,t,"success")}},{key:"showWarning",value:function(e,t){this.show(e,t,"warning")}}]),e}();Ne.\u0275fac=function(e){return new(e||Ne)(n.dd(h.b))},Ne.ctorParameters=function(){return[{type:h.b}]},Ne.\u0275prov=Object(n.Lc)({factory:function(){return new Ne(Object(n.dd)(h.b))},token:Ne,providedIn:"root"}),Ne=Object(s.b)([Object(s.c)("design:paramtypes",[h.b])],Ne);var Ge=function e(t){var i=this;_classCallCheck(this,e),this.toastService=t,this.catchBadResponse=function(e){var t="";if(e.error instanceof Error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else if(void 0!==e.error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else switch(e.status){case 403:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error "+e.status;break;case 401:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n "+e.status;break;default:t="Backend returned code ".concat(e.status,", body was: ").concat(void 0!==e.body?e.body.error:void 0!==e.message?e.message:"")}return i.toastService.showError("",""+t),Object(a.a)(!1)}};Ge.\u0275fac=function(e){return new(e||Ge)(n.dd(Ne))},Ge.ctorParameters=function(){return[{type:Ne}]},Ge.\u0275prov=Object(n.Lc)({factory:function(){return new Ge(Object(n.dd)(Ne))},token:Ge,providedIn:"root"}),Ge=Object(s.b)([Object(s.c)("design:paramtypes",[Ne])],Ge);var ze=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var s;return _classCallCheck(this,i),(s=t.call(this,n,e)).exceptionSrv=e,s.http=n,s.katastimataUrl=s.baseUrl+"/DiloseisWeb",s.dmsUrl=s.baseUrl+"/DocDms",s.configurationOptionsUrl=s.baseUrl+"/Configurations",s.userInfoSubject=new r.a(null),s.userInfo$=s.userInfoSubject.asObservable(),s.egOnInit(),s}return _createClass(i,[{key:"egOnInit",value:function(){var e=this;this.userInfo$.subscribe((function(t){e.userInfo=t}))}},{key:"initUserInfo",value:function(){if(!this.userInfo)for(var e=null,t=0;t<window.localStorage.length;t++){var i=window.localStorage.key(t);"userData"===i.slice(0,8)&&(e=JSON.parse(window.localStorage.getItem(i)),this.userInfoSubject.next({email:e.email,username:e.given_name,tin:e.tin,family_name:e.family_name,given_name:e.given_name,name:e.name,address_city:e.address_city,address_country_code:e.address_country_code,address_zip:e.address_zip,address:e.address,fathers_name:e.fathers_name,mothers_name:e.mothers_name,adt:e.adt,phone_number:e.phone_number}))}}},{key:"getDiloseis",value:function(e){return this.http.get("".concat(this.katastimataUrl,"/DiloseisWebInfo/").concat(e)).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"getDilosiPaymentInfo",value:function(e){return this.http.post(this.katastimataUrl+"/DilosiWebPaymentInfo",e).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"uploadPeriodikiDilosi",value:function(e){var t=new o.e;return t=t.append("isForm","true"),this.http.post(this.katastimataUrl+"/DilosiWebScan",e,{headers:t,responseType:"arraybuffer"}).pipe(Object(l.a)((function(e){return e})),Object(p.a)((function(){return Object(a.a)(!1)})))}},{key:"getPayedInfo",value:function(e){return this.http.get("".concat(this.katastimataUrl,"/DiloseisWebPayedInfo/").concat(e)).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"getEpixeirisiInfo",value:function(e){return this.http.get("".concat(this.katastimataUrl,"/DiloseisWebEpixirisiInfo/").concat(e)).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"deleteDocDmsByDilosiId",value:function(e){var t=this.katastimataUrl+"/DeleteDocDmsByDilosiId/"+e;return this.http.get(t).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"markDilosiWebExoflisi",value:function(e){var t=this.katastimataUrl+"/MarkDilosiWebExoflisi";return this.http.post(t,e).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionService.catchBadResponse))}},{key:"addPaymentRequest",value:function(e){var t=this.financeUrl+"/Banks/AddPaymentRequest";return this.http.post(t,e).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"getDocDmsByDilosiId",value:function(e){var t="".concat(this.dmsUrl,"/GetDocDmsByDilosiId/").concat(e);return this.http.get(t).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"getDownloadFile",value:function(e){var t="".concat(this.dmsUrl,"/DownloadFile/").concat(e);return this.http.get(t).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"getPluginCustomerOptions",value:function(){var e=this.configurationOptionsUrl+"/GetPluginCustomerSpecificOptions";return this.http.get(e).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"createRemittanceInfoById",value:function(e){var t="".concat(this.katastimataUrl,"/CreateRemittanceInfoById/").concat(e),i={headers:new o.e({Accept:"text/html, application/xhtml+xml, */*","Content-Type":"text/plain; charset=utf-8"}),responseType:"text"};return this.http.get(t,i).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"getPaymentSettings",value:function(){var e=this,t=this.baseUrl+"/oikonomiki/GetPaymentSettings";return this.paymentSettings?Object(a.a)(this.paymentSettings):this.http.get(t).pipe(Object(l.a)((function(t){return e.paymentSettings=t,t})),Object(p.a)(this.exceptionSrv.catchBadResponse))}}]),i}(function(){return function e(t,i){var n=this;_classCallCheck(this,e),this.http=t,this.exceptionService=i,this.getBaseUrl=function(){return n.baseUrl},AppConfOptions&&AppConfOptions.katastimata_api?(this.baseUrl=AppConfOptions.katastimata_api,this.financeUrl=AppConfOptions.epayments_api):(this.baseUrl="/",this.financeUrl=AppConfOptions.financeApi),this.baseUrl+="api",this.financeUrl+="api"}}());function Ke(e,t,i){var n="",s=[],o=e.control;return Object.keys(o.controls).forEach((function(e){var t=o.get(e);t instanceof g.d&&s.push.apply(s,_toConsumableArray(function e(t){var i=[];return Object.keys(t.controls).forEach((function(n){var s=t.get(n);s instanceof g.d&&i.push.apply(i,_toConsumableArray(e(s)));var o=s.errors;o&&Object.keys(o).forEach((function(e){i.push({control:n,error:e,value:o[e]})}))})),i}(t)));var i=t.errors;i&&Object.keys(i).forEach((function(t){s.push({control:e,error:t,value:i[t]})}))})),!(!s&&!i)&&(n="<ul>",s.forEach((function(e){var i;"required"==e.error?i="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5":"min"==e.error?i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03b5\u03bb\u03ac\u03c7\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae":"max"==e.error&&(i="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03ad\u03b3\u03b9\u03c3\u03c4\u03b7 \u03c4\u03b9\u03bc\u03ae"),n+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+t[e.control]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+i+"</li>"})),n+=i,n+="</ul>")}function $e(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Object(u.a)((function(){return Object(a.a)(!0)})),s=[];return e.forEach((function(e){s=[].concat(_toConsumableArray(s),[Object(u.a)((function(t){return t?e:(i(),Object(a.a)(!1))}))])})),(t=Object(a.a)(!0)).pipe.apply(t,[n,n,n,n,n,n,n,n,n].concat(_toConsumableArray(s)))}function Je(e,t){var i=function(){try{e.detectChanges()}catch(t){console.warn("View already destroyed")}};t?t.runOutsideAngular((function(){return i()})):i()}function He(e){try{return JSON.parse(JSON.stringify(e))}catch(t){console.error(t)}}ze.\u0275fac=function(e){return new(e||ze)(n.dd(Ge),n.dd(o.b))},ze.ctorParameters=function(){return[{type:Ge},{type:o.b}]},ze.\u0275prov=Object(n.Lc)({factory:function(){return new ze(Object(n.dd)(Ge),Object(n.dd)(o.b))},token:ze,providedIn:"root"}),ze=Object(s.b)([Object(s.c)("design:paramtypes",[Ge,o.b])],ze);var Ye=function(){function e(t,i,n,s,o,a){_classCallCheck(this,e),this.katastimataNgSrv=t,this.toasterSrv=i,this.cdr=n,this._http=s,this.router=o,this.route=a,this.model=[],this.countriesList=[],this.index=0,this.isLoading=!0,this.isAddingNewDilosi=!1,this.onDestroy=new c.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.katastimataNgSrv.initUserInfo(),this.katastimataNgSrv.userInfo$.pipe(Object(u.a)((function(t){return t?(e.userInfo=t,e._http.get(AuthConfOptions.stsServer+"/api/general/GetCountries")):Object(a.a)(!1)})),Object(f.a)(this.onDestroy)).subscribe((function(t){t&&(e.countriesList=t,e.userInfo.address_country_code&&""!=e.userInfo.address_country_code&&(e.userInfo.address_country_num=e.countriesList.find((function(t){return t.Alpha2Code==e.userInfo.address_country_code})).NumericCode.toString())),Je(e.cdr)})),this.router.events.pipe(Object(m.a)((function(e){return e instanceof y.b})),Object(f.a)(this.onDestroy)).subscribe((function(t){t&&t.url&&t.url.includes("receipts")?e.index=0:t&&t.url&&t.url.includes("saved")&&(e.index=1),Je(e.cdr)})),Object(d.a)([this.katastimataNgSrv.getEpixeirisiInfo(this.userInfo.tin),this.katastimataNgSrv.getDiloseis(this.userInfo.tin),this.katastimataNgSrv.getPluginCustomerOptions()]).subscribe((function(t){if(t){if(e.epixeirisiInfo=t[0],e.diloseisInfoResponse=t[1],e.epixeirisiInfo||e.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03c9\u03bd \u03c4\u03b7\u03c2 \u03b5\u03c0\u03b9\u03c7\u03b5\u03af\u03c1\u03b7\u03c3\u03b7\u03c2."),e.diloseisInfoResponse&&e.diloseisInfoResponse.length>0?e.diloseisInfoSaved=e.diloseisInfoResponse.filter((function(e){return 6==e.statusId})):e.toasterSrv.showError("","\u0394\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03c9\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd."),t[2]){var i=t[2].find((function(e){return e.configurationOptions.find((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id}))}));i&&i.configurationOptions.find((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id}))&&(e.onlinePaymentsSettingsCompany=i.configurationOptions.find((function(e){return"PluginCustomerSpecificOptions:OnlinePayments"==e.id})).value)}Je(e.cdr),e._loadData()}else e.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1.")}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_loadData",value:function(){var e=this;this.katastimataNgSrv.getPayedInfo(this.userInfo.tin).subscribe((function(t){t?e.model=t:e.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03c9\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd."),e.isLoading=!1,Je(e.cdr)}))}},{key:"onCreateNewDilosiClicked",value:function(){this.isAddingNewDilosi=!0,Je(this.cdr)}},{key:"onTabChanged",value:function(e){0==e.index?this.router.navigate(["./receipts"],{relativeTo:this.route,preserveQueryParams:!0}):this.router.navigate(["./saved"],{relativeTo:this.route})}},{key:"onReloadSaved",value:function(e){var t=this;this.katastimataNgSrv.getDiloseis(this.userInfo.tin).subscribe((function(e){e&&(t.diloseisInfoResponse=e,t.diloseisInfoSaved=t.diloseisInfoResponse.filter((function(e){return 6==e.statusId})),Je(t.cdr),t._loadData())}))}}]),e}();Ye.\u0275fac=function(e){return new(e||Ye)(n.Pc(ze),n.Pc(Ne),n.Pc(n.k),n.Pc(o.b),n.Pc(y.d),n.Pc(y.a))},Ye.\u0275cmp=n.Jc({type:Ye,selectors:[["lib-katastimata-ng"]],decls:7,vars:9,consts:[[4,"ngIf"],["title","\u039d\u03ad\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7",3,"isOpen","size","isOpenChange"],[1,"modal-body"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","epixeirisiInfo","updateSaved",4,"ngIf"],[1,"d-flex",2,"height","100vh !important"],[1,"justify-content-center","align-self-start","w-100","mt-2"],["role","alert",1,"bg-danger","text-light","p-2"],["class","mb-3 py-1 d-flex flex-wrap",4,"ngIf"],[3,"activeIndex","onChange"],["header","\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd"],[3,"diloseisReceipts","userInfo","isLoading","diloseisInfoResponse","reloadData",4,"ngIf"],["header","\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",4,"ngIf"],[1,"mb-3","py-1","d-flex","flex-wrap"],["class","m-0 mr-1 d-inline-flex align-items-center eponimia-title",4,"ngIf"],["class","btn btn-primary btn-sm m-0 ml-auto","type","button",3,"click",4,"ngIf"],[1,"m-0","mr-1","d-inline-flex","align-items-center","eponimia-title"],["type","button",1,"btn","btn-primary","btn-sm","m-0","ml-auto",3,"click"],["aria-hidden","true",1,"fas","fa-plus"],[3,"diloseisReceipts","userInfo","isLoading","diloseisInfoResponse","reloadData"],["header","\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2"],["pTemplate","content"],[3,"dilosiInfoSaved","userInfo","isLoading","diloseisInfoResponse","onlinePaymentsSettingsCompany","epixeirisiInfo","reloadData"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","epixeirisiInfo","updateSaved"]],template:function(e,t){1&e&&(n.Qd(0,_,5,0,"ng-container",0),n.kd(1,"async"),n.Qd(2,A,6,4,"ng-container",0),n.kd(3,"async"),n.Vc(4,"eg-modal",1),n.hd("isOpenChange",(function(e){return t.isAddingNewDilosi=e})),n.Vc(5,"div",2),n.Qd(6,F,1,4,"app-katastimata-create-dilosi",3),n.Uc(),n.Uc()),2&e&&(n.sd("ngIf",!n.ld(1,5,t.katastimataNgSrv.userInfo$)),n.Bc(2),n.sd("ngIf",n.ld(3,7,t.katastimataNgSrv.userInfo$)),n.Bc(2),n.sd("isOpen",t.isAddingNewDilosi)("size","xl"),n.Bc(2),n.sd("ngIf",t.isAddingNewDilosi))},directives:function(){return[b.p,v.a,O.b,O.a,rt,D.e,ct,at]},pipes:function(){return[b.b]},encapsulation:2,changeDetection:0}),Ye.ctorParameters=function(){return[{type:ze},{type:Ne},{type:n.k},{type:o.b},{type:y.d},{type:y.a}]},Ye=Object(s.b)([Object(s.c)("design:paramtypes",[ze,Ne,n.k,o.b,y.d,y.a])],Ye);var Xe,Ze,et,tt,it,nt=function e(){_classCallCheck(this,e),this.dilosiId=0,this.dilosiDescription=null,this.hmeromiaLixisDilosis=null},st=function e(){_classCallCheck(this,e),this.dilosiId=null,this.epixirisiOfeiletisEponimia=null,this.paymentCaption=null,this.paymentCode=null,this.paymentAmount=null,this.telosPoso=null,this.prostimoPoso=null,this.posostoEkprothesmisKatavolisMines=null,this.apoforologimenoPoso=null,this.posostoTelous=null,this.posostoEkprothesmisKatavolis=null,this.posostoEkprothesmisKatavolisArxiko=null},ot=function e(){_classCallCheck(this,e),this.bankTransactionId=null};!function(e){e[e.String=1]="String",e[e.Select=2]="Select",e[e.MultiSelect=3]="MultiSelect",e[e.Number=4]="Number",e[e.Date=5]="Date",e[e.DateTime=6]="DateTime",e[e.Dynamic=7]="Dynamic",e[e.StringMultiLine=8]="StringMultiLine",e[e.Checkbox=9]="Checkbox"}(Xe||(Xe={})),function(e){e[e.Ok=1]="Ok",e[e.Error=2]="Error",e[e.Warning=3]="Warning",e[e.UndefinedError=4]="UndefinedError"}(Ze||(Ze={})),function(e){e[e.aplirotes=1]="aplirotes",e[e.pliromenes=2]="pliromenes"}(et||(et={})),function(e){e.dilosiDescription="\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2",e.ypokeimenoPoso="\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc",e.periodikiDilosiFPA="\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)"}(tt||(tt={})),function(e){e.billAddrState="\u03a0\u03b5\u03c1\u03b9\u03c6\u03ad\u03c1\u03b5\u03b9\u03b1",e.cardholderName="\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2",e.mobilePhone="\u039a\u03b9\u03bd\u03b7\u03c4\u03cc \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf"}(it||(it={}));var at=function(){function e(t,i,s){_classCallCheck(this,e),this.katastimataNgSrv=t,this.toasterSrv=i,this.cdr=s,this.updateSaved=new n.x,this.requestObs=[],this.onDestroy=new c.a,this.pososta=[{value:"0.5",description:"0.5%"},{value:"2",description:"2%"},{value:"5",description:"5%"}],this.toggleEditFiles=!1,this.periodikiDilosiFPA=null,this.extraFile=null,this.uploadedFiles=[],this.errorMessageProfile=null,this.isLoading=!1,this.isFormDirty=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=tt}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dilosi?this.katastimataNgSrv.getDocDmsByDilosiId(this.dilosiCopy.dilosiId).subscribe((function(t){t&&(e.dilosiFiles=t,Je(e.cdr))})):(this.dilosi=new nt,this.dilosiCopy=He(this.dilosi),Je(this.cdr)),this.katastimataNgSrv.userInfo$.pipe(Object(f.a)(this.onDestroy)).subscribe((function(t){t&&(e.userInfo=t,Je(e.cdr))}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"ngOnChanges",value:function(e){e&&e.dilosi&&(this.dilosiCopy=e.dilosi.currentValue,Je(this.cdr)),e&&e.onlinePaymentsSettingsCompany&&(this.onlinePaymentsSettingsCompany=e.onlinePaymentsSettingsCompany.currentValue,Je(this.cdr))}},{key:"onSelectedDilosiChanged",value:function(e){var t=this;e&&(this.dilosiCopy=this.diloseisInfoResponse.filter((function(e){return e.dilosiId===+t.dilosiCopy.dilosiId}))[0],Je(this.cdr))}},{key:"downloadFile",value:function(e){e&&this.katastimataNgSrv.getDownloadFile(e).subscribe()}},{key:"onFileChange",value:function(e,t){var i=this;e&&e.srcElement.files.length>0?C()(e,!0).then((function(e){i.uploadedFiles[t]=e})):delete this.uploadedFiles[t],this.isFormDirty=!0,Je(this.cdr)}},{key:"onSubmit",value:function(){var e=this;if(this.formErrorsMsg="",this.dimotikosForosForm.valid&&this.dilosiCopy.ypokeimenoPoso>0){this.isFormSubmitted=!0,this.isFormDirty=!1,this.isLoading=!0;var t=[];if(!this.dilosiFiles||0==this.dilosiFiles.length||this.uploadedFiles&&this.uploadedFiles.length){for(var i=[],n=Object.values(this.uploadedFiles),s=0;s<n.length;s++){var o=n[s],r=o.name.substr(o.name.lastIndexOf(".")+1);i.push({language:"el",dilosiId:+this.dilosiCopy.dilosiId,fileContent:o.base64,fileLength:o.size,fileExtension:r,fileDescription:s,fileName:o.name})}t=[].concat(_toConsumableArray(t),[this.katastimataNgSrv.deleteDocDmsByDilosiId(this.dilosiCopy.dilosiId)]),i.length>0&&i.forEach((function(i){t=[].concat(_toConsumableArray(t),[e.katastimataNgSrv.uploadPeriodikiDilosi(i)])}))}var c={language:"el",dilosiId:+this.dilosiCopy.dilosiId,ypokeimenoPoso:+this.dilosiCopy.ypokeimenoPoso,hmerominiaDilosis:new Date};if(this.onlinePaymentsSettingsCompany&&"1"==this.onlinePaymentsSettingsCompany)this.requestObs=[].concat(_toConsumableArray(this.requestObs),[this.katastimataNgSrv.getDilosiPaymentInfo(c)]),t=[].concat(_toConsumableArray(t),[this.katastimataNgSrv.getDilosiPaymentInfo(c)]),Je(this.cdr),$e(t,(function(){return e.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1.")})).subscribe((function(t){t?(e.dilosiWebPaymentInfo=t,e.dilosiWebPaymentInfo&&(e.updateSaved.emit({dilosiId:e.dilosiWebPaymentInfo.dilosiId,dilosiDescription:e.dilosiWebPaymentInfo.paymentCaption,statusId:e.dilosiCopy.statusId,akatharistoPoso:e.dilosiCopy.akatharistoPoso,ypokeimenoPoso:e.dilosiCopy.ypokeimenoPoso,telosPoso:e.dilosiWebPaymentInfo.telosPoso,prostimoPoso:e.dilosiWebPaymentInfo.prostimoPoso,hmeromiaLixisDilosis:e.dilosiCopy.hmeromiaLixisDilosis,isChecked:!1}),e.kodikosPliromis=e.dilosiWebPaymentInfo.paymentCode,e.kodikosPliromis&&e.kodikosPliromis.length>15&&(e.kodikosPliromis=e.dilosiWebPaymentInfo.paymentCode.match(/(.|[\r\n]){1,4}/g).toString(),e.kodikosPliromis=e.kodikosPliromis.replace(new RegExp(",","g")," "))),e.isLoading=!1,e.isFormSubmitted=!1,Je(e.cdr)):e.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03c9\u03bd \u03c0\u03bf\u03c3\u03ce\u03bd.")}));else{this.dilosiWebPaymentInfo=new st;var d="";this.katastimataNgSrv.createRemittanceInfoById(this.dilosiCopy.dilosiId).pipe(Object(u.a)((function(i){return i?(d=i,$e(t,(function(){return e.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1.")}))):Object(a.a)(!1)}))).subscribe((function(t){if(t&&e.dilosiWebPaymentInfo){var i=+e.selectedPososto/100+1,n=(e.dilosiCopy.ypokeimenoPoso/i).toFixed(2);n=+n;var s=+e.selectedPososto/100,o=(n*s).toFixed(2);o=+o;var a=(c=new Date(e.dilosiCopy.hmeromiaLixisDilosis),(l=new Date).getMonth()-c.getMonth()+12*(l.getFullYear()-c.getFullYear()));a<0&&(a=0);var r=.02*a*o;r>o&&(r=o),e.dilosiWebPaymentInfo.dilosiId=e.dilosiCopy.dilosiId,e.dilosiWebPaymentInfo.epixirisiOfeiletisEponimia=e.epixeirisiInfo.eponimia,e.dilosiWebPaymentInfo.paymentCaption=e.dilosiCopy.dilosiDescription,e.dilosiWebPaymentInfo.paymentCode=d,e.dilosiWebPaymentInfo.paymentAmount=o+r,e.dilosiWebPaymentInfo.telosPoso=o,e.dilosiWebPaymentInfo.prostimoPoso=r,e.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines=a,e.dilosiWebPaymentInfo.apoforologimenoPoso=n,e.dilosiWebPaymentInfo.posostoTelous=s,e.dilosiWebPaymentInfo.posostoEkprothesmisKatavolis=.02*a,e.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisArxiko=.02,e.updateSaved.emit({dilosiId:e.dilosiCopy.dilosiId,dilosiDescription:e.dilosiCopy.dilosiDescription,statusId:e.dilosiCopy.statusId,hmeromiaLixisDilosis:e.dilosiCopy.hmeromiaLixisDilosis,akatharistoPoso:e.dilosiCopy.akatharistoPoso,ypokeimenoPoso:e.dilosiCopy.ypokeimenoPoso,isChecked:!1,telosPoso:e.dilosiWebPaymentInfo.telosPoso,prostimoPoso:e.dilosiWebPaymentInfo.prostimoPoso}),e.isLoading=!1,e.isFormSubmitted=!1,Je(e.cdr)}else e.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03bf\u03c5 Remittance Info.");var c,l})),Je(this.cdr)}}else{var l="";this.dilosiCopy.dilosiId||(l+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf</li>"),0==this.dilosiCopy.ypokeimenoPoso&&(l+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03c4\u03bf\u03c5 0</li>"),this.formErrorsMsg=Ke(this.dimotikosForosForm,this.formDictionaryEnum,l),Je(this.cdr)}}}]),e}();at.\u0275fac=function(e){return new(e||at)(n.Pc(ze),n.Pc(Ne),n.Pc(n.k))},at.\u0275cmp=n.Jc({type:at,selectors:[["app-katastimata-create-dilosi"]],viewQuery:function(e,t){var i;1&e&&n.Yd(T,!0),2&e&&n.Fd(i=n.id())&&(t.dimotikosForosForm=i.first)},inputs:{dilosi:"dilosi",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",diloseisInfoResponse:"diloseisInfoResponse",epixeirisiInfo:"epixeirisiInfo"},outputs:{updateSaved:"updateSaved"},features:[n.zc],decls:3,vars:3,consts:[["class","form w-100",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],[1,"form","w-100"],["dimotikosForosForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6"],["name","dilosiDescription","bindLabel","dilosiDescription","bindValue","dilosiId","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7","required","",3,"items","ngModel","searchable","clearable","ngModelChange","change"],["dilosiDescription","ngModel"],[1,"text-danger",3,"hidden"],["name","hmeromiaLixisDilosis","placeholder","\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2","type","text","disabled","",1,"form-control",3,"value"],["class","form-group col-12 col-md-6",4,"ngIf"],[1,"form-group","col-12",3,"ngClass"],["name","ypokeimenoPoso","type","text","currencyMask","","lang","el-GR","placeholder","\u039c\u03bf\u03c1\u03c6\u03ae \u03c3\u03c5\u03bc\u03c0\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7\u03c2: 1000,1","required","",1,"form-control",3,"ngModel","ngModelChange"],["ypokeimenoPosoInput","ngModel"],["class","row",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm","d-block","mt-2","mx-auto",3,"click"],["aria-hidden","true",1,"fas","fa-calculator"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["class","screen-msg",4,"ngIf"],["name","pososto","bindLabel","description","bindValue","value","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc","required","",3,"items","searchable","clearable","ngModel","ngModelChange"],["posostoInput","ngModel"],[1,"col-12"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"far","fa-edit"],[1,"far","fa-calendar-alt"],["type","button",1,"btn","btn-sm","btn-success","m-0",3,"click"],[1,"fas","fa-download"],["class","col-12 alert alert-warning",4,"ngIf"],[1,"form-group","col-12","col-sm-6"],["for","periodikiDilosiFPA"],["name","periodikiDilosiFPA","placeholder","\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)","type","file","required","",1,"form-control-file",3,"ngModel","ngModelChange","change"],["periodikiDilosiFPAInput","ngModel"],["for","extraFile"],["name","extraFile","placeholder","\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf","type","file",1,"form-control-file",3,"ngModel","ngModelChange","change"],[1,"col-12","alert","alert-warning"],[1,"fas","fa-exclamation-circle"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"screen-msg"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"w-100","pb-2"],[1,"debits-info","d-flex","justify-content-between"],[1,"debits-info_left","d-flex","mr-1"],[1,"mb-0"],[1,"mr-1",2,"width","220px"],["class","mb-0",4,"ngIf"],[1,"totalPoso"],[3,"userInfo","requestObs","createWebPaymentInfo","canPay","errorMsg"]],template:function(e,t){1&e&&(n.Qd(0,z,31,17,"form",0),n.Qd(1,K,3,0,"div",1),n.Qd(2,Y,43,35,"ng-container",2)),2&e&&(n.sd("ngIf",t.dilosiCopy&&t.diloseisInfoResponse&&t.diloseisInfoResponse.length>0),n.Bc(1),n.sd("ngIf",t.isLoading),n.Bc(1),n.sd("ngIf",t.dilosiWebPaymentInfo&&!t.isLoading))},directives:function(){return[b.p,g.u,g.k,g.l,k.a,g.r,g.j,g.m,b.n,g.b,I.b,b.o,ut]},pipes:function(){return[b.f,b.d]},encapsulation:2,changeDetection:0}),at.ctorParameters=function(){return[{type:ze},{type:Ne},{type:n.k}]},Object(s.b)([Object(n.lb)("dimotikosForosForm"),Object(s.c)("design:type",g.l)],at.prototype,"dimotikosForosForm",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Array)],at.prototype,"diloseisInfoResponse",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",nt)],at.prototype,"dilosi",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",String)],at.prototype,"onlinePaymentsSettingsCompany",void 0),Object(s.b)([Object(n.S)(),Object(s.c)("design:type",Object)],at.prototype,"updateSaved",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Object)],at.prototype,"epixeirisiInfo",void 0),at=Object(s.b)([Object(s.c)("design:paramtypes",[ze,Ne,n.k])],at);var rt=function(){function e(t,i,s){_classCallCheck(this,e),this.katastimataNgSrv=t,this.route=i,this._http=s,this.reloadData=new n.x,this.onDestroy=new c.a,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=this;e&&e.diloseisReceipts&&(this.diloseisReceipts=e.diloseisReceipts.currentValue,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.diloseisReceipts.forEach((function(e){t.sumYpokeimeno+=e.ypokeimenoPoso,t.sumTelos+=e.telosPoso,t.sumProstimo+=e.prostimoPoso})))}},{key:"ngOnInit",value:function(){var e=this;this.katastimataNgSrv.userInfo$.pipe(Object(f.a)(this.onDestroy)).subscribe((function(t){return e.userInfo=t})),this._getBankMessages().pipe(Object(u.a)((function(t){return t?(e.oikonomikiBankMessages=t,e.route.queryParams.pipe(Object(f.a)(e.onDestroy))):Object(a.a)(!1)}))).subscribe((function(t){if(t){var i=t,n=i.messagecode,s=i.btId;if(n)if(e.bankStatusMessage=e.oikonomikiBankMessages[n],"TRANSACTION_COMPLETED"==n){if(e.bankStatusMessageClass="success",s){var o=new ot;o.bankTransactionId=s,e.katastimataNgSrv.markDilosiWebExoflisi(o).subscribe((function(){e.reloadData.emit(!0)}))}}else e.bankStatusMessageClass="fail"}}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_getBankMessages",value:function(){var e=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(e)}},{key:"btnBankStatusMessageClicked",value:function(){this.bankStatusMessage=null}}]),e}();rt.\u0275fac=function(e){return new(e||rt)(n.Pc(ze),n.Pc(y.a),n.Pc(o.b))},rt.\u0275cmp=n.Jc({type:rt,selectors:[["app-katastimata-receipts"]],inputs:{diloseisReceipts:"diloseisReceipts",userInfo:"userInfo",diloseisInfoResponse:"diloseisInfoResponse",isLoading:"isLoading"},outputs:{reloadData:"reloadData"},features:[n.zc],decls:5,vars:5,consts:[["class","d-flex w-100 justify-content-center",4,"ngIf"],["class","d-flex justify-content-center w-100 mt-1",4,"ngIf"],[3,"class",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center"],[1,"badge","badge-warning","p-1"],[1,"d-flex","justify-content-center","w-100","mt-1"],[1,"badge","badge-warning"],["type","button","aria-label","\u039a\u03bb\u03b5\u03af\u03c3\u03b9\u03bc\u03bf \u039c\u03b7\u03bd\u03cd\u03bc\u03b1\u03c4\u03bf\u03c2",1,"close-bank-msg","position-absolute",2,"right","5px","top","5px","background-color","transparent","border","0 none","color","#ffffff",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"mt-1"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-170"],[1,"fixed-width-col-100"],[1,"fixed-width-col-120"],[1,"ui-column-title"],[1,"fixed-width-col-100","text-right"],["colspan","2",1,"fixed-width-col-230","text-right"]],template:function(e,t){1&e&&(n.Qd(0,X,3,0,"div",0),n.Qd(1,Z,3,0,"div",1),n.Qd(2,ee,4,4,"div",2),n.Qd(3,te,3,0,"div",3),n.Qd(4,ae,11,11,"ng-container",4)),2&e&&(n.sd("ngIf",!(t.diloseisInfoResponse&&0!=t.diloseisInfoResponse.length||t.isLoading)),n.Bc(1),n.sd("ngIf",!(t.diloseisReceipts&&0!=t.diloseisReceipts.length||t.isLoading)),n.Bc(1),n.sd("ngIf",t.bankStatusMessage),n.Bc(1),n.sd("ngIf",t.isLoading),n.Bc(1),n.sd("ngIf",!t.isLoading))},directives:[b.p,P.d,D.e],pipes:[b.d],encapsulation:2}),rt.ctorParameters=function(){return[{type:ze},{type:y.a},{type:o.b}]},Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Array)],rt.prototype,"diloseisReceipts",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Array)],rt.prototype,"diloseisInfoResponse",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Object)],rt.prototype,"userInfo",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Boolean)],rt.prototype,"isLoading",void 0),Object(s.b)([Object(n.S)(),Object(s.c)("design:type",Object)],rt.prototype,"reloadData",void 0),rt=Object(s.b)([Object(s.c)("design:paramtypes",[ze,y.a,o.b])],rt);var ct=function(){function e(t,i,s,o){_classCallCheck(this,e),this.katastimataNgSrv=t,this.cdr=i,this.route=s,this._http=o,this.reloadData=new n.x,this.modelPaymentInfo=[],this.onDestroy=new c.a,this.errorMessageProfile=null,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.isAllDebitsChecked=!1,this.calculatedChecked={countChecked:0,countText:"\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",checkedYpokeimeno:0,checkedTelos:0,checkedProstimo:0},this.requestObs=[],this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumToPay=0,this.isEditModalOpen=!1,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=this;e&&e.dilosiInfoSaved&&(this.dilosiInfoSaved=e.dilosiInfoSaved.currentValue,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumToPay=0,this.dilosiInfoSaved.forEach((function(e){t.sumYpokeimeno+=e.ypokeimenoPoso,t.sumTelos+=e.telosPoso,t.sumProstimo+=e.prostimoPoso,t.sumToPay+=e.telosPoso+e.prostimoPoso})),Je(this.cdr))}},{key:"ngOnInit",value:function(){var e=this;this.katastimataNgSrv.userInfo$.pipe(Object(f.a)(this.onDestroy)).subscribe((function(t){return e.userInfo=t})),this._getBankMessages().pipe(Object(u.a)((function(t){return t?(e.oikonomikiBankMessages=t,e.route.queryParams.pipe(Object(f.a)(e.onDestroy))):Object(a.a)(!1)}))).subscribe((function(t){if(t){var i=t,n=i.messagecode,s=i.btId;if(n)if(e.bankStatusMessage=e.oikonomikiBankMessages[n],"TRANSACTION_COMPLETED"==n){if(e.bankStatusMessageClass="success",s){var o=new ot;o.bankTransactionId=s,e.katastimataNgSrv.markDilosiWebExoflisi(o).subscribe((function(){e.reloadData.emit(!0)}))}}else e.bankStatusMessageClass="fail"}Je(e.cdr)}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_getBankMessages",value:function(){var e=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(e)}},{key:"_calculateTotalAmounts",value:function(){var e=this;this.requestObs=[];var t,i=0,n=0,s=0,o=0;this.dilosiInfoSaved.forEach((function(t){if(t.isChecked){o++,i+=t.ypokeimenoPoso,n+=t.telosPoso,s+=t.prostimoPoso;var a={language:"el",ypokeimenoPoso:+t.ypokeimenoPoso,dilosiId:+t.dilosiId,hmerominiaDilosis:new Date};e.requestObs=[].concat(_toConsumableArray(e.requestObs),[e.katastimataNgSrv.getDilosiPaymentInfo(a)])}})),t=1==o?"\u03b4\u03ae\u03bb\u03c9\u03c3\u03b7":"\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",this.calculatedChecked={countChecked:o,countText:t,checkedYpokeimeno:i,checkedTelos:n,checkedProstimo:s},Je(this.cdr)}},{key:"_createPaymentInfo",value:function(){var e=this;this.modelPaymentInfo=[],Object(d.a)(this.requestObs).subscribe((function(t){t&&(t.forEach((function(t){e.modelPaymentInfo=[].concat(_toConsumableArray(e.modelPaymentInfo),[t])})),Je(e.cdr))}))}},{key:"onAllDebitsSelected",value:function(){var e=this;this.dilosiInfoSaved.forEach((function(t){t.isChecked=e.isAllDebitsChecked})),Je(this.cdr),this._calculateTotalAmounts()}},{key:"onEdit",value:function(e){this.isEditModalOpen=!0,this.selectedDilosi=He(e),Je(this.cdr)}},{key:"updateDilosiInTable",value:function(e){if(e){var t=this.dilosiInfoSaved.findIndex((function(t){return t.dilosiId==e.dilosiId}));this.dilosiInfoSaved[t]=e,Je(this.cdr)}}},{key:"onBankStatusMessage",value:function(){this.bankStatusMessage=null,Je(this.cdr)}}]),e}();ct.\u0275fac=function(e){return new(e||ct)(n.Pc(ze),n.Pc(n.k),n.Pc(y.a),n.Pc(o.b))},ct.\u0275cmp=n.Jc({type:ct,selectors:[["app-katastimata-saved"]],inputs:{dilosiInfoSaved:"dilosiInfoSaved",userInfo:"userInfo",diloseisInfoResponse:"diloseisInfoResponse",epixeirisiInfo:"epixeirisiInfo",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",isLoading:"isLoading"},outputs:{reloadData:"reloadData"},features:[n.zc],decls:8,vars:6,consts:[[3,"class",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],["selectedDebits",""],["title","\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2",3,"isOpen","size","isOpenChange"],[1,"p-2"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","updateSaved",4,"ngIf"],[1,"close-bank-msg",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],["class","debits-info__selected-debits",4,"ngIf"],[1,"mt-1"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["class","screen-msg",4,"ngIf"],[1,"debits-info__selected-debits"],[4,"ngTemplateOutlet"],[1,"fixed-width-col-40","text-center"],[3,"binary","ngModel","ngModelChange","onChange"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-170"],[1,"fixed-width-col-100"],[1,"fixed-width-col-120"],[1,"ui-column-title"],[1,"fixed-width-col-100","text-right"],[1,"fixed-width-col-120","text-center"],["type","button",1,"btn","btn-primary","btn-sm","m-0",3,"click"],[1,"far","fa-edit"],["colspan","3",1,"fixed-width-col-270","text-right"],[3,"userInfo","requestObs","errorMsg"],[1,"screen-msg"],[1,"totalPoso"],[1,"d-flex","total-selected-cost"],["id","sumTotalToBank",1,"totalPoso"],[3,"diloseisInfoResponse","dilosi","onlinePaymentsSettingsCompany","updateSaved"]],template:function(e,t){1&e&&(n.Qd(0,re,4,4,"div",0),n.Qd(1,ce,3,0,"div",1),n.Qd(2,ge,14,14,"ng-container",2),n.Qd(3,be,20,20,"ng-template",null,3,n.Rd),n.Vc(5,"eg-modal",4),n.hd("isOpenChange",(function(e){return t.isEditModalOpen=e}))("isOpenChange",(function(){return t.isEditModalOpen=!1,t.selectedDilosi=null})),n.Vc(6,"div",5),n.Qd(7,ve,1,3,"app-katastimata-create-dilosi",6),n.Uc(),n.Uc()),2&e&&(n.sd("ngIf",t.bankStatusMessage),n.Bc(1),n.sd("ngIf",t.isLoading),n.Bc(1),n.sd("ngIf",!t.isLoading),n.Bc(3),n.sd("isOpen",t.isEditModalOpen)("size","xl"),n.Bc(2),n.sd("ngIf",t.isEditModalOpen&&t.selectedDilosi))},directives:function(){return[b.p,v.a,P.d,D.e,b.u,U.a,g.j,g.m,ut,at]},pipes:function(){return[b.d]},encapsulation:2,changeDetection:0}),ct.ctorParameters=function(){return[{type:ze},{type:n.k},{type:y.a},{type:o.b}]},Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Array)],ct.prototype,"dilosiInfoSaved",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Array)],ct.prototype,"diloseisInfoResponse",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Object)],ct.prototype,"userInfo",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Object)],ct.prototype,"epixeirisiInfo",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",String)],ct.prototype,"onlinePaymentsSettingsCompany",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Boolean)],ct.prototype,"isLoading",void 0),Object(s.b)([Object(n.S)(),Object(s.c)("design:type",Object)],ct.prototype,"reloadData",void 0),ct=Object(s.b)([Object(s.c)("design:paramtypes",[ze,n.k,y.a,o.b])],ct);var dt=[{path:"",component:Ye,children:[{path:"",pathMatch:"full",redirectTo:"receipts"},{path:"receipts",component:rt},{path:"saved",component:ct}]}],lt=function e(){_classCallCheck(this,e)};lt.\u0275mod=n.Nc({type:lt}),lt.\u0275inj=n.Mc({factory:function(e){return new(e||lt)},imports:[[y.g.forChild(dt)],y.g]});var pt=function(){function e(t,i,s){_classCallCheck(this,e),this.katastimataNgSrv=t,this.toasterSrv=i,this.cdr=s,this.loadingSimplifyModal=new n.x,this.createRequest=new n.x,this.isLoadingPaymentSettings=new n.x,this.isUserDataValid=new n.x,this.onDestroy=new c.a,this.paymentMethodsClass="pm-size-2",this.requestBankData=!1,this.errorMessageProfile=null,this.isFormSubmitted=!1,this.formDictionaryEnum=it}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"ngOnChanges",value:function(e){e&&e.paymentResponseDto&&(this.paymentResponseDto=e.paymentResponseDto.currentValue),Je(this.cdr)}},{key:"btnPayClicked",value:function(e){var t=this;this.selectedPaymentMethod=e||this.onlinePaymentSettings.paymentMethods.filter((function(e){return e.key==t.onlinePaymentSettings.defaultPaymentMethodKey}))[0],this.paymentRequestDto?this.paymentRequestDto.paymentMethodKey=this.selectedPaymentMethod.key:this.paymentRequestDto=null,AppConfOptions&&AppConfOptions.oroi_xrisis_link&&""!=AppConfOptions.oroi_xrisis_link?(this.termsLink=AppConfOptions.oroi_xrisis_link,this.isTermsModalOpen=!0,Je(this.cdr)):this.paymentRequestDto&&"PIRBGRAA"!=this.paymentRequestDto.paymentMethodKey?this.createRequest.emit(!0):this.paymentRequestDto&&"PIRBGRAA"==this.paymentRequestDto.paymentMethodKey&&(this.requestBankData=!0,this.showMethods=!1,Je(this.cdr))}},{key:"onEthnikiPaymentRequestSucceded",value:function(e){var t=this;this.paymentResponseDto=e,this.loadingSimplifyModal.emit(!0);var i=document.getElementById("ethnikiPaymentBtn");i.setAttribute("data-amount",e.postFields.amount),i.setAttribute("data-reference",e.postFields.reference),i.setAttribute("data-sc-key",this.ethnikiPaymentMethod.parameters.publicKey),this.loadingSimplifyModal.emit(!1),setTimeout((function(){i.click()})),SimplifyCommerce.hostedPayments((function(i){if(i){var n="data"in i;if("close"in i&&1==i.close){var s=document.createElement("input");s.setAttribute("name","PaymentStatus"),s.setAttribute("value","CLOSED"),s.setAttribute("type","text"),s.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(s);var o=document.createElement("input");o.setAttribute("name","Reference"),o.setAttribute("value",e.postFields.reference),o.setAttribute("type","text"),o.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(o),setTimeout((function(){t._submiToOikonomiki()}))}else if(n){var a=i;for(var r in a)if(a.hasOwnProperty(r)&&"data"==r)for(var c in a.data)a.data.hasOwnProperty(c)&&"object"==typeof a.data[c]&&delete a.data[c];("ErrorCode"in a||"declineReason"in a)&&(a.Reference=e.postFields.reference);for(var d=0,l=Object.keys(a);d<l.length;d++){var p=l[d],u=a[p],f=document.createElement("input");f.setAttribute("name",p),f.setAttribute("value",u),f.setAttribute("type","text"),f.classList.add("d-none"),document.getElementById("ethniki_form").appendChild(f)}setTimeout((function(){t._submiToOikonomiki()}))}}}),{operation:"create.payment",scKey:this.ethnikiPaymentMethod.parameters.publicKey,color:"#204969",currency:"EUR",amount:e.postFields.amount,reference:e.postFields.reference,masterpass:e.postFields.masterpass})}},{key:"onPancretaPaymentRequestSucceded",value:function(e){this.paymentResponseDto=e,Je(this.cdr);var t=document.createElement("script");t.id="script_2_pancreta",document.body.appendChild(t),document.getElementById("script_2_pancreta").innerHTML='var everypay = Everypay("'+this.pancretaPaymentMethod.parameters.publicKey+'", { locale: "el" });',setTimeout((function(){var t=document.createElement("script");t.id="script_3_pancreta",document.body.appendChild(t),document.getElementById("script_3_pancreta").innerHTML='everypay.button("#everypay-btn-container", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"amount": '.concat(e.postFields.amount,',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"locale": "el",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"on_token_received": function(token, showError, hideForm) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (token) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_token").value = token;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById("everypay_form").submit();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\tdocument.getElementById("everypay-btn-container").querySelectorAll("button")[0].click();')}))}},{key:"onTermsChanged",value:function(e){e&&"true"==e&&(this.paymentRequestDto&&"PIRBGRAA"!=this.selectedPaymentMethod.key?this.createRequest.emit(!0):this._fixPeiraiosData()),this.isTermsModalOpen=!1,Je(this.cdr)}},{key:"_addPaymentRequest",value:function(e){var t=this;e&&(this.paymentRequestDto=e),this.katastimataNgSrv.getPaymentSettings().pipe(Object(f.a)(this.onDestroy)).subscribe((function(i){if(i){t.onlinePaymentSettings=i,t.onlinePaymentSettings.paymentMethods.length&&t.onlinePaymentSettings.paymentMethods.forEach((function(e){if(e.services&&e.services.length>0)for(var t=0;t<e.services.length;t++)e.services[t]=e.services[t].toLowerCase()})),t.pancretaPaymentMethod=t.onlinePaymentSettings.paymentMethods.find((function(e){return"STPGGRAA"==e.key})),document.getElementById("script_1_pancreta")||t.pancretaPaymentMethod&&t._loadPancretaScripts(t.pancretaPaymentMethod),t.ethnikiPaymentMethod=t.onlinePaymentSettings.paymentMethods.find((function(e){return"ETHNGRAA"==e.key})),document.getElementById("script_1_ethniki")||t.ethnikiPaymentMethod&&t.ethnikiPaymentMethod.parameters&&t._loadEthnikiScripts(t.ethnikiPaymentMethod);var n=t.onlinePaymentSettings.paymentMethods.length;if(t.paymentMethodsClass=n<=2?"pm-size-2":"pm-size-3",t.selectedPaymentMethod||(t.onlinePaymentSettings&&t.onlinePaymentSettings.defaultPaymentMethodKey?t.selectedPaymentMethod=t.onlinePaymentSettings.paymentMethods.filter((function(e){return e.key==t.onlinePaymentSettings.defaultPaymentMethodKey}))[0]:t.onlinePaymentSettings&&1==t.onlinePaymentSettings.paymentMethods.length&&(t.selectedPaymentMethod=t.onlinePaymentSettings.paymentMethods[0])),t.paymentRequestDto&&t.selectedPaymentMethod){if(t.isLoadingPaymentSettings.emit(!1),t.paymentRequestDto.paymentMethodKey=t.selectedPaymentMethod.key,t.paymentRequestDto&&"PIRBGRAA"==t.paymentRequestDto.paymentMethodKey)return void t._fixPeiraiosData();t.katastimataNgSrv.addPaymentRequest(t.paymentRequestDto).subscribe((function(e){if(e){var i=e;i.model?t.paymentResponseDto=i.model:t.paymentResponseDto=null,t.paymentResponseDto=i.model,i.statusCode&&i.statusCode==Ze.Ok?i.model.getUrl&&""!=i.model.getUrl?i.model.getUrl&&""!=i.model.getUrl&&window.open(i.model.getUrl,"_self"):t._postBankForm(i.model):i.statusCode&&i.statusCode==Ze.Error?"DEBTOR_ADDRESS_REQUIRED"==i.messageId&&(t.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",t.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.")):t.toasterSrv.showError("",i.message)}t.isLoadingPaymentResponse=!1,Je(t.cdr)}))}else t.paymentRequestDto&&t.onlinePaymentSettings&&!t.selectedPaymentMethod&&(t.isLoadingPaymentSettings.emit(!1),setTimeout((function(){t.paymentRequestDto=e,t.showMethods=!0,t.isLoadingPaymentResponse=!1,Je(t.cdr)})))}Je(t.cdr)}))}},{key:"_postBankForm",value:function(e){if("ETHNGRAA"==this.selectedPaymentMethod.key&&null!=this.selectedPaymentMethod.parameters)this.onEthnikiPaymentRequestSucceded(e);else if("STPGGRAA"==this.selectedPaymentMethod.key)this.onPancretaPaymentRequestSucceded(e);else{var t=Object.keys(e.postFields).map((function(t){return{key:t,value:e.postFields[t]}}));e.postFields=t,this.paymentResponseDto=e,Je(this.cdr),setTimeout((function(){document.querySelector("#bankPaymentForm").submit()}))}}},{key:"_submiToOikonomiki",value:function(){document.querySelector("#ethniki_form").submit()}},{key:"_loadEthnikiScripts",value:function(e){return new Promise((function(t,i){var n=document.createElement("script");n.id="script_1_ethniki",n.src=e.parameters.javaScriptSource,n.onload=t,document.body.appendChild(n)}))}},{key:"_loadPancretaScripts",value:function(e){return new Promise((function(t,i){var n=document.createElement("script");n.id="script_1_pancreta",n.src=e.parameters.javaScriptSource,n.onload=t,document.body.appendChild(n)}))}},{key:"_fixPeiraiosData",value:function(){!this.user||this.user.address&&this.user.address_city&&this.user.address_country_num&&this.user.address_zip&&this.user.phone_number?this.requestBankData=!0:(this.errorMessageProfile="\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03c0\u03c1\u03bf\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03b7 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb & \u03bd\u03b1 \u03b5\u03c0\u03b1\u03bd\u03b1\u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1.",this.toasterSrv.showError("","\u0394\u03b5\u03bd \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03c0\u03c1\u03bf\u03c7\u03c9\u03c1\u03ae\u03c3\u03b5\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03b7 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb & \u03bd\u03b1 \u03b5\u03c0\u03b1\u03bd\u03b1\u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1."),this.isUserDataValid.emit(!1)),Je(this.cdr)}},{key:"_submitPaymentRequest",value:function(){var e,t,i=this;if(this.isFormSubmitted=!0,this.formErrorsMsg=null,Je(this.cdr),this.isFormSubmitted&&this.requestBankDataForm.valid){var n=null,s=null;if(this.user.phone_number.includes("+")?(n=this.user.phone_number.substring(0,3).replace("+",""),s=this.user.phone_number.substring(3)):s=this.user.phone_number,this.paymentRequestDto.userPhone=n?n+"-"+s:"30-"+s,this.showMethods=!1,this.requestBankData=!1,this.isFormSubmitted=!1,this.formErrorsMsg=null,this.paymentRequestDto.userHomePhone=this.paymentRequestDto.userPhone,this.paymentRequestDto.userWorkPhone=this.paymentRequestDto.userPhone,this.paymentRequestDto.billingAddressCountryCode=this.user.address_country_num,this.user.address_zip){var o=+this.user.address_zip.substring(0,2);this.paymentRequestDto.billingAddressState=([10,11,12,13,14,15,16,17,18,19].includes(e=o)&&(t="I"),[66,65,64,67,68,69].includes(e)&&(t="A"),[54,55,56,57,58,59,60,61,62,63].includes(e)&&(t="B"),[50,51,52,53].includes(e)&&(t="C"),[44,45,46,47,48].includes(e)&&(t="D"),[37,38,40,41,42,43].includes(e)&&(t="E"),[28,29,31,49].includes(e)&&(t="F"),[25,26,27,30].includes(e)&&(t="G"),[32,33,34,35,36].includes(e)&&(t="H"),[20,21,22,23,24].includes(e)&&(t="J"),[81,82,83].includes(e)&&(t="K"),[84,85].includes(e)&&(t="L"),[70,71,72,73,74].includes(e)&&(t="M"),t||(t="I"),t)}Je(this.cdr),this.katastimataNgSrv.addPaymentRequest(this.paymentRequestDto).subscribe((function(e){if(e){var t=e;i.paymentResponseDto=t.model,t.statusCode==Ze.Ok?t.model.getUrl&&""!=t.model.getUrl?t.model.getUrl&&""!=t.model.getUrl&&window.open(t.model.getUrl,"_self"):i._postBankForm(t.model):t.statusCode==Ze.Error&&"DEBTOR_ADDRESS_REQUIRED"==t.messageId&&(i.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",i.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 & \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb."))}i.isLoadingPaymentResponse=!1,Je(i.cdr)}))}else this.formErrorsMsg=Ke(this.requestBankDataForm,this.formDictionaryEnum,""),Je(this.cdr)}},{key:"_closePaymentMethods",value:function(){var e=this;setTimeout((function(){e.showMethods=!1,Je(e.cdr)}))}}]),e}();pt.\u0275fac=function(e){return new(e||pt)(n.Pc(ze),n.Pc(Ne),n.Pc(n.k))},pt.\u0275cmp=n.Jc({type:pt,selectors:[["app-payment-methods"]],viewQuery:function(e,t){var i;1&e&&n.Yd(ke,!0),2&e&&n.Fd(i=n.id())&&(t.requestBankDataForm=i.first)},inputs:{paymentResponseDto:"paymentResponseDto",isLoadingPaymentResponse:"isLoadingPaymentResponse",user:"user",assetsUrl:"assetsUrl"},outputs:{loadingSimplifyModal:"loadingSimplifyModal",createRequest:"createRequest",isLoadingPaymentSettings:"isLoadingPaymentSettings",isUserDataValid:"isUserDataValid"},features:[n.zc],decls:13,vars:10,consts:[["class","bg-white","style","width: 100%; height: 100px; text-align: center;",4,"ngIf"],["class","d-flex w-100 justify-content-center",4,"ngIf"],["title","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03a4\u03c1\u03cc\u03c0\u03bf \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2","size","md",3,"isOpen","isOpenChange"],[1,"modal-body"],["class","debits-info__payment text-center mt-3","id","debits-info__payment",4,"ngIf"],["title","\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2","size","md",3,"isOpen","isOpenChange"],["class","modal-body",4,"ngIf"],["id","everypay_form","method","post",3,"action",4,"ngIf"],["id","ethniki_form","method","post",3,"action",4,"ngIf"],["id","ethnikiPaymentBtn","data-name","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae",1,"d-none"],["id","bankPaymentForm","method","POST",1,"d-none",3,"action"],[4,"ngIf"],[1,"bg-white",2,"width","100%","height","100px","text-align","center"],[1,"d-flex","justify-content-center","align-items-center","w-100",2,"height","70%"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"d-flex","w-100","justify-content-center"],[1,"screen-msg","mt-2","p-1"],["id","debits-info__payment",1,"debits-info__payment","text-center","mt-3"],["class","payment-method__cont d-flex flex-wrap text-center justify-content-center",4,"ngIf"],[1,"payment-method__cont","d-flex","flex-wrap","text-center","justify-content-center"],[4,"ngFor","ngForOf"],[3,"id","click"],[3,"innerHTML",4,"ngIf"],["class","payment-method__icon ml-2",4,"ngIf"],[3,"innerHTML"],[1,"payment-method__icon","ml-2"],["width","40",3,"src","alt",4,"ngFor","ngForOf"],["width","40",3,"src","alt"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/iris.jpg","alt","Iris"],[1,"form"],["requestBankDataForm","ngForm"],[1,"row"],[1,"form-group","col-12"],["for","cardholderName"],["id","cardholderName","name","cardholderName","type","text","placeholder","\u038c\u03bd\u03bf\u03bc\u03b1 \u039a\u03b1\u03c4\u03cc\u03c7\u03bf\u03c5 \u039a\u03ac\u03c1\u03c4\u03b1\u03c2","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-danger","pt-1",3,"hidden"],[1,"row","align-items-center","justify-content-center"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-money-check"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],["id","everypay_form","method","post",3,"action"],["id","everypay-btn-container",1,"d-none"],["name","everypay_token","id","everypay_token","type","text",1,"d-none",3,"value"],["type","text",1,"d-none",3,"name","value"],["id","ethniki_form","method","post",3,"action"],["type","text",3,"name","value"]],template:function(e,t){1&e&&(n.Qd(0,Ie,5,0,"div",0),n.Qd(1,Se,3,1,"div",1),n.Vc(2,"eg-modal",2),n.hd("isOpenChange",(function(e){return t.showMethods=e}))("isOpenChange",(function(){return t._closePaymentMethods()})),n.Vc(3,"div",3),n.Qd(4,Me,3,2,"div",4),n.Uc(),n.Uc(),n.Vc(5,"eg-modal",5),n.hd("isOpenChange",(function(e){return t.requestBankData=e})),n.Qd(6,xe,15,3,"div",6),n.Uc(),n.Qd(7,Fe,3,2,"form",7),n.Qd(8,Te,1,1,"form",8),n.Vc(9,"button",9),n.Sd(10," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\n"),n.Uc(),n.Vc(11,"form",10),n.Qd(12,Le,2,1,"ng-container",11),n.Uc()),2&e&&(n.sd("ngIf",t.isLoadingPaymentResponse),n.Bc(1),n.sd("ngIf",t.errorMessageProfile),n.Bc(1),n.sd("isOpen",t.showMethods),n.Bc(2),n.sd("ngIf",0==t.isLoadingPaymentResponse),n.Bc(1),n.sd("isOpen",t.requestBankData),n.Bc(1),n.sd("ngIf",t.paymentRequestDto),n.Bc(1),n.sd("ngIf",t.pancretaPaymentMethod),n.Bc(1),n.sd("ngIf",t.ethnikiPaymentMethod),n.Bc(3),n.td("action",null==t.paymentResponseDto?null:t.paymentResponseDto.postUrl,n.Kd),n.Bc(1),n.sd("ngIf",t.paymentResponseDto))},directives:[b.p,v.a,g.u,g.k,g.l,b.o,g.b,g.r,g.j,g.m],pipes:[b.m,b.i],encapsulation:2,changeDetection:0}),pt.ctorParameters=function(){return[{type:ze},{type:Ne},{type:n.k}]},Object(s.b)([Object(n.lb)("requestBankDataForm",{static:!1}),Object(s.c)("design:type",g.l)],pt.prototype,"requestBankDataForm",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Object)],pt.prototype,"paymentResponseDto",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Object)],pt.prototype,"user",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",String)],pt.prototype,"assetsUrl",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Boolean)],pt.prototype,"isLoadingPaymentResponse",void 0),Object(s.b)([Object(n.S)(),Object(s.c)("design:type",Object)],pt.prototype,"loadingSimplifyModal",void 0),Object(s.b)([Object(n.S)(),Object(s.c)("design:type",Object)],pt.prototype,"createRequest",void 0),Object(s.b)([Object(n.S)(),Object(s.c)("design:type",Object)],pt.prototype,"isLoadingPaymentSettings",void 0),Object(s.b)([Object(n.S)(),Object(s.c)("design:type",Object)],pt.prototype,"isUserDataValid",void 0),pt=Object(s.b)([Object(s.c)("design:paramtypes",[ze,Ne,n.k])],pt);var ut=function(){function e(t,i,s){_classCallCheck(this,e),this.katastimataNgSrv=t,this.toasterSrv=i,this.cdr=s,this.requestObs=null,this.canPay=!0,this.errorMsg=new n.x,this.dilosiWebPaymentInfo=[],this.paymentResponseDto=null,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.returnUrl="",this.assetsUrl="",this.isLoading=!1,this.isLoadingPaymentResponse=!1,this.isLoadingSimplifyModal=!1,this.initPaymentMethods=!1,this.isLoadingPaymentSettings=!1,this.isUserDataValid=!0}return _createClass(e,[{key:"ngOnInit",value:function(){"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api,this.assetsUrl=AuthConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/dimotikos-foros/receipts")):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi,this.assetsUrl=AppConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts")),Je(this.cdr),this.createWebPaymentInfo&&(this.dilosiWebPaymentInfo=[].concat(_toConsumableArray(this.dilosiWebPaymentInfo),[this.createWebPaymentInfo]),Je(this.cdr))}},{key:"ngOnChanges",value:function(e){e&&e.requestObs&&(this.requestObs=e.requestObs.currentValue,Je(this.cdr)),e&&e.createWebPaymentInfo&&(this.createWebPaymentInfo=e.createWebPaymentInfo.currentValue,Je(this.cdr)),e&&e.canPay&&(this.canPay=e.canPay.currentValue,Je(this.cdr))}},{key:"isLoadingSimplifyModalChanged",value:function(e){this.isLoadingSimplifyModal=e,Je(this.cdr)}},{key:"isLoadingPaymentSettingsChanged",value:function(e){this.isLoadingPaymentSettings=e,Je(this.cdr)}},{key:"isUserDataValidChanged",value:function(e){this.isUserDataValid=e,Je(this.cdr)}},{key:"_payActions",value:function(){var e=this;this.requestObs&&this.requestObs.length?(this.isLoading=!0,Je(this.cdr),Object(d.a)(this.requestObs).subscribe((function(t){t&&(t.forEach((function(t){e.dilosiWebPaymentInfo=[].concat(_toConsumableArray(e.dilosiWebPaymentInfo),[t])})),e._createPaymentRequest(),Je(e.cdr))}))):this.dilosiWebPaymentInfo&&this.dilosiWebPaymentInfo.length>0&&this._createPaymentRequest()}},{key:"_createPaymentRequest",value:function(){var e=this;this.initPaymentMethods=!0,Je(this.cdr);var t={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.returnUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:"",entries:[]};this.dilosiWebPaymentInfo.forEach((function(i){var n={remittanceInfo:i.paymentCode,amount:i.paymentAmount,debtorName:i.epixirisiOfeiletisEponimia,tin:e.userInfo.tin,description:i.paymentCaption};t.entries.push(n)})),setTimeout((function(){e.isLoadingPaymentResponse=!0,e.paymentMethodsComp._addPaymentRequest(t),Je(e.cdr)}))}}]),e}();ut.\u0275fac=function(e){return new(e||ut)(n.Pc(ze),n.Pc(Ne),n.Pc(n.k))},ut.\u0275cmp=n.Jc({type:ut,selectors:[["app-payment"]],viewQuery:function(e,t){var i;1&e&&n.Yd(pt,!0),2&e&&n.Fd(i=n.id())&&(t.paymentMethodsComp=i.first)},inputs:{requestObs:"requestObs",canPay:"canPay",createWebPaymentInfo:"createWebPaymentInfo",userInfo:"userInfo"},outputs:{errorMsg:"errorMsg"},features:[n.zc],decls:8,vars:3,consts:[[1,"debits-info_right","d-flex","align-items-center","justify-content-center","flex-column"],["class","btn btn-primary mb-2 mt-2","type","button",3,"disabled","click",4,"ngIf"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/visa.jpg","alt","Visa","width","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/mastercard.jpg","alt","Mastercard","width","40",1,"mr-1"],["src","https://egritosgroup.gr/wp-content/uploads/2020/10/maestro.jpg","alt","Maestro","width","40"],[3,"assetsUrl","user","isLoadingPaymentResponse","createRequest","loadingSimplifyModal","isLoadingPaymentSettings","isUserDataValid",4,"ngIf"],["type","button",1,"btn","btn-primary","mb-2","mt-2",3,"disabled","click"],[1,"far","fa-credit-card"],[1,"d-flex","justify-content-center","align-items-center"],[1,"fas","fa-circle-notch","fa-2x","fa-pulse"],[3,"assetsUrl","user","isLoadingPaymentResponse","createRequest","loadingSimplifyModal","isLoadingPaymentSettings","isUserDataValid"]],template:function(e,t){1&e&&(n.Vc(0,"div",0),n.Qd(1,Qe,3,1,"button",1),n.Qd(2,qe,2,0,"span",2),n.Vc(3,"div"),n.Qc(4,"img",3),n.Qc(5,"img",4),n.Qc(6,"img",5),n.Uc(),n.Uc(),n.Qd(7,We,1,3,"app-payment-methods",6)),2&e&&(n.Bc(1),n.sd("ngIf",!t.isLoadingPaymentSettings),n.Bc(1),n.sd("ngIf",t.isLoadingPaymentSettings),n.Bc(5),n.sd("ngIf",t.initPaymentMethods))},directives:[b.p,pt],encapsulation:2}),ut.ctorParameters=function(){return[{type:ze},{type:Ne},{type:n.k}]},Object(s.b)([Object(n.lb)(pt,{static:!1}),Object(s.c)("design:type",pt)],ut.prototype,"paymentMethodsComp",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Array)],ut.prototype,"requestObs",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",st)],ut.prototype,"createWebPaymentInfo",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Object)],ut.prototype,"userInfo",void 0),Object(s.b)([Object(n.G)(),Object(s.c)("design:type",Boolean)],ut.prototype,"canPay",void 0),Object(s.b)([Object(n.S)(),Object(s.c)("design:type",Object)],ut.prototype,"errorMsg",void 0),ut=Object(s.b)([Object(s.c)("design:paramtypes",[ze,Ne,n.k])],ut);var ft=function e(){_classCallCheck(this,e)};ft.\u0275mod=n.Nc({type:ft}),ft.\u0275inj=n.Mc({factory:function(e){return new(e||ft)},providers:[{provide:I.a,useValue:{align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."}}],imports:[[b.c,g.e,lt,v.b,O.c,S.b,P.e,U.b,I.c,k.c]]}),("undefined"==typeof ngJitMode||ngJitMode)&&n.Ld(lt,{imports:function(){return[y.g]},exports:function(){return[y.g]}}),("undefined"==typeof ngJitMode||ngJitMode)&&n.Ld(ft,{declarations:function(){return[Ye,at,rt,ct,ut,pt]},imports:function(){return[b.c,g.e,lt,v.b,O.c,S.b,P.e,U.b,I.c,k.c]},exports:function(){return[Ye]}});var mt,ht=i("1kSV"),yt=i("PCNd"),gt=i("zazq"),bt=function(){function e(t){_classCallCheck(this,e),this.oidcSecuritySrv=t,this.onDestroy=new c.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.oidcSecuritySrv.getIsAuthorized().pipe(Object(f.a)(this.onDestroy)).subscribe((function(t){e.isAuthorized=t,AppConfOptions&&AppConfOptions.katastimata_tab_info&&""!=AppConfOptions.katastimata_tab_info&&(e.tabMsg=AppConfOptions.katastimata_tab_info)}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}}]),e}();bt.ctorParameters=function(){return[{type:gt.c}]};var vt=[{path:"",component:bt=function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}([Object(n.n)({selector:"app-dimotikos-foros",template:(mt=i("Qjlr"),mt&&mt.__esModule?mt:{default:mt}).default}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[gt.c])],bt),children:[{path:"",loadChildren:function(){return Promise.resolve().then(i.bind(null,"8BaW")).then((function(e){return e.PublicLibLoader}))}}]}],kt=function e(){_classCallCheck(this,e)};kt=function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}([Object(n.L)({imports:[y.g.forChild(vt)],exports:[y.g]})],kt);var It=function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},St=function e(){_classCallCheck(this,e)};St=It([Object(n.L)({declarations:[bt],imports:[yt.a,ht.d,kt,ft]})],St);var Pt=function e(){_classCallCheck(this,e)};Pt=It([Object(n.L)({imports:[ft]})],Pt)},C7T5:function(e,t){e.exports=function(e){return new Promise((function(t,n){var s=new FileReader,o=e.target.files;if(o.length>1)n(new DOMException("Only one file can be uploaded at a time"));else{s.onerror=function(){s.abort(),n(new DOMException("Problem parsing input file."))};var a=o[0];s.onload=function(e){var n=new Uint8Array(e.target.result),o=[];n.map((function(e){o.push(e.toString(16))}));var r=o.join("").toUpperCase(),c=s.result.split(",")[1];a.base64=c,a.binaryFileType=i(r),t(a)},s.readAsDataURL(a)}}))};var i=function(e){switch(e){case"89504E47":return"image/png";case"47494638":return"image/gif";case"25504446":return"application/pdf";case"FFD8FFDB":case"FFD8FFE0":return"image/jpeg";case"504B0304":return"application/zip";default:return"Unknown filetype"}}},Qjlr:function(e,t,i){"use strict";i.r(t),t.default='<ng-container *ngIf="isAuthorized">\r\n\t<div *ngIf="tabMsg"\r\n\t\t  class="tab-msg"\r\n\t\t  [innerHTML]="tabMsg | decodeHtmlString"></div>\r\n\t<lib-katastimata-ng></lib-katastimata-ng>\r\n</ng-container>\r\n'}}]);