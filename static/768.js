"use strict";(self.webpackChunkegritos_group_eg_web_apps=self.webpackChunkegritos_group_eg_web_apps||[]).push([[768],{2768:(ne,E,r)=>{r.r(E),r.d(E,{RantevouModule:()=>ue});var A=r(7048),k=r(7432),S=r(4864),D=r(6230),t=r(4496);let L=(()=>{class u{intercept(e,i){return e=e.clone({setHeaders:{"Application-Key":"rantevou-politon"}}),i.handle(e)}static#t=this.\u0275fac=function(i){return new(i||u)};static#e=this.\u0275prov=t.wxM({token:u,factory:u.\u0275fac})}return u})();var N=r(5265),p=r(2100),s=r(3228),H=r(5657),P=r(6040),I=r(3616),K=r(7368),h=r(2116),U=r(9161),d=r(1368),j=r(6328),O=r(1148),J=r(2656);function V(u,o){if(1&u&&(t.wR5(0,"p-message",3),t.wVc(1,"translate")),2&u){const e=t.GaO();t.E7m("styleClass","mb-2")("text",t.kDX(1,2,null==e.translation?null:e.translation.egwebapps.egwebappsLoginMesg))}}function z(u,o){if(1&u&&(t.I0R(0,"p-panel",6),t.wVc(1,"translate"),t.wR5(2,"div",7),t.wVc(3,"decodeHtmlString"),t.C$Y()),2&u){const e=t.GaO(2);t.E7m("header",t.kDX(1,4,null==e.translation?null:e.translation.egwebapps.information))("styleClass","tab-msg mb-3")("toggleable",!0),t.yG2(2),t.E7m("innerHTML",t.kDX(3,6,e.tabMsg),t.E3n)}}function Q(u,o){1&u&&(t.I0R(0,"div",8),t.wR5(1,"router-outlet"),t.C$Y())}function Z(u,o){if(1&u&&(t.SAx(0),t.yuY(1,z,4,8,"p-panel",4)(2,Q,2,0,"div",5),t.k70()),2&u){const e=t.GaO();t.yG2(),t.E7m("ngIf",e.isAuthorized&&e.tabMsg&&""!==e.tabMsg),t.yG2(),t.E7m("ngIf",e.isAuthorized)}}let q=(()=>{class u{constructor(e,i,n,a,l){this.oidcSecuritySrv=e,this.appCacheSrv=i,this.location=n,this.router=a,this.cdr=l,this.onDestroy=new H.E,this.afmNotFound=!1,this.index=0,this.selectedLang="el"}ngOnInit(){(0,P.E)([this.appCacheSrv.translation$,this.appCacheSrv.selectedLang$]).pipe((0,I.a)(this.onDestroy)).subscribe(e=>{e&&(this.translation=e[0],this.selectedLang=e[1],this.selectedLang&&(1==AppConfOptions.multilingual&&"el"!=this.selectedLang&&AppConfOptions.rantevou_tab_info_en&&""!=AppConfOptions.rantevou_tab_info_en?this.tabMsg=AppConfOptions.rantevou_tab_info_en:AppConfOptions.rantevou_tab_info&&""!=AppConfOptions.rantevou_tab_info&&"el"==this.selectedLang&&(this.tabMsg=AppConfOptions.rantevou_tab_info)),(0,s.Er)(this.cdr))}),this.oidcSecuritySrv.isAuthenticated$.pipe((0,K.G)(e=>(this.isAuthorized=null!=e&&e.isAuthenticated,this.appCacheSrv.user$)),(0,I.a)(this.onDestroy)).subscribe(e=>{this.afmNotFound=!1,(0,s.Er)(this.cdr),e&&(0,s.w1)(e.tin)&&AppConfOptions.rantevou_afm_required&&(this.afmNotFound=!0),(0,s.Er)(this.cdr)})}ngOnDestroy(){this.onDestroy.next(null)}static#t=this.\u0275fac=function(i){return new(i||u)(t.GI1(h.Bf),t.GI1(U.i),t.GI1(d.oB),t.GI1(p.E5),t.GI1(t.kD9))};static#e=this.\u0275cmp=t.In1({type:u,selectors:[["app-rantevou-layout"]],inputs:{isAuthorized:"isAuthorized"},decls:4,vars:3,consts:[[1,"module-title"],["severity","warn",3,"styleClass","text",4,"ngIf"],[4,"ngIf"],["severity","warn",3,"styleClass","text"],[3,"header","styleClass","toggleable",4,"ngIf"],["class","rantevou-container bg-white p-2",4,"ngIf"],[3,"header","styleClass","toggleable"],[3,"innerHTML"],[1,"rantevou-container","bg-white","p-2"]],template:function(i,n){1&i&&(t.I0R(0,"h3",0),t.OEk(1),t.C$Y(),t.yuY(2,V,2,4,"p-message",1)(3,Z,3,2,"ng-container",2)),2&i&&(t.yG2(),t.cNF(null==n.translation?null:n.translation.menu.rantevouMenuItem),t.yG2(),t.E7m("ngIf",!n.isAuthorized),t.yG2(),t.E7m("ngIf",!n.afmNotFound))},dependencies:[p.cP,d.u_,j.S,O.s,J.m,D.sD],encapsulation:2,changeDetection:0})}return u})();var F=r(9336);class b{}class W{constructor(){this.startIndex=0,this.length=50,this.filterOperator=0,this.filters=[],this.sorts=[]}}var g=r(4704),_=r(9144);let f=(()=>{class u extends s._e{constructor(e,i,n){super(e,i),this.http=e,this.exceptionSrv=i,this.toasterSrv=n,this.apiUrl=AppConfOptions.rantevou_api+"api/"}getKatigoriesMeDiadiakasies(){return this.http.get(`${this.apiUrl}CommonLists/GetKatigoriesMeDiadiakasies`)}getMonadesDiadikasies(){return this.http.get(`${this.apiUrl}Politis/GetMonadesGroupsDiadiakasies`)}getDiadikasies(){return this.http.get(`${this.apiUrl}CommonLists/GetDiadikasies`)}getMonades(){return this.http.get(`${this.apiUrl}CommonLists/GetMonades`)}getDiathesimotitaMina(e,i,n,a){return this.http.get(`${this.apiUrl}Politis/GetDiathesimotitaMina/${e}/${i}/${n}/${a}`)}getDiathesimotitesDiastimatonImeras(e,i,n){return this.http.get(`${this.apiUrl}Politis/GetDiathesimotitesDiastimatonImeras/${e}/${i}/${n}`)}getRantevou(e){return this.http.get(`${this.apiUrl}Politis/GetRantevou/${e}`).pipe((0,g.k)(n=>n),(0,_.a)(n=>(0,s.Og)(n,this.toasterSrv)))}getRantevouReport(e){let i=`${this.apiUrl}Politis/GetRantevouReport/${e}`;return(new A.UD).append("Accept","application/octet-stream"),this.http.get(i,{responseType:"blob"}).pipe(this.catchHttpErrors())}akirosiRantevou(e){return this.http.delete(`${this.apiUrl}Politis/AkirosiRantevou/${e}`).pipe((0,g.k)(n=>n),(0,_.a)(n=>(0,s.Og)(n,this.toasterSrv)))}getMyRantevous(e){return this.http.post(`${this.apiUrl}Politis/GetMyRantevous`,e).pipe((0,g.k)(n=>n),(0,_.a)(n=>(0,s.Og)(n,this.toasterSrv)))}createRantevou(e){return this.http.post(`${this.apiUrl}Politis/CreateRantevou`,e).pipe((0,g.k)(n=>n),(0,_.a)(n=>(0,s.Og)(n,this.toasterSrv)))}static#t=this.\u0275fac=function(i){return new(i||u)(t.CoB(A.KK),t.CoB(s.gn),t.CoB(s.y6))};static#e=this.\u0275prov=t.wxM({token:u,factory:u.\u0275fac})}return u})();var R=r(9016),c=r(6504),G=r(120),ut=r(8552),x=r(7564),M=r(5544),nt=r(4652);const it=["searchAitisisForm"];function at(u,o){if(1&u){const e=t.KQA();t.I0R(0,"div",39)(1,"label",40),t.OEk(2,"\u0395\u03bc\u03c6\u03ac\u03bd\u03b9\u03c3\u03b7 \u0391\u03ba\u03c5\u03c1\u03c9\u03bc\u03ad\u03bd\u03c9\u03bd \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd"),t.C$Y(),t.I0R(3,"p-inputSwitch",41),t.iHE("ngModelChange",function(n){t.usT(e);const a=t.GaO(3);return t.kNx(a.showAllRantevous,n)||(a.showAllRantevous=n),t.CGJ(n)}),t.qCj("onChange",function(n){t.usT(e);const a=t.GaO(3);return t.CGJ(a.populateRantevouList(n))}),t.C$Y()()}if(2&u){const e=t.GaO(3);t.yG2(3),t.OKB("ngModel",e.showAllRantevous)}}function ot(u,o){1&u&&(t.I0R(0,"tr")(1,"th",42),t.OEk(2,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7"),t.C$Y(),t.I0R(3,"th",42),t.OEk(4,"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1"),t.C$Y(),t.I0R(5,"th",42),t.OEk(6,"\u038f\u03c1\u03b1 / \u0394\u03b9\u03ac\u03c1\u03ba\u03b5\u03b9\u03b1"),t.C$Y(),t.I0R(7,"th",43),t.OEk(8,"\u0394\u03b9\u03b1\u03b4\u03b9\u03ba\u03b1\u03c3\u03af\u03b1"),t.C$Y(),t.I0R(9,"th",44),t.OEk(10,"\u039c\u03bf\u03bd\u03ac\u03b4\u03b1"),t.C$Y(),t.I0R(11,"th",45),t.OEk(12,"\xa0"),t.C$Y()())}function st(u,o){if(1&u&&(t.I0R(0,"tr")(1,"td",46)(2,"span",47),t.OEk(3,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7"),t.C$Y(),t.wR5(4,"div",48),t.C$Y(),t.I0R(5,"td",49)(6,"span",47),t.OEk(7,"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1"),t.C$Y(),t.OEk(8),t.wVc(9,"date"),t.C$Y(),t.I0R(10,"td",50)(11,"span",47),t.OEk(12,"\u038f\u03c1\u03b1 / \u0394\u03b9\u03ac\u03c1\u03ba\u03b5\u03b9\u03b1"),t.C$Y(),t.OEk(13),t.C$Y(),t.I0R(14,"td",43)(15,"span",47),t.OEk(16,"\u0394\u03b9\u03b1\u03b4\u03b9\u03ba\u03b1\u03c3\u03af\u03b1"),t.C$Y(),t.OEk(17),t.C$Y(),t.I0R(18,"td",44)(19,"span",47),t.OEk(20,"\u039c\u03bf\u03bd\u03ac\u03b4\u03b1"),t.C$Y(),t.OEk(21),t.C$Y(),t.I0R(22,"td",51)(23,"span",47),t.OEk(24,"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"),t.C$Y(),t.I0R(25,"a",52),t.wR5(26,"i",53),t.I0R(27,"span",54),t.OEk(28,"\u03a0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae"),t.C$Y()()()()),2&u){const e=o.$implicit,i=t.GaO(3);t.yG2(4),t.E7m("innerHTML",i._setKatastasiIcon(e.katastasiRantevou),t.E3n),t.yG2(4),t.oRS(" ",t.g7$(9,7,e.imerominia,"dd/LL/yyyy")," "),t.yG2(5),t.CAO(" ",e.oraApoString," - ",e.oraEosString," "),t.yG2(4),t.oRS(" ",e.diadikasia," "),t.yG2(4),t.oRS(" ",e.monada," "),t.yG2(4),t.CI5("routerLink","/rantevou-app/rantevou/",e.id,"")}}function rt(u,o){if(1&u&&(t.I0R(0,"tr")(1,"td",55)(2,"strong"),t.OEk(3,"\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2:"),t.C$Y(),t.OEk(4),t.C$Y()()),2&u){const e=t.GaO(3);t.yG2(4),t.oRS(" ",e.showRantevouList.data.length," ")}}function lt(u,o){1&u&&(t.I0R(0,"tr")(1,"td"),t.OEk(2," \u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03c1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd \u03bc\u03b5 \u03c4\u03b1 \u03ba\u03c1\u03b9\u03c4\u03ae\u03c1\u03b9\u03b1 \u03c0\u03bf\u03c5 \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9. "),t.C$Y()())}function ct(u,o){if(1&u&&(t.I0R(0,"p-table",33),t.yuY(1,at,4,1,"ng-template",34)(2,ot,13,0,"ng-template",35)(3,st,29,10,"ng-template",36)(4,rt,5,1,"ng-template",37)(5,lt,3,0,"ng-template",38),t.C$Y()),2&u){const e=t.GaO(2);t.E7m("value",e.showRantevouList.data)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",e.isLoading)("totalRecords",null==e.showRantevouList.data?null:e.showRantevouList.data.length)}}const w=()=>({width:"100%"});function Ct(u,o){if(1&u){const e=t.KQA();t.SAx(0),t.I0R(1,"p-panel",11)(2,"form",12,13)(4,"div",14)(5,"div",15)(6,"label"),t.OEk(7,"\u0397\u03bc. \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd \u0391\u03c0\u03cc*"),t.C$Y(),t.I0R(8,"p-calendar",16),t.iHE("ngModelChange",function(n){t.usT(e);const a=t.GaO();return t.kNx(a.filters.imerominiaApo,n)||(a.filters.imerominiaApo=n),t.CGJ(n)}),t.C$Y()(),t.I0R(9,"div",15)(10,"label"),t.OEk(11,"\u0397\u03bc. \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd \u0388\u03c9\u03c2"),t.C$Y(),t.I0R(12,"p-calendar",17),t.iHE("ngModelChange",function(n){t.usT(e);const a=t.GaO();return t.kNx(a.filters.imerominiaEos,n)||(a.filters.imerominiaEos=n),t.CGJ(n)}),t.C$Y()(),t.I0R(13,"div",15)(14,"label"),t.OEk(15,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7"),t.C$Y(),t.I0R(16,"ng-select",18),t.iHE("ngModelChange",function(n){t.usT(e);const a=t.GaO();return t.kNx(a.filters.katastasiRantevou,n)||(a.filters.katastasiRantevou=n),t.CGJ(n)}),t.C$Y()(),t.I0R(17,"div",19)(18,"label",20),t.OEk(19,"\u0394\u03b9\u03b1\u03b4\u03b9\u03ba\u03b1\u03c3\u03af\u03b1"),t.C$Y(),t.I0R(20,"ng-select",21),t.iHE("ngModelChange",function(n){t.usT(e);const a=t.GaO();return t.kNx(a.filters.diadikasia,n)||(a.filters.diadikasia=n),t.CGJ(n)}),t.C$Y()(),t.I0R(21,"div",22)(22,"label",20),t.OEk(23,"\u039c\u03bf\u03bd\u03ac\u03b4\u03b1"),t.C$Y(),t.I0R(24,"ng-select",23),t.iHE("ngModelChange",function(n){t.usT(e);const a=t.GaO();return t.kNx(a.filters.monada,n)||(a.filters.monada=n),t.CGJ(n)}),t.C$Y()(),t.I0R(25,"div",24)(26,"button",25),t.qCj("click",function(){t.usT(e);const n=t.GaO();return t.CGJ(n.onSearchClicked())}),t.wR5(27,"span",26),t.OEk(28," \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7"),t.C$Y(),t.I0R(29,"button",27),t.qCj("click",function(){t.usT(e);const n=t.GaO();return t.CGJ(n.onClearFilters())}),t.wR5(30,"span",28),t.OEk(31," \u039a\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),t.C$Y()()()()(),t.I0R(32,"div",29)(33,"a",30),t.wR5(34,"span",31),t.OEk(35," \u039a\u03bb\u03b5\u03af\u03c3\u03b5 \u039d\u03ad\u03bf \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd"),t.C$Y()(),t.yuY(36,ct,6,9,"p-table",32),t.k70()}if(2&u){const e=t.GaO();t.yG2(),t.E7m("styleClass","mb-3"),t.yG2(7),t.m_g(t.q4q(37,w)),t.E7m("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",e.yearRange)("showIcon",!0)("showButtonBar",!0)("readonlyInput",!0)("touchUI",!0),t.OKB("ngModel",e.filters.imerominiaApo),t.yG2(4),t.m_g(t.q4q(38,w)),t.E7m("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",e.yearRange)("showIcon",!0)("showButtonBar",!0)("readonlyInput",!0)("touchUI",!0),t.OKB("ngModel",e.filters.imerominiaEos),t.yG2(4),t.E7m("appendTo","body")("items",e.katastasiRantevouList),t.OKB("ngModel",e.filters.katastasiRantevou),t.yG2(4),t.E7m("appendTo","body")("items",e.diadikasiesList),t.OKB("ngModel",e.filters.diadikasia),t.yG2(4),t.E7m("appendTo","body")("items",e.monadesList),t.OKB("ngModel",e.filters.monada),t.yG2(12),t.E7m("ngIf",e.showRantevouList&&!e.isLoading)}}let dt=(()=>{class u{constructor(e,i,n,a,l){this.toasterSrv=e,this.oidcSecuritySrv=i,this.rantevouService=n,this.cdr=a,this._parent=l,this.yearRange=(0,s.sj)(50,50),this.isLoading=!1,this.showAllRantevous=!0,this.filters={},this.katastasiRantevouList=[{id:1,value:"\u0395\u03bd\u03b5\u03c1\u03b3\u03cc"},{id:2,value:"\u0391\u03ba\u03c5\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u0391\u03c0\u03cc \u03a0\u03bf\u03bb\u03af\u03c4\u03b7"},{id:3,value:"\u0391\u03ba\u03c5\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u0391\u03c0\u03cc \u03a5\u03c0\u03b7\u03c1\u03b5\u03c3\u03af\u03b1"},{id:5,value:"\u03a0\u03c1\u03b1\u03b3\u03bc\u03b1\u03c4\u03bf\u03c0\u03bf\u03b9\u03ae\u03b8\u03b7\u03ba\u03b5"},{id:6,value:"\u0394\u03b5\u03bd \u03c0\u03c1\u03bf\u03c3\u03ae\u03bb\u03b8\u03b5"}]}ngOnInit(){this.request=new W,this.request.sorts=[{propertyName:"Imerominia",isDescending:!1}],(0,F.y)([this.rantevouService.getMyRantevous(this.request),this.rantevouService.getKatigoriesMeDiadiakasies(),this.rantevouService.getDiadikasies(),this.rantevouService.getMonades()]).subscribe(e=>{e&&(this.rantevouList=e[0],this.showRantevouList=(0,s.O0)(this.rantevouList),this.katigoriesMeDiadiakasiesList=e[1],this.diadikasiesList=e[2],this.monadesList=e[3]),this.isLoading=!1})}populateRantevouList(e){this.showAllRantevous=e.checked,this.showAllRantevous?this.showRantevouList=(0,s.O0)(this.rantevouList):this.showRantevouList.data=this.rantevouList.data.filter(i=>1==i.katastasiRantevou)}onSearchClicked(){(0,s.Er)(this.cdr),this.searchAitisisForm.valid&&(this.isLoading=!0,this.request.filters=this.getDefaultSearchColumns(),(0,s.Er)(this.cdr),this.rantevouService.getMyRantevous(this.request).subscribe(e=>{e&&(this.rantevouList=e,this.showRantevouList=(0,s.O0)(this.rantevouList)),this.isLoading=!1,(0,s.Er)(this.cdr)}))}onClearFilters(){this.filters={},this.request.filters=this.getDefaultSearchColumns(),this.onSearchClicked()}_setKatastasiIcon(e){switch(e){case 1:return'<span class="inner-katastasi light-green text-white"><span class="katastasi-icon">\u0395</span></span>';case 2:return'<span class="inner-katastasi light-red text-white"><span class="katastasi-icon">\u0391\u03a0</span></span>';case 3:return'<span class="inner-katastasi red text-white"><span class="katastasi-icon">\u0391\u03a5</span></span>';case 5:return'<span class="inner-katastasi green text-white"><span class="katastasi-icon">\u03a0</span></span>';case 6:return'<span class="inner-katastasi yellow text-white"><span class="katastasi-icon">\u0394\u03a0</span></span>'}}getDefaultSearchColumns(){return[this.filters.imerominiaApo|this.filters.imerominiaEos?{propertyName:"Imerominia",filter:(0,s.nM)(this.filters.imerominiaApo)+"~"+(0,s.nM)(this.filters.imerominiaEos)}:null,this.filters.katastasiRantevou?{propertyName:"katastasiRantevou",filter:this.filters.katastasiRantevou}:null,this.filters.diadikasia?{propertyName:"DiadikasiaId",filter:this.filters.diadikasia.id}:null,this.filters.monada?{propertyName:"MonadaId",filter:this.filters.monada.id}:null].filter(l=>l)}static#t=this.\u0275fac=function(i){return new(i||u)(t.GI1(s.y6),t.GI1(h.Bf),t.GI1(f),t.GI1(t.kD9),t.GI1(R.a))};static#e=this.\u0275cmp=t.In1({type:u,selectors:[["app-rantevou-list"]],viewQuery:function(i,n){if(1&i&&t.CC$(it,5),2&i){let a;t.wto(a=t.Gqi())&&(n.searchAitisisForm=a.first)}},decls:26,vars:3,consts:[[3,"condition","customClass"],[4,"ngIf"],[1,"p-4","bg-white"],[1,"d-block","mx-4","p-2","font-weight-bold",2,"background-color","#f4f4f4","margin-bottom","-15px","position","relative"],[1,"w-100","d-flex","flex-wrap","align-items-center","p-4",2,"border","2px solid #204969"],[1,"light-green","p-1","me-2","mb-2","text-white"],[1,"katastasi-icon"],[1,"green","p-1","me-2","mb-2","text-white"],[1,"light-red","p-1","me-2","mb-2","text-white"],[1,"red","p-1","me-2","mb-2","text-white"],[1,"yellow","p-1","mb-2","text-white"],["header","\u03a6\u03af\u03bb\u03c4\u03c1\u03b1 \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7\u03c2",3,"styleClass"],[1,"form"],["searchAitisisForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-4"],["name","imerominiaApo","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","readonlyInput","touchUI","ngModel","ngModelChange"],["name","imerominiaEos","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","readonlyInput","touchUI","ngModel","ngModelChange"],["name","katastasi","bindLabel","value","bindValue","id",1,"ontop-select",3,"appendTo","items","ngModel","ngModelChange"],[1,"form-group","col-12","col-md-6"],[1,"text-uppercase","font-weight-bold"],["name","titlos","bindLabel","titlos",1,"ontop-select",3,"appendTo","items","ngModel","ngModelChange"],[1,"form-group","col-12","col-md-6","pe-0"],["name","perigrafi","bindLabel","perigrafi",1,"ontop-select",3,"appendTo","items","ngModel","ngModelChange"],[1,"form-group","d-flex","justify-content-center","align-items-end","col-md-4","mx-auto","mt-2"],["type","button",1,"btn","btn-primary","btn-sm","me-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["type","button",1,"btn","btn-warning","btn-sm","text-white",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],[1,"d-flex","justify-content-end"],["routerLink","/rantevou-app/rantevou/0",1,"btn","btn-sm","btn-primary","mb-1"],["aria-hidden","true",1,"fas","fa-plus"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[1,"d-flex","align-items-center","justify-content-start"],[1,"me-2"],["name","showAllRantevous",3,"ngModel","ngModelChange","onChange"],[1,"fixed-width-col-80"],[1,"fixed-width-col-180"],[1,"fixed-width-col-120"],[1,"fixed-width-col-60"],[1,"fixed-width-col-80","text-center"],[1,"p-column-title"],[1,"katastasi-wrap",3,"innerHTML"],[1,"fixed-width-col-100","text-center"],[1,"fixed-width-col-100"],[1,"fixed-width-col-60","text-center"],[1,"btn","btn-sm","btn-primary","m-0","view-button",3,"routerLink"],[1,"far","fa-eye"],[1,"ms-2","view-text"],["colspan","6"]],template:function(i,n){1&i&&(t.wR5(0,"eg-loading",0),t.yuY(1,Ct,37,39,"ng-container",1),t.I0R(2,"div",2)(3,"span",3),t.OEk(4,"\u039a\u03b1\u03c4\u03b1\u03c3\u03c4\u03ac\u03c3\u03b5\u03b9\u03c2 \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd"),t.C$Y(),t.I0R(5,"div",4)(6,"span",5)(7,"span",6),t.OEk(8,"\u0395"),t.C$Y(),t.OEk(9,"\u0395\u03bd\u03b5\u03c1\u03b3\u03cc"),t.C$Y(),t.I0R(10,"span",7)(11,"span",6),t.OEk(12,"\u03a0"),t.C$Y(),t.OEk(13,"\u03a0\u03c1\u03b1\u03b3\u03bc\u03b1\u03c4\u03bf\u03c0\u03bf\u03b9\u03ae\u03b8\u03b7\u03ba\u03b5"),t.C$Y(),t.I0R(14,"span",8)(15,"span",6),t.OEk(16,"\u0391\u03a0"),t.C$Y(),t.OEk(17,"\u0391\u03ba\u03c5\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u0391\u03c0\u03bf \u03a0\u03bf\u03bb\u03af\u03c4\u03b7"),t.C$Y(),t.I0R(18,"span",9)(19,"span",6),t.OEk(20,"\u0391\u03a5"),t.C$Y(),t.OEk(21,"\u0391\u03ba\u03c5\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u0391\u03c0\u03bf \u03a5\u03c0\u03ac\u03bb\u03bb\u03b7\u03bb\u03bf"),t.C$Y(),t.I0R(22,"span",10)(23,"span",6),t.OEk(24,"\u0394\u03a0"),t.C$Y(),t.OEk(25,"\u0394\u03b5\u03bd \u03a0\u03c1\u03bf\u03c3\u03ae\u03bb\u03b8\u03b5"),t.C$Y()()()),2&i&&(t.E7m("condition",n.isLoading)("customClass","egr-load-small"),t.yG2(),t.E7m("ngIf",!n.isLoading))},dependencies:[p.ER,d.u_,c.sz,c.ue,c.u,c._G,c.SC,G.UT,s.uU,ut.oJ,x.U3,M.Yf,O.s,nt.Mt,d.y],encapsulation:2})}return u})();function Bt(u,o){if(1&u&&(t.I0R(0,"div",3)(1,"div",4)(2,"div",5)(3,"span",6)(4,"strong"),t.OEk(5,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0394\u03b9\u03b1\u03b4\u03b9\u03ba\u03b1\u03c3\u03af\u03b1\u03c2"),t.C$Y()(),t.I0R(6,"span",6)(7,"strong"),t.OEk(8,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1\u03c2 & \u038f\u03c1\u03b1\u03c2"),t.C$Y()(),t.I0R(9,"span",7),t.OEk(10,"\u039f\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5"),t.C$Y()(),t.I0R(11,"div",8),t.wR5(12,"span",9)(13,"span",9)(14,"span",10),t.C$Y()()()),2&u){const e=t.GaO();t.yG2(3),t.E7m("ngClass",e.nextStep?"":"active"),t.yG2(3),t.E7m("ngClass",e.nextStep?"active":""),t.yG2(6),t.E7m("ngClass",e.nextStep?"active":""),t.yG2(),t.E7m("ngClass",e.nextStep&&e.selectedMonada&&e.selectedOra&&e.acceptedOrous?"active":"")}}function pt(u,o){if(1&u){const e=t.KQA();t.I0R(0,"div",13)(1,"label"),t.OEk(2,"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u0394\u03b9\u03b1\u03b4\u03b9\u03ba\u03b1\u03c3\u03af\u03b1(*)"),t.C$Y(),t.I0R(3,"ng-select",20),t.qCj("change",function(n){t.usT(e);const a=t.GaO(2);return t.CGJ(a.onDiadikasiaChanged(n))}),t.iHE("ngModelChange",function(n){t.usT(e);const a=t.GaO(2);return t.kNx(a.selectedDiadikasia,n)||(a.selectedDiadikasia=n),t.CGJ(n)}),t.C$Y()()}if(2&u){const e=t.GaO(2);t.yG2(3),t.E7m("appendTo","body")("items",e.selectedKatigoria.diadikasies),t.OKB("ngModel",e.selectedDiadikasia)}}function mt(u,o){if(1&u&&(t.I0R(0,"div",23)(1,"label",24),t.OEk(2,"\u03a7\u03c1\u03ae\u03c3\u03b9\u03bc\u03b5\u03c2 \u03a0\u03bb\u03b7\u03c1\u03bf\u03c6\u03bf\u03c1\u03af\u03b5\u03c2"),t.C$Y(),t.wR5(3,"div",25),t.C$Y()),2&u){const e=t.GaO(3);t.yG2(3),t.E7m("innerHtml",e.selectedDiadikasia.chrisimesPlirofories,t.E3n)}}function ht(u,o){if(1&u&&(t.I0R(0,"div",23)(1,"label",24),t.OEk(2,"\u0391\u03c0\u03b1\u03b9\u03c4\u03bf\u03cd\u03bc\u03b5\u03bd\u03b1 \u0394\u03b9\u03ba\u03b1\u03b9\u03bf\u03bb\u03bf\u03b3\u03b7\u03c4\u03b9\u03ba\u03ac"),t.C$Y(),t.wR5(3,"div",25),t.C$Y()),2&u){const e=t.GaO(3);t.yG2(3),t.E7m("innerHtml",e.selectedDiadikasia.apaitoumenaDikaiologitika,t.E3n)}}function gt(u,o){if(1&u&&(t.I0R(0,"div",21),t.yuY(1,mt,4,1,"div",22)(2,ht,4,1,"div",22),t.C$Y()),2&u){const e=t.GaO(2);t.yG2(),t.E7m("ngIf",e.selectedDiadikasia.chrisimesPlirofories),t.yG2(),t.E7m("ngIf",e.selectedDiadikasia.apaitoumenaDikaiologitika)}}function _t(u,o){if(1&u){const e=t.KQA();t.SAx(0),t.I0R(1,"form",11)(2,"div",12)(3,"div",13)(4,"label"),t.OEk(5,"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u039a\u03b1\u03c4\u03b7\u03b3\u03bf\u03c1\u03af\u03b1(*)"),t.C$Y(),t.I0R(6,"ng-select",14),t.qCj("change",function(n){t.usT(e);const a=t.GaO();return t.CGJ(a.onKatigoriaChanged(n))}),t.iHE("ngModelChange",function(n){t.usT(e);const a=t.GaO();return t.kNx(a.selectedKatigoria,n)||(a.selectedKatigoria=n),t.CGJ(n)}),t.C$Y()(),t.yuY(7,pt,4,3,"div",15)(8,gt,3,2,"div",16),t.C$Y(),t.I0R(9,"div",17)(10,"button",18),t.qCj("click",function(){t.usT(e);const n=t.GaO();return t.CGJ(n.onNextStepClicked())}),t.OEk(11," \u0395\u03c0\u03cc\u03bc\u03b5\u03bd\u03bf \u0392\u03ae\u03bc\u03b1 "),t.wR5(12,"i",19),t.C$Y()()(),t.k70()}if(2&u){const e=t.GaO();t.yG2(6),t.E7m("appendTo","body")("items",e.katigoriesMeDiadiakasiesList),t.OKB("ngModel",e.selectedKatigoria),t.yG2(),t.E7m("ngIf",e.selectedKatigoria),t.yG2(),t.E7m("ngIf",e.selectedDiadikasia),t.yG2(2),t.E7m("disabled",!e.selectedDiadikasia||!e.selectedKatigoria)}}function ft(u,o){if(1&u){const e=t.KQA();t.SAx(0),t.I0R(1,"div",33)(2,"label",24),t.OEk(3,"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03a3\u03b7\u03bc\u03b5\u03af\u03bf \u0395\u03be\u03c5\u03c0\u03b7\u03c1\u03ad\u03c4\u03b7\u03c3\u03b7\u03c2(*)"),t.C$Y(),t.I0R(4,"ng-select",34),t.qCj("change",function(n){t.usT(e);const a=t.GaO(2);return t.CGJ(a.onMonadaChanged(n))}),t.iHE("ngModelChange",function(n){t.usT(e);const a=t.GaO(2);return t.kNx(a.selectedMonada,n)||(a.selectedMonada=n),t.CGJ(n)}),t.C$Y()(),t.k70()}if(2&u){const e=t.GaO(2);t.yG2(4),t.E7m("appendTo","body")("items",e.selectedDiadikasia.monades),t.OKB("ngModel",e.selectedMonada)}}function vt(u,o){if(1&u&&(t.I0R(0,"div",33)(1,"label",24),t.OEk(2,"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03bf \u03a3\u03b7\u03bc\u03b5\u03af\u03bf \u0395\u03be\u03c5\u03c0\u03b7\u03c1\u03ad\u03c4\u03b7\u03c3\u03b7\u03c2"),t.C$Y(),t.I0R(3,"div"),t.OEk(4),t.C$Y()()),2&u){const e=t.GaO(3);t.yG2(4),t.CAO("",e.selectedMonada.perigrafi," - ",e.stripHtml(e.selectedMonada.toposDienergeiasRantevou),"")}}function At(u,o){if(1&u&&t.yuY(0,vt,5,2,"div",35),2&u){const e=t.GaO(2);t.E7m("ngIf",e.selectedDiadikasia)}}function Rt(u,o){if(1&u&&(t.I0R(0,"span",52),t.OEk(1),t.C$Y()),2&u){const e=o.$implicit,i=t.GaO(3);t.E7m("ngClass",i._checkDateForDiathesimotita(e)?"diathesimo":"mi-diathesimo"),t.yG2(),t.cNF(e.day)}}function yt(u,o){if(1&u){const e=t.KQA();t.I0R(0,"button",60),t.qCj("click",function(){t.usT(e);const n=t.GaO(),a=n.$implicit,l=n.index,B=t.GaO(5);return t.CGJ(B.onClickDiastima(a,l))}),t.OEk(1),t.C$Y()}if(2&u){const e=t.GaO(),i=e.index,n=e.$implicit,a=t.GaO(5);t._6D("id","button-"+i),t.E7m("ngClass",a.selectedOraIndex===i?"btn-primary":"btn-success"),t.yG2(),t.MjK(" ",n.oraApoString," "," - "," ",n.oraEosString," ")}}function Et(u,o){if(1&u&&(t.I0R(0,"span",61),t.OEk(1),t.C$Y()),2&u){const e=t.GaO().$implicit;t.yG2(),t.MjK(" ",e.oraApoString," "," - "," ",e.oraEosString," ")}}function kt(u,o){if(1&u&&(t.SAx(0),t.yuY(1,yt,2,5,"button",58)(2,Et,2,3,"ng-template",null,59,t.gJz),t.k70()),2&u){const e=o.$implicit,i=t.Gew(3);t.yG2(),t.E7m("ngIf",e.diathesimaRantevou>0)("ngIfElse",i)}}function Dt(u,o){if(1&u&&(t.I0R(0,"div",56),t.yuY(1,kt,4,2,"ng-container",57),t.C$Y()),2&u){const e=t.GaO(4);t.yG2(),t.E7m("ngForOf",e.diathesimotitaMeras.diastimata)}}function It(u,o){if(1&u&&(t.I0R(0,"div",53)(1,"label",54),t.OEk(2,"\u038f\u03c1\u03b1 \u03c4\u03bf\u03c5 \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd(*)"),t.C$Y(),t.yuY(3,Dt,2,1,"div",55),t.C$Y()),2&u){const e=t.GaO(3);t.yG2(3),t.E7m("ngIf",e.diathesimotitaMeras.diastimata)}}const Ot=()=>({width:"100%"}),Ft=()=>[0,6];function bt(u,o){if(1&u){const e=t.KQA();t.SAx(0),t.I0R(1,"div",12)(2,"div",36)(3,"label",37),t.OEk(4,"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd(*)"),t.C$Y(),t.I0R(5,"p-calendar",38),t.iHE("ngModelChange",function(n){t.usT(e);const a=t.GaO(2);return t.kNx(a.imerominia,n)||(a.imerominia=n),t.CGJ(n)}),t.qCj("onMonthChange",function(n){t.usT(e);const a=t.GaO(2);return t.CGJ(a.onMonthChanged(n))})("onSelect",function(){t.usT(e);const n=t.GaO(2);return t.CGJ(n.onCalendarChange())}),t.yuY(6,Rt,2,2,"ng-template",39),t.C$Y(),t.I0R(7,"div",40)(8,"div",41),t.wR5(9,"span",42),t.I0R(10,"span"),t.OEk(11,"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b7 \u0397\u03bc\u03ad\u03c1\u03b1"),t.C$Y()(),t.I0R(12,"div",41),t.wR5(13,"span",43),t.I0R(14,"span"),t.OEk(15,"\u039c\u03b7 \u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b7 \u0397\u03bc\u03ad\u03c1\u03b1"),t.C$Y()()()()(),t.yuY(16,It,4,1,"div",44),t.I0R(17,"div",12)(18,"div",45)(19,"label",24),t.OEk(20,"\u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 (*)"),t.C$Y(),t.I0R(21,"input",46),t.iHE("ngModelChange",function(n){t.usT(e);const a=t.GaO(2);return t.kNx(a.toCreateRantevou.tilefonoEpikoinonias,n)||(a.toCreateRantevou.tilefonoEpikoinonias=n),t.CGJ(n)}),t.C$Y()()(),t.I0R(22,"div",23)(23,"label",24),t.OEk(24,"\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1 \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd"),t.C$Y(),t.I0R(25,"textarea",47),t.iHE("ngModelChange",function(n){t.usT(e);const a=t.GaO(2);return t.kNx(a.toCreateRantevou.sxoliaPoliti,n)||(a.toCreateRantevou.sxoliaPoliti=n),t.CGJ(n)}),t.OEk(26,"\t\t\t"),t.C$Y()(),t.I0R(27,"div",12)(28,"div",45)(29,"label",48),t.OEk(30,"\u038c\u03c1\u03bf\u03b9 \u03a7\u03c1\u03ae\u03c3\u03b7\u03c2 \u0395\u03c6\u03b1\u03c1\u03bc\u03bf\u03b3\u03ae\u03c2"),t.C$Y(),t.I0R(31,"p"),t.OEk(32,"\u03a4\u03b1 \u03c5\u03c0\u03bf\u03b2\u03bb\u03b7\u03b8\u03ad\u03bd\u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03c4\u03c5\u03b3\u03c7\u03ac\u03bd\u03bf\u03c5\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1\u03c2 \u03c3\u03cd\u03bc\u03c6\u03c9\u03bd\u03b1 \u03bc\u03b5 \u03c4\u03bf \u03b9\u03c3\u03c7\u03cd\u03bf\u03bd \u03b8\u03b5\u03c3\u03bc\u03b9\u03ba\u03cc \u03c0\u03bb\u03b1\u03af\u03c3\u03b9\u03bf (\u0393\u03b5\u03bd\u03b9\u03ba\u03cc\u03c2 \u039a\u03b1\u03bd\u03bf\u03bd\u03b9\u03c3\u03bc\u03cc\u03c2 679/2016 \u0395\u0395) \u03ba\u03b1\u03b9 \u03c4\u03b7\u03bd \u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03b7 \u03bd\u03bf\u03bc\u03bf\u03b8\u03b5\u03c3\u03af\u03b1 \u039d.4624/2019, \u03bc\u03b5 \u03c3\u03ba\u03bf\u03c0\u03cc \u03c4\u03b7 \u03b4\u03b9\u03b5\u03ba\u03c0\u03b5\u03c1\u03b1\u03af\u03c9\u03c3\u03b7 \u03c4\u03bf\u03c5 \u03b1\u03b9\u03c4\u03ae\u03bc\u03b1\u03c4\u03cc\u03c2 \u03c3\u03b1\u03c2 \u03ba\u03b1\u03b9 \u03c4\u03b7\u03c1\u03bf\u03cd\u03bd\u03c4\u03b1\u03b9 \u03b3\u03b9\u03b1 \u03c4\u03bf \u03b1\u03c0\u03b1\u03b9\u03c4\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf \u03b1\u03c0\u03cc \u03c4\u03b7 \u03bd\u03bf\u03bc\u03bf\u03b8\u03b5\u03c3\u03af\u03b1 \u03c7\u03c1\u03bf\u03bd\u03b9\u03ba\u03cc \u03b4\u03b9\u03ac\u03c3\u03c4\u03b7\u03bc\u03b1. \u03a4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03c3\u03b1\u03c2 \u03c6\u03c5\u03bb\u03ac\u03c3\u03c3\u03bf\u03bd\u03c4\u03b1\u03b9 \u03c3\u03b5 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03cc \u03ba\u03b1\u03b9 \u03c6\u03c5\u03c3\u03b9\u03ba\u03cc \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03c4\u03bf \u03bf\u03c0\u03bf\u03af\u03bf \u03ba\u03b1\u03c4\u03ac \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03bc\u03c0\u03bf\u03c1\u03b5\u03af \u03bd\u03b1 \u03b4\u03b9\u03b1\u03c4\u03b5\u03b8\u03b5\u03af \u03ba\u03b1\u03b9 \u03c3\u03b5 \u03ac\u03bb\u03bb\u03b5\u03c2 \u03b1\u03c1\u03bc\u03cc\u03b4\u03b9\u03b5\u03c2 \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03af\u03b5\u03c2 \u03b5\u03bd\u03c4\u03cc\u03c2 \u03ae \u03b5\u03ba\u03c4\u03cc\u03c2 \u03c4\u03bf\u03c5 \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03bf\u03cd \u03bf\u03b9 \u03bf\u03c0\u03bf\u03af\u03b5\u03c2 \u03b5\u03bc\u03c0\u03bb\u03ad\u03ba\u03bf\u03bd\u03c4\u03b1\u03b9 \u03c3\u03c4\u03b7 \u03b4\u03b9\u03b5\u03ba\u03c0\u03b5\u03c1\u03b1\u03af\u03c9\u03c3\u03b7 \u03c4\u03bf\u03c5 \u03b1\u03b9\u03c4\u03ae\u03bc\u03b1\u03c4\u03cc\u03c2 \u03c3\u03b1\u03c2 \u03b2\u03ac\u03c3\u03b5\u03b9 \u03bd\u03bf\u03bc\u03bf\u03b8\u03b5\u03c3\u03af\u03b1\u03c2. \u0393\u03b9\u03b1 \u03c0\u03b5\u03c1\u03b9\u03c3\u03c3\u03cc\u03c4\u03b5\u03c1\u03b5\u03c2 \u03c0\u03bb\u03b7\u03c1\u03bf\u03c6\u03bf\u03c1\u03af\u03b5\u03c2 \u03c3\u03c7\u03b5\u03c4\u03b9\u03ba\u03ac \u03bc\u03b5 \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03c9\u03bd \u03a0\u03c1\u03bf\u03c3\u03c9\u03c0\u03b9\u03ba\u03ce\u03bd \u03c3\u03b1\u03c2 \u0394\u03b5\u03b4\u03bf\u03bc\u03ad\u03bd\u03c9\u03bd \u03ba\u03b1\u03b9 \u03c4\u03b7\u03bd \u03ac\u03c3\u03ba\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b4\u03b9\u03ba\u03b1\u03b9\u03c9\u03bc\u03ac\u03c4\u03c9\u03bd \u03c3\u03b1\u03c2, \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03b1\u03bd\u03b1\u03c4\u03c1\u03ad\u03be\u03b5\u03c4\u03b5 \u03c3\u03c4\u03b7\u03bd \u03a0\u03bf\u03bb\u03b9\u03c4\u03b9\u03ba\u03ae \u03a0\u03c1\u03bf\u03c3\u03c4\u03b1\u03c3\u03af\u03b1\u03c2 \u03a0\u03c1\u03bf\u03c3\u03c9\u03c0\u03b9\u03ba\u03ce\u03bd \u0394\u03b5\u03b4\u03bf\u03bc\u03ad\u03bd\u03c9\u03bd."),t.C$Y(),t.I0R(33,"div",49)(34,"input",50),t.iHE("ngModelChange",function(n){t.usT(e);const a=t.GaO(2);return t.kNx(a.acceptedOrous,n)||(a.acceptedOrous=n),t.CGJ(n)}),t.C$Y(),t.I0R(35,"label",51),t.OEk(36,"\u03a3\u03c5\u03bc\u03c6\u03c9\u03bd\u03ce \u03bc\u03b5 \u03c4\u03bf\u03c5\u03c2 \u038c\u03c1\u03bf\u03c5\u03c2 \u03a7\u03c1\u03ae\u03c3\u03b7\u03c2"),t.C$Y()()()(),t.k70()}if(2&u){const e=t.GaO(2);t.yG2(5),t.m_g(t.q4q(18,Ot)),t.E7m("baseZIndex",9999)("firstDayOfWeek",1)("monthNavigator",!1)("styleClass","egwebapps-calendar")("showIcon",!0)("inline",!0)("showButtonBar",!1)("readonlyInput",!0)("minDate",e.todayPlusOne)("disabledDays",t.q4q(19,Ft))("touchUI",!0),t.OKB("ngModel",e.imerominia),t.yG2(11),t.E7m("ngIf",e.diathesimotitaMeras),t.yG2(5),t.OKB("ngModel",e.toCreateRantevou.tilefonoEpikoinonias),t.yG2(4),t.OKB("ngModel",e.toCreateRantevou.sxoliaPoliti),t.yG2(9),t.OKB("ngModel",e.acceptedOrous)}}function Gt(u,o){if(1&u){const e=t.KQA();t.SAx(0),t.yuY(1,ft,5,3,"ng-container",26)(2,At,1,1,"ng-template",null,27,t.gJz)(4,bt,37,20,"ng-container",2),t.I0R(5,"div",28)(6,"button",29),t.qCj("click",function(){t.usT(e);const n=t.GaO();return t.CGJ(n.onPrevStepClicked())}),t.wR5(7,"i",30),t.OEk(8," \u03a0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf \u0392\u03ae\u03bc\u03b1"),t.C$Y(),t.I0R(9,"button",31),t.qCj("click",function(){t.usT(e);const n=t.GaO();return t.CGJ(n.onCreateRantevou())}),t.wR5(10,"i",32),t.OEk(11," \u03a5\u03c0\u03bf\u03b2\u03bf\u03bb\u03ae"),t.C$Y()(),t.k70()}if(2&u){const e=t.Gew(3),i=t.GaO();t.yG2(),t.E7m("ngIf",i.selectedDiadikasia&&i.showMonades)("ngIfElse",e),t.yG2(3),t.E7m("ngIf",i.selectedMonada)}}let T=(()=>{class u{constructor(e,i,n,a,l,B,m){this.rantevouSrv=e,this.toasterSrv=i,this.oidcSecuritySrv=n,this.activatedRoute=a,this.router=l,this.cdr=B,this._parent=m,this.isLoading=!1,this.showMonades=!1,this.nextStep=!1,this.acceptedOrous=!1,this.selectedOraIndex=-1,this.yearRange=(0,s.sj)(50,50),this.disabledDays=[],this.toCreateRantevou=new b,this.imerominia=new Date,this.diathesimotitaMina=null,this.todayPlusOnePlusOne=new Date,this.today=new Date(this.todayPlusOnePlusOne.getDate()+1)}ngOnInit(){this.isLoading=!0,(0,s.Er)(this.cdr),this.oidcSecuritySrv.getUserData().subscribe(e=>{e&&(this.userData=e,this.toCreateRantevou.tilefonoEpikoinonias=this.userData.phone_number?this.userData.phone_number:null),(0,s.Er)(this.cdr)}),this.rantevouSrv.getKatigoriesMeDiadiakasies().subscribe(e=>{e&&(this.katigoriesMeDiadiakasiesList=e),this.isLoading=!1,(0,s.Er)(this.cdr)})}onKatigoriaChanged(){this.selectedMonada=null,this.selectedDiadikasia=null,(0,s.Er)(this.cdr)}onDiadikasiaChanged(){this.selectedMonada=null,this.selectedDiadikasia.monades.length>1?(this.showMonades=!0,this.selectedDiadikasia.monades.map(e=>(e.selectLabel=e.perigrafi+(e.toposDienergeiasRantevou?" - "+e.toposDienergeiasRantevou.replace(/<.*?>/g,""):""),e))):(this.showMonades=!1,this.selectedMonada=this.selectedDiadikasia.monades[0],(0,s.Er)(this.cdr),this._pullCalendarData(this.today))}onMonadaChanged(){null==this.selectedMonada?(this.selectedOra="",this.selectedOraIndex=-1):this._pullCalendarData(this.imerominia),this.diathesimotitaMeras=null,(0,s.Er)(this.cdr)}onMonthChanged(e){this._pullCalendarData(new Date(e.year,e.month-1,1)),this.imerominia=new Date(e.year,e.month-1,1)}onCalendarChange(){this.diathesimotitaMeras=null;let e=this.selectedDiadikasia.id,i=this.imerominia.getFullYear()+"-"+(this.imerominia.getMonth()+1)+"-"+this.imerominia.getDate();(0,s.Er)(this.cdr),this.imerominia>this.todayPlusOnePlusOne&&this.rantevouSrv.getDiathesimotitesDiastimatonImeras(e,this.selectedMonada.id,i).subscribe(n=>{n&&(this.diathesimotitaMeras=n),(0,s.Er)(this.cdr)})}onClickDiastima(e,i){this.selectedOra=e,this.selectedOraIndex=i,(0,s.Er)(this.cdr)}onCreateRantevou(){if(!this.selectedMonada)return this.toasterSrv.showError("","\u0398\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03c3\u03b5 \u03c0\u03bf\u03b9\u03cc \u03a3\u03b7\u03bc\u03b5\u03af\u03bf \u0395\u03be\u03c5\u03c0\u03b7\u03c1\u03ad\u03c4\u03b7\u03c3\u03b7\u03c2 \u03b8\u03b1 \u03c0\u03c1\u03bf\u03b3\u03c1\u03b1\u03bc\u03bc\u03b1\u03c4\u03b9\u03c3\u03c4\u03b5\u03af \u03c4\u03bf \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd \u03c3\u03b1\u03c2!"),-1;if(!this.imerominia)return this.toasterSrv.showError("","\u0398\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03c4\u03b7\u03bd \u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03c4\u03bf\u03c5 \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd \u03c3\u03b1\u03c2!"),-1;if(!this.selectedOra)return this.toasterSrv.showError("","\u0398\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03c4\u03b7\u03bd \u038f\u03c1\u03b1 \u03c4\u03bf\u03c5 \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd \u03c3\u03b1\u03c2!"),-1;if(!this.toCreateRantevou.tilefonoEpikoinonias)return this.toasterSrv.showError("","\u0398\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03b9\u03c3\u03b1\u03b3\u03ac\u03b3\u03b5\u03c4\u03b5 \u03c4\u03bf \u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2!"),-1;if(!this.acceptedOrous)return this.toasterSrv.showError("","\u0398\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b1\u03c0\u03bf\u03b4\u03b5\u03c7\u03c4\u03b5\u03af\u03c4\u03b5 \u03c4\u03bf\u03c5\u03c2 \u038c\u03c1\u03bf\u03c5\u03c2 \u03a7\u03c1\u03ae\u03c3\u03b7\u03c2 \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5 \u03c3\u03c4\u03b7\u03bd \u0394\u03b7\u03bc\u03b9\u03bf\u03c5\u03c1\u03b3\u03af\u03b1 \u03c4\u03bf\u03c5 \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd \u03c3\u03b1\u03c2!"),-1;let e=this.imerominia.getDate().toString().length<=1?"0"+this.imerominia.getDate():this.imerominia.getDate();this.toCreateRantevou.diadikasiaId=this.selectedDiadikasia.id,this.toCreateRantevou.monadaId=this.selectedMonada.id,this.toCreateRantevou.imerominia=`${this.imerominia.getFullYear()}-${("0"+(this.imerominia.getMonth()+1)).slice(-2)}-${e}T00:00:00+02:00`,this.toCreateRantevou.oraApoString=this.selectedOra.oraApoString,this.toCreateRantevou.oraEosString=this.selectedOra.oraEosString,this.rantevouSrv.createRantevou(this.toCreateRantevou).subscribe(i=>{i&&(this.toasterSrv.showSuccess("","\u03a4\u03bf \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd \u03c3\u03b1\u03c2 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03b8\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1!"),this.router.navigate([`/rantevou-app/rantevou/${i.id}/1`,{}]),(0,s.Er)(this.cdr))})}stripHtml(e){let i=document.createElement("DIV");return i.innerHTML=e,i.textContent||i.innerText||""}onNextStepClicked(){if(this.selectedDiadikasia)this.nextStep=!0,(0,s.Er)(this.cdr);else{if(!this.selectedKatigoria)return this.toasterSrv.showError("","\u0398\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03c4\u03b7\u03bd \u039a\u03b1\u03c4\u03b7\u03b3\u03bf\u03c1\u03af\u03b1 \u03c0\u03bf\u03c5 \u03b1\u03c6\u03bf\u03c1\u03ac \u03c4\u03bf \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd \u03c3\u03b1\u03c2!"),-1;if(!this.selectedDiadikasia)return this.toasterSrv.showError("","\u0398\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03c4\u03b7\u03bd \u0394\u03b9\u03b1\u03b4\u03b9\u03ba\u03b1\u03c3\u03af\u03b1 \u03c0\u03bf\u03c5 \u03b1\u03c6\u03bf\u03c1\u03ac \u03c4\u03bf \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd \u03c3\u03b1\u03c2!"),-1}}onPrevStepClicked(){this.nextStep=!1,this.selectedMonada=null,this.toCreateRantevou=new b,this.toCreateRantevou.tilefonoEpikoinonias=this.userData.phone_number,(0,s.Er)(this.cdr)}_pullCalendarData(e){this.diathesimotitaMina=null;let i=this.selectedDiadikasia.id,n=e.getMonth()+1,a=e.getFullYear(),l=this.today.getMonth()+1,B=this.today.getFullYear();(0,s.Er)(this.cdr),(n>=l||a>=B)&&this.rantevouSrv.getDiathesimotitaMina(i,this.selectedMonada.id,a,n).subscribe(m=>{if(m&&(this.diathesimotitaMina=m,this.diathesimotitaMina&&this.diathesimotitaMina.diathesimotites&&this.diathesimotitaMina.diathesimotites.length>0)){this.diathesimotitaMina.diathesimotites.map(C=>C.day=new Date(C.imera).getDate());var v=this.diathesimotitaMina.diathesimotites.findIndex(C=>C.imera==Date.now.toString());this.diathesimotitaMina.diathesimotites.splice(v,1)}(0,s.Er)(this.cdr)})}_checkDateForDiathesimotita(e){if(this.diathesimotitaMina&&this.diathesimotitaMina.diathesimotites)return!!this.diathesimotitaMina.diathesimotites.some(i=>i.day==e.day&&1==i.hasDiathesimotita);(0,s.Er)(this.cdr)}static#t=this.\u0275fac=function(i){return new(i||u)(t.GI1(f),t.GI1(s.y6),t.GI1(h.Bf),t.GI1(p.gV),t.GI1(p.E5),t.GI1(t.kD9),t.GI1(R.a))};static#e=this.\u0275cmp=t.In1({type:u,selectors:[["app-rantevou-create"]],decls:4,vars:5,consts:[[3,"condition","customClass"],["class","d-flex justify-content-center mb-4",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-center","mb-4"],[1,"d-flex","flex-column","align-items-center"],[1,"descs"],[1,"desc",3,"ngClass"],[1,"desc"],[1,"d-flex","align-items-center","justify-content-center","steps"],[1,"number",3,"ngClass"],[1,"number"],[1,"form"],[1,"row"],[1,"form-group","col-12","col-md-6"],["name","perigrafi","bindLabel","perigrafi","required","",1,"ontop-select",3,"appendTo","items","ngModel","change","ngModelChange"],["class","form-group col-12 col-md-6",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-end","mt-4"],["type","button",1,"btn","btn-primary","m-0","d-inline-flex","align-items-center","next-step",3,"disabled","click"],[1,"ms-2","fas","fa-chevron-right"],["name","titlos","bindLabel","titlos","required","",1,"ontop-select",3,"appendTo","items","ngModel","change","ngModelChange"],[1,"col-12"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"text-uppercase","font-weight-bold"],[3,"innerHtml"],[4,"ngIf","ngIfElse"],["showSingleMonada",""],[1,"d-flex","justify-content-between"],[1,"btn","btn-primary","me-1","prev-step",3,"click"],[1,"fas","fa-chevron-left","me-2"],[1,"btn","btn-success","next-step",3,"click"],[1,"fas","fa-check"],[1,"form-group","col-12","mb-4"],["name","selectLabel","bindLabel","selectLabel","required","",1,"ontop-select",3,"appendTo","items","ngModel","change","ngModelChange"],["class","form-group col-12 mb-4",4,"ngIf"],[1,"form-group","col-12","mt-4"],[1,"text-uppercase","w-100","text-center","font-weight-bold"],["name","imerominia","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body","required","",3,"baseZIndex","firstDayOfWeek","monthNavigator","styleClass","showIcon","inline","showButtonBar","readonlyInput","minDate","disabledDays","touchUI","ngModel","ngModelChange","onMonthChange","onSelect"],["pTemplate","date"],[1,"d-flex","justify-content-between","labels-wrapper","font-weight-bold"],[1,"d-inline-flex","align-items-center"],[1,"square","green"],[1,"square","red"],["class","form-group col-12 mt-4 p-0",4,"ngIf"],[1,"form-group","col-12"],["name","phone","placeholder","\u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","sxolioPoliti","rows","4","placeholder","\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1",1,"form-control",3,"ngModel","ngModelChange"],["for","oroiXrisis",1,"text-uppercase","font-weight-bold"],[1,"form-check","text-end"],["id","oroiXrisis","name","oroiXrisis","type","checkbox","required","",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],[1,"custom-date-inner",3,"ngClass"],[1,"form-group","col-12","mt-4","p-0"],[1,"text-uppercase","w-100","text-center","font-weight-bold","ora-label"],["class","ora-rantevou d-flex flex-wrap align-items-center",4,"ngIf"],[1,"ora-rantevou","d-flex","flex-wrap","align-items-center"],[4,"ngFor","ngForOf"],["class","btn diastima-btn","type","button",3,"id","ngClass","click",4,"ngIf","ngIfElse"],["notAvailable",""],["type","button",1,"btn","diastima-btn",3,"id","ngClass","click"],[1,"btn","btn-danger","diastima-btn"]],template:function(i,n){1&i&&(t.wR5(0,"eg-loading",0),t.yuY(1,Bt,15,4,"div",1)(2,_t,13,6,"ng-container",2)(3,Gt,12,3,"ng-container",2)),2&i&&(t.E7m("condition",n.isLoading)("customClass","egr-load-small"),t.yG2(),t.E7m("ngIf",n.katigoriesMeDiadiakasiesList),t.yG2(),t.E7m("ngIf",n.katigoriesMeDiadiakasiesList&&!n.nextStep),t.yG2(),t.E7m("ngIf",n.nextStep))},dependencies:[d.QF,d.ay,d.u_,c.sz,c.ot,c.SU,c.ue,c.u,c.eJ,c.cX,c._G,c.SC,G.UT,s.uU,x.U3,M.Yf],encapsulation:2,changeDetection:0})}return u})();var xt=r(4935),y=r(4454);let Y=(()=>{class u{constructor(){}ngOnDestroy(){this.map&&this.map.remove()}initMap(e,i){const n=e.latitudeLongitude.split(","),a=(0,y.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{detectRetina:!0,maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'});var l=(0,y.marker)([parseFloat(n[0]),parseFloat(n[1])]).bindPopup(this.popUpHtml(e,n));return i&&l.on("click",i,this),this.options={layers:[a,l],zoom:e.mapZoom,center:(0,y.latLng)([parseFloat(n[0]),parseFloat(n[1])]),scrollWheelZoom:!1},this.options}popUpHtml(e,i){let n="";return e.perigrafi&&(n+="<p>"+e.perigrafi+"</p>"),n+='<a href="http://www.google.com/maps/place/'+i[0]+","+i[1]+'" target="_blank">\u039f\u03b4\u03b7\u03b3\u03af\u03b5\u03c2</a>',n}static#t=this.\u0275fac=function(i){return new(i||u)};static#e=this.\u0275cmp=t.In1({type:u,selectors:[["app-map-component"]],inputs:{options:"options"},decls:1,vars:1,consts:[["leaflet","",1,"map-container",3,"leafletOptions"]],template:function(i,n){1&i&&t.wR5(0,"div",0),2&i&&t.E7m("leafletOptions",n.options)},dependencies:[k.UV],styles:[".map-container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}"]})}return u})();function Mt(u,o){1&u&&(t.I0R(0,"div",5)(1,"div",6)(2,"div",7)(3,"span",8)(4,"strong"),t.OEk(5,"\u039f\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5"),t.C$Y()()(),t.I0R(6,"div",9),t.wR5(7,"span",10)(8,"span",10)(9,"span",10),t.C$Y()()())}function wt(u,o){if(1&u&&(t.I0R(0,"p",25)(1,"span")(2,"strong"),t.OEk(3,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7 \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd: "),t.C$Y()(),t.I0R(4,"span"),t.OEk(5),t.C$Y()()),2&u){const e=t.GaO(2);t.yG2(5),t.cNF(e.model.katastasiRantevouPerigrafi)}}function Tt(u,o){if(1&u&&(t.I0R(0,"p",25)(1,"span")(2,"strong"),t.OEk(3,"\u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf: "),t.C$Y()(),t.I0R(4,"span"),t.OEk(5),t.C$Y()()),2&u){const e=t.GaO(2);t.yG2(5),t.cNF(e.model.tilefonoEpikoinonias)}}function Yt(u,o){if(1&u&&(t.I0R(0,"p",25)(1,"span")(2,"strong"),t.OEk(3,"Email: "),t.C$Y()(),t.I0R(4,"span"),t.OEk(5),t.C$Y()()),2&u){const e=t.GaO(2);t.yG2(5),t.cNF(e.model.email)}}function $t(u,o){if(1&u&&(t.I0R(0,"p",25)(1,"span")(2,"strong"),t.OEk(3,"\u0395\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03b7 \u0394\u03b9\u03b1\u03b4\u03b9\u03ba\u03b1\u03c3\u03af\u03b1: "),t.C$Y()(),t.I0R(4,"span"),t.OEk(5),t.C$Y()()),2&u){const e=t.GaO(2);t.yG2(5),t.cNF(e.model.diadikasia)}}function St(u,o){if(1&u&&(t.I0R(0,"p",25)(1,"span")(2,"strong"),t.OEk(3,"\u0395\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03b7 \u039c\u03bf\u03bd\u03ac\u03b4\u03b1: "),t.C$Y()(),t.I0R(4,"span"),t.OEk(5),t.C$Y()()),2&u){const e=t.GaO(2);t.yG2(5),t.cNF(e.model.monada)}}function Lt(u,o){if(1&u&&(t.I0R(0,"p",25)(1,"span")(2,"strong"),t.OEk(3,"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd: "),t.C$Y()(),t.I0R(4,"span"),t.OEk(5),t.wVc(6,"date"),t.C$Y()()),2&u){const e=t.GaO(2);t.yG2(5),t.cNF(t.g7$(6,1,e.model.imerominia,"dd/LL/yyyy"))}}function Nt(u,o){if(1&u&&(t.I0R(0,"p",12)(1,"span")(2,"strong"),t.OEk(3,"\u038f\u03c1\u03b1 \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd: "),t.C$Y()(),t.I0R(4,"span"),t.OEk(5),t.wVc(6,"date"),t.wVc(7,"date"),t.C$Y()()),2&u){const e=t.GaO(2);t.yG2(5),t.CAO(" ",t.I7O(6,2,e.model.oraApoString,"shortTime","+0000")," - ",t.I7O(7,6,e.model.oraEosString,"shortTime","+0000")," ")}}function Ht(u,o){if(1&u&&(t.I0R(0,"p",25)(1,"a",26),t.wVc(2,"date"),t.wVc(3,"date"),t.wVc(4,"date"),t.wVc(5,"date"),t.wR5(6,"i",27),t.OEk(7," \u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u03c3\u03c4\u03bf Google Calendar"),t.C$Y()()),2&u){const e=t.GaO(2);t.yG2(),t.yaW("href","https://calendar.google.com/calendar/render?action=TEMPLATE&text=",e.model.monada,"-",e.model.diadikasia,"&dates=",t.g7$(2,6,e.model.imerominia,"yyyyLLdd"),"T",t.g7$(3,9,e.model.oraApoString,"Hmm"),"/",t.g7$(4,12,e.model.imerominia,"yyyyLLdd"),"T",t.g7$(5,15,e.model.oraEosString,"Hmm"),"&details=&location=rantevou-app",t.K6U)}}function Pt(u,o){if(1&u&&(t.I0R(0,"p",25)(1,"a",28),t.wVc(2,"date"),t.wVc(3,"date"),t.wVc(4,"date"),t.wVc(5,"date"),t.wR5(6,"i",29),t.OEk(7," \u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u03c3\u03c4\u03bf Microsoft Live Calendar"),t.C$Y()()),2&u){const e=t.GaO(2);t.yG2(),t.yaW("href","https://calendar.live.com/calendar/calendar.aspx?rru=addevent&dtstart=",t.g7$(2,6,e.model.imerominia,"yyyyLLdd"),"T",t.g7$(3,9,e.model.oraApoString,"Hmm"),"&dtend=",t.g7$(4,12,e.model.imerominia,"yyyyLLdd"),"T",t.g7$(5,15,e.model.oraEosString,"Hmm"),"&summary=",e.model.monada,"-",e.model.diadikasia,"&location=rantevou-app&description=&allday=false&uid=",t.K6U)}}function Kt(u,o){if(1&u){const e=t.KQA();t.I0R(0,"p",25)(1,"button",30),t.qCj("click",function(){t.usT(e);const n=t.GaO(2);return t.CGJ(n.onAddToMyCalendarClicked())}),t.wR5(2,"i",31),t.OEk(3," \u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u03c3\u03c4\u03bf \u0397\u03bc\u03b5\u03c1\u03bf\u03bb\u03cc\u03b3\u03b9\u03bf \u03bc\u03bf\u03c5"),t.C$Y()()}}function Ut(u,o){if(1&u&&(t.I0R(0,"div",13)(1,"div",32)(2,"label",33),t.OEk(3,"\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1 \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd"),t.C$Y(),t.I0R(4,"p"),t.OEk(5),t.C$Y()(),t.wR5(6,"hr"),t.C$Y()),2&u){const e=t.GaO(2);t.yG2(5),t.cNF(e.model.sxoliaPoliti)}}function jt(u,o){if(1&u&&(t.I0R(0,"div",34)(1,"div",32)(2,"label",33),t.OEk(3,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 \u03a3\u03b7\u03bc\u03b5\u03af\u03bf\u03c5 \u0395\u03be\u03c5\u03c0\u03b7\u03c1\u03ad\u03c4\u03b7\u03c3\u03b7\u03c2"),t.C$Y(),t.wR5(4,"p",35)(5,"p",35),t.C$Y()()),2&u){const e=t.GaO(2);t.yG2(4),t.E7m("innerHTML",e.selectedDiadikasia.stoicheiaEpikoinonias,t.E3n),t.yG2(),t.E7m("innerHTML",e.selectedMonada.stoicheiaEpikoinonias,t.E3n)}}function Jt(u,o){if(1&u&&(t.I0R(0,"div",36)(1,"label",33),t.OEk(2,"\u0391\u03ba\u03c1\u03b9\u03b2\u03ae\u03c2 \u03a4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c3\u03af\u03b1 \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd"),t.C$Y(),t.wR5(3,"app-map-component",37),t.C$Y()),2&u){const e=t.GaO(2);t.yG2(3),t.E7m("options",e.options)}}function Vt(u,o){if(1&u&&(t.I0R(0,"div",40)(1,"label",33),t.OEk(2,"\u03a7\u03c1\u03ae\u03c3\u03b9\u03bc\u03b5\u03c2 \u03a0\u03bb\u03b7\u03c1\u03bf\u03c6\u03bf\u03c1\u03af\u03b5\u03c2"),t.C$Y(),t.wR5(3,"div",41),t.C$Y()),2&u){const e=t.GaO(3);t.yG2(3),t.E7m("innerHtml",e.selectedDiadikasia.chrisimesPlirofories,t.E3n)}}function zt(u,o){if(1&u&&(t.I0R(0,"div",40)(1,"label",33),t.OEk(2,"\u0391\u03c0\u03b1\u03b9\u03c4\u03bf\u03cd\u03bc\u03b5\u03bd\u03b1 \u0394\u03b9\u03ba\u03b1\u03b9\u03bf\u03bb\u03bf\u03b3\u03b7\u03c4\u03b9\u03ba\u03ac"),t.C$Y(),t.wR5(3,"div",41),t.C$Y()),2&u){const e=t.GaO(3);t.yG2(3),t.E7m("innerHtml",e.selectedDiadikasia.apaitoumenaDikaiologitika,t.E3n)}}function Qt(u,o){if(1&u&&(t.I0R(0,"div",38),t.yuY(1,Vt,4,1,"div",39),t.wR5(2,"hr"),t.yuY(3,zt,4,1,"div",39),t.C$Y()),2&u){const e=t.GaO(2);t.yG2(),t.E7m("ngIf",e.selectedDiadikasia.chrisimesPlirofories),t.yG2(2),t.E7m("ngIf",e.selectedDiadikasia.apaitoumenaDikaiologitika)}}function Zt(u,o){if(1&u){const e=t.KQA();t.I0R(0,"button",42),t.qCj("click",function(){t.usT(e);const n=t.GaO(2);return t.CGJ(n.onDeleteRantevouClicked())}),t.wR5(1,"i",43),t.OEk(2," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd "),t.C$Y()}}function qt(u,o){if(1&u){const e=t.KQA();t.I0R(0,"a",44),t.qCj("click",function(){t.usT(e);const n=t.GaO(2);return t.CGJ(n.onPrintRantevouClicked())}),t.wR5(1,"i",45),t.OEk(2," \u0395\u03ba\u03c4\u03cd\u03c0\u03c9\u03c3\u03b7 \u0391\u03c0\u03bf\u03b4\u03b5\u03b9\u03ba\u03c4\u03b9\u03ba\u03bf\u03cd \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd "),t.C$Y()}}function Wt(u,o){if(1&u&&(t.I0R(0,"div",11)(1,"h4",12),t.OEk(2,"\u03a0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd"),t.C$Y(),t.wR5(3,"hr"),t.I0R(4,"div",13)(5,"div",14),t.yuY(6,wt,6,1,"p",15)(7,Tt,6,1,"p",15)(8,Yt,6,1,"p",15),t.C$Y(),t.I0R(9,"div",14),t.yuY(10,$t,6,1,"p",15)(11,St,6,1,"p",15)(12,Lt,7,4,"p",15)(13,Nt,8,10,"p",16),t.I0R(14,"div",17),t.yuY(15,Ht,8,18,"p",15)(16,Pt,8,18,"p",15)(17,Kt,4,0,"p",15),t.C$Y()()(),t.wR5(18,"hr"),t.yuY(19,Ut,7,1,"div",18),t.I0R(20,"div",19),t.yuY(21,jt,6,2,"div",20),t.wR5(22,"hr"),t.yuY(23,Jt,4,1,"div",21),t.C$Y(),t.yuY(24,Qt,4,2,"div",22)(25,Zt,3,0,"button",23)(26,qt,3,0,"a",24),t.C$Y()),2&u){const e=t.GaO();t.yG2(6),t.E7m("ngIf",e.model.katastasiRantevouPerigrafi),t.yG2(),t.E7m("ngIf",e.model.tilefonoEpikoinonias),t.yG2(),t.E7m("ngIf",e.model.email),t.yG2(2),t.E7m("ngIf",e.model.diadikasia),t.yG2(),t.E7m("ngIf",e.model.monada),t.yG2(),t.E7m("ngIf",e.model.imerominia),t.yG2(),t.E7m("ngIf",e.model.oraApoString&&e.model.oraEosString),t.yG2(2),t.E7m("ngIf",e.model.imerominia),t.yG2(),t.E7m("ngIf",e.model.imerominia),t.yG2(),t.E7m("ngIf",e.model.imerominia),t.yG2(2),t.E7m("ngIf",e.model.sxoliaPoliti),t.yG2(2),t.E7m("ngIf",e.selectedDiadikasia),t.yG2(2),t.E7m("ngIf",e.hasMap),t.yG2(),t.E7m("ngIf",e.selectedDiadikasia),t.yG2(),t.E7m("ngIf",1==e.model.katastasiRantevou),t.yG2(),t.E7m("ngIf",1==e.model.katastasiRantevou)}}function Xt(u,o){if(1&u){const e=t.KQA();t.I0R(0,"div",46)(1,"p"),t.OEk(2,"\u0395\u03af\u03c3\u03c4\u03b5 \u03c3\u03af\u03b3\u03bf\u03c5\u03c1\u03bf\u03c2 \u03c0\u03c9\u03c2 \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03b1\u03ba\u03c5\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03bf \u03c1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd \u03c3\u03b1\u03c2;"),t.C$Y(),t.I0R(3,"div",47)(4,"button",48),t.qCj("click",function(){t.usT(e);const n=t.GaO();return t.CGJ(n.rantevouModalOpen=!1)}),t.OEk(5,"\u0386\u03ba\u03c5\u03c1\u03bf"),t.C$Y(),t.I0R(6,"button",49),t.qCj("click",function(){t.usT(e);const n=t.GaO();return t.CGJ(n.onDeleteApprovedClicked())}),t.OEk(7,"\u0395\u03c0\u03b9\u03b2\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7"),t.C$Y()()()}}let $=(()=>{class u{constructor(e,i,n,a,l,B){this.toasterSrv=e,this.activatedRoute=i,this.oidcSecuritySrv=n,this.rantevouService=a,this.cdr=l,this._parent=B,this.isLoading=!0,this.hasMap=!1,this.rantevouModalOpen=!1}ngOnInit(){this.rantevouId=this.activatedRoute.snapshot.params.id,this.isNew=this.activatedRoute.snapshot.params.new;let e=new Y;(0,F.y)([this.rantevouService.getRantevou(this.rantevouId),this.rantevouService.getKatigoriesMeDiadiakasies()]).subscribe(i=>{i&&(this.model=i[0],this.model.oraApoString="1970-01-01T"+this.model.oraApoString+"Z",this.model.oraEosString="1970-01-01T"+this.model.oraEosString+"Z",this.katigoriesMeDiadikasies=i[1],this.Katigoria=this.katigoriesMeDiadikasies.find(n=>n.diadikasies.find(a=>a.id==this.model.diadikasiaId)),this.selectedDiadikasia=this.Katigoria.diadikasies.find(n=>n.id==this.model.diadikasiaId),this.selectedMonada=this.selectedDiadikasia.monades.find(n=>n.id==this.model.monadaId),this.selectedMonada&&this.selectedMonada.latitudeLongitude&&(this.hasMap=!0,this.options=e.initMap(this.selectedMonada))),this.isLoading=!1})}onAddToMyCalendarClicked(){var e=new Date(this.model.imerominia);const i=e.getFullYear()+(e.getMonth()+1)+e.getDay(),n=i+"T"+this.model.oraApoString,a=i+"T"+this.model.oraEosString,l=this.stripHtml(this.selectedMonada.toposDienergeiasRantevou);var m=new Blob(["BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Our Company//NONSGML v1.0//EN\nBEGIN:VEVENT\nUID:me@google.com\nDTSTAMP:20120315T170000Z\nATTENDEE;CN=My Self ;RSVP=TRUE:MAILTO:me@gmail.com\nORGANIZER;CN=Me:MAILTO::me@gmail.com\nDTSTART:"+n+"\nDTEND:"+a+"\nLOCATION:"+l+"\nSUMMARY:Our Meeting Office\nEND:VEVENT\nEND:VCALENDAR"],{type:"text/calendar;charset=utf-8"});let v=window.URL.createObjectURL(m),C=document.createElement("a");document.body.appendChild(C),C.setAttribute("style","display: none"),C.href=v,C.download="rantevou-"+this.model.id+".ics",C.click(),window.URL.revokeObjectURL(v),C.remove()}onPrintRantevouClicked(){this.rantevouService.getRantevouReport(this.model.id).subscribe(e=>{e&&(0,xt.s)(e)})}onDeleteRantevouClicked(){this.rantevouModalOpen=!0}onDeleteApprovedClicked(){this.rantevouService.akirosiRantevou(this.rantevouId).subscribe(e=>{e&&(this.model=e,this.model.oraApoString="1970-01-01T"+this.model.oraApoString+"Z",this.model.oraEosString="1970-01-01T"+this.model.oraEosString+"Z",this.rantevouModalOpen=!1,this.toasterSrv.showSuccess("","\u03a4\u03bf \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd \u03c3\u03b1\u03c2 \u03b1\u03ba\u03c5\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1!"))})}stripHtml(e){let i=document.createElement("DIV");return i.innerHTML=e,i.textContent||i.innerText||""}static#t=this.\u0275fac=function(i){return new(i||u)(t.GI1(s.y6),t.GI1(p.gV),t.GI1(h.Bf),t.GI1(f),t.GI1(t.kD9),t.GI1(R.a))};static#e=this.\u0275cmp=t.In1({type:u,selectors:[["app-rantevou-detail"]],decls:5,vars:8,consts:[[3,"condition","customClass"],["class","d-flex justify-content-center mb-4",4,"ngIf"],["class","form bg-white p-3",4,"ngIf"],[3,"title","isOpen","size","isOpenChange"],["class","modal-body",4,"ngIf"],[1,"d-flex","justify-content-center","mb-4"],[1,"d-flex","flex-column","align-items-start"],[1,"descs"],[1,"desc","active"],[1,"d-flex","align-items-center","justify-content-center","steps"],[1,"number","active"],[1,"form","bg-white","p-3"],[1,"mb-2"],[1,"row"],[1,"form-group","m-0","col-12","col-md-6"],["class","mb-1",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"add-to-calendar"],["class","row",4,"ngIf"],[1,"row","mb-4"],["class","row col-md-6",4,"ngIf"],["class","row col-md-6 map-container",4,"ngIf"],["class","col-12 p-0",4,"ngIf"],["class","btn btn-danger m-0 mt-4",3,"click",4,"ngIf"],["class","btn btn-primary m-0 ms-2 mt-4",3,"click",4,"ngIf"],[1,"mb-1"],["target","_blank","rel","noopener nofollow",1,"btn","btn-primary",3,"href"],[1,"fab","fa-google"],["target","_blank","rel","noopener nofollow",1,"btn","btn-info",3,"href"],[1,"fab","fa-windows"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-calendar-plus"],[1,"col-12"],[1,"text-uppercase","font-weight-bold"],[1,"row","col-md-6"],[3,"innerHTML"],[1,"row","col-md-6","map-container"],["id","main-map",3,"options"],[1,"col-12","p-0"],["class","form-group",4,"ngIf"],[1,"form-group"],[3,"innerHtml"],[1,"btn","btn-danger","m-0","mt-4",3,"click"],[1,"far","fa-trash-alt"],[1,"btn","btn-primary","m-0","ms-2","mt-4",3,"click"],[1,"fas","fa-print"],[1,"modal-body"],[1,"d-flex","align-items-center","justify-content-center"],["type","button",1,"btn","btn-primary","m-0","me-2",3,"click"],["type","button",1,"btn","btn-danger","m-0",3,"click"]],template:function(i,n){1&i&&(t.wR5(0,"eg-loading",0),t.yuY(1,Mt,10,0,"div",1)(2,Wt,27,16,"div",2),t.I0R(3,"eg-modal",3),t.iHE("isOpenChange",function(l){return t.kNx(n.rantevouModalOpen,l)||(n.rantevouModalOpen=l),l}),t.yuY(4,Xt,8,0,"div",4),t.C$Y()),2&i&&(t.E7m("condition",n.isLoading)("customClass","egr-load-small"),t.yG2(),t.E7m("ngIf",n.model&&n.isNew&&1==n.model.katastasiRantevou),t.yG2(),t.E7m("ngIf",!n.isLoading&&n.model),t.yG2(),t.E7m("title","\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 \u03a1\u03b1\u03bd\u03c4\u03b5\u03b2\u03bf\u03cd"),t.OKB("isOpen",n.rantevouModalOpen),t.E7m("size","sm"),t.yG2(),t.E7m("ngIf",n.rantevouModalOpen))},dependencies:[d.u_,s.QB,s.uU,Y,d.y],encapsulation:2})}return u})();const te=[{path:"",component:q,children:[{path:"",pathMatch:"full",redirectTo:"rantevou"},{path:"rantevou",component:dt},{path:"rantevou/0",component:T},{path:"rantevou/0/:selecteddiadikasiaid",component:T},{path:"rantevou/:id",component:$},{path:"rantevou/:id/:new",component:$}]}];let ee=(()=>{class u{static#t=this.\u0275fac=function(i){return new(i||u)};static#e=this.\u0275mod=t.a4G({type:u});static#u=this.\u0275inj=t.s3X({imports:[p.qQ.forChild(te),p.qQ]})}return u})(),ue=(()=>{class u{static#t=this.\u0275fac=function(i){return new(i||u)};static#e=this.\u0275mod=t.a4G({type:u});static#u=this.\u0275inj=t.s3X({providers:[f,{provide:A.So,useClass:L,multi:!0}],imports:[ee,N.k,S.IB,k.Ar,D.O0.forChild()]})}return u})()}}]);