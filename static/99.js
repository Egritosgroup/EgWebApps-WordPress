"use strict";(self.webpackChunkegritos_group_eg_web_apps=self.webpackChunkegritos_group_eg_web_apps||[]).push([[99],{99:(Ue,D,l)=>{l.r(D),l.d(D,{CarPoolingModule:()=>we});var J=l(2953),q=l(5782),C=l(9197),s=l(2346),M=l(7579),A=l(2722),y=l(3900),e=l(4650),S=l(8930),k=l(2622),m=l(6895),O=l(394),f=l(805),b=l(8783),N=l(2665),v=l(9764);class Z{constructor(){this.imerominiaTaksidiouApo=null,this.imerominiaTaksidiouEos=null,this.poliApo=null,this.poliEos=null,this.start=0,this.pageSize=10,this.onlyMyDiadromes=!1}}class F{constructor(){this.id=0,this.imerominiaTaksidiou=null,this.theseis=null,this.apoLatitude=null,this.apoLongitude=null,this.apoPlirisPerigrafi=null,this.apoTk=null,this.poliApo=null,this.prosLatitude=null,this.prosLongitude=null,this.prosPlirisPerigrafi=null,this.prosTk=null,this.poliEos=null,this.scholia=null,this.odigosId=null,this.ora=null}}var h=(()=>{return(o=h||(h={})).diadromiApo="\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd \u0391\u03c0\u03cc",o.imerominiaTaksidiou="\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd",o.apoPlirisPerigrafi="\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1",o.prosPlirisPerigrafi="\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2",o.ora="\u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2",o.theseis="\u0398\u03ad\u03c3\u03b5\u03b9\u03c2",h;var o})(),p=l(4004),c=l(262),Q=l(529);let B=(()=>{class o{constructor(t,i){this.http=t,this.toasterSrv=i,this.apiUrl=AppConfOptions.carpooling_api+"api/"}getAllDiadromes(){return this.http.get(`${this.apiUrl}diadromes/GetAll`).pipe((0,p.U)(t=>t),(0,c.K)(t=>(0,s.Zj)(t,this.toasterSrv)))}search(t){return this.http.post(`${this.apiUrl}diadromes/Search`,t).pipe((0,p.U)(i=>i),(0,c.K)(i=>(0,s.Zj)(i,this.toasterSrv)))}add(t){return this.http.post(`${this.apiUrl}diadromes/Add`,t).pipe((0,p.U)(i=>i),(0,c.K)(i=>(0,s.Zj)(i,this.toasterSrv)))}update(t){return this.http.put(`${this.apiUrl}diadromes/Update/${t.id}`,t).pipe((0,p.U)(i=>i),(0,c.K)(i=>(0,s.Zj)(i,this.toasterSrv)))}getDiadromi(t){return this.http.get(`${this.apiUrl}diadromes/`+t).pipe((0,p.U)(i=>i),(0,c.K)(i=>(0,s.Zj)(i,this.toasterSrv)))}getAvailablePoleisMeDiadomes(t){return this.http.get(`${this.apiUrl}diadromes/GetAvailablePoleisMeDiadomes/${t}`).pipe((0,p.U)(i=>i),(0,c.K)(i=>(0,s.Zj)(i,this.toasterSrv)))}delete(t){return this.http.delete(`${this.apiUrl}diadromes/${t}`).pipe((0,p.U)(i=>i),(0,c.K)(i=>(0,s.Zj)(i,this.toasterSrv)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(Q.eN),e.LFG(s.MJ))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var r=l(4006),R=l(723),x=l(3534),w=l(585),H=l(9576),Y=l(2677);function G(o,a){if(1&o&&(e.TgZ(0,"pre",20),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.model.scholia)}}function j(o,a){1&o&&(e.TgZ(0,"span",21),e._uU(1,"-"),e.qZA())}function V(o,a){if(1&o&&(e.TgZ(0,"div",22)(1,"agm-map",23),e._UZ(2,"agm-direction",24),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("latitude",t.model.apoLatitude)("longitude",t.model.apoLongitude),e.xp6(1),e.Q6J("origin",t.dir.origin)("destination",t.dir.destination)}}function z(o,a){if(1&o&&(e.ynx(0),e.TgZ(1,"div",2)(2,"a",3),e._UZ(3,"span",4),e._uU(4," \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1"),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6)(7,"span",7),e._UZ(8,"i",8),e._uU(9," \u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd:"),e.qZA(),e.TgZ(10,"span",9),e._uU(11),e.ALo(12,"date"),e.qZA()(),e.TgZ(13,"div",6)(14,"span",7),e._UZ(15,"i",10),e._uU(16," \u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2:"),e.qZA(),e.TgZ(17,"span",9),e._uU(18),e.ALo(19,"date"),e.qZA()(),e.TgZ(20,"div",6)(21,"span",7),e._UZ(22,"i",11),e._uU(23," \u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1:"),e.qZA(),e.TgZ(24,"span",9),e._uU(25),e.qZA()(),e.TgZ(26,"div",6)(27,"span",7),e._UZ(28,"i",11),e._uU(29," \u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2:"),e.qZA(),e.TgZ(30,"span",9),e._uU(31),e.qZA()(),e.TgZ(32,"div",6)(33,"span",7),e._UZ(34,"i",12),e._uU(35," \u039f\u03b4\u03b7\u03b3\u03cc\u03c2:"),e.qZA(),e.TgZ(36,"span",9),e._uU(37),e.qZA()(),e.TgZ(38,"div",6)(39,"span",7),e._UZ(40,"i",13),e._uU(41," \u0398\u03ad\u03c3\u03b5\u03b9\u03c2:"),e.qZA(),e.TgZ(42,"span",9),e._uU(43),e.qZA()(),e.TgZ(44,"div",6)(45,"span",7),e._UZ(46,"i",14),e._uU(47," \u03a3\u03c7\u03cc\u03bb\u03b9\u03b1:"),e.qZA(),e.TgZ(48,"span",9),e.YNc(49,G,2,1,"pre",15),e.YNc(50,j,2,0,"span",16),e.qZA()()(),e.TgZ(51,"a",17),e._UZ(52,"span",18),e._uU(53," \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc\u03c2 \u03ba\u03cc\u03c3\u03c4\u03bf\u03c5\u03c2 \u03c4\u03bf\u03c5 \u03c4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),e.qZA(),e.YNc(54,V,3,4,"div",19),e.BQk()),2&o){const t=e.oxw();e.xp6(2),e.hYB("href","mailto:",t.model.odigos.email,"?Subject=\u0395\u03c1\u03ce\u03c4\u03b7\u03c3\u03b7 \u03b3\u03b9\u03b1 \u03c4\u03b7 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae \u039d\u03bf# ",t.model.id,"",e.LSH),e.xp6(9),e.Oqu(e.lcZ(12,13,t.model.imerominiaTaksidiou)),e.xp6(7),e.Oqu(e.xi3(19,15,t.model.imerominiaTaksidiou,"shortTime")),e.xp6(7),e.Oqu(t.model.apoPlirisPerigrafi),e.xp6(6),e.Oqu(t.model.prosPlirisPerigrafi),e.xp6(6),e.Oqu(t.model.odigos.fullName),e.xp6(6),e.Oqu(t.model.theseis),e.xp6(6),e.Q6J("ngIf",t.model.scholia),e.xp6(1),e.Q6J("ngIf",!t.model.scholia),e.xp6(1),e.hYB("href","https://www.viamichelin.com/web/Routes?departure=",t.model.apoPlirisPerigrafi,"&arrival=",t.model.prosPlirisPerigrafi,"",e.LSH),e.xp6(3),e.Q6J("ngIf",t.dir)}}let K=(()=>{class o{constructor(t){this.carPoolingSrv=t,this.dir=void 0}ngOnInit(){this._getDirection()}_getDirection(){this.dir={origin:{lat:this.model.apoLatitude,lng:this.model.apoLongitude},destination:{lat:this.model.prosLatitude,lng:this.model.prosLongitude}}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-diadromi-view"]],inputs:{model:"model"},decls:2,vars:3,consts:[[3,"condition","customClass"],[4,"ngIf"],[1,"d-flex","justify-content-end","mb-1"],[1,"btn","btn-primary","btn-sm","m-0",3,"href"],["aria-hidden","true",1,"far","fa-envelope"],[1,"d-flex","flex-column"],[1,"d-flex","align-items-center"],[1,"diadromi-details-list__left"],["aria-hidden","true",1,"far","fa-calendar-alt","fa-fw"],[1,"diadromi-details-list__right"],["aria-hidden","true",1,"fas","fa-clock","fa-fw"],["aria-hidden","true",1,"fas","fa-map-marker-alt","fa-fw"],["aria-hidden","true",1,"fas","fa-car","fa-fw"],["aria-hidden","true",1,"fas","fa-user-circle","fa-fw"],["aria-hidden","true",1,"fas","fa-comments","fa-fw"],["cols","70","rows","3","disabled","",4,"ngIf"],["disabled","",4,"ngIf"],["target","_blank","rel","noopener nofollow","id","cost_calc",1,"btn","btn-primary","btn-sm","ms-0","mt-3",3,"href"],["aria-hidden","true",1,"fas","fa-euro-sign"],["class","mt-3",4,"ngIf"],["cols","70","rows","3","disabled",""],["disabled",""],[1,"mt-3"],[2,"height","300px",3,"latitude","longitude"],[3,"origin","destination"]],template:function(t,i){1&t&&(e._UZ(0,"eg-loading",0),e.YNc(1,z,55,18,"ng-container",1)),2&t&&(e.Q6J("condition",!i.model)("customClass","egr-load-small"),e.xp6(1),e.Q6J("ngIf",i.model))},dependencies:[m.O5,H.SA,Y.w,s.IE,m.uU],encapsulation:2}),o})();const $=["searchDiadromesForm"];function W(o,a){if(1&o&&e._UZ(0,"div",21),2&o){const t=e.oxw();e.Q6J("innerHTML",t.formErrorsMsg,e.oJD)}}function X(o,a){1&o&&(e.TgZ(0,"tr")(1,"th",27),e._uU(2,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),e.qZA(),e.TgZ(3,"th",28),e._uU(4,"\u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2"),e.qZA(),e.TgZ(5,"th",27),e._uU(6,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),e.qZA(),e.TgZ(7,"th",27),e._uU(8,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),e.qZA(),e.TgZ(9,"th",28),e._uU(10,"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u0398\u03ad\u03c3\u03b5\u03b9\u03c2"),e.qZA(),e.TgZ(11,"th",29),e._uU(12,"\u039f\u03b4\u03b7\u03b3\u03cc\u03c2"),e.qZA()())}function ee(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",30)(2,"span",31),e._uU(3,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),e.qZA(),e.TgZ(4,"button",32),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw(2);return d.diadromiModalOpen=!0,e.KtG(d.selectedModel=u)}),e._UZ(5,"span",33),e._uU(6),e.ALo(7,"date"),e.qZA()(),e.TgZ(8,"td",28)(9,"span",31),e._uU(10,"\u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2"),e.qZA(),e._uU(11),e.ALo(12,"date"),e.qZA(),e.TgZ(13,"td",27)(14,"span",31),e._uU(15,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"td",27)(18,"span",31),e._uU(19,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),e.qZA(),e._uU(20),e.qZA(),e.TgZ(21,"td",34)(22,"span",31),e._uU(23,"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u0398\u03ad\u03c3\u03b5\u03b9\u03c2"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td",29)(26,"span",31),e._uU(27,"\u039f\u03b4\u03b7\u03b3\u03cc\u03c2"),e.qZA(),e._uU(28),e.qZA()()}if(2&o){const t=a.$implicit;e.xp6(6),e.hij(" ",e.xi3(7,6,t.imerominiaTaksidiou,"dd/LL/yyyy")," "),e.xp6(5),e.hij(" ",e.xi3(12,9,t.imerominiaTaksidiou,"shortTime")," "),e.xp6(5),e.hij(" ",t.apoPlirisPerigrafi," "),e.xp6(4),e.hij(" ",t.prosPlirisPerigrafi," "),e.xp6(4),e.hij(" ",t.theseis," "),e.xp6(4),e.hij(" ",t.odigos.fullName," ")}}function te(o,a){if(1&o&&(e.TgZ(0,"tr")(1,"td",35)(2,"strong"),e._uU(3,"\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2:"),e.qZA(),e._uU(4),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.modelCopy.length," ")}}function ie(o,a){1&o&&(e.TgZ(0,"tr")(1,"td",35),e._uU(2," \u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03b4\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ad\u03c2 \u03bc\u03b5 \u03c4\u03b1 \u03ba\u03c1\u03b9\u03c4\u03ae\u03c1\u03b9\u03b1 \u03c0\u03bf\u03c5 \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9. "),e.qZA()())}function oe(o,a){if(1&o&&(e.TgZ(0,"p-table",22),e.YNc(1,X,13,0,"ng-template",23),e.YNc(2,ee,29,12,"ng-template",24),e.YNc(3,te,5,1,"ng-template",25),e.YNc(4,ie,3,0,"ng-template",26),e.qZA()),2&o){const t=e.oxw();e.Q6J("value",t.modelCopy)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",t.isLoading)("totalRecords",null==t.modelCopy?null:t.modelCopy.length)}}function ue(o,a){if(1&o&&(e.TgZ(0,"div",36),e._UZ(1,"app-diadromi-view",37),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("model",t.selectedModel)}}const U=function(){return{width:"100%"}};let P=(()=>{class o{constructor(t,i,n){this.carPoolingSrv=t,this.toasterSrv=i,this.cdr=n,this.diathesimesPoleisApo=[],this.diathesimesPoleisEos=[],this.isLoading=!1,this.today=new Date,this.yearRange=(0,s.ug)(50,50),this.diadromiModalOpen=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=h}ngOnInit(){this.searchModel=new Z,this.isLoading=!0,(0,s.RA)(this.cdr),this.carPoolingSrv.getAvailablePoleisMeDiadomes(!0).subscribe(t=>{if(t){this.diathesimesPoleis=t;let i=this.diathesimesPoleis.filter(u=>u.poliApo);for(let u=0;u<i.length;u++)this.diathesimesPoleisApo=[...this.diathesimesPoleisApo,{id:u,perigrafi:i[u].poliApo.toString()}];let n=this.diathesimesPoleis.filter(u=>u.poliEos);for(let u=0;u<n.length;u++)this.diathesimesPoleisEos=[...this.diathesimesPoleisEos,{id:u,perigrafi:n[u].poliEos.toString()}]}this.isLoading=!1,(0,s.RA)(this.cdr)}),this.carPoolingSrv.search(this.searchModel).subscribe(t=>{t&&(this.model=t,this.modelCopy=(0,s.p$)(this.model),this.modelCopy.sort(function(i,n){return i.imerominiaTaksidiou>n.imerominiaTaksidiou?-1:i.imerominiaTaksidiou<n.imerominiaTaksidiou?1:0})),this.isLoading=!1,(0,s.RA)(this.cdr)})}onSearch(){this.isFormSubmitted=!0,this.formErrorsMsg=null;let t=new Z;t.imerominiaTaksidiouApo=this.searchModel.imerominiaTaksidiouApo,t.imerominiaTaksidiouEos=this.searchModel.imerominiaTaksidiouEos,this.diathesimesPoleisApo.some(i=>+i.id==+this.searchModel.poliApo)&&(t.poliApo=this.diathesimesPoleisApo.filter(i=>+i.id==+this.searchModel.poliApo)[0].perigrafi),this.diathesimesPoleisEos.some(i=>+i.id==+this.searchModel.poliEos)&&(t.poliEos=this.diathesimesPoleisEos.filter(i=>+i.id==+this.searchModel.poliEos)[0].perigrafi),(0,s.RA)(this.cdr),this.isFormSubmitted&&this.searchDiadromesForm.valid?(this.isLoading=!0,(0,s.RA)(this.cdr),this.carPoolingSrv.search(t).subscribe(i=>{i&&(this.modelCopy=i),this.isLoading=!1,(0,s.RA)(this.cdr)})):(this.formErrorsMsg=(0,s.CD)(this.searchDiadromesForm,this.formDictionaryEnum,""),(0,s.RA)(this.cdr)),this.isLoading=!1,(0,s.RA)(this.cdr)}onClearFilters(){this.modelCopy=(0,s.p$)(this.model),this.searchModel.imerominiaTaksidiouApo=null,this.searchModel.imerominiaTaksidiouEos=null,this.searchModel.poliApo=null,this.searchModel.poliEos=null,this.isFormSubmitted=!1,this.formErrorsMsg=null,(0,s.RA)(this.cdr)}onAfetiriaSelected(){let t=[];t=this.searchModel.poliApo?this.diathesimesPoleis.filter(i=>i.poliApo==this.searchModel.poliApo):this.diathesimesPoleis,this.diathesimesPoleisEos=t.map(i=>i.poliEos),this.diathesimesPoleisEos=this.diathesimesPoleisEos.filter(function(i,n,u){return u.indexOf(i)===n}),(0,s.RA)(this.cdr)}onProorismosSelected(){let t=[];t=this.searchModel.poliEos?this.diathesimesPoleis.filter(i=>i.poliEos==this.searchModel.poliEos):this.diathesimesPoleis,this.diathesimesPoleisApo=t.map(i=>i.poliApo),this.diathesimesPoleisApo=this.diathesimesPoleisApo.filter(function(i,n,u){return u.indexOf(i)===n}),(0,s.RA)(this.cdr)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(B),e.Y36(s.MJ),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-diadromes-list"]],viewQuery:function(t,i){if(1&t&&e.Gf($,5),2&t){let n;e.iGM(n=e.CRH())&&(i.searchDiadromesForm=n.first)}},decls:36,vars:50,consts:[[3,"condition","customClass"],["header","\u03a6\u03af\u03bb\u03c4\u03c1\u03b1 \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7\u03c2",3,"styleClass"],[1,"form"],["searchDiadromesForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-sm-6"],["name","diadromiApo","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body","required","",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","readonlyInput","touchUI","ngModel","ngModelChange"],["imerominiaTaksidiouApoInput","ngModel"],[1,"validation-msg","text-danger","pt-1",3,"hidden"],["name","diadromiEos","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","readonlyInput","touchUI","ngModel","ngModelChange"],["name","poliApo","bindLabel","perigrafi","bindValue","id",1,"ontop-select",3,"appendTo","searchable","clearable","items","ngModel","disabled","ngModelChange"],["name","poliEos","bindLabel","perigrafi","bindValue","id",1,"ontop-select",3,"appendTo","searchable","clearable","items","ngModel","disabled","ngModelChange"],[1,"form-buttons","d-flex","flex-wrap"],["type","button",1,"btn","btn-primary","btn-sm","me-1",3,"click"],["aria-hidden","true",1,"fas","fa-search","fa-fw"],["type","button",1,"btn","btn-warning","btn-sm","text-white",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords",4,"ngIf"],[3,"title","isOpen","size","isOpenChange"],["class","modal-body",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[1,"fixed-width-col-100"],[1,"fixed-width-col-60"],[1,"fixed-width-col-150"],[1,"fixed-width-col-100","text-center"],[1,"p-column-title"],["type","button",1,"btn","btn-sm","btn-primary","m-0",3,"click"],["aria-hidden","true",1,"far","fa-eye"],[1,"fixed-width-col-60","text-center"],["colspan","6"],[1,"modal-body"],[3,"model"]],template:function(t,i){if(1&t&&(e._UZ(0,"eg-loading",0),e.TgZ(1,"p-panel",1)(2,"form",2,3)(4,"div",4)(5,"div",5)(6,"label"),e._uU(7,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd \u0391\u03c0\u03cc*"),e.qZA(),e.TgZ(8,"p-calendar",6,7),e.NdJ("ngModelChange",function(u){return i.searchModel.imerominiaTaksidiouApo=u}),e.qZA(),e.TgZ(10,"div",8),e._uU(11," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),e.qZA()(),e.TgZ(12,"div",5)(13,"label"),e._uU(14,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd \u0388\u03c9\u03c2"),e.qZA(),e.TgZ(15,"p-calendar",9),e.NdJ("ngModelChange",function(u){return i.searchModel.imerominiaTaksidiouEos=u}),e.qZA()()(),e.TgZ(16,"div",4)(17,"div",5)(18,"label"),e._uU(19,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),e.qZA(),e.TgZ(20,"ng-select",10),e.NdJ("ngModelChange",function(u){return i.searchModel.poliApo=u}),e.qZA()(),e.TgZ(21,"div",5)(22,"label"),e._uU(23,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),e.qZA(),e.TgZ(24,"ng-select",11),e.NdJ("ngModelChange",function(u){return i.searchModel.poliEos=u}),e.qZA()()(),e.TgZ(25,"div",12)(26,"button",13),e.NdJ("click",function(){return i.onSearch()}),e._UZ(27,"i",14),e._uU(28," \u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7 "),e.qZA(),e.TgZ(29,"button",15),e.NdJ("click",function(){return i.onClearFilters()}),e._UZ(30,"i",16),e._uU(31," \u039a\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2 "),e.qZA()(),e.YNc(32,W,1,1,"div",17),e.qZA()(),e.YNc(33,oe,5,9,"p-table",18),e.TgZ(34,"eg-modal",19),e.NdJ("isOpenChange",function(u){return i.diadromiModalOpen=u}),e.YNc(35,ue,2,1,"div",20),e.qZA()),2&t){const n=e.MAs(9);e.Q6J("condition",i.isLoading)("customClass","egr-load-small"),e.xp6(1),e.Q6J("styleClass","mb-3"),e.xp6(7),e.Akn(e.DdM(48,U)),e.Q6J("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",i.yearRange)("showIcon",!0)("showButtonBar",!0)("readonlyInput",!0)("touchUI",!0)("ngModel",i.searchModel.imerominiaTaksidiouApo),e.xp6(2),e.Q6J("hidden",!i.isFormSubmitted||i.isFormSubmitted&&n.valid),e.xp6(5),e.Akn(e.DdM(49,U)),e.Q6J("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",i.yearRange)("showIcon",!0)("showButtonBar",!0)("readonlyInput",!0)("touchUI",!0)("ngModel",i.searchModel.imerominiaTaksidiouEos),e.xp6(5),e.Q6J("appendTo","body")("searchable",!0)("clearable",!0)("items",i.diathesimesPoleisApo)("ngModel",i.searchModel.poliApo)("disabled",0===i.diathesimesPoleisApo.length),e.xp6(4),e.Q6J("appendTo","body")("searchable",!0)("clearable",!0)("items",i.diathesimesPoleisEos)("ngModel",i.searchModel.poliEos)("disabled",0===i.diathesimesPoleisEos.length),e.xp6(8),e.Q6J("ngIf",i.formErrorsMsg&&""!==i.formErrorsMsg),e.xp6(1),e.Q6J("ngIf",i.modelCopy&&!i.isLoading),e.xp6(1),e.Q6J("title","\u039a\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03b7\u03bc\u03ad\u03bd\u03b7 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae No#"+(null==i.selectedModel?null:i.selectedModel.id))("isOpen",i.diadromiModalOpen)("size","xl"),e.xp6(1),e.Q6J("ngIf",i.diadromiModalOpen)}},dependencies:[m.O5,r._Y,r.JJ,r.JL,r.Q7,r.On,r.F,s.tw,R.w9,s.IE,x.iA,f.jx,w.f,v.s,K,m.uU],encapsulation:2,changeDetection:0}),o})();var ne=l(1493);const ae=["autocompleteItem"];let se=(()=>{class o{constructor(){this.setAddress=new e.vpe}ngAfterViewInit(){this.getPlaceAutocomplete()}getPlaceAutocomplete(){const t=new google.maps.places.Autocomplete(this.autocompleteItem.nativeElement,{componentRestrictions:{country:"GR"},types:[this.adressType]});t.addListener("place_changed",()=>{const i=t.getPlace();this.invokeEvent(i)})}invokeEvent(t){this.setAddress.emit(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["AutocompleteComponent"]],viewQuery:function(t,i){if(1&t&&e.Gf(ae,5),2&t){let n;e.iGM(n=e.CRH())&&(i.autocompleteItem=n.first)}},inputs:{adressType:"adressType",name:"name",placeholder:"placeholder",required:"required",autocompleteInput:"autocompleteInput"},outputs:{setAddress:"setAddress"},decls:2,vars:3,consts:[["type","text","autocomplete","off",1,"form-control",3,"placeholder","required","ngModel","keydown.enter","ngModelChange"],["autocompleteItem",""]],template:function(t,i){1&t&&(e.TgZ(0,"input",0,1),e.NdJ("keydown.enter",function(u){return u.preventDefault()})("ngModelChange",function(u){return i.autocompleteInput=u}),e.qZA()),2&t&&e.Q6J("placeholder",i.placeholder)("required",i.required)("ngModel",i.autocompleteInput)},dependencies:[r.Fj,r.JJ,r.Q7,r.On],encapsulation:2}),o})();const le=["myDiadromiForm"];function re(o,a){1&o&&(e.TgZ(0,"span"),e._uU(1,"\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7"),e.qZA())}function de(o,a){1&o&&(e.TgZ(0,"span"),e._uU(1,"\u0395\u03bd\u03b7\u03bc\u03ad\u03c1\u03c9\u03c3\u03b7"),e.qZA())}function me(o,a){if(1&o&&e._UZ(0,"div",24),2&o){const t=e.oxw(2);e.Q6J("innerHTML",t.formErrorsMsg,e.oJD)}}const L=function(){return{width:"100%"}};function pe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"form",2,3)(2,"div",4)(3,"div",5)(4,"label"),e._uU(5,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1*"),e.qZA(),e.TgZ(6,"AutocompleteComponent",6),e.NdJ("setAddress",function(n){e.CHM(t);const u=e.oxw();return e.KtG(u.onHandleAddressChange(n,"apo"))}),e.qZA(),e.TgZ(7,"div",7),e._uU(8," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),e.qZA()(),e.TgZ(9,"div",5)(10,"label"),e._uU(11,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2*"),e.qZA(),e.TgZ(12,"AutocompleteComponent",6),e.NdJ("setAddress",function(n){e.CHM(t);const u=e.oxw();return e.KtG(u.onHandleAddressChange(n,"pros"))}),e.qZA(),e.TgZ(13,"div",7),e._uU(14," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),e.qZA()()(),e.TgZ(15,"div",4)(16,"div",8)(17,"label"),e._uU(18,"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd*"),e.qZA(),e.TgZ(19,"p-calendar",9,10),e.NdJ("ngModelChange",function(n){e.CHM(t);const u=e.oxw();return e.KtG(u.model.imerominiaTaksidiou=n)}),e.qZA(),e.TgZ(21,"div",7),e._uU(22," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),e.qZA()(),e.TgZ(23,"div",8)(24,"label"),e._uU(25,"\u038f\u03c1\u03b1 \u0391\u03bd\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2*"),e.qZA(),e.TgZ(26,"p-calendar",11,12),e.NdJ("ngModelChange",function(n){e.CHM(t);const u=e.oxw();return e.KtG(u.model.ora=n)}),e.qZA(),e.TgZ(28,"div",7),e._uU(29," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),e.qZA()(),e.TgZ(30,"div",8)(31,"label"),e._uU(32,"\u0398\u03ad\u03c3\u03b5\u03b9\u03c2*"),e.qZA(),e.TgZ(33,"input",13,14),e.NdJ("ngModelChange",function(n){e.CHM(t);const u=e.oxw();return e.KtG(u.model.theseis=n)}),e.qZA(),e.TgZ(35,"div",7),e._uU(36," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),e.qZA()()(),e.TgZ(37,"div",4)(38,"div",15)(39,"label"),e._uU(40,"\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1"),e.qZA(),e.TgZ(41,"textarea",16),e.NdJ("ngModelChange",function(n){e.CHM(t);const u=e.oxw();return e.KtG(u.model.scholia=n)}),e._uU(42,"\t\t\t"),e.qZA()()(),e.TgZ(43,"div",17)(44,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onSubmit())}),e._UZ(45,"i",19),e.YNc(46,re,2,0,"span",20),e.YNc(47,de,2,0,"span",20),e.qZA(),e.TgZ(48,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onAkirosiClicked())}),e._UZ(49,"i",22),e._uU(50," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 "),e.qZA()(),e.YNc(51,me,1,1,"div",23),e.qZA()}if(2&o){const t=e.MAs(20),i=e.MAs(27),n=e.MAs(34),u=e.oxw();e.xp6(6),e.Q6J("name","apoPlirisPerigrafi")("adressType","address")("placeholder","\u03c0.\u03c7. \u0391\u03b8\u03ae\u03bd\u03b1")("required",!0)("autocompleteInput",u.model.apoPlirisPerigrafi),e.xp6(1),e.Q6J("hidden",!u.isFormSubmitted||u.isFormSubmitted&&u.model.apoPlirisPerigrafi),e.xp6(5),e.Q6J("name","prosPlirisPerigrafi")("adressType","address")("placeholder","\u03c0.\u03c7. \u039a\u03c1\u03ad\u03bf\u03bd\u03c4\u03bf\u03c2 25, \u0391\u03b8\u03ae\u03bd\u03b1")("required",!0)("autocompleteInput",u.model.prosPlirisPerigrafi),e.xp6(1),e.Q6J("hidden",!u.isFormSubmitted||u.isFormSubmitted&&u.model.prosPlirisPerigrafi),e.xp6(6),e.Akn(e.DdM(38,L)),e.Q6J("baseZIndex",9999)("firstDayOfWeek",1)("selectOtherMonths",!0)("monthNavigator",!0)("yearNavigator",!0)("yearRange",u.yearRange)("showIcon",!0)("showButtonBar",!0)("touchUI",!0)("ngModel",u.model.imerominiaTaksidiou),e.xp6(2),e.Q6J("hidden",!u.isFormSubmitted||u.isFormSubmitted&&t.valid),e.xp6(5),e.Akn(e.DdM(39,L)),e.Q6J("baseZIndex",9999)("timeOnly",!0)("showIcon",!0)("ngModel",u.model.ora),e.xp6(2),e.Q6J("hidden",!u.isFormSubmitted||u.isFormSubmitted&&i.valid),e.xp6(5),e.Q6J("ngModel",u.model.theseis),e.xp6(2),e.Q6J("hidden",!u.isFormSubmitted||u.isFormSubmitted&&n.valid),e.xp6(6),e.Q6J("ngModel",u.model.scholia),e.xp6(5),e.Q6J("ngIf",0===u.model.id),e.xp6(1),e.Q6J("ngIf",0!==u.model.id),e.xp6(4),e.Q6J("ngIf",u.formErrorsMsg&&""!==u.formErrorsMsg)}}let ce=(()=>{class o{constructor(t,i,n,u){this.carPoolingSrv=t,this.toasterSrv=i,this.router=n,this.cdr=u,this.closeModal=new e.vpe,this.listHasChanged=new e.vpe,this.onDestroy=new M.x,this.type="address",this.countryRestrictions=["gr"],this.today=new Date,this.yearRange=(0,s.ug)(50,50),this.isLoading=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=h}ngOnInit(){let t=window.sessionStorage.length>0?window.sessionStorage:window.localStorage;for(let i=0;i<t.length;i++){const n=t.key(i);if(n.includes("default-auth-config")){let u=JSON.parse(t.getItem(n));this.user=u.userData}}!this.model||this.model&&0==this.model.id?(this.model=new F,this.user&&(this.model.odigosId=this.user.sub),(0,s.RA)(this.cdr)):this._getDetailData()}ngOnDestroy(){this.onDestroy.next(null)}_getDetailData(){this.isLoading=!0,(0,s.RA)(this.cdr),this.carPoolingSrv.getDiadromi(this.model.id).subscribe(t=>{t&&(this.model=t,this.model.imerominiaTaksidiou=this.model.imerominiaTaksidiou?new Date(this.model.imerominiaTaksidiou):null,this.model.ora=this.model.imerominiaTaksidiou),this.isLoading=!1,(0,s.RA)(this.cdr)})}onAkirosiClicked(){this.closeModal.emit()}onSubmit(){if(this.isFormSubmitted=!0,this.formErrorsMsg=null,this.model.imerominiaTaksidiou&&(0,s.Fh)(this.model.imerominiaTaksidiou),this.model.ora){this.model.ora=(0,s.Fh)(this.model.ora);let i=this.model.ora.getHours(),n=this.model.ora.getMinutes(),u=this.model.ora.getSeconds(),d=this.model.ora.getMilliseconds();this.model.imerominiaTaksidiou.setHours(i,n,u,d)}let t=this.carPoolingSrv.update(this.model);0==this.model.id&&(t=this.carPoolingSrv.add(this.model)),(0,s.RA)(this.cdr),this.isFormSubmitted&&this.myDiadromiForm.valid?(this.isLoading=!0,(0,s.RA)(this.cdr),t.subscribe(i=>{i&&(this.toasterSrv.showSuccess("","\u0397 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae \u03c3\u03b1\u03c2 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03ae\u03b8\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1!"),this.closeModal.emit(),this.listHasChanged.emit(!0)),this.isLoading=!1,(0,s.RA)(this.cdr)})):(this.formErrorsMsg=(0,s.CD)(this.myDiadromiForm,this.formDictionaryEnum,""),(0,s.RA)(this.cdr))}onHandleAddressChange(t,i){let n=null,u=t.address_components.find(g=>null!=g.types.find(_=>"locality"==_)),d=t.address_components.find(g=>null!=g.types.find(_=>"administrative_area_level_3"==_));null!=u?n=u.long_name:null!=d&&(n=d.long_name);let T=null,I=t.address_components.find(g=>null!=g.types.find(_=>"postal_code"==_));null!=I&&(T=I.long_name),"pros"==i?(this.model.prosPlirisPerigrafi=t.formatted_address,this.model.poliEos=n,this.model.prosTk=T,this.model.prosLatitude=+t.geometry.location.lat(),this.model.prosLongitude=+t.geometry.location.lng()):"apo"==i&&(this.model.apoPlirisPerigrafi=t.formatted_address,this.model.poliApo=n,this.model.apoTk=T,this.model.apoLatitude=+t.geometry.location.lat(),this.model.apoLongitude=+t.geometry.location.lng()),(0,s.RA)(this.cdr)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(B),e.Y36(s.MJ),e.Y36(C.F0),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-diadromi-detail"]],viewQuery:function(t,i){if(1&t&&e.Gf(le,5),2&t){let n;e.iGM(n=e.CRH())&&(i.myDiadromiForm=n.first)}},inputs:{model:"model"},outputs:{closeModal:"closeModal",listHasChanged:"listHasChanged"},decls:2,vars:3,consts:[[3,"condition","customClass"],["class","form",4,"ngIf"],[1,"form"],["myDiadromiForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-6"],[3,"name","adressType","placeholder","required","autocompleteInput","setAddress"],[1,"validation-msg","text-danger","pt-1",3,"hidden"],[1,"form-group","col-12","col-md-4"],["name","imerominiaTaksidiou","dateFormat","dd/mm/yy","placeholder","\u03b7\u03b7/\u03bc\u03bc/\u03c7\u03c7\u03c7\u03c7","appendTo","body","required","",3,"baseZIndex","firstDayOfWeek","selectOtherMonths","monthNavigator","yearNavigator","yearRange","showIcon","showButtonBar","touchUI","ngModel","ngModelChange"],["imerominiaTaksidiouInput","ngModel"],["name","ora","placeholder","\u03a9\u03a9:\u039b\u039b","hourFormat","24","appendTo","body","required","",3,"baseZIndex","timeOnly","showIcon","ngModel","ngModelChange"],["oraInput","ngModel"],["name","theseis","placeholder","1","type","number","min","1","max","20","required","",1,"form-control",3,"ngModel","ngModelChange"],["theseisInput","ngModel"],[1,"form-group","col-12"],["name","scholia","placeholder","\u03c0.\u03c7. \u039c\u03ac\u03c1\u03ba\u03b1 \u03b1\u03c5\u03c4\u03bf\u03ba\u03b9\u03bd\u03ae\u03c4\u03bf\u03c5, stopovers \u03ba\u03c4\u03bb\u03c0","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-buttons","d-flex","flex-wrap"],["type","button",1,"btn","btn-primary","me-1",3,"click"],["aria-hidden","true",1,"far","fa-save","fa-fw"],[4,"ngIf"],["type","button",1,"btn","btn-warning","text-white",3,"click"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"]],template:function(t,i){1&t&&(e._UZ(0,"eg-loading",0),e.YNc(1,pe,52,40,"form",1)),2&t&&(e.Q6J("condition",i.isLoading)("customClass","egr-load-small"),e.xp6(1),e.Q6J("ngIf",!i.isLoading))},dependencies:[m.O5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.qQ,r.Fd,r.On,r.F,se,s.IE,w.f],encapsulation:2,changeDetection:0}),o})();function Ce(o,a){1&o&&(e.TgZ(0,"tr")(1,"th",11),e._uU(2,"\u0397\u03bc. & \u038f\u03c1\u03b1 \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),e.qZA(),e.TgZ(3,"th",11),e._uU(4,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),e.qZA(),e.TgZ(5,"th",11),e._uU(6,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),e.qZA(),e.TgZ(7,"th",12),e._uU(8,"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u0398\u03ad\u03c3\u03b5\u03b9\u03c2"),e.qZA(),e.TgZ(9,"th",13),e._uU(10,"\xa0"),e.qZA()())}function he(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",11)(2,"span",14),e._uU(3,"\u0397\u03bc. \u03a4\u03b1\u03be\u03b9\u03b4\u03b9\u03bf\u03cd"),e.qZA(),e._uU(4),e.ALo(5,"date"),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"td",11)(8,"span",14),e._uU(9,"\u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",11)(12,"span",14),e._uU(13,"\u03a0\u03c1\u03bf\u03bf\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",15)(16,"span",14),e._uU(17,"\u0394\u03b9\u03b1\u03b8\u03ad\u03c3\u03b9\u03bc\u03b5\u03c2 \u0398\u03ad\u03c3\u03b5\u03b9\u03c2"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",16)(20,"span",14),e._uU(21,"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"),e.qZA(),e.TgZ(22,"button",17),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.onDiadromiRowClicked(u))}),e._UZ(23,"i",18),e.qZA(),e.TgZ(24,"button",19),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw(2);return d.isModalViewOpen=!1,d.isModalDeleteOpen=!0,e.KtG(d.selectedModel=u)}),e._UZ(25,"i",20),e.qZA()()()}if(2&o){const t=a.$implicit;e.xp6(4),e.AsE(" ",e.xi3(5,5,t.imerominiaTaksidiou,"dd/LL/yyyy"),", ",e.xi3(6,8,t.imerominiaTaksidiou,"shortTime")," "),e.xp6(6),e.hij(" ",t.apoPlirisPerigrafi," "),e.xp6(4),e.hij(" ",t.prosPlirisPerigrafi," "),e.xp6(4),e.hij(" ",t.theseis," ")}}function Be(o,a){if(1&o&&(e.TgZ(0,"p-table",8),e.YNc(1,Ce,11,0,"ng-template",9),e.YNc(2,he,26,11,"ng-template",10),e.qZA()),2&o){const t=e.oxw();e.Q6J("value",t.model)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",t.isLoading)("totalRecords",null==t.model?null:t.model.length)}}function ge(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"\u03a0\u03c1\u03cc\u03ba\u03b5\u03b9\u03c4\u03b1\u03b9 \u03bd\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03ac\u03c8\u03b5\u03c4\u03b5 \u03c4\u03b7\u03bd \u03ba\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03ae \u03c3\u03b1\u03c2!"),e._UZ(2,"br"),e._uU(3,"\u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5; "),e.qZA())}function _e(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"p-footer")(1,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onConfirmDeleteClicked())}),e._UZ(2,"span",20),e._uU(3," \u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae"),e.qZA(),e.TgZ(4,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n._closeModals())}),e._UZ(5,"span",23),e._uU(6," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7"),e.qZA()()}}function fe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"app-diadromi-detail",24),e.NdJ("closeModal",function(){e.CHM(t);const n=e.oxw();return e.KtG(n._closeModals())})("listHasChanged",function(){e.CHM(t);const n=e.oxw();return e.KtG(n._getListData(n.searchModelToPost))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("model",t.selectedModel)}}let E=(()=>{class o{constructor(t,i,n,u){this.carPoolingSrv=t,this.toasterSrv=i,this.router=n,this.cdr=u,this.isModalViewOpen=!1,this.isModalDeleteOpen=!1,this.isLoading=!1,this.modalTitle=""}ngOnInit(){this.searchModelToPost=new Z,this.searchModelToPost.onlyMyDiadromes=!0,this.searchModelToPost.start=0,this.searchModelToPost.pageSize=150,this.isLoading=!0,(0,s.RA)(this.cdr),this.carPoolingSrv.search(this.searchModelToPost).subscribe(t=>{t&&(this.model=t),this.isLoading=!1,(0,s.RA)(this.cdr)})}_getListData(t){this.isLoading=!0,(0,s.RA)(this.cdr),this.carPoolingSrv.search(t).subscribe(i=>{i&&(this.model=i),this.isLoading=!1,(0,s.RA)(this.cdr)})}_closeModals(){setTimeout(()=>{this.isModalDeleteOpen=!1,this.isModalViewOpen=!1,this.selectedModel=null,(0,s.RA)(this.cdr)})}onBtnAddDiadromiClicked(){this.selectedModel=new F,this.modalTitle="\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u03bc\u03bf\u03c5",this.isModalViewOpen=!0,(0,s.RA)(this.cdr)}onDiadromiRowClicked(t){this.selectedModel=t,this.modalTitle="\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u039c\u03bf\u03c5 No#"+this.selectedModel.id,this.isModalViewOpen=!0,(0,s.RA)(this.cdr)}onConfirmDeleteClicked(){this.carPoolingSrv.delete(this.selectedModel.id).subscribe(t=>{t?(this.toasterSrv.showWarning("","\u0397 \u03b4\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae \u03b4\u03b9\u03b1\u03b3\u03c1\u03ac\u03c6\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1."),this._getListData(this.searchModelToPost)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03bc\u03b5 \u03c4\u03b7 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u03c3\u03b1\u03c2."),(0,s.RA)(this.cdr)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(B),e.Y36(s.MJ),e.Y36(C.F0),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-my-diadromes"]],decls:11,vars:14,consts:[[1,"d-flex","justify-content-end","mb-2"],["type","button",1,"btn","btn-primary","btn-sm","mb-0",3,"click"],["aria-hidden","true",1,"fas","fa-plus","fa-fw"],[3,"condition","customClass"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords",4,"ngIf"],["appendTo","body","resizable","false","modal","true","closeOnEscape","false",3,"header","visible","draggable","closable","visibleChange","onHide"],[4,"ngIf"],[3,"model","closeModal","listHasChanged",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","header"],["pTemplate","body"],[1,"fixed-width-col-100"],[1,"fixed-width-col-60"],[1,"fixed-width-col-120"],[1,"p-column-title"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-120","text-center"],["type","button","aria-label","\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",1,"btn","btn-sm","btn-primary","m-0","me-1",3,"click"],[1,"far","fa-edit","fa-fw"],["type","button","aria-label","\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae",1,"btn","btn-sm","btn-danger","m-0",3,"click"],[1,"far","fa-trash-alt","fa-fw"],["type","button",1,"btn","btn-primary","btn-sm","m-0","me-1",3,"click"],["type","button",1,"btn","btn-warning","btn-sm","m-0","text-white",3,"click"],[1,"fas","fa-times","fa-fw"],[3,"model","closeModal","listHasChanged"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return i.onBtnAddDiadromiClicked()}),e._UZ(2,"span",2),e._uU(3," \u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u039c\u03bf\u03c5"),e.qZA()(),e._UZ(4,"eg-loading",3),e.YNc(5,Be,3,9,"p-table",4),e.TgZ(6,"p-dialog",5),e.NdJ("visibleChange",function(u){return i.isModalDeleteOpen&&(i.selectedModel=u)})("onHide",function(){return i._closeModals()}),e.YNc(7,ge,4,0,"p",6),e.YNc(8,_e,7,0,"p-footer",6),e.qZA(),e.TgZ(9,"p-dialog",5),e.NdJ("visibleChange",function(u){return i.isModalViewOpen=u})("onHide",function(){return i._closeModals()}),e.YNc(10,fe,1,1,"app-diadromi-detail",7),e.qZA()),2&t&&(e.xp6(4),e.Q6J("condition",!i.model||i.isLoading)("customClass","egr-load-small"),e.xp6(1),e.Q6J("ngIf",i.model&&!i.isLoading),e.xp6(1),e.Q6J("header","\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2 \u039c\u03bf\u03c5 No#"+(null==i.selectedModel?null:i.selectedModel.id))("visible",i.isModalDeleteOpen&&i.selectedModel)("draggable",!1)("closable",!0),e.xp6(1),e.Q6J("ngIf",i.isModalDeleteOpen&&i.selectedModel),e.xp6(1),e.Q6J("ngIf",i.isModalDeleteOpen&&i.selectedModel),e.xp6(1),e.Q6J("header",i.modalTitle)("visible",i.isModalViewOpen)("draggable",!1)("closable",!0),e.xp6(1),e.Q6J("ngIf",i.isModalViewOpen&&i.selectedModel))},dependencies:[m.O5,s.IE,x.iA,f.$_,f.jx,ne.V,ce,m.uU],encapsulation:2,changeDetection:0}),o})();var Ae=l(1886),Ze=l(6188);function Te(o,a){1&o&&e._UZ(0,"p-message",4)}function De(o,a){if(1&o&&(e.TgZ(0,"p-panel",7),e.ALo(1,"translate"),e._UZ(2,"div",8),e.ALo(3,"decodeHtmlString"),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("header",e.lcZ(1,4,null==t.translation?null:t.translation.egwebapps.information))("styleClass","tab-msg mb-3")("toggleable",!0),e.xp6(2),e.Q6J("innerHTML",e.lcZ(3,6,t.tabMsg),e.oJD)}}function Me(o,a){1&o&&e._UZ(0,"app-diadromes-list")}function ye(o,a){1&o&&e._UZ(0,"app-my-diadromes")}function be(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"p-tabView",9),e.NdJ("onChange",function(n){e.CHM(t);const u=e.oxw(2);return e.KtG(u.onTabChanged(n))}),e.TgZ(1,"p-tabPanel",10),e.YNc(2,Me,1,0,"ng-template",11),e.qZA(),e.TgZ(3,"p-tabPanel",12),e.YNc(4,ye,1,0,"ng-template",11),e.qZA()()}if(2&o){const t=e.oxw(2);e.Q6J("activeIndex",t.index)}}function ve(o,a){if(1&o&&(e.ynx(0),e.YNc(1,De,4,8,"p-panel",5),e.YNc(2,be,5,1,"p-tabView",6),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isAuthorized&&t.tabMsg&&""!==t.tabMsg),e.xp6(1),e.Q6J("ngIf",t.isAuthorized)}}const Fe=[{path:"",component:(()=>{class o{constructor(t,i,n,u,d){this.oidcSecuritySrv=t,this.appCacheSrv=i,this.location=n,this.router=u,this.route=d,this.onDestroy=new M.x,this.afmNotFound=!1,this.index=0,this.selectedLang="el"}ngOnInit(){this.appCacheSrv.translation$.pipe((0,A.R)(this.onDestroy)).subscribe(t=>{t&&(this.translation=t)}),this.appCacheSrv.selectedLang$.pipe((0,A.R)(this.onDestroy)).subscribe(t=>{t&&(this.selectedLang=t)}),this.oidcSecuritySrv.isAuthenticated$.pipe((0,y.w)(t=>(this.isAuthorized=null!=t&&t.isAuthenticated,this.appCacheSrv.selectedLang$)),(0,y.w)(t=>(t&&(this.selectedLang=t),1==AppConfOptions.multilingual&&"el"!=this.selectedLang&&AppConfOptions.carpooling_tab_info_en&&""!=AppConfOptions.carpooling_tab_info_en?this.tabMsg=AppConfOptions.carpooling_tab_info_en:AppConfOptions.carpooling_tab_info&&""!=AppConfOptions.carpooling_tab_info&&"el"==this.selectedLang&&(this.tabMsg=AppConfOptions.carpooling_tab_info),this.oidcSecuritySrv.getUserData())),(0,A.R)(this.onDestroy)).subscribe(t=>{t&&(!t.tin||(0,s.Ew)(t.tin))&&1==AppConfOptions.carpooling_afm_required&&(this.afmNotFound=!0)}),this.index="my-diadromes"===this.route.children[0].snapshot.url[0].path?1:0}ngOnDestroy(){this.onDestroy.next(null)}onTabChanged(t){this.router.navigate(0==t.index?["./list"]:["./my-diadromes"],{relativeTo:this.route})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(S.J_),e.Y36(k.g),e.Y36(m.Ye),e.Y36(C.F0),e.Y36(C.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-carpooling-layout"]],inputs:{isAuthorized:"isAuthorized"},decls:5,vars:4,consts:[[1,"module-title"],["severity","warn","text","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd.",4,"ngIf"],[3,"afmNotFound"],[4,"ngIf"],["severity","warn","text","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd."],[3,"header","styleClass","toggleable",4,"ngIf"],[3,"activeIndex","onChange",4,"ngIf"],[3,"header","styleClass","toggleable"],[3,"innerHTML"],[3,"activeIndex","onChange"],["header","\u039b\u03af\u03c3\u03c4\u03b1 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ce\u03bd"],["pTemplate","content"],["header","\u039f\u03b9 \u03b4\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ad\u03c2 \u03bc\u03bf\u03c5"]],template:function(t,i){1&t&&(e.TgZ(0,"h3",0),e._uU(1),e.qZA(),e.YNc(2,Te,1,0,"p-message",1),e._UZ(3,"app-afmnotfound",2),e.YNc(4,ve,3,2,"ng-container",3)),2&t&&(e.xp6(1),e.Oqu(null==i.translation?null:i.translation.menu.rantevouMenuItem),e.xp6(1),e.Q6J("ngIf",!i.isAuthorized),e.xp6(1),e.Q6J("afmNotFound",i.afmNotFound),e.xp6(1),e.Q6J("ngIf",!i.afmNotFound))},dependencies:[m.O5,O.d,f.jx,b.xf,b.x4,N.q,v.s,P,E,Ae.o,Ze.X$],encapsulation:2}),o})(),children:[{path:"",pathMatch:"full",redirectTo:"list"},{path:"list",component:P},{path:"my-diadromes",component:E}]}];let xe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[C.Bz.forChild(Fe),C.Bz]}),o})(),we=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[B],imports:[xe,q.m,J.IJ]}),o})()}}]);