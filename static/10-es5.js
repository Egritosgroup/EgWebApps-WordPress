function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,n=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"8BaW":function(e,t,i){"use strict";i.r(t),i.d(t,"DimotikosForosModule",(function(){return Ue}));var n=i("fXoL"),o=i("mrSG"),s=i("tk/3"),r=i("LRne"),a=i("2Vo4"),c=i("XNiG"),d=i("cp0P"),l=i("lJxs"),p=i("JIr8"),f=i("1G5W"),u=i("pLZG"),m=i("eIep"),h=i("5eHb"),g=i("tyNb"),b=i("ofXK"),y=i("3Pt+"),v=i("3u8h"),k=i("ZOsW"),O=i("9nqD"),U=i("eO1q"),I=i("rEr+"),j=i("dPl2"),C=i("C7T5"),V=i.n(C),P=i("7zfz");function w(e,t){1&e&&(n.Tc(0),n.Vc(1,"div",3),n.Vc(2,"div",4),n.Vc(3,"div",5),n.Qd(4," \u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b4\u03bf\u03ba\u03b9\u03bc\u03ac\u03c3\u03c4\u03b5 \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1! "),n.Uc(),n.Uc(),n.Uc(),n.Sc())}function _(e,t){if(1&e&&(n.Vc(0,"p",13),n.Vc(1,"strong"),n.Qd(2,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1 \u0395\u03c0\u03b9\u03c7\u03b5\u03af\u03c1\u03b7\u03c3\u03b7\u03c2:"),n.Uc(),n.Qd(3),n.Uc()),2&e){var i=n.jd(3);n.Bc(3),n.Sd("\xa0",i.epixeirisiInfo.eponimia," ")}}function D(e,t){if(1&e){var i=n.Wc();n.Vc(0,"button",14),n.hd("click",(function(){return n.Gd(i),n.jd(3).onCreateNewDilosiClicked()})),n.Qd(1,"\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2 \u039d\u03ad\u03b1\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2"),n.Uc()}}function x(e,t){if(1&e&&(n.Vc(0,"div",10),n.Od(1,_,4,1,"p",11),n.Od(2,D,2,0,"button",12),n.Uc()),2&e){var i=n.jd(2);n.Bc(1),n.sd("ngIf",i.epixeirisiInfo),n.Bc(1),n.sd("ngIf",i.diloseisInfoResponse&&i.diloseisInfoResponse.length>0)}}function A(e,t){if(1&e){var i=n.Wc();n.Vc(0,"app-katastimata-receipts",15),n.hd("reloadData",(function(){return n.Gd(i),n.jd(2)._loadData()})),n.Uc()}if(2&e){var o=n.jd(2);n.sd("model",o.model)("userInfo",o.userInfo)("isLoading",o.isLoading)("diloseisInfoResponse",o.diloseisInfoResponse)}}function S(e,t){if(1&e){var i=n.Wc();n.Tc(0),n.Od(1,x,3,2,"div",6),n.Vc(2,"p-tabView",7),n.hd("onChange",(function(e){return n.Gd(i),n.jd().onTabChanged(e)})),n.Vc(3,"p-tabPanel",8),n.Od(4,A,1,4,"app-katastimata-receipts",9),n.Uc(),n.Uc(),n.Sc()}if(2&e){var o=n.jd();n.Bc(1),n.sd("ngIf",o.epixeirisiInfo||o.diloseisInfoResponse&&o.diloseisInfoResponse.length>0),n.Bc(1),n.sd("activeIndex",o.index),n.Bc(2),n.sd("ngIf",o.model)}}function R(e,t){if(1&e&&(n.Vc(0,"div",16),n.Qc(1,"app-katastimata-create-dilosi",17),n.Uc()),2&e){var i=n.jd();n.Bc(1),n.sd("diloseisInfoResponse",i.diloseisInfoResponse)("isOpen",i.isAddingNewDilosi)}}var B=["dimotikosForosForm"];function Q(e,t){if(1&e&&(n.Vc(0,"div",24),n.Vc(1,"label"),n.Qd(2,"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u039b\u03ae\u03be\u03b7\u03c2"),n.Uc(),n.Qc(3,"input",25),n.kd(4,"date"),n.Uc()),2&e){var i=n.jd(2);n.Bc(3),n.sd("ngModel",n.md(4,1,i.model.hmeromiaLixisDilosis,"dd/MM/yyyy"))}}function F(e,t){if(1&e&&n.Qc(0,"div",26),2&e){var i=n.jd(2);n.sd("innerHTML",i.formErrorsMsg,n.Hd)}}function M(e,t){if(1&e&&(n.Vc(0,"div",27),n.Vc(1,"p"),n.Qd(2),n.Uc(),n.Uc()),2&e){var i=n.jd(2);n.Bc(2),n.Rd(i.errorMessageProfile)}}function E(e,t){if(1&e){var i=n.Wc();n.Vc(0,"form",4,5),n.Vc(2,"div",6),n.Vc(3,"div",7),n.Vc(4,"label"),n.Qd(5,"\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2*"),n.Uc(),n.Vc(6,"ng-select",8,9),n.hd("ngModelChange",(function(e){return n.Gd(i),n.jd().model.dilosiId=e}))("change",(function(e){return n.Gd(i),n.jd().onSelectedDilosiChanged(e)})),n.Uc(),n.Vc(8,"div",10),n.Qd(9," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Od(10,Q,5,4,"div",11),n.Uc(),n.Vc(11,"div",6),n.Vc(12,"div",12),n.Vc(13,"label"),n.Qd(14,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc*"),n.Uc(),n.Vc(15,"input",13,14),n.hd("ngModelChange",(function(e){return n.Gd(i),n.jd().ypokeimenoPoso=e})),n.Uc(),n.Vc(17,"div",10),n.Qd(18," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf & \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03b1\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 (\u03c4\u03b1 \u03b4\u03b5\u03ba\u03b1\u03b4\u03b9\u03ba\u03ac \u03c7\u03c9\u03c1\u03b9\u03c3\u03bc\u03ad\u03bd\u03b1 \u03bc\u03b5 \u03ba\u03cc\u03bc\u03bc\u03b1). "),n.Uc(),n.Uc(),n.Uc(),n.Vc(19,"div",6),n.Vc(20,"div",15),n.Vc(21,"label",16),n.Qd(22,"\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)*"),n.Uc(),n.Vc(23,"input",17,18),n.hd("ngModelChange",(function(e){return n.Gd(i),n.jd().periodikiDilosiFPA=e}))("change",(function(e){return n.Gd(i),n.jd().onFileChange(e,"periodikiDilosiFPA")})),n.Uc(),n.Vc(25,"div",10),n.Qd(26," *\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),n.Uc(),n.Uc(),n.Vc(27,"div",15),n.Vc(28,"label",19),n.Qd(29,"\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf"),n.Uc(),n.Vc(30,"input",20),n.hd("ngModelChange",(function(e){return n.Gd(i),n.jd().extraFile=e}))("change",(function(e){return n.Gd(i),n.jd().onFileChange(e,"extraFile")})),n.Uc(),n.Uc(),n.Uc(),n.Vc(31,"button",21),n.hd("click",(function(){return n.Gd(i),n.jd().onSubmit()})),n.Qd(32," \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc\u03c2 \u03a0\u03bf\u03c3\u03ce\u03bd "),n.Uc(),n.Od(33,F,1,1,"div",22),n.Od(34,M,3,1,"div",23),n.Uc()}if(2&e){var o=n.Fd(16),s=n.jd();n.Bc(6),n.sd("items",s.diloseisInfoResponse)("ngModel",s.model.dilosiId)("searchable",!0)("clearable",!1),n.Bc(2),n.sd("hidden",!s.isFormSubmitted||s.isFormSubmitted&&s.model.dilosiId),n.Bc(2),n.sd("ngIf",s.model&&s.model.dilosiId),n.Bc(5),n.sd("ngModel",s.ypokeimenoPoso),n.Bc(2),n.sd("hidden",!s.isFormSubmitted||s.isFormSubmitted&&o.valid&&s.ypokeimenoPoso),n.Bc(6),n.sd("ngModel",s.periodikiDilosiFPA),n.Bc(2),n.sd("hidden",!s.isFormSubmitted||s.isFormSubmitted&&s.periodikiDilosiFPA),n.Bc(5),n.sd("ngModel",s.extraFile),n.Bc(3),n.sd("ngIf",s.formErrorsMsg&&""!=s.formErrorsMsg),n.Bc(1),n.sd("ngIf",s.errorMessageProfile)}}function T(e,t){1&e&&(n.Vc(0,"div",28),n.Vc(1,"span",29),n.Qc(2,"i",30),n.Uc(),n.Uc())}var L=function(e){return[e,"\u20ac","symbol","1.2","el"]};function N(e,t){if(1&e){var i=n.Wc();n.Tc(0),n.Qc(1,"hr"),n.Vc(2,"h4",31),n.Qd(3,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03bf\u03cd"),n.Uc(),n.Vc(4,"div",32),n.Vc(5,"div",33),n.Vc(6,"div"),n.Vc(7,"p",34),n.Vc(8,"span",35),n.Vc(9,"strong"),n.Qd(10,"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),n.Uc(),n.Uc(),n.Uc(),n.Vc(11,"p",34),n.Vc(12,"span",35),n.Vc(13,"strong"),n.Qd(14,"\u03a0\u03bf\u03c3\u03cc \u03a4\u03ad\u03bb\u03bf\u03c5\u03c2:"),n.Uc(),n.Uc(),n.Uc(),n.Vc(15,"p",34),n.Vc(16,"span",35),n.Vc(17,"strong"),n.Qd(18,"\u039c\u03ae\u03bd\u03b5\u03c2 \u039a\u03b1\u03b8\u03c5\u03c3\u03c4\u03ad\u03c1\u03b7\u03c3\u03b7\u03c2:"),n.Uc(),n.Uc(),n.Uc(),n.Vc(19,"p",34),n.Vc(20,"span",35),n.Vc(21,"strong"),n.Qd(22,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03c1\u03bf\u03c3\u03c4\u03af\u03bc\u03bf\u03c5:"),n.Uc(),n.Uc(),n.Uc(),n.Vc(23,"p",34),n.Vc(24,"span",35),n.Vc(25,"strong"),n.Qd(26,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),n.Uc(),n.Uc(),n.Uc(),n.Vc(27,"p",34),n.Vc(28,"span",35),n.Vc(29,"strong"),n.Qd(30,"\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),n.Uc(),n.Uc(),n.Uc(),n.Uc(),n.Vc(31,"div"),n.Vc(32,"p",34),n.Vc(33,"span",36),n.Qd(34),n.Uc(),n.Uc(),n.Vc(35,"p",34),n.Vc(36,"span",36),n.Qd(37),n.kd(38,"currency"),n.Uc(),n.Uc(),n.Vc(39,"p",34),n.Vc(40,"span",36),n.Qd(41),n.Uc(),n.Uc(),n.Vc(42,"p",34),n.Vc(43,"span",36),n.Qd(44),n.kd(45,"currency"),n.Uc(),n.Uc(),n.Vc(46,"p",34),n.Vc(47,"span",36),n.Qd(48),n.kd(49,"currency"),n.Uc(),n.Uc(),n.Vc(50,"p",34),n.Vc(51,"span",36),n.Qd(52),n.Uc(),n.Uc(),n.Uc(),n.Uc(),n.Vc(53,"div",37),n.Vc(54,"button",38),n.hd("click",(function(){return n.Gd(i),n.jd().onPayClicked()})),n.Qd(55," \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2 "),n.Uc(),n.Vc(56,"div"),n.Qc(57,"img",39),n.Qc(58,"img",40),n.Qc(59,"img",41),n.Uc(),n.Uc(),n.Uc(),n.Sc()}if(2&e){var o=n.jd();n.Bc(34),n.Rd(o.modelPaymentInfo.paymentCaption),n.Bc(3),n.Rd(n.pd(38,9,n.xd(27,L,o.modelPaymentInfo.telosPoso))),n.Bc(4),n.Rd(o.modelPaymentInfo.posostoEkprothesmisKatavolisMines),n.Bc(3),n.Rd(n.pd(45,15,n.xd(29,L,o.modelPaymentInfo.prostimoPoso))),n.Bc(4),n.Rd(n.pd(49,21,n.xd(31,L,o.modelPaymentInfo.paymentAmount))),n.Bc(4),n.Rd(o.kodikosPliromis),n.Bc(5),n.ud("src","",o.assetsUrl,"cards/Visa.jpg",n.Id),n.Bc(1),n.ud("src","",o.assetsUrl,"cards/Mastercard.jpg",n.Id),n.Bc(1),n.ud("src","",o.assetsUrl,"cards/Maestro.jpg",n.Id)}}function G(e,t){if(1&e&&(n.Vc(0,"div"),n.Qd(1),n.Qc(2,"input",44),n.Uc()),2&e){var i=t.$implicit;n.Bc(1),n.Sd(" ",i.key," : "),n.Bc(1),n.td("name",i.key),n.td("value",i.value)}}function W(e,t){if(1&e&&(n.Vc(0,"form",42),n.Od(1,G,3,3,"div",43),n.Uc()),2&e){var i=n.jd();n.td("action",i.paymentResponseDto.postUlr,n.Id),n.Bc(1),n.sd("ngForOf",i.paymentResponseDto.postFields)}}function z(e,t){1&e&&(n.Vc(0,"div",5),n.Vc(1,"p",6),n.Qd(2," \u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc. "),n.Uc(),n.Uc())}function J(e,t){1&e&&(n.Vc(0,"div",7),n.Vc(1,"p",8),n.Qd(2,"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u03b9\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2."),n.Uc(),n.Uc())}function q(e,t){if(1&e){var i=n.Wc();n.Vc(0,"div"),n.Vc(1,"button",9),n.hd("click",(function(){return n.Gd(i),n.jd().btnBankStatusMessageClicked()})),n.Qc(2,"i",10),n.Uc(),n.Qd(3),n.Uc()}if(2&e){var o=n.jd();n.Ec("bank-msg badge w-100 mb-2 position-relative ",o.bankStatusMessageClass,""),n.Bc(3),n.Sd(" ",o.bankStatusMessage,"\n")}}function $(e,t){1&e&&(n.Vc(0,"div",11),n.Vc(1,"span",12),n.Qc(2,"i",13),n.Uc(),n.Uc())}function H(e,t){1&e&&(n.Vc(0,"tr"),n.Vc(1,"th",18),n.Qd(2,"#"),n.Uc(),n.Vc(3,"th",19),n.Qd(4,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),n.Uc(),n.Vc(5,"th",20),n.Qd(6,"\u0391\u03ba\u03b1\u03b8\u03ac\u03c1\u03b9\u03c3\u03c4\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Uc(),n.Vc(7,"th",20),n.Qd(8,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Uc(),n.Vc(9,"th",20),n.Qd(10,"\u03a4\u03ad\u03bb\u03bf\u03c2"),n.Uc(),n.Vc(11,"th",20),n.Qd(12,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),n.Uc(),n.Vc(13,"th",21),n.Qd(14,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),n.Uc(),n.Uc())}function Y(e,t){if(1&e&&(n.Vc(0,"tr"),n.Vc(1,"td",18),n.Vc(2,"span",22),n.Qd(3,"#"),n.Uc(),n.Qd(4),n.Uc(),n.Vc(5,"td",19),n.Vc(6,"span",22),n.Qd(7,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),n.Uc(),n.Qd(8),n.Uc(),n.Vc(9,"td",23),n.Vc(10,"span",22),n.Qd(11,"\u0391\u03ba\u03b1\u03b8\u03ac\u03c1\u03b9\u03c3\u03c4\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Uc(),n.Qd(12),n.kd(13,"currency"),n.Uc(),n.Vc(14,"td",23),n.Vc(15,"span",22),n.Qd(16,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),n.Uc(),n.Qd(17),n.kd(18,"currency"),n.Uc(),n.Vc(19,"td",23),n.Vc(20,"span",22),n.Qd(21,"\u03a4\u03ad\u03bb\u03bf\u03c2"),n.Uc(),n.Qd(22),n.kd(23,"currency"),n.Uc(),n.Vc(24,"td",23),n.Vc(25,"span",22),n.Qd(26,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),n.Uc(),n.Qd(27),n.kd(28,"currency"),n.Uc(),n.Vc(29,"td",21),n.Vc(30,"span",22),n.Qd(31,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),n.Uc(),n.Qd(32),n.Uc(),n.Uc()),2&e){var i=t.$implicit,o=t.rowIndex;n.Bc(4),n.Sd(" ",o+1," "),n.Bc(4),n.Sd(" ",i.dilosiCaption," "),n.Bc(4),n.Sd(" ",n.od(13,7,i.akatharistoPoso,"\u20ac","symbol","1.2")," "),n.Bc(5),n.Sd(" ",n.od(18,12,i.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),n.Bc(5),n.Sd(" ",n.od(23,17,i.telosPoso,"\u20ac","symbol","1.2")," "),n.Bc(5),n.Sd(" ",n.od(28,22,i.prostimoPoso,"\u20ac","symbol","1.2")," "),n.Bc(5),n.Sd(" ",i.stoixeiaApodixis," ")}}var X=function(e){return[e,"EUR","symbol","1.2-2","el"]};function Z(e,t){if(1&e&&(n.Vc(0,"tr"),n.Vc(1,"td",24),n.Vc(2,"strong"),n.Qd(3,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf:"),n.Uc(),n.Uc(),n.Vc(4,"td",23),n.Vc(5,"strong"),n.Qd(6),n.kd(7,"currency"),n.Uc(),n.Uc(),n.Vc(8,"td",23),n.Vc(9,"strong"),n.Qd(10),n.kd(11,"currency"),n.Uc(),n.Uc(),n.Vc(12,"td",23),n.Vc(13,"strong"),n.Qd(14),n.kd(15,"currency"),n.Uc(),n.Uc(),n.Vc(16,"td",23),n.Vc(17,"strong"),n.Qd(18),n.kd(19,"currency"),n.Uc(),n.Uc(),n.Vc(20,"td",21),n.Qd(21,"\xa0"),n.Uc(),n.Uc()),2&e){var i=n.jd(2);n.Bc(6),n.Rd(n.pd(7,4,n.xd(28,X,i.sumAkatharisto))),n.Bc(4),n.Rd(n.pd(11,10,n.xd(30,X,i.sumYpokeimeno))),n.Bc(4),n.Rd(n.pd(15,16,n.xd(32,X,i.sumTelos))),n.Bc(4),n.Rd(n.pd(19,22,n.xd(34,X,i.sumProstimo)))}}function K(e,t){if(1&e&&(n.Tc(0),n.Vc(1,"p"),n.Qd(2,"\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: "),n.Vc(3,"strong"),n.Qd(4),n.Uc(),n.Uc(),n.Vc(5,"p-table",14),n.Od(6,H,15,0,"ng-template",15),n.Od(7,Y,33,27,"ng-template",16),n.Od(8,Z,22,36,"ng-template",17),n.Uc(),n.Sc()),2&e){var i=n.jd();n.Bc(4),n.Rd(i.model.length),n.Bc(1),n.sd("value",i.model)("autoLayout",!0)("responsive",!0)("scrollable",!0)("lazy",!1)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("totalRecords",i.model.length)}}var ee=function(){function e(t){_classCallCheck(this,e),this.toastr=t}return _createClass(e,[{key:"show",value:function(e,t,i){t&&this.toastr[i](t,e,{progressBar:!0,onActivateTick:!0})}},{key:"showError",value:function(e,t){this.show(e,t,"error")}},{key:"showInfo",value:function(e,t){this.show(e,t,"info")}},{key:"showSuccess",value:function(e,t){this.show(e,t,"success")}}]),e}();ee.\u0275fac=function(e){return new(e||ee)(n.dd(h.b))},ee.ctorParameters=function(){return[{type:h.b}]},ee.\u0275prov=Object(n.Lc)({factory:function(){return new ee(Object(n.dd)(h.b))},token:ee,providedIn:"root"}),ee=Object(o.b)([Object(o.c)("design:paramtypes",[h.b])],ee);var te=function e(t){var i=this;_classCallCheck(this,e),this.toastService=t,this.catchBadResponse=function(e){var t="";if(e.error instanceof Error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else if(void 0!==e.error)t="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e.message;else switch(e.status){case 403:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error "+e.status;break;case 401:t="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n "+e.status;break;default:t="Backend returned code ".concat(e.status,", body was: ").concat(void 0!==e.body?e.body.error:void 0!==e.message?e.message:"")}return i.toastService.showError("",""+t),Object(r.a)(!1)}};te.\u0275fac=function(e){return new(e||te)(n.dd(ee))},te.ctorParameters=function(){return[{type:ee}]},te.\u0275prov=Object(n.Lc)({factory:function(){return new te(Object(n.dd)(ee))},token:te,providedIn:"root"}),te=Object(o.b)([Object(o.c)("design:paramtypes",[ee])],te);var ie=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var o;return _classCallCheck(this,i),(o=t.call(this,n,e)).exceptionSrv=e,o.http=n,o.katastimataUrl=o.baseUrl+"/DiloseisWeb",o.dmsUrl=o.baseUrl+"/DocDmsApi",o.userInfoSubject=new a.a(null),o.userInfo$=o.userInfoSubject.asObservable(),o.egOnInit(),o}return _createClass(i,[{key:"egOnInit",value:function(){var e=this;this.userInfo$.subscribe((function(t){e.userInfo=t}))}},{key:"initUserInfo",value:function(){if(!this.userInfo)for(var e=null,t=0;t<window.localStorage.length;t++){var i=window.localStorage.key(t);"userData"===i.slice(0,8)&&(e=JSON.parse(window.localStorage.getItem(i)),this.userInfoSubject.next({email:e.email,username:e.given_name,tin:e.tin,family_name:e.family_name,given_name:e.given_name,name:e.name,address_city:e.address_city,address_country_code:e.address_country_code,address_zip:e.address_zip,address:e.address}))}}},{key:"getDiloseis",value:function(e){return this.http.get("".concat(this.katastimataUrl,"/DiloseisWebInfo/").concat(e)).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"getDilosiPaymentInfo",value:function(e){return this.http.post(this.katastimataUrl+"/DilosiWebPaymentInfo",e).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"uploadPeriodikiDilosi",value:function(e){var t=new s.e;return t=t.append("isForm","true"),this.http.post(this.katastimataUrl+"/DilosiWebScan",e,{headers:t,responseType:"arraybuffer"}).pipe(Object(l.a)((function(e){return e})),Object(p.a)((function(){return Object(r.a)(!1)})))}},{key:"getPayedInfo",value:function(e){return this.http.get("".concat(this.katastimataUrl,"/DiloseisWebPayedInfo/").concat(e)).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"getEpixeirisiInfo",value:function(e){return this.http.get("".concat(this.katastimataUrl,"/DiloseisWebEpixirisiInfo/").concat(e)).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"deleteDocDmsByDilosiId",value:function(e){var t=this.katastimataUrl+"/DeleteDocDmsByDilosiId/"+e;return this.http.get(t).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"markDilosiWebExoflisi",value:function(e){var t=this.katastimataUrl+"/MarkDilosiWebExoflisi";return this.http.post(t,e).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionService.catchBadResponse))}},{key:"addPaymentRequest",value:function(e){var t=this.financeUrl+"/Banks/AddPaymentRequest";return this.http.post(t,e).pipe(Object(l.a)((function(e){return e})),Object(p.a)(this.exceptionSrv.catchBadResponse))}}]),i}(function(){return function e(t,i){var n=this;_classCallCheck(this,e),this.http=t,this.exceptionService=i,this.getBaseUrl=function(){return n.baseUrl},AppConfOptions&&AppConfOptions.katastimata_api?(this.baseUrl=AppConfOptions.katastimata_api,this.financeUrl=AppConfOptions.epayments_api):(this.baseUrl="/",this.financeUrl=AppConfOptions.financeApi),this.baseUrl+="api",this.financeUrl+="api"}}());ie.\u0275fac=function(e){return new(e||ie)(n.dd(te),n.dd(s.b))},ie.ctorParameters=function(){return[{type:te},{type:s.b}]},ie.\u0275prov=Object(n.Lc)({factory:function(){return new ie(Object(n.dd)(te),Object(n.dd)(s.b))},token:ie,providedIn:"root"}),ie=Object(o.b)([Object(o.c)("design:paramtypes",[te,s.b])],ie);var ne=function(){function e(t,i,n,o){_classCallCheck(this,e),this.katastimataNgSrv=t,this.toasterSrv=i,this.router=n,this.route=o,this.model=[],this.index=0,this.isLoading=!0,this.isAddingNewDilosi=!1,this.onDestroy=new c.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.katastimataNgSrv.initUserInfo(),this.katastimataNgSrv.userInfo$.pipe(Object(f.a)(this.onDestroy)).subscribe((function(t){e.userInfo=t})),this.router.events.pipe(Object(u.a)((function(e){return e instanceof g.b})),Object(f.a)(this.onDestroy)).subscribe((function(t){t&&t.url&&t.url.includes("receipts")&&(e.index=0)})),Object(d.a)([this.katastimataNgSrv.getEpixeirisiInfo(this.userInfo.tin),this.katastimataNgSrv.getDiloseis(this.userInfo.tin)]).subscribe((function(t){t&&(e.epixeirisiInfo=t[0],e.diloseisInfoResponse=t[1],e._loadData())}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_loadData",value:function(){var e=this;this.katastimataNgSrv.getPayedInfo(this.userInfo.tin).subscribe((function(t){t&&(e.model=t),e.isLoading=!1}))}},{key:"onCreateNewDilosiClicked",value:function(){this.isAddingNewDilosi=!0}},{key:"onTabChanged",value:function(e){0==e.index?this.router.navigate(["./debits"],{relativeTo:this.route}):this.router.navigate(["./receipts"],{relativeTo:this.route})}}]),e}();ne.\u0275fac=function(e){return new(e||ne)(n.Pc(ie),n.Pc(ee),n.Pc(g.d),n.Pc(g.a))},ne.\u0275cmp=n.Jc({type:ne,selectors:[["lib-katastimata-ng"]],decls:6,vars:9,consts:[[4,"ngIf"],["title","\u039d\u03ad\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7",3,"isOpen","size","isOpenChange"],["class","modal-body",4,"ngIf"],[1,"d-flex",2,"height","100vh !important"],[1,"justify-content-center","align-self-start","w-100","mt-2"],["role","alert",1,"bg-danger","text-light","p-2"],["class","bg-light mb-3 px-2 py-1 d-flex flex-wrap",4,"ngIf"],[3,"activeIndex","onChange"],["header","\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd \u03a4\u03ad\u03bb\u03bf\u03c5\u03c2 0,5% / \u03a0\u03b1\u03c1\u03b5\u03c0\u03b9\u03b4\u03b7\u03bc\u03bf\u03cd\u03bd\u03c4\u03c9\u03bd"],[3,"model","userInfo","isLoading","diloseisInfoResponse","reloadData",4,"ngIf"],[1,"bg-light","mb-3","px-2","py-1","d-flex","flex-wrap"],["class","m-0 mr-1 d-inline-flex align-items-center eponimia-title",4,"ngIf"],["type","button","class","btn btn-primary m-0 ml-auto",3,"click",4,"ngIf"],[1,"m-0","mr-1","d-inline-flex","align-items-center","eponimia-title"],["type","button",1,"btn","btn-primary","m-0","ml-auto",3,"click"],[3,"model","userInfo","isLoading","diloseisInfoResponse","reloadData"],[1,"modal-body"],[3,"diloseisInfoResponse","isOpen"]],template:function(e,t){1&e&&(n.Od(0,w,5,0,"ng-container",0),n.kd(1,"async"),n.Od(2,S,5,3,"ng-container",0),n.kd(3,"async"),n.Vc(4,"eg-modal",1),n.hd("isOpenChange",(function(e){return t.isAddingNewDilosi=e})),n.Od(5,R,2,2,"div",2),n.Uc()),2&e&&(n.sd("ngIf",!n.ld(1,5,t.katastimataNgSrv.userInfo$)),n.Bc(2),n.sd("ngIf",n.ld(3,7,t.katastimataNgSrv.userInfo$)),n.Bc(2),n.sd("isOpen",t.isAddingNewDilosi)("size","xl"),n.Bc(1),n.sd("ngIf",t.isAddingNewDilosi))},directives:function(){return[b.n,v.a,j.b,j.a,le,de]},pipes:function(){return[b.b]},encapsulation:2}),ne.ctorParameters=function(){return[{type:ie},{type:ee},{type:g.d},{type:g.a}]},ne=Object(o.b)([Object(o.c)("design:paramtypes",[ie,ee,g.d,g.a])],ne);var oe,se,re,ae=function e(){_classCallCheck(this,e),this.dilosiId=0,this.dilosiDescription=null,this.hmeromiaLixisDilosis=null},ce=function e(){_classCallCheck(this,e),this.bankTransactionId=null};!function(e){e[e.Ok=1]="Ok",e[e.Error=2]="Error",e[e.Warning=3]="Warning",e[e.UndefinedError=4]="UndefinedError"}(oe||(oe={})),function(e){e[e.aplirotes=1]="aplirotes",e[e.pliromenes=2]="pliromenes"}(se||(se={})),function(e){e.dilosiDescription="\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2",e.ypokeimenoPoso="\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc",e.periodikiDilosiFPA="\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)"}(re||(re={}));var de=function(){function e(t,i){_classCallCheck(this,e),this.katastimataNgSrv=t,this.toasterSrv=i,this.paymentResponseDto=null,this.onDestroy=new c.a,this.periodikiDilosiFPA=null,this.extraFile=null,this.uploadedFiles=[],this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.returnUrl="",this.assetsUrl="",this.errorMessageProfile=null,this.isLoading=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=re,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api,this.assetsUrl=AuthConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/dimotikos-foros/receipts")):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi,this.assetsUrl=AppConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts"))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.model=new ae,this.katastimataNgSrv.userInfo$.pipe(Object(f.a)(this.onDestroy)).subscribe((function(t){t&&(e.userInfo=t)}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"ngOnChanges",value:function(e){e.isOpen&&0==e.isOpen.currentValue&&this.dimotikosForosForm.reset()}},{key:"onSelectedDilosiChanged",value:function(e){var t=this;e&&(this.model=this.diloseisInfoResponse.filter((function(e){return e.dilosiId===+t.model.dilosiId}))[0])}},{key:"onSubmit",value:function(){var e,t,i,n=this;if(this.isFormSubmitted=!0,this.dimotikosForosForm.valid){this.isLoading=!0;for(var o=[],s=Object.values(this.uploadedFiles),a=0;a<s.length;a++){var c=s[a],d=c.name.substr(c.name.lastIndexOf(".")+1);o.push({language:"el",dilosiId:+this.model.dilosiId,fileContent:c.base64,fileLength:c.size,fileExtension:d,fileDescription:a,fileName:c.name})}this.ypokeimenoPosoTransformed=this.ypokeimenoPoso.toString(),this.ypokeimenoPosoTransformed.indexOf(",")>1&&(this.ypokeimenoPosoTransformed=this.ypokeimenoPosoTransformed.replace(",","."));var l={language:"el",ypokeimenoPoso:+this.ypokeimenoPosoTransformed,dilosiId:+this.model.dilosiId},p=[];p=[].concat(_toConsumableArray(p),[this.katastimataNgSrv.deleteDocDmsByDilosiId(this.model.dilosiId)]),o.length>0&&o.forEach((function(e){p=[].concat(_toConsumableArray(p),[n.katastimataNgSrv.uploadPeriodikiDilosi(e)])})),function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=Object(m.a)((function(){return Object(r.a)(!0)})),o=[];return e.forEach((function(e){o=[].concat(_toConsumableArray(o),[Object(m.a)((function(t){return t?e:(i(),Object(r.a)(!1))}))])})),(t=Object(r.a)(!0)).pipe.apply(t,[n,n,n,n,n,n,n,n,n].concat(_toConsumableArray(o)))}(p=[].concat(_toConsumableArray(p),[this.katastimataNgSrv.getDilosiPaymentInfo(l)]),(function(){return n.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03bc\u03b5\u03c4\u03b1\u03c6\u03cc\u03c1\u03c4\u03c9\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd.")})).subscribe((function(e){e?(n.modelPaymentInfo=e,n.kodikosPliromis=n.modelPaymentInfo.paymentCode,n.kodikosPliromis&&n.kodikosPliromis.length>15&&(n.kodikosPliromis=n.modelPaymentInfo.paymentCode.match(/(.|[\r\n]){1,4}/g).toString(),n.kodikosPliromis=n.kodikosPliromis.replace(new RegExp(",","g")," ")),n.isLoading=!1,n.isFormSubmitted=!0):n.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03c9\u03bd \u03c0\u03bf\u03c3\u03ce\u03bd.")}))}else this.formErrorsMsg="",this.formErrors=(e=this.dimotikosForosForm,t=[],i=e.control,Object.keys(i.controls).forEach((function(e){var n=i.get(e);n instanceof y.c&&t.push.apply(t,_toConsumableArray(function e(t){var i=[];return Object.keys(t.controls).forEach((function(n){var o=t.get(n);o instanceof y.c&&i.push.apply(i,_toConsumableArray(e(o)));var s=o.errors;s&&Object.keys(s).forEach((function(e){i.push({control:n,error:e,value:s[e]})}))})),i}(n)));var o=n.errors;o&&Object.keys(o).forEach((function(i){t.push({control:e,error:i,value:o[i]})}))})),t),this.formErrors&&(this.formErrorsMsg="<ul>",this.formErrors.forEach((function(e){var t,i=e.control.split("-")[0];"required"==e.error?t="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==e.error&&(t="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5"),n.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+n.formDictionaryEnum[i]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+t+"</li>"})),this.model.dilosiId||(this.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf</li>"),this.formErrorsMsg+="<ul>")}},{key:"onFileChange",value:function(e,t){var i=this;e&&e.srcElement.files.length>0?V()(e,!0).then((function(e){i.uploadedFiles[t]=e})):delete this.uploadedFiles[t]}},{key:"onPayClicked",value:function(){var e=this,t={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.returnUrl,entries:[],billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address},i={remittanceInfo:this.modelPaymentInfo.paymentCode,amount:this.modelPaymentInfo.paymentAmount,debtorName:this.modelPaymentInfo.epixirisiOfeiletisEponimia,tin:this.userInfo.tin,description:this.modelPaymentInfo.paymentCaption};t.entries.push(i),this.katastimataNgSrv.addPaymentRequest(t).subscribe((function(t){if(t){var i=t;i.statusCode==oe.Ok?e._postBankForm(i.model):i.statusCode==oe.Error&&"DEBTOR_ADDRESS_REQUIRED"==i.messageId&&(e.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",e.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb."))}}))}},{key:"_postBankForm",value:function(e){var t=Object.keys(e.postFields).map((function(t){return{key:t,value:e.postFields[t]}}));e.postFields=t,this.paymentResponseDto=e,setTimeout((function(){document.getElementById("bankPaymentForm").submit()}),100)}}]),e}();de.\u0275fac=function(e){return new(e||de)(n.Pc(ie),n.Pc(ee))},de.\u0275cmp=n.Jc({type:de,selectors:[["app-katastimata-create-dilosi"]],viewQuery:function(e,t){var i;1&e&&n.Wd(B,!0),2&e&&n.Ed(i=n.id())&&(t.dimotikosForosForm=i.first)},inputs:{diloseisInfoResponse:"diloseisInfoResponse",isOpen:"isOpen"},features:[n.zc],decls:4,vars:4,consts:[["class","form w-100",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],["id","bankPaymentForm","method","POST","class","hidden",3,"action",4,"ngIf"],[1,"form","w-100"],["dimotikosForosForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-sm-9"],["bindLabel","dilosiDescription","bindValue","dilosiId","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7","name","dilosiDescription","required","",3,"items","ngModel","searchable","clearable","ngModelChange","change"],["dilosiDescription","ngModel"],[1,"text-danger",3,"hidden"],["class","form-group col-12 col-sm-3",4,"ngIf"],[1,"form-group","col-12","col-sm-12"],["type","text","pattern","^([0-9]\\d*,[0-9]\\d*)|^([0-9]\\d*)$","placeholder","\u039c\u03bf\u03c1\u03c6\u03ae \u03c3\u03c5\u03bc\u03c0\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7\u03c2: 1000,1","name","ypokeimenoPoso","required","",1,"form-control",3,"ngModel","ngModelChange"],["ypokeimenoPosoInput","ngModel"],[1,"form-group","col-12","col-sm-6"],["for","periodikiDilosiFPA"],["type","file","name","periodikiDilosiFPA","required","",1,"form-control-file",3,"ngModel","ngModelChange","change"],["periodikiDilosiFPAInput","ngModel"],["for","extraFile"],["type","file","name","extraFile",1,"form-control-file",3,"ngModel","ngModelChange","change"],["type","button",1,"btn","btn-primary","d-block","mt-2","mx-auto",3,"click"],["class","alert alert-danger form-msgs","style","font-size: 13px; color: #ffffff !important;",3,"innerHTML",4,"ngIf"],["class","screen-msg",4,"ngIf"],[1,"form-group","col-12","col-sm-3"],["type","text","name","hmeromiaLixisDilosis","disabled","",1,"form-control",3,"ngModel"],[1,"alert","alert-danger","form-msgs",2,"font-size","13px","color","#ffffff !important",3,"innerHTML"],[1,"screen-msg"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[1,"w-100","pb-2"],[1,"debits-info","d-flex","justify-content-between"],[1,"debits-info_left","d-flex","mr-1"],[1,"mb-0"],[1,"mr-1",2,"width","220px"],[1,"totalPoso"],[1,"debits-info_right","d-flex","align-items-center","justify-content-center","flex-column"],[1,"btn","btn-primary","mb-2",3,"click"],["alt","Visa","width","40",1,"mr-1",3,"src"],["alt","Mastercard","width","40",1,"mr-1",3,"src"],["alt","Maestro","width","40",3,"src"],["id","bankPaymentForm","method","POST",1,"hidden",3,"action"],[4,"ngFor","ngForOf"],["type","text",3,"name","value"]],template:function(e,t){1&e&&(n.Od(0,E,35,13,"form",0),n.Od(1,T,3,0,"div",1),n.Od(2,N,60,33,"ng-container",2),n.Od(3,W,2,2,"form",3)),2&e&&(n.sd("ngIf",t.model&&t.diloseisInfoResponse&&t.diloseisInfoResponse.length>0),n.Bc(1),n.sd("ngIf",t.isLoading),n.Bc(1),n.sd("ngIf",t.modelPaymentInfo&&!t.isLoading),n.Bc(1),n.sd("ngIf",t.paymentResponseDto))},directives:[b.n,y.r,y.j,y.k,k.a,y.p,y.i,y.l,y.b,y.o,b.m],pipes:[b.f,b.d],encapsulation:2}),de.ctorParameters=function(){return[{type:ie},{type:ee}]},Object(o.b)([Object(n.G)(),Object(o.c)("design:type",Array)],de.prototype,"diloseisInfoResponse",void 0),Object(o.b)([Object(n.G)(),Object(o.c)("design:type",Boolean)],de.prototype,"isOpen",void 0),Object(o.b)([Object(n.lb)("dimotikosForosForm"),Object(o.c)("design:type",y.k)],de.prototype,"dimotikosForosForm",void 0),de=Object(o.b)([Object(o.c)("design:paramtypes",[ie,ee])],de);var le=function(){function e(t,i,o){_classCallCheck(this,e),this.katastimataNgSrv=t,this.route=i,this._http=o,this.reloadData=new n.x,this.onDestroy=new c.a,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.sumAkatharisto=0,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=this;e&&e.model&&(this.model=e.model.currentValue,this.sumAkatharisto=0,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.model.forEach((function(e){t.sumAkatharisto+=e.akatharistoPoso,t.sumYpokeimeno+=e.ypokeimenoPoso,t.sumTelos+=e.telosPoso,t.sumProstimo+=e.prostimoPoso})))}},{key:"ngOnInit",value:function(){var e=this;this.katastimataNgSrv.userInfo$.pipe(Object(f.a)(this.onDestroy)).subscribe((function(t){return e.userInfo=t})),this._getBankMessages().pipe(Object(m.a)((function(t){return t?(e.oikonomikiBankMessages=t,e.route.queryParams.pipe(Object(f.a)(e.onDestroy))):Object(r.a)(!1)}))).subscribe((function(t){if(t){var i=t,n=i.messagecode,o=i.btId;if(n)if(e.bankStatusMessage=e.oikonomikiBankMessages[n],"TRANSACTION_COMPLETED"==n){if(e.bankStatusMessageClass="badge-success",o){var s=new ce;s.bankTransactionId=o,e.katastimataNgSrv.markDilosiWebExoflisi(s).subscribe((function(){e.reloadData.emit(!0)}))}}else e.bankStatusMessageClass="badge-danger"}}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_getBankMessages",value:function(){var e=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(e)}},{key:"btnBankStatusMessageClicked",value:function(){this.bankStatusMessage=null}}]),e}();le.\u0275fac=function(e){return new(e||le)(n.Pc(ie),n.Pc(g.a),n.Pc(s.b))},le.\u0275cmp=n.Jc({type:le,selectors:[["app-katastimata-receipts"]],inputs:{model:"model",userInfo:"userInfo",diloseisInfoResponse:"diloseisInfoResponse",isLoading:"isLoading"},outputs:{reloadData:"reloadData"},features:[n.zc],decls:5,vars:5,consts:[["class","d-flex w-100 justify-content-center",4,"ngIf"],["class","d-flex justify-content-center w-100",4,"ngIf"],[3,"class",4,"ngIf"],["class","bg-white","style","width: 100%; height: 300px",4,"ngIf"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center"],[1,"badge","badge-warning","p-1"],[1,"d-flex","justify-content-center","w-100"],[1,"badge","badge-warning"],[1,"close-bank-msg","position-absolute",2,"right","5px","top","5px","background-color","transparent","border","0 none","color","#ffffff",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"bg-white",2,"width","100%","height","300px"],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-circle-notch","fa-3x","fa-pulse"],[3,"value","autoLayout","responsive","scrollable","lazy","paginator","alwaysShowPaginator","rows","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"fixed-width-col-60","text-center"],[1,"fixed-width-col-170"],[1,"fixed-width-col-100"],[1,"fixed-width-col-120"],[1,"ui-column-title"],[1,"fixed-width-col-100","text-right"],["colspan","2",1,"fixed-width-col-230","text-right"]],template:function(e,t){1&e&&(n.Od(0,z,3,0,"div",0),n.Od(1,J,3,0,"div",1),n.Od(2,q,4,4,"div",2),n.Od(3,$,3,0,"div",3),n.Od(4,K,9,10,"ng-container",4)),2&e&&(n.sd("ngIf",!(t.diloseisInfoResponse&&0!=t.diloseisInfoResponse.length||t.isLoading)),n.Bc(1),n.sd("ngIf",!(t.model&&0!=t.model.length||t.isLoading)),n.Bc(1),n.sd("ngIf",t.bankStatusMessage),n.Bc(1),n.sd("ngIf",t.isLoading),n.Bc(1),n.sd("ngIf",!t.isLoading))},directives:[b.n,I.a,P.c],pipes:[b.d],encapsulation:2}),le.ctorParameters=function(){return[{type:ie},{type:g.a},{type:s.b}]},Object(o.b)([Object(n.G)(),Object(o.c)("design:type",Array)],le.prototype,"model",void 0),Object(o.b)([Object(n.G)(),Object(o.c)("design:type",Array)],le.prototype,"diloseisInfoResponse",void 0),Object(o.b)([Object(n.G)(),Object(o.c)("design:type",Object)],le.prototype,"userInfo",void 0),Object(o.b)([Object(n.G)(),Object(o.c)("design:type",Boolean)],le.prototype,"isLoading",void 0),Object(o.b)([Object(n.S)(),Object(o.c)("design:type",Object)],le.prototype,"reloadData",void 0),le=Object(o.b)([Object(o.c)("design:paramtypes",[ie,g.a,s.b])],le);var pe=[{path:"",component:ne,children:[{path:"",pathMatch:"full",redirectTo:"receipts"},{path:"receipts",component:le}]}],fe=function e(){_classCallCheck(this,e)};fe.\u0275mod=n.Nc({type:fe}),fe.\u0275inj=n.Mc({factory:function(e){return new(e||fe)},imports:[[g.e.forChild(pe)],g.e]});var ue=function e(){_classCallCheck(this,e)};ue.\u0275mod=n.Nc({type:ue}),ue.\u0275inj=n.Mc({factory:function(e){return new(e||ue)},providers:[{provide:O.a,useValue:{align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."}}],imports:[[b.c,y.d,fe,v.b,j.c,U.b,I.b,O.c,k.c]]}),("undefined"==typeof ngJitMode||ngJitMode)&&n.Jd(fe,{imports:function(){return[g.e]},exports:function(){return[g.e]}}),("undefined"==typeof ngJitMode||ngJitMode)&&n.Jd(ue,{declarations:function(){return[ne,de,le]},imports:function(){return[b.c,y.d,fe,v.b,j.c,U.b,I.b,O.c,k.c]},exports:function(){return[ne]}});var me,he=i("1kSV"),ge=i("PCNd"),be=i("zazq"),ye=function(){function e(t){var i=this;_classCallCheck(this,e),this.oidcSecuritySrv=t,this.onDestroy=new c.a,this.oidcSecuritySrv.getIsAuthorized().pipe(Object(f.a)(this.onDestroy)).subscribe((function(e){i.isAuthorized=e}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.onDestroy.next()}}]),e}();ye.ctorParameters=function(){return[{type:be.c}]};var ve=[{path:"",component:ye=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Object(n.n)({selector:"app-dimotikos-foros",template:(me=i("Qjlr"),me&&me.__esModule?me:{default:me}).default}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[be.c])],ye)}],ke=function e(){_classCallCheck(this,e)};ke=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Object(n.L)({imports:[g.e.forChild(ve)],exports:[g.e]})],ke);var Oe=function(){function e(t){_classCallCheck(this,e),this.http=t,this.apiUrl=AppConfOptions.dimotikos_foros_api+"/api/"}return _createClass(e,[{key:"getDiloseis",value:function(e){var t=this.apiUrl+"Atm/DiloseisInfo";return this.http.post(t,e)}}]),e}();Oe.ctorParameters=function(){return[{type:s.b}]},Oe=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Object(n.D)(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[s.b])],Oe);var Ue=function e(){_classCallCheck(this,e)};Ue=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Object(n.L)({declarations:[ye],imports:[ge.a,he.d,ke,ue],providers:[Oe]})],Ue)},C7T5:function(e,t){e.exports=function(e){return new Promise((function(t,n){var o=new FileReader,s=e.target.files;if(s.length>1)n(new DOMException("Only one file can be uploaded at a time"));else{o.onerror=function(){o.abort(),n(new DOMException("Problem parsing input file."))};var r=s[0];o.onload=function(e){var n=new Uint8Array(e.target.result),s=[];n.map((function(e){s.push(e.toString(16))}));var a=s.join("").toUpperCase(),c=o.result.split(",")[1];r.base64=c,r.binaryFileType=i(a),t(r)},o.readAsDataURL(r)}}))};var i=function(e){switch(e){case"89504E47":return"image/png";case"47494638":return"image/gif";case"25504446":return"application/pdf";case"FFD8FFDB":case"FFD8FFE0":return"image/jpeg";case"504B0304":return"application/zip";default:return"Unknown filetype"}}},Qjlr:function(e,t,i){"use strict";i.r(t),t.default='<ng-container *ngIf="isAuthorized">\r\n\t<div class="katastimata-container bg-white"\r\n\t\t  style="padding: 30px;">\r\n\t\t<lib-katastimata-ng></lib-katastimata-ng>\r\n\t</div>\r\n</ng-container>\r\n'}}]);