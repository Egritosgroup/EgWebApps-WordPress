function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,s=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(s,arguments,i)}else n=s.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"8BaW":function(t,e,n){"use strict";n.r(e);var s=n("8Y7J"),i=n("IheW"),o=n("LRne"),a=n("2Vo4"),r=n("XNiG"),l=n("cp0P"),c=n("lJxs"),p=n("JIr8"),d=n("1G5W"),u=n("pLZG"),f=n("eIep"),m=n("EApP"),h=n("iInd"),g=n("SVse"),y=n("s7LF"),b=n("UONg"),v=n("wTG2"),k=n("D5nU"),I=n("2Ifh"),O=n("7vha"),C=n("ZRSf"),x=n("T7Ec"),w=function(){function t(e){_classCallCheck(this,t),this.toastr=e}return _createClass(t,[{key:"show",value:function(t,e,n){e&&this.toastr[n](e,t,{progressBar:!0,onActivateTick:!0})}},{key:"showError",value:function(t,e){this.show(t,e,"error")}},{key:"showInfo",value:function(t,e){this.show(t,e,"info")}},{key:"showSuccess",value:function(t,e){this.show(t,e,"success")}}]),t}();w.decorators=[{type:s.Injectable,args:[{providedIn:"root"}]}],w.ctorParameters=function(){return[{type:m.b}]},w.ngInjectableDef=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new w(Object(s["\u0275\u0275inject"])(m.b))},token:w,providedIn:"root"});var P=function t(e){var n=this;_classCallCheck(this,t),this.toastService=e,this.catchBadResponse=function(t){var e="";if(t.error instanceof Error)e="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ".concat(t.message);else if(void 0!==t.error)e="\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: ".concat(t.message);else switch(t.status){case 403:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2 \u03c3\u03b5 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03bf\u03bd\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1. error ".concat(t.status);break;case 401:e="\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03b4\u03b9\u03ba\u03b1\u03af\u03c9\u03bc\u03b1 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7\u03c2. error  \n ".concat(t.status);break;default:e="Backend returned code ".concat(t.status,", body was: ").concat(void 0!==t.body?t.body.error:void 0!==t.message?t.message:"")}return n.toastService.showError("","".concat(e)),Object(o.a)(!1)}};P.decorators=[{type:s.Injectable,args:[{providedIn:"root"}]}],P.ctorParameters=function(){return[{type:w}]},P.ngInjectableDef=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new P(Object(s["\u0275\u0275inject"])(w))},token:P,providedIn:"root"});var _=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,s){var i;return _classCallCheck(this,n),(i=e.call(this,s,t)).exceptionSrv=t,i.http=s,i.katastimataUrl=i.baseUrl+"/DiloseisWeb",i.dmsUrl=i.baseUrl+"/DocDmsApi",i.userInfoSubject=new a.a(null),i.userInfo$=i.userInfoSubject.asObservable(),i.egOnInit(),i}return _createClass(n,[{key:"egOnInit",value:function(){var t=this;this.userInfo$.subscribe((function(e){t.userInfo=e}))}},{key:"initUserInfo",value:function(){if(!this.userInfo)for(var t=null,e=0;e<window.localStorage.length;e++){var n=window.localStorage.key(e);"userData"===n.slice(0,8)&&(t=JSON.parse(window.localStorage.getItem(n)),this.userInfoSubject.next({email:t.email,username:t.given_name,tin:t.tin,family_name:t.family_name,given_name:t.given_name,name:t.name,address_city:t.address_city,address_country_code:t.address_country_code,address_zip:t.address_zip,address:t.address}))}}},{key:"getDiloseis",value:function(t){return this.http.get("".concat(this.katastimataUrl,"/DiloseisWebInfo/").concat(t)).pipe(Object(c.a)((function(t){return t})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"getDilosiPaymentInfo",value:function(t){return this.http.post("".concat(this.katastimataUrl,"/DilosiWebPaymentInfo"),t).pipe(Object(c.a)((function(t){return t})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"uploadPeriodikiDilosi",value:function(t){var e=new i.e;return e=e.append("isForm","true"),this.http.post("".concat(this.katastimataUrl,"/DilosiWebScan"),t,{headers:e,responseType:"arraybuffer"}).pipe(Object(c.a)((function(t){return t})),Object(p.a)((function(){return Object(o.a)(!1)})))}},{key:"getPayedInfo",value:function(t){return this.http.get("".concat(this.katastimataUrl,"/DiloseisWebPayedInfo/").concat(t)).pipe(Object(c.a)((function(t){return t})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"getEpixeirisiInfo",value:function(t){return this.http.get("".concat(this.katastimataUrl,"/DiloseisWebEpixirisiInfo/").concat(t)).pipe(Object(c.a)((function(t){return t})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"deleteDocDmsByDilosiId",value:function(t){var e=this.katastimataUrl+"/DeleteDocDmsByDilosiId/".concat(t);return this.http.get(e).pipe(Object(c.a)((function(t){return t})),Object(p.a)(this.exceptionSrv.catchBadResponse))}},{key:"markDilosiWebExoflisi",value:function(t){var e=this.katastimataUrl+"/MarkDilosiWebExoflisi";return this.http.post(e,t).pipe(Object(c.a)((function(t){return t})),Object(p.a)(this.exceptionService.catchBadResponse))}},{key:"addPaymentRequest",value:function(t){var e=this.financeUrl+"/Banks/AddPaymentRequest";return this.http.post(e,t).pipe(Object(c.a)((function(t){return t})),Object(p.a)(this.exceptionSrv.catchBadResponse))}}]),n}(function(){return function t(e,n){var s=this;_classCallCheck(this,t),this.http=e,this.exceptionService=n,this.getBaseUrl=function(){return s.baseUrl},AppConfOptions&&AppConfOptions.katastimata_api?(this.baseUrl=AppConfOptions.katastimata_api,this.financeUrl=AppConfOptions.epayments_api):(this.baseUrl="/",this.financeUrl=AppConfOptions.financeApi),this.baseUrl+="api",this.financeUrl+="api"}}());_.decorators=[{type:s.Injectable,args:[{providedIn:"root"}]}],_.ctorParameters=function(){return[{type:P},{type:i.b}]},_.ngInjectableDef=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new _(Object(s["\u0275\u0275inject"])(P),Object(s["\u0275\u0275inject"])(i.b))},token:_,providedIn:"root"});var D=function(){function t(e,n,s,i){_classCallCheck(this,t),this.katastimataNgSrv=e,this.toasterSrv=n,this.router=s,this.route=i,this.model=[],this.index=0,this.isLoading=!0,this.isAddingNewDilosi=!1,this.onDestroy=new r.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.katastimataNgSrv.initUserInfo(),this.katastimataNgSrv.userInfo$.pipe(Object(d.a)(this.onDestroy)).subscribe((function(e){t.userInfo=e})),this.router.events.pipe(Object(u.a)((function(t){return t instanceof h.b})),Object(d.a)(this.onDestroy)).subscribe((function(e){e&&e.url&&e.url.includes("receipts")&&(t.index=0)})),Object(l.a)([this.katastimataNgSrv.getEpixeirisiInfo(this.userInfo.tin),this.katastimataNgSrv.getDiloseis(this.userInfo.tin)]).subscribe((function(e){e&&(t.epixeirisiInfo=e[0],t.diloseisInfoResponse=e[1],t._loadData())}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_loadData",value:function(){var t=this;this.katastimataNgSrv.getPayedInfo(this.userInfo.tin).subscribe((function(e){e&&(t.model=e),t.isLoading=!1}))}},{key:"onCreateNewDilosiClicked",value:function(){this.isAddingNewDilosi=!0}},{key:"onTabChanged",value:function(t){0==t.index?this.router.navigate(["./debits"],{relativeTo:this.route}):this.router.navigate(["./receipts"],{relativeTo:this.route})}}]),t}();D.decorators=[{type:s.Component,args:[{selector:"lib-katastimata-ng",template:'<ng-container *ngIf="!(katastimataNgSrv.userInfo$ | async)">\n\t<div class="d-flex"\n\t\t  style="height: 100vh !important;">\n\t\t<div class="justify-content-center align-self-start w-100 mt-2">\n\t\t\t<div class="bg-danger text-light p-2"\n\t\t\t\t  role="alert">\n\t\t\t\t\u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b4\u03bf\u03ba\u03b9\u03bc\u03ac\u03c3\u03c4\u03b5 \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1!\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</ng-container>\n\n<ng-container *ngIf="(katastimataNgSrv.userInfo$ | async)">\n\t<div *ngIf="epixeirisiInfo || (diloseisInfoResponse && diloseisInfoResponse.length > 0)"\n\t\t  class="bg-light mb-3 px-2 py-1 d-flex flex-wrap">\n\t\t<p *ngIf="epixeirisiInfo"\n\t\t\tclass="m-0 mr-1 d-inline-flex align-items-center eponimia-title">\n\t\t\t<strong>\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1 \u0395\u03c0\u03b9\u03c7\u03b5\u03af\u03c1\u03b7\u03c3\u03b7\u03c2:</strong>&nbsp;{{ epixeirisiInfo.eponimia }}\n\t\t</p>\n\t\t<button *ngIf="diloseisInfoResponse && diloseisInfoResponse.length > 0"\n\t\t\t\t  (click)="onCreateNewDilosiClicked()"\n\t\t\t\t  type="button"\n\t\t\t\t  class="btn btn-primary m-0 ml-auto">\u039a\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7\u03c2 \u039d\u03ad\u03b1\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2</button>\n\t</div>\n\n\t<p-tabView [activeIndex]="index"\n\t\t\t\t  (onChange)="onTabChanged($event)">\n\t\t<p-tabPanel header="\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd \u03a4\u03ad\u03bb\u03bf\u03c5\u03c2 0,5% / \u03a0\u03b1\u03c1\u03b5\u03c0\u03b9\u03b4\u03b7\u03bc\u03bf\u03cd\u03bd\u03c4\u03c9\u03bd">\n\t\t\t<app-katastimata-receipts *ngIf="model"\n\t\t\t\t\t\t\t\t\t\t\t  [model]="model"\n\t\t\t\t\t\t\t\t\t\t\t  [userInfo]="userInfo"\n\t\t\t\t\t\t\t\t\t\t\t  [isLoading]="isLoading"\n\t\t\t\t\t\t\t\t\t\t\t  [diloseisInfoResponse]="diloseisInfoResponse"\n\t\t\t\t\t\t\t\t\t\t\t  (reloadData)="_loadData()"></app-katastimata-receipts>\n\t\t</p-tabPanel>\n\t</p-tabView>\n</ng-container>\n\n<eg-modal title="\u039d\u03ad\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7"\n\t\t\t [(isOpen)]="isAddingNewDilosi"\n\t\t\t [size]="\'xl\'">\n\t<div class="modal-body"\n\t\t  *ngIf="isAddingNewDilosi">\n\t\t<app-katastimata-create-dilosi [diloseisInfoResponse]="diloseisInfoResponse"\n\t\t\t\t\t\t\t\t\t\t\t\t [isOpen]="isAddingNewDilosi"></app-katastimata-create-dilosi>\n\t</div>\n</eg-modal>\n'}]}],D.ctorParameters=function(){return[{type:_},{type:w},{type:h.d},{type:h.a}]};var j=function t(){_classCallCheck(this,t),this.dilosiId=0,this.dilosiDescription=null,this.hmeromiaLixisDilosis=null},A=function t(){_classCallCheck(this,t),this.bankTransactionId=null},S={Ok:1,Error:2,Warning:3,UndefinedError:4};S[S.Ok]="Ok",S[S.Error]="Error",S[S.Warning]="Warning",S[S.UndefinedError]="UndefinedError";var R={aplirotes:1,pliromenes:2};R[R.aplirotes]="aplirotes",R[R.pliromenes]="pliromenes";var U={dilosiDescription:"\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2",ypokeimenoPoso:"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc",periodikiDilosiFPA:"\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)"};var F=n("C7T5"),E=function(){function t(e,n){_classCallCheck(this,t),this.katastimataNgSrv=e,this.toasterSrv=n,this.paymentResponseDto=null,this.onDestroy=new r.a,this.periodikiDilosiFPA=null,this.extraFile=null,this.uploadedFiles=[],this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.returnUrl="",this.assetsUrl="",this.errorMessageProfile=null,this.isLoading=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=U,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api,this.assetsUrl=AuthConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/dimotikos-foros/receipts")):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi,this.assetsUrl=AppConfOptions.assets_base_href,this.returnUrl=encodeURI(this.applicationUrl+"/plugin/receipts"))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.model=new j,this.katastimataNgSrv.userInfo$.pipe(Object(d.a)(this.onDestroy)).subscribe((function(e){e&&(t.userInfo=e)}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"ngOnChanges",value:function(t){t.isOpen&&0==t.isOpen.currentValue&&this.dimotikosForosForm.reset()}},{key:"onSelectedDilosiChanged",value:function(t){var e=this;t&&(this.model=this.diloseisInfoResponse.filter((function(t){return t.dilosiId===+e.model.dilosiId}))[0])}},{key:"onSubmit",value:function(){var t,e,n,s=this;if(this.isFormSubmitted=!0,this.dimotikosForosForm.valid){this.isLoading=!0;for(var i=[],a=Object.values(this.uploadedFiles),r=0;r<a.length;r++){var l=a[r],c=l.name.substr(l.name.lastIndexOf(".")+1);i.push({language:"el",dilosiId:+this.model.dilosiId,fileContent:l.base64,fileLength:l.size,fileExtension:c,fileDescription:r,fileName:l.name})}this.ypokeimenoPosoTransformed=this.ypokeimenoPoso.toString(),this.ypokeimenoPosoTransformed.indexOf(",")>1&&(this.ypokeimenoPosoTransformed=this.ypokeimenoPosoTransformed.replace(",","."));var p={language:"el",ypokeimenoPoso:+this.ypokeimenoPosoTransformed,dilosiId:+this.model.dilosiId},d=[];d=[].concat(_toConsumableArray(d),[this.katastimataNgSrv.deleteDocDmsByDilosiId(this.model.dilosiId)]),i.length>0&&i.forEach((function(t){d=[].concat(_toConsumableArray(d),[s.katastimataNgSrv.uploadPeriodikiDilosi(t)])})),function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},s=Object(f.a)((function(){return Object(o.a)(!0)})),i=[];return t.forEach((function(t){i=[].concat(_toConsumableArray(i),[Object(f.a)((function(e){return e?t:(n(),Object(o.a)(!1))}))])})),(e=Object(o.a)(!0)).pipe.apply(e,[s,s,s,s,s,s,s,s,s].concat(_toConsumableArray(i)))}(d=[].concat(_toConsumableArray(d),[this.katastimataNgSrv.getDilosiPaymentInfo(p)]),(function(){return s.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03bc\u03b5\u03c4\u03b1\u03c6\u03cc\u03c1\u03c4\u03c9\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd.")})).subscribe((function(t){t?(s.modelPaymentInfo=t,s.kodikosPliromis=s.modelPaymentInfo.paymentCode,s.kodikosPliromis&&s.kodikosPliromis.length>15&&(s.kodikosPliromis=s.modelPaymentInfo.paymentCode.match(/(.|[\r\n]){1,4}/g).toString(),s.kodikosPliromis=s.kodikosPliromis.replace(new RegExp(",","g")," ")),s.isLoading=!1,s.isFormSubmitted=!0):s.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03c9\u03bd \u03c0\u03bf\u03c3\u03ce\u03bd.")}))}else this.formErrorsMsg="",this.formErrors=(t=this.dimotikosForosForm,e=[],n=t.control,Object.keys(n.controls).forEach((function(t){var s=n.get(t);s instanceof y.FormGroup&&e.push.apply(e,_toConsumableArray(function t(e){var n=[];return Object.keys(e.controls).forEach((function(s){var i=e.get(s);i instanceof y.FormGroup&&n.push.apply(n,_toConsumableArray(t(i)));var o=i.errors;o&&Object.keys(o).forEach((function(t){n.push({control:s,error:t,value:o[t]})}))})),n}(s)));var i=s.errors;i&&Object.keys(i).forEach((function(n){e.push({control:t,error:n,value:i[n]})}))})),e),this.formErrors&&(this.formErrorsMsg="<ul>",this.formErrors.forEach((function(t){var e,n=t.control.split("-")[0];"required"==t.error?e="\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf":"pattern"==t.error&&(e="\u039b\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03b7 \u03bc\u03bf\u03c1\u03c6\u03ae \u03c0\u03b5\u03b4\u03af\u03bf\u03c5"),s.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: "+s.formDictionaryEnum[n]+" | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: "+e+"</li>"})),this.model.dilosiId||(this.formErrorsMsg+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf</li>"),this.formErrorsMsg+="<ul>")}},{key:"onFileChange",value:function(t,e){var n=this;t&&t.srcElement.files.length>0?F(t,!0).then((function(t){n.uploadedFiles[e]=t})):delete this.uploadedFiles[e]}},{key:"onPayClicked",value:function(){var t=this,e={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.returnUrl,entries:[],billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address},n={remittanceInfo:this.modelPaymentInfo.paymentCode,amount:this.modelPaymentInfo.paymentAmount,debtorName:this.modelPaymentInfo.epixirisiOfeiletisEponimia,tin:this.userInfo.tin,description:this.modelPaymentInfo.paymentCaption};e.entries.push(n),this.katastimataNgSrv.addPaymentRequest(e).subscribe((function(e){if(e){var n=e;n.statusCode==S.Ok?t._postBankForm(n.model):n.statusCode==S.Error&&"DEBTOR_ADDRESS_REQUIRED"==n.messageId&&(t.errorMessageProfile="\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb.",t.toasterSrv.showError("","\u0397 \u03c3\u03c5\u03bd\u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u0394\u0395\u039d \u03bf\u03bb\u03bf\u03ba\u03bb\u03b7\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5! \u03a0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03b5\u03c4\u03b5 \u03c4\u03b1 \u03c0\u03b5\u03b4\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7\u03c2 \u03c3\u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb."))}}))}},{key:"_postBankForm",value:function(t){var e=Object.keys(t.postFields).map((function(e){return{key:e,value:t.postFields[e]}}));t.postFields=e,this.paymentResponseDto=t,setTimeout((function(){document.getElementById("bankPaymentForm").submit()}),100)}}]),t}();E.decorators=[{type:s.Component,args:[{selector:"app-katastimata-create-dilosi",template:'<form *ngIf="model && diloseisInfoResponse && diloseisInfoResponse.length > 0"\n\t\t#dimotikosForosForm="ngForm"\n\t\tclass="form w-100">\n\t<div class="row">\n\t\t<div class="form-group col-12 col-sm-9">\n\t\t\t<label>\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2*</label>\n\t\t\t<ng-select [items]="diloseisInfoResponse"\n\t\t\t\t\t\t  bindLabel="dilosiDescription"\n\t\t\t\t\t\t  bindValue="dilosiId"\n\t\t\t\t\t\t  placeholder="\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7"\n\t\t\t\t\t\t  name="dilosiDescription"\n\t\t\t\t\t\t  #dilosiDescription="ngModel"\n\t\t\t\t\t\t  [(ngModel)]="model.dilosiId"\n\t\t\t\t\t\t  (change)="onSelectedDilosiChanged($event)"\n\t\t\t\t\t\t  [searchable]="true"\n\t\t\t\t\t\t  [clearable]="false"\n\t\t\t\t\t\t  required>\n\t\t\t</ng-select>\n\t\t\t<div [hidden]="!isFormSubmitted || (isFormSubmitted && model.dilosiId)"\n\t\t\t\t  class="text-danger">\n\t\t\t\t*\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.\n\t\t\t</div>\n\t\t</div>\n\t\t<div *ngIf="model && model.dilosiId"\n\t\t\t  class="form-group col-12 col-sm-3">\n\t\t\t<label>\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u039b\u03ae\u03be\u03b7\u03c2</label>\n\t\t\t<input type="text"\n\t\t\t\t\t class="form-control"\n\t\t\t\t\t [ngModel]="model.hmeromiaLixisDilosis |  date:\'dd/MM/yyyy\'"\n\t\t\t\t\t name="hmeromiaLixisDilosis"\n\t\t\t\t\t disabled>\n\t\t</div>\n\t</div>\n\t<div class="row">\n\t\t<div class="form-group col-12 col-sm-12">\n\t\t\t<label>\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc*</label>\n\t\t\t<input type="text"\n\t\t\t\t\t pattern="^([0-9]\\d*,[0-9]\\d*)|^([0-9]\\d*)$"\n\t\t\t\t\t placeholder="\u039c\u03bf\u03c1\u03c6\u03ae \u03c3\u03c5\u03bc\u03c0\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7\u03c2: 1000,1"\n\t\t\t\t\t class="form-control"\n\t\t\t\t\t name="ypokeimenoPoso"\n\t\t\t\t\t [(ngModel)]="ypokeimenoPoso"\n\t\t\t\t\t #ypokeimenoPosoInput="ngModel"\n\t\t\t\t\t required>\n\t\t\t<div [hidden]="!isFormSubmitted || (isFormSubmitted && ypokeimenoPosoInput.valid && ypokeimenoPoso)"\n\t\t\t\t  class="text-danger">\n\t\t\t\t*\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf & \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03b5\u03af\u03bd\u03b1\u03b9 \u03bc\u03cc\u03bd\u03bf \u03b1\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 (\u03c4\u03b1 \u03b4\u03b5\u03ba\u03b1\u03b4\u03b9\u03ba\u03ac \u03c7\u03c9\u03c1\u03b9\u03c3\u03bc\u03ad\u03bd\u03b1 \u03bc\u03b5 \u03ba\u03cc\u03bc\u03bc\u03b1).\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="row">\n\t\t<div class="form-group col-12 col-sm-6">\n\t\t\t<label for="periodikiDilosiFPA">\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)*</label>\n\t\t\t<input type="file"\n\t\t\t\t\t class="form-control-file"\n\t\t\t\t\t [(ngModel)]="periodikiDilosiFPA"\n\t\t\t\t\t name="periodikiDilosiFPA"\n\t\t\t\t\t #periodikiDilosiFPAInput="ngModel"\n\t\t\t\t\t (change)="onFileChange($event, \'periodikiDilosiFPA\')"\n\t\t\t\t\t required>\n\t\t\t<div [hidden]="!isFormSubmitted || (isFormSubmitted && periodikiDilosiFPA)"\n\t\t\t\t  class="text-danger">\n\t\t\t\t*\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="form-group col-12 col-sm-6">\n\t\t\t<label for="extraFile">\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf</label>\n\t\t\t<input type="file"\n\t\t\t\t\t class="form-control-file"\n\t\t\t\t\t [(ngModel)]="extraFile"\n\t\t\t\t\t name="extraFile"\n\t\t\t\t\t (change)="onFileChange($event, \'extraFile\')">\n\t\t</div>\n\t</div>\n\t<button class="btn btn-primary d-block mt-2 mx-auto"\n\t\t\t  type="button"\n\t\t\t  (click)="onSubmit()">\n\t\t\u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc\u03c2 \u03a0\u03bf\u03c3\u03ce\u03bd\n\t</button>\n\t<div *ngIf="formErrorsMsg && formErrorsMsg != \'\'"\n\t\t  class="alert alert-danger form-msgs"\n\t\t  style="font-size: 13px; color: #ffffff !important;"\n\t\t  [innerHTML]="formErrorsMsg"></div>\n\t<div *ngIf="errorMessageProfile"\n\t\t  class="screen-msg">\n\t\t<p>{{ errorMessageProfile }}</p>\n\t</div>\n</form>\n\n<div *ngIf="isLoading"\n\t  class="bg-white"\n\t  style="width: 100%; height: 300px">\n\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\n\t</span>\n</div>\n\n<ng-container *ngIf="modelPaymentInfo && !isLoading">\n\t<hr />\n\t<h4 class="w-100 pb-2">\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03bf\u03cd</h4>\n\t<div class="debits-info d-flex justify-content-between">\n\t\t<div class="debits-info_left d-flex mr-1">\n\t\t\t<div>\n\t\t\t\t<p class="mb-0"><span class="mr-1"\n\t\t\t\t\t\t\tstyle="width: 220px;"><strong>\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:</strong></span></p>\n\t\t\t\t<p class="mb-0"><span class="mr-1"\n\t\t\t\t\t\t\tstyle="width: 220px;"><strong>\u03a0\u03bf\u03c3\u03cc \u03a4\u03ad\u03bb\u03bf\u03c5\u03c2:</strong></span></p>\n\t\t\t\t<p class="mb-0"><span class="mr-1"\n\t\t\t\t\t\t\tstyle="width: 220px;"><strong>\u039c\u03ae\u03bd\u03b5\u03c2 \u039a\u03b1\u03b8\u03c5\u03c3\u03c4\u03ad\u03c1\u03b7\u03c3\u03b7\u03c2:</strong></span></p>\n\t\t\t\t<p class="mb-0"><span class="mr-1"\n\t\t\t\t\t\t\tstyle="width: 220px;"><strong>\u03a0\u03bf\u03c3\u03cc \u03a0\u03c1\u03bf\u03c3\u03c4\u03af\u03bc\u03bf\u03c5:</strong></span></p>\n\t\t\t\t<p class="mb-0"><span class="mr-1"\n\t\t\t\t\t\t\tstyle="width: 220px;"><strong>\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:</strong></span></p>\n\t\t\t\t<p class="mb-0"><span class="mr-1"\n\t\t\t\t\t\t\tstyle="width: 220px;"><strong>\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:</strong></span></p>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<p class="mb-0"><span class="totalPoso">{{ modelPaymentInfo.paymentCaption }}</span></p>\n\t\t\t\t<p class="mb-0"><span\n\t\t\t\t\t\t\tclass="totalPoso">{{ modelPaymentInfo.telosPoso | currency:\'\u20ac\':\'symbol\':\'1.2\':\'el\' }}</span></p>\n\t\t\t\t<p class="mb-0"><span class="totalPoso">{{ modelPaymentInfo.posostoEkprothesmisKatavolisMines }}</span></p>\n\t\t\t\t<p class="mb-0"><span\n\t\t\t\t\t\t\tclass="totalPoso">{{ modelPaymentInfo.prostimoPoso | currency:\'\u20ac\':\'symbol\':\'1.2\':\'el\' }}</span></p>\n\t\t\t\t<p class="mb-0"><span\n\t\t\t\t\t\t\tclass="totalPoso">{{ modelPaymentInfo.paymentAmount | currency:\'\u20ac\':\'symbol\':\'1.2\':\'el\' }}</span>\n\t\t\t\t</p>\n\t\t\t\t<p class="mb-0"><span class="totalPoso">{{ kodikosPliromis }}</span></p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="debits-info_right d-flex align-items-center justify-content-center flex-column">\n\t\t\t<button class="btn btn-primary mb-2"\n\t\t\t\t\t  (click)=\'onPayClicked()\'>\n\t\t\t\t\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2\n\t\t\t</button>\n\n\t\t\t<div>\n\t\t\t\t<img src="{{ assetsUrl }}cards/Visa.jpg"\n\t\t\t\t\t  alt="Visa"\n\t\t\t\t\t  width="40"\n\t\t\t\t\t  class="mr-1" />\n\t\t\t\t<img src="{{ assetsUrl }}cards/Mastercard.jpg"\n\t\t\t\t\t  alt="Mastercard"\n\t\t\t\t\t  width="40"\n\t\t\t\t\t  class="mr-1" />\n\t\t\t\t<img src="{{ assetsUrl }}cards/Maestro.jpg"\n\t\t\t\t\t  alt="Maestro"\n\t\t\t\t\t  width="40" />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</ng-container>\n\n\x3c!-- Hidden form to pay --\x3e\n<form *ngIf="paymentResponseDto"\n\t\tid="bankPaymentForm"\n\t\tmethod="POST"\n\t\taction="{{ paymentResponseDto.postUlr }}"\n\t\tclass="hidden">\n\t<div *ngFor="let postField of paymentResponseDto.postFields; let i = index">\n\t\t{{ postField.key }} : <input type="text"\n\t\t\t\t name="{{ postField.key }}"\n\t\t\t\t value="{{ postField.value }}" />\n\t</div>\n</form>\n\x3c!-- End --\x3e\n',changeDetection:s.ChangeDetectionStrategy.Default}]}],E.ctorParameters=function(){return[{type:_},{type:w}]},E.propDecorators={diloseisInfoResponse:[{type:s.Input}],isOpen:[{type:s.Input}],dimotikosForosForm:[{type:s.ViewChild,args:["dimotikosForosForm",{static:!1}]}]};var M=function(){function t(e,n,i){_classCallCheck(this,t),this.katastimataNgSrv=e,this.route=n,this._http=i,this.reloadData=new s.EventEmitter,this.onDestroy=new r.a,this.applicationUrl="",this.katastimataApiUrl="",this.financeApiUrl="",this.sumAkatharisto=0,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,"undefined"!=typeof AuthConfOptions&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=AuthConfOptions.redirect_url,this.katastimataApiUrl=AppConfOptions.katastimata_api,this.financeApiUrl=AppConfOptions.epayments_api):(this.applicationUrl=AppConfOptions.applicationUrl,this.katastimataApiUrl=AppConfOptions.applicationUrl,this.financeApiUrl=AppConfOptions.financeApi)}return _createClass(t,[{key:"ngOnChanges",value:function(t){var e=this;t&&t.model&&(this.model=t.model.currentValue,this.sumAkatharisto=0,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.model.forEach((function(t){e.sumAkatharisto+=t.akatharistoPoso,e.sumYpokeimeno+=t.ypokeimenoPoso,e.sumTelos+=t.telosPoso,e.sumProstimo+=t.prostimoPoso})))}},{key:"ngOnInit",value:function(){var t=this;this.katastimataNgSrv.userInfo$.pipe(Object(d.a)(this.onDestroy)).subscribe((function(e){return t.userInfo=e})),this._getBankMessages().pipe(Object(f.a)((function(e){return e?(t.oikonomikiBankMessages=e,t.route.queryParams.pipe(Object(d.a)(t.onDestroy))):Object(o.a)(!1)}))).subscribe((function(e){if(e){var n=e,s=n.messagecode,i=n.btId;if(s)if(t.bankStatusMessage=t.oikonomikiBankMessages[s],"TRANSACTION_COMPLETED"==s){if(t.bankStatusMessageClass="badge-success",i){var o=new A;o.bankTransactionId=i,t.katastimataNgSrv.markDilosiWebExoflisi(o).subscribe((function(){t.reloadData.emit(!0)}))}}else t.bankStatusMessageClass="badge-danger"}}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"_getBankMessages",value:function(){var t=this.financeApiUrl+"api/Banks/BankMessages";return this._http.get(t)}},{key:"btnBankStatusMessageClicked",value:function(){this.bankStatusMessage=null}}]),t}();M.decorators=[{type:s.Component,args:[{selector:"app-katastimata-receipts",template:'\x3c!-- Pliromenes Headers --\x3e\n<div class="d-flex w-100 justify-content-center"\n\t  *ngIf="(!diloseisInfoResponse || diloseisInfoResponse.length == 0) && !isLoading">\n\t<p class="badge badge-warning p-1">\n\t\t\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc.\n\t</p>\n</div>\n\n<div *ngIf="(!model || model.length == 0) && !isLoading"\n\t  class="d-flex justify-content-center w-100">\n\t<p class="badge badge-warning">\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03b5\u03c2 \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2 \u03c3\u03c4\u03bf \u03b9\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2.</p>\n</div>\n\n<div *ngIf="bankStatusMessage"\n\t  class="bank-msg badge w-100 mb-2 position-relative {{ bankStatusMessageClass }}">\n\t<button (click)="btnBankStatusMessageClicked()"\n\t\t\t  class="close-bank-msg position-absolute"\n\t\t\t  style="right: 5px; top: 5px; background-color: transparent; border: 0 none; color: #ffffff;">\n\t\t<i class="fas fa-times"\n\t\t\taria-hidden="true"></i>\n\t</button>\n\t{{ bankStatusMessage }}\n</div>\n\n<div *ngIf="isLoading"\n\t  class="bg-white"\n\t  style="width: 100%; height: 300px">\n\t<span class="d-flex justify-content-center align-items-center w-100 h-100">\n\t\t<i class="fas fa-circle-notch fa-3x fa-pulse"></i>\n\t</span>\n</div>\n\n<ng-container *ngIf="!isLoading">\n\t<p>\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd: <strong>{{ model.length }}</strong></p>\n\n\t<p-table [value]="model"\n\t\t\t\t[autoLayout]="true"\n\t\t\t\t[responsive]="true"\n\t\t\t\t[scrollable]="true"\n\t\t\t\t[lazy]="false"\n\t\t\t\t[paginator]="true"\n\t\t\t\t[alwaysShowPaginator]="false"\n\t\t\t\t[rows]="10"\n\t\t\t\t[totalRecords]="model.length">\n\t\t<ng-template pTemplate="header">\n\t\t\t<tr>\n\t\t\t\t<th class="fixed-width-col-60 text-center">#</th>\n\t\t\t\t<th class="fixed-width-col-170">\u0394\u03ae\u03bb\u03c9\u03c3\u03b7</th>\n\t\t\t\t<th class="fixed-width-col-100">\u0391\u03ba\u03b1\u03b8\u03ac\u03c1\u03b9\u03c3\u03c4\u03bf \u03a0\u03bf\u03c3\u03cc</th>\n\t\t\t\t<th class="fixed-width-col-100">\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc</th>\n\t\t\t\t<th class="fixed-width-col-100">\u03a4\u03ad\u03bb\u03bf\u03c2</th>\n\t\t\t\t<th class="fixed-width-col-100">\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf</th>\n\t\t\t\t<th class="fixed-width-col-120">\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</th>\n\t\t\t</tr>\n\t\t</ng-template>\n\t\t<ng-template pTemplate="body"\n\t\t\t\t\t\t let-dto\n\t\t\t\t\t\t let-rowIndex="rowIndex">\n\t\t\t<tr>\n\t\t\t\t<td class="fixed-width-col-60 text-center">\n\t\t\t\t\t<span class="ui-column-title">#</span>\n\t\t\t\t\t{{ rowIndex+1 }}\n\t\t\t\t</td>\n\t\t\t\t<td class="fixed-width-col-170">\n\t\t\t\t\t<span class="ui-column-title">\u0394\u03ae\u03bb\u03c9\u03c3\u03b7</span>\n\t\t\t\t\t{{ dto.dilosiCaption }}\n\t\t\t\t</td>\n\t\t\t\t<td class="fixed-width-col-100 text-right">\n\t\t\t\t\t<span class="ui-column-title">\u0391\u03ba\u03b1\u03b8\u03ac\u03c1\u03b9\u03c3\u03c4\u03bf \u03a0\u03bf\u03c3\u03cc</span>\n\t\t\t\t\t{{ dto.akatharistoPoso | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\n\t\t\t\t</td>\n\t\t\t\t<td class="fixed-width-col-100 text-right">\n\t\t\t\t\t<span class="ui-column-title">\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc</span>\n\t\t\t\t\t{{ dto.ypokeimenoPoso | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\n\t\t\t\t</td>\n\t\t\t\t<td class="fixed-width-col-100 text-right">\n\t\t\t\t\t<span class="ui-column-title">\u03a4\u03ad\u03bb\u03bf\u03c2</span>\n\t\t\t\t\t{{ dto.telosPoso | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\n\t\t\t\t</td>\n\t\t\t\t<td class="fixed-width-col-100 text-right">\n\t\t\t\t\t<span class="ui-column-title">\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf</span>\n\t\t\t\t\t{{ dto.prostimoPoso | currency:\'\u20ac\':\'symbol\':\'1.2\' }}\n\t\t\t\t</td>\n\t\t\t\t<td class="fixed-width-col-120">\n\t\t\t\t\t<span class="ui-column-title">\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2</span>\n\t\t\t\t\t{{ dto.stoixeiaApodixis }}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</ng-template>\n\t\t<ng-template pTemplate="footer">\n\t\t\t<tr>\n\t\t\t\t<td class="fixed-width-col-230 text-right" colspan="2"><strong>\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf:</strong></td>\n\t\t\t\t<td class="fixed-width-col-100 text-right">\n\t\t\t\t\t<strong>{{ sumAkatharisto | currency : \'EUR\' : \'symbol\' : \'1.2-2\': \'el\' }}</strong>\n\t\t\t\t</td>\n\t\t\t\t<td class="fixed-width-col-100 text-right">\n\t\t\t\t\t<strong>{{ sumYpokeimeno | currency : \'EUR\' : \'symbol\' : \'1.2-2\': \'el\' }}</strong>\n\t\t\t\t</td>\n\t\t\t\t<td class="fixed-width-col-100 text-right">\n\t\t\t\t\t<strong>{{ sumTelos | currency : \'EUR\' : \'symbol\' : \'1.2-2\': \'el\' }}</strong>\n\t\t\t\t</td>\n\t\t\t\t<td class="fixed-width-col-100 text-right">\n\t\t\t\t\t<strong>{{ sumProstimo | currency : \'EUR\' : \'symbol\' : \'1.2-2\': \'el\' }}</strong>\n\t\t\t\t</td>\n\t\t\t\t<td class="fixed-width-col-120">&nbsp;</td>\n\t\t\t</tr>\n\t\t</ng-template>\n\t</p-table>\n</ng-container>\n'}]}],M.ctorParameters=function(){return[{type:_},{type:h.a},{type:i.b}]},M.propDecorators={model:[{type:s.Input}],diloseisInfoResponse:[{type:s.Input}],userInfo:[{type:s.Input}],isLoading:[{type:s.Input}],reloadData:[{type:s.Output}]};var T=[{path:"",component:D,children:[{path:"",pathMatch:"full",redirectTo:"receipts"},{path:"receipts",component:M}]}],N=function t(){_classCallCheck(this,t)};N.decorators=[{type:s.NgModule,args:[{imports:[h.e.forChild(T)],exports:[h.e]}]}];var B=function t(){_classCallCheck(this,t)};B.decorators=[{type:s.NgModule,args:[{imports:[g.CommonModule,y.FormsModule,N,b.a,x.a,O.a,C.a,k.CurrencyMaskModule,v.b],declarations:[D,E,M],exports:[D],providers:[{provide:I.CURRENCY_MASK_CONFIG,useValue:{align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."}}]}]}];var L,W=n("G0yt"),z=n("PCNd"),$=n("2aIP"),V=function(){function t(e){var n=this;_classCallCheck(this,t),this.oidcSecuritySrv=e,this.onDestroy=new r.a,this.oidcSecuritySrv.getIsAuthorized().pipe(Object(d.a)(this.onDestroy)).subscribe((function(t){n.isAuthorized=t}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.onDestroy.next()}}]),t}();V.ctorParameters=function(){return[{type:$.c}]};var q=[{path:"",component:V=function(t,e,n,s){var i,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,s);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}([Object(s.Component)({selector:"app-dimotikos-foros",template:(L=n("Qjlr"),L&&L.__esModule?L:{default:L}).default}),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[$.c])],V)}],G=function t(){_classCallCheck(this,t)};G=function(t,e,n,s){var i,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,s);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}([Object(s.NgModule)({imports:[h.e.forChild(q)],exports:[h.e]})],G);var J=function(){function t(e){_classCallCheck(this,t),this.http=e,this.apiUrl=AppConfOptions.dimotikos_foros_api+"/api/"}return _createClass(t,[{key:"getDiloseis",value:function(t){var e=this.apiUrl+"Atm/DiloseisInfo";return this.http.post(e,t)}}]),t}();J.ctorParameters=function(){return[{type:i.b}]},J=function(t,e,n,s){var i,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,s);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}([Object(s.Injectable)(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:paramtypes",[i.b])],J),n.d(e,"DimotikosForosModule",(function(){return Y}));var Y=function t(){_classCallCheck(this,t)};Y=function(t,e,n,s){var i,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,s);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}([Object(s.NgModule)({declarations:[V],imports:[z.a,W.d,G,B],providers:[J]})],Y)},C7T5:function(t,e){t.exports=function(t){return new Promise((function(e,s){var i=new FileReader,o=t.target.files;if(o.length>1)s(new DOMException("Only one file can be uploaded at a time"));else{i.onerror=function(){i.abort(),s(new DOMException("Problem parsing input file."))};var a=o[0];i.onload=function(t){var s=new Uint8Array(t.target.result),o=[];s.map((function(t){o.push(t.toString(16))}));var r=o.join("").toUpperCase(),l=i.result.split(",")[1];a.base64=l,a.binaryFileType=n(r),e(a)},i.readAsDataURL(a)}}))};var n=function(t){switch(t){case"89504E47":return"image/png";case"47494638":return"image/gif";case"25504446":return"application/pdf";case"FFD8FFDB":case"FFD8FFE0":return"image/jpeg";case"504B0304":return"application/zip";default:return"Unknown filetype"}}},Qjlr:function(t,e,n){"use strict";n.r(e),e.default='<ng-container *ngIf="isAuthorized">\r\n\t<div class="katastimata-container bg-white"\r\n\t\t  style="padding: 30px;">\r\n\t\t<lib-katastimata-ng></lib-katastimata-ng>\r\n\t</div>\r\n</ng-container>\r\n'}}]);