"use strict";(self.webpackChunkegritos_group_eg_web_apps=self.webpackChunkegritos_group_eg_web_apps||[]).push([[402],{3402:(ci,Z,r)=>{r.r(Z),r.d(Z,{KatastimataModule:()=>di,PublicLibLoader:()=>mi});var y=r(529),t=r(4650),n=r(2346),H=r(1135),h=r(9646),A=r(7579),E=r(4128),m=r(4004),c=r(262),b=r(2722),C=r(3900),g=r(9197),M=r(8930),d=r(6895),T=r(8783),F=r(1493),x=r(2665),f=r(4006),U=r(1989),q=r(7254),w=r(769),O=r(723),$=r(1481),K=r(805),I=r(3534),V=r(4247),R=r(9764);const X=["dimotikosForosForm"];function tt(e,u){if(1&e){const i=t.EpF();t.TgZ(0,"div",19)(1,"label"),t._uU(2,"\u03a0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc*"),t.qZA(),t.TgZ(3,"ng-select",20,21),t.NdJ("ngModelChange",function(o){t.CHM(i);const a=t.oxw(2);return t.KtG(a.selectedPososto=o)}),t.qZA(),t.TgZ(5,"div",9),t._uU(6," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),t.qZA()()}if(2&e){const i=t.oxw(2);t.xp6(3),t.Q6J("appendTo","body")("searchable",!0)("clearable",!1)("items",i.pososta)("ngModel",i.selectedPososto)("disabled",3==i.dilosi.statusId||4==i.dilosi.statusId||5==i.dilosi.statusId||7==i.dilosi.statusId||i.dilosi.oikothenId||i.dilosi.xrimatikosKatalogosEggrafesProstimoId||i.dilosi.xrimatikosKatalogosEggrafesTelosId),t.xp6(2),t.Q6J("hidden",!i.isFormSubmitted||"1"==i.onlinePaymentsSettingsCompany||i.isFormSubmitted&&"1"!=i.onlinePaymentsSettingsCompany&&i.selectedPososto&&""!=i.selectedPososto)}}function it(e,u){1&e&&(t.TgZ(0,"span"),t._uU(1,"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd"),t.qZA())}function et(e,u){1&e&&(t.TgZ(0,"span"),t._uU(1,"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1\u03c2 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd"),t.qZA())}function st(e,u){if(1&e&&(t.TgZ(0,"div",26)(1,"a",27),t.ALo(2,"async"),t.ALo(3,"securePlg"),t._UZ(4,"i",28),t.qZA(),t.TgZ(5,"strong"),t._uU(6),t.qZA(),t._uU(7),t.TgZ(8,"small"),t._UZ(9,"i",29),t._uU(10),t.ALo(11,"date"),t.qZA()()),2&e){const i=u.$implicit,s=t.oxw(3);t.xp6(1),t.s9C("download",i.fileName),t.Q6J("href",t.lcZ(2,5,t.lcZ(3,7,s.katastimataApiUrl+"/api/DocDms/DownloadFile/"+i.dmsId)),t.LSH),t.xp6(5),t.Oqu(i.perigrafi),t.xp6(1),t.hij(" (",i.fileName,")\xa0 "),t.xp6(3),t.hij(" ",t.xi3(11,9,i.creationTime,"dd/MM/yyyy"),"")}}function ot(e,u){if(1&e){const i=t.EpF();t.ynx(0),t.TgZ(1,"div",22)(2,"h5"),t._uU(3,"\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u0391\u03c1\u03c7\u03b5\u03af\u03b1"),t.qZA(),t.TgZ(4,"button",23),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(2);return t.KtG(o.toggleEditFiles=!o.toggleEditFiles)}),t._UZ(5,"i",24),t.YNc(6,it,2,0,"span",2),t.YNc(7,et,2,0,"span",2),t.qZA()(),t.YNc(8,st,12,12,"div",25),t.BQk()}if(2&e){const i=t.oxw(2);t.xp6(4),t.Q6J("disabled",3==i.dilosi.statusId||4==i.dilosi.statusId||5==i.dilosi.statusId||7==i.dilosi.statusId||i.dilosi.oikothenId||i.dilosi.xrimatikosKatalogosEggrafesProstimoId||i.dilosi.xrimatikosKatalogosEggrafesTelosId),t.xp6(2),t.Q6J("ngIf",!i.toggleEditFiles),t.xp6(1),t.Q6J("ngIf",i.toggleEditFiles),t.xp6(1),t.Q6J("ngForOf",i.dilosiFiles)}}function nt(e,u){1&e&&t._UZ(0,"p-message",38)}function at(e,u){if(1&e){const i=t.EpF();t.ynx(0),t.YNc(1,nt,1,0,"p-message",30),t.TgZ(2,"div",5)(3,"div",31)(4,"label",32),t._uU(5,"\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)*"),t.qZA(),t.TgZ(6,"p-fileUpload",33,34),t.NdJ("onRemove",function(o){t.CHM(i);const a=t.oxw(2);return t.KtG(a.onRemoveFile(o))})("onSelect",function(o){t.CHM(i);const a=t.oxw(2);return t.KtG(a.onAddFile(o,"periodikiDilosiFPA"))}),t.qZA(),t.TgZ(8,"div",9),t._uU(9," *\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),t.qZA()(),t.TgZ(10,"div",31)(11,"label",35),t._uU(12,"\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf (\u03a0.\u03c7. \u0399\u03c3\u03bf\u03b6\u03cd\u03b3\u03b9\u03bf)"),t.qZA(),t.TgZ(13,"p-fileUpload",36,37),t.NdJ("onRemove",function(o){t.CHM(i);const a=t.oxw(2);return t.KtG(a.onRemoveFile(o))})("onSelect",function(o){t.CHM(i);const a=t.oxw(2);return t.KtG(a.onAddFile(o,"extraFile"))}),t.qZA()()(),t.BQk()}if(2&e){const i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",i.toggleEditFiles),t.xp6(5),t.Q6J("chooseLabel","\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0391\u03c1\u03c7\u03b5\u03af\u03bf\u03c5")("showUploadButton",!1)("showCancelButton",!1)("multiple",!1)("maxFileSize",4e6)("invalidFileSizeMessageSummary","\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03be\u03b5\u03c0\u03b5\u03c1\u03bd\u03ac \u03c4\u03bf \u03bc\u03ad\u03b3\u03b9\u03c3\u03c4\u03bf \u03b5\u03c0\u03b9\u03c4\u03c1\u03b5\u03c0\u03c4\u03cc \u03bc\u03ad\u03b3\u03b5\u03b8\u03bf\u03c2 (4MB)")("invalidFileTypeMessageSummary","\u039f\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03b5\u03c0\u03cc\u03bc\u03b5\u03bd\u03bf\u03b9 \u03c4\u03cd\u03c0\u03bf\u03b9 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 pdf, jpg, jpeg, doc \u03ba\u03b1\u03b9 docx."),t.xp6(2),t.Q6J("hidden",!i.isFormSubmitted||i.isFormSubmitted&&i.uploadedFiles&&i.uploadedFiles.periodikiDilosiFPA),t.xp6(5),t.Q6J("chooseLabel","\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0391\u03c1\u03c7\u03b5\u03af\u03bf\u03c5")("showUploadButton",!1)("showCancelButton",!1)("multiple",!1)("maxFileSize",4e6)("invalidFileSizeMessageSummary","\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03be\u03b5\u03c0\u03b5\u03c1\u03bd\u03ac \u03c4\u03bf \u03bc\u03ad\u03b3\u03b9\u03c3\u03c4\u03bf \u03b5\u03c0\u03b9\u03c4\u03c1\u03b5\u03c0\u03c4\u03cc \u03bc\u03ad\u03b3\u03b5\u03b8\u03bf\u03c2 (4MB)")("invalidFileTypeMessageSummary","\u039f\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03b5\u03c0\u03cc\u03bc\u03b5\u03bd\u03bf\u03b9 \u03c4\u03cd\u03c0\u03bf\u03b9 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 pdf, jpg, jpeg, doc \u03ba\u03b1\u03b9 docx.")}}function ut(e,u){1&e&&(t.TgZ(0,"span"),t._UZ(1,"span",39),t._uU(2," \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc\u03c2 \u03a0\u03bf\u03c3\u03ce\u03bd"),t.qZA())}function lt(e,u){1&e&&(t.TgZ(0,"span"),t._UZ(1,"span",40),t._uU(2," \u03a5\u03c0\u03bf\u03b2\u03bf\u03bb\u03ae"),t.qZA())}function rt(e,u){if(1&e&&t._UZ(0,"div",41),2&e){const i=t.oxw(2);t.Q6J("innerHTML",i.formErrorsMsg,t.oJD)}}function pt(e,u){if(1&e){const i=t.EpF();t.TgZ(0,"form",3,4)(2,"div",5)(3,"div",6)(4,"label"),t._uU(5,"\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2*"),t.qZA(),t.TgZ(6,"ng-select",7,8),t.NdJ("ngModelChange",function(o){t.CHM(i);const a=t.oxw();return t.KtG(a.dilosiCopy.dilosiId=o)})("ngModelChange",function(o){t.CHM(i);const a=t.oxw();return a.onSelectedDilosiChanged(o),t.KtG(a.isFormDirty=!0)}),t.qZA(),t.TgZ(8,"div",9),t._uU(9," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),t.qZA()(),t.TgZ(10,"div",6)(11,"label"),t._uU(12,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),t.qZA(),t._UZ(13,"input",10),t.ALo(14,"date"),t.qZA(),t.TgZ(15,"div",11)(16,"p-checkbox",12),t.NdJ("ngModelChange",function(o){t.CHM(i);const a=t.oxw();return t.KtG(a.dilosiCopy.isMideniki=o)})("ngModelChange",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.onIsMidenikiChanged())}),t.qZA()()(),t.TgZ(17,"div",5),t.YNc(18,tt,7,7,"div",13),t.TgZ(19,"div",14)(20,"label"),t._uU(21,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc*"),t.qZA(),t.TgZ(22,"input",15,16),t.NdJ("ngModelChange",function(o){t.CHM(i);const a=t.oxw();return t.KtG(a.dilosiCopy.ypokeimenoPoso=o)})("ngModelChange",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.isFormDirty=!0)}),t.qZA(),t.TgZ(24,"div",9),t._uU(25," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),t.qZA()()(),t.YNc(26,ot,9,4,"ng-container",2),t.YNc(27,at,15,16,"ng-container",2),t._UZ(28,"hr"),t.TgZ(29,"button",17),t.NdJ("click",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.onSubmit())}),t.YNc(30,ut,3,0,"span",2),t.YNc(31,lt,3,0,"span",2),t.qZA(),t.YNc(32,rt,1,1,"div",18),t.qZA()}if(2&e){const i=t.MAs(7),s=t.MAs(23),o=t.oxw();t.xp6(6),t.Q6J("appendTo","body")("searchable",!0)("clearable",!1)("items",o.diloseisToPay)("ngModel",o.dilosiCopy.dilosiId)("disabled",3==o.dilosi.statusId||4==o.dilosi.statusId||5==o.dilosi.statusId||7==o.dilosi.statusId||o.dilosi.oikothenId||o.dilosi.xrimatikosKatalogosEggrafesProstimoId||o.dilosi.xrimatikosKatalogosEggrafesTelosId),t.xp6(2),t.Q6J("hidden",!o.isFormSubmitted||o.isFormSubmitted&&i.valid),t.xp6(5),t.Q6J("value",t.xi3(14,21,o.dilosiCopy.hmeromiaLixisDilosis,"dd/MM/yyyy")),t.xp6(3),t.Q6J("ngModel",o.dilosiCopy.isMideniki)("disabled",3==o.dilosi.statusId||4==o.dilosi.statusId||5==o.dilosi.statusId||7==o.dilosi.statusId||o.dilosi.oikothenId||o.dilosi.xrimatikosKatalogosEggrafesProstimoId||o.dilosi.xrimatikosKatalogosEggrafesTelosId),t.xp6(2),t.Q6J("ngIf","1"!=o.onlinePaymentsSettingsCompany),t.xp6(1),t.Q6J("ngClass","1"==o.onlinePaymentsSettingsCompany?"":"col-md-6"),t.xp6(3),t.Q6J("ngModel",o.dilosiCopy.ypokeimenoPoso)("disabled",3==o.dilosi.statusId||4==o.dilosi.statusId||5==o.dilosi.statusId||7==o.dilosi.statusId||o.dilosi.oikothenId||o.dilosi.xrimatikosKatalogosEggrafesProstimoId||o.dilosi.xrimatikosKatalogosEggrafesTelosId||o.dilosi.isMideniki),t.xp6(2),t.Q6J("hidden",!o.isFormSubmitted||o.isFormSubmitted&&s.valid),t.xp6(2),t.Q6J("ngIf",o.dilosiFiles&&o.dilosiFiles.length),t.xp6(1),t.Q6J("ngIf",o.toggleEditFiles||!o.dilosiFiles||o.dilosiFiles&&0==o.dilosiFiles.length),t.xp6(2),t.Q6J("disabled",3==o.dilosi.statusId||4==o.dilosi.statusId||5==o.dilosi.statusId||7==o.dilosi.statusId||o.dilosi.oikothenId||o.dilosi.xrimatikosKatalogosEggrafesProstimoId||o.dilosi.xrimatikosKatalogosEggrafesTelosId),t.xp6(1),t.Q6J("ngIf",!o.dilosiCopy.isMideniki&&"1"==o.onlinePaymentsSettingsCompany),t.xp6(1),t.Q6J("ngIf",o.dilosiCopy.isMideniki||"1"!=o.onlinePaymentsSettingsCompany),t.xp6(1),t.Q6J("ngIf",o.formErrorsMsg&&""!=o.formErrorsMsg)}}function dt(e,u){1&e&&(t.TgZ(0,"p",45)(1,"span",46),t._uU(2,"\u03a4\u03b1\u03c5\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2 \u0394\u0399\u0391\u03a3:"),t.qZA()())}function mt(e,u){1&e&&(t.TgZ(0,"p",45)(1,"span",46),t._uU(2,"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u039b\u03ae\u03be\u03b7\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2:"),t.qZA()())}function ct(e,u){if(1&e&&(t.TgZ(0,"p",45)(1,"span",48),t._uU(2),t.qZA()()),2&e){const i=t.oxw(2);t.xp6(2),t.Oqu(i.kodikosPliromis)}}function ht(e,u){if(1&e&&(t.TgZ(0,"p",45)(1,"span",48),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&e){const i=t.oxw(2);t.xp6(2),t.Oqu(t.xi3(3,1,i.dilosiWebPaymentInfo.hmeromiaLixisPliromis,"dd/MM/yyyy"))}}function ft(e,u){if(1&e){const i=t.EpF();t.TgZ(0,"a",53),t.NdJ("click",function(o){t.CHM(i);const a=t.oxw(3);return t.KtG(a.onOpenEktiposi(o))}),t._UZ(1,"span",54),t._uU(2," \u0395\u03ba\u03c4\u03cd\u03c0\u03c9\u03c3\u03b7 "),t.qZA()}if(2&e){const i=t.oxw(3);t.ekj("disabled",!!i.isFormDirty||null),t.Q6J("href",i.katastimataApiUrl+"/ViewReports/ReportDilosiTautotitaPliromisDias/"+i.dilosiWebPaymentInfo.dilosiId,t.LSH)}}function Ct(e,u){if(1&e){const i=t.EpF();t.TgZ(0,"div",50),t.YNc(1,ft,3,3,"a",51),t.TgZ(2,"eg-checkout",52),t.NdJ("payBtnClick",function(o){t.CHM(i);const a=t.oxw(2);return t.KtG(a.onCreatePaymentRequest(o))}),t.qZA()()}if(2&e){const i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",i.kodikosPliromis&&""!=i.kodikosPliromis&&i.createPaymentCodeDias),t.xp6(1),t.Q6J("isPaymentFormValid",!i.isFormDirty)("doPaymentSubscription",i.onDoPaymentSubject.asObservable())("govPaymentGatewayApiUrl",i.govPaymentGatewayApiUrl)}}const S=function(e){return[e,"\u20ac","symbol","1.2","el"]};function gt(e,u){if(1&e&&(t.ynx(0),t.TgZ(1,"h4",42),t._uU(2,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03bf\u03cd"),t.qZA(),t.TgZ(3,"div",43)(4,"div",44)(5,"div")(6,"p",45)(7,"span",46),t._uU(8,"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),t.qZA()(),t.TgZ(9,"p",45)(10,"span",46),t._uU(11,"\u03a0\u03bf\u03c3\u03cc \u03a4\u03ad\u03bb\u03bf\u03c5\u03c2:"),t.qZA()(),t.TgZ(12,"p",45)(13,"span",46),t._uU(14,"\u039c\u03ae\u03bd\u03b5\u03c2 \u039a\u03b1\u03b8\u03c5\u03c3\u03c4\u03ad\u03c1\u03b7\u03c3\u03b7\u03c2:"),t.qZA()(),t.TgZ(15,"p",45)(16,"span",46),t._uU(17,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03c1\u03bf\u03c3\u03c4\u03af\u03bc\u03bf\u03c5:"),t.qZA()(),t.TgZ(18,"p",45)(19,"span",46),t._uU(20,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),t.qZA()(),t.YNc(21,dt,3,0,"p",47),t.YNc(22,mt,3,0,"p",47),t.qZA(),t.TgZ(23,"div")(24,"p",45)(25,"span",48),t._uU(26),t.qZA()(),t.TgZ(27,"p",45)(28,"span",48),t._uU(29),t.ALo(30,"currency"),t.qZA()(),t.TgZ(31,"p",45)(32,"span",48),t._uU(33),t.qZA()(),t.TgZ(34,"p",45)(35,"span",48),t._uU(36),t.ALo(37,"currency"),t.qZA()(),t.TgZ(38,"p",45)(39,"span",48),t._uU(40),t.ALo(41,"currency"),t.qZA()(),t.YNc(42,ct,3,1,"p",47),t.YNc(43,ht,4,4,"p",47),t.qZA()(),t.YNc(44,Ct,3,4,"div",49),t.qZA(),t.BQk()),2&e){const i=t.oxw();t.xp6(21),t.Q6J("ngIf",i.kodikosPliromis&&i.dilosiWebPaymentInfo.paymentAmount>0&&i.createPaymentCodeDias),t.xp6(1),t.Q6J("ngIf",i.kodikosPliromis&&i.dilosiWebPaymentInfo.paymentAmount>0&&i.dilosiWebPaymentInfo.hmeromiaLixisPliromis),t.xp6(4),t.Oqu(i.dilosiWebPaymentInfo.paymentCaption),t.xp6(3),t.Oqu(t.G7q(30,10,t.VKq(28,S,i.dilosiWebPaymentInfo.telosPoso))),t.xp6(4),t.Oqu(i.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines),t.xp6(3),t.Oqu(t.G7q(37,16,t.VKq(30,S,i.dilosiWebPaymentInfo.prostimoPoso))),t.xp6(4),t.Oqu(t.G7q(41,22,t.VKq(32,S,i.dilosiWebPaymentInfo.paymentAmount))),t.xp6(2),t.Q6J("ngIf",i.kodikosPliromis&&i.dilosiWebPaymentInfo.paymentAmount>0&&i.createPaymentCodeDias),t.xp6(1),t.Q6J("ngIf",i.kodikosPliromis&&i.dilosiWebPaymentInfo.paymentAmount>0),t.xp6(1),t.Q6J("ngIf",i.dilosiWebPaymentInfo.paymentAmount>0)}}function Bt(e,u){1&e&&t._UZ(0,"p-message",7)}function _t(e,u){if(1&e&&t._UZ(0,"p-message",8),2&e){const i=t.oxw();t.Q6J("severity",i.bankStatusMessageClass)("text",i.bankStatusMessage)("styleClass","my-1")}}function yt(e,u){1&e&&(t.TgZ(0,"tr")(1,"th",9),t._uU(2,"\u0391/\u0391"),t.qZA(),t.TgZ(3,"th",10),t._uU(4,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),t.qZA(),t.TgZ(5,"th",9),t._uU(6,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),t.qZA(),t.TgZ(7,"th",11),t._uU(8,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),t.qZA(),t.TgZ(9,"th",11),t._uU(10,"\u03a4\u03ad\u03bb\u03bf\u03c2"),t.qZA(),t.TgZ(11,"th",11),t._uU(12,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),t.qZA(),t.TgZ(13,"th",11),t._uU(14,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf"),t.qZA(),t.TgZ(15,"th",12),t._uU(16,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),t.qZA()())}function At(e,u){1&e&&t._UZ(0,"i",18)}function bt(e,u){if(1&e&&(t.TgZ(0,"tr")(1,"td",13)(2,"span",14),t._uU(3,"\u0391/\u0391"),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"td",10)(6,"span",14),t._uU(7,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"td",15)(10,"span",14),t._uU(11,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),t.qZA(),t.YNc(12,At,1,0,"i",16),t.qZA(),t.TgZ(13,"td",17)(14,"span",14),t._uU(15,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),t.qZA(),t._uU(16),t.ALo(17,"currency"),t.qZA(),t.TgZ(18,"td",17)(19,"span",14),t._uU(20,"\u03a4\u03ad\u03bb\u03bf\u03c2"),t.qZA(),t._uU(21),t.ALo(22,"currency"),t.qZA(),t.TgZ(23,"td",17)(24,"span",14),t._uU(25,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),t.qZA(),t._uU(26),t.ALo(27,"currency"),t.qZA(),t.TgZ(28,"td",17)(29,"span",14),t._uU(30,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf"),t.qZA(),t._uU(31),t.ALo(32,"currency"),t.qZA(),t.TgZ(33,"td",12)(34,"span",14),t._uU(35,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),t.qZA(),t._uU(36),t.qZA()()),2&e){const i=u.$implicit,s=u.rowIndex;t.xp6(4),t.hij(" ",s+1," "),t.xp6(4),t.hij(" ",i.dilosiCaption," "),t.xp6(4),t.Q6J("ngIf",i.midenikiDilosi),t.xp6(4),t.hij(" ",t.gM2(17,8,i.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),t.xp6(5),t.hij(" ",t.gM2(22,13,i.telosPoso,"\u20ac","symbol","1.2")," "),t.xp6(5),t.hij(" ",t.gM2(27,18,i.prostimoPoso,"\u20ac","symbol","1.2")," "),t.xp6(5),t.hij(" ",t.gM2(32,23,i.sinolikoPoso,"\u20ac","symbol","1.2")," "),t.xp6(5),t.hij(" ",i.stoixeiaApodixis," ")}}function xt(e,u){1&e&&(t.TgZ(0,"tr")(1,"td",19),t._uU(2," \u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ad\u03c2. "),t.qZA()())}const B=function(e){return[e,"EUR","symbol","1.2-2","el"]};function It(e,u){if(1&e&&(t.TgZ(0,"tr")(1,"td",20)(2,"strong"),t._uU(3),t.qZA()(),t.TgZ(4,"td",17)(5,"strong"),t._uU(6),t.ALo(7,"currency"),t.qZA()(),t.TgZ(8,"td",17)(9,"strong"),t._uU(10),t.ALo(11,"currency"),t.qZA()(),t.TgZ(12,"td",17)(13,"strong"),t._uU(14),t.ALo(15,"currency"),t.qZA()(),t.TgZ(16,"td",17)(17,"strong"),t._uU(18),t.ALo(19,"currency"),t.qZA()(),t.TgZ(20,"td",12),t._uU(21,"\xa0"),t.qZA()()),2&e){const i=t.oxw();t.xp6(3),t.hij("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2: ",null==i.diloseisPayed?null:i.diloseisPayed.length,""),t.xp6(3),t.Oqu(t.G7q(7,5,t.VKq(29,B,i.sumYpokeimeno))),t.xp6(4),t.Oqu(t.G7q(11,11,t.VKq(31,B,i.sumTelos))),t.xp6(4),t.Oqu(t.G7q(15,17,t.VKq(33,B,i.sumProstimo))),t.xp6(4),t.Oqu(t.G7q(19,23,t.VKq(35,B,i.sumSinolo)))}}function Dt(e,u){if(1&e&&t._UZ(0,"p-message",12),2&e){const i=t.oxw();t.Q6J("severity",i.bankStatusMessageClass)("text",i.bankStatusMessage)("styleClass","mb-2")}}function Pt(e,u){1&e&&t.GkF(0)}function vt(e,u){if(1&e&&(t.TgZ(0,"div",13),t.YNc(1,Pt,1,0,"ng-container",14),t.qZA()),2&e){t.oxw();const i=t.MAs(10);t.xp6(1),t.Q6J("ngTemplateOutlet",i)}}function kt(e,u){if(1&e){const i=t.EpF();t.TgZ(0,"tr")(1,"th",15)(2,"p-checkbox",16),t.NdJ("ngModelChange",function(o){t.CHM(i);const a=t.oxw();return t.KtG(a.isAllDebitsChecked=o)})("onChange",function(){t.CHM(i);const o=t.oxw();return t.KtG(o.onAllDebitsSelected())}),t.qZA()(),t.TgZ(3,"th",17),t._uU(4,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),t.qZA(),t.TgZ(5,"th",18),t._uU(6,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),t.qZA(),t.TgZ(7,"th",18),t._uU(8,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),t.qZA(),t.TgZ(9,"th",19),t._uU(10,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),t.qZA(),t.TgZ(11,"th",19),t._uU(12,"\u03a4\u03ad\u03bb\u03bf\u03c2"),t.qZA(),t.TgZ(13,"th",19),t._uU(14,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),t.qZA(),t.TgZ(15,"th",19),t._uU(16,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2"),t.qZA(),t.TgZ(17,"th",20),t._uU(18,"\xa0"),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(2),t.Q6J("binary",!0)("ngModel",i.isAllDebitsChecked),t.xp6(15),t.Q6J("frozen",!0)}}function Tt(e,u){1&e&&t._UZ(0,"i",29)}function Ft(e,u){if(1&e){const i=t.EpF();t.TgZ(0,"tr")(1,"td",15)(2,"span",21),t._uU(3,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),t.qZA(),t.TgZ(4,"p-checkbox",22),t.NdJ("ngModelChange",function(o){const l=t.CHM(i).$implicit;return t.KtG(l.isChecked=o)})("onChange",function(){t.CHM(i);const o=t.oxw();return t.KtG(o._calculateTotalAmounts())}),t.qZA()(),t.TgZ(5,"td",17)(6,"span",21),t._uU(7,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"td",23)(10,"span",21),t._uU(11,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),t.qZA(),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"td",23)(15,"span",21),t._uU(16,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),t.qZA(),t.YNc(17,Tt,1,0,"i",24),t.qZA(),t.TgZ(18,"td",25)(19,"span",21),t._uU(20,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),t.qZA(),t._uU(21),t.ALo(22,"currency"),t.qZA(),t.TgZ(23,"td",25)(24,"span",21),t._uU(25,"\u03a4\u03ad\u03bb\u03bf\u03c2"),t.qZA(),t._uU(26),t.ALo(27,"currency"),t.qZA(),t.TgZ(28,"td",25)(29,"span",21),t._uU(30,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),t.qZA(),t._uU(31),t.ALo(32,"currency"),t.qZA(),t.TgZ(33,"td",25)(34,"span",21),t._uU(35,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2"),t.qZA(),t.TgZ(36,"strong"),t._uU(37),t.ALo(38,"currency"),t.qZA()(),t.TgZ(39,"td",26)(40,"span",21),t._uU(41,"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"),t.qZA(),t.TgZ(42,"button",27),t.NdJ("click",function(){const a=t.CHM(i).$implicit,l=t.oxw();return t.KtG(l.onEdit(a))}),t._UZ(43,"i",28),t.qZA()()()}if(2&e){const i=u.$implicit;t.xp6(4),t.Q6J("binary",!0)("ngModel",i.isChecked)("disabled",i.isMideniki),t.xp6(4),t.hij(" ",i.dilosiDescription," "),t.xp6(4),t.hij(" ",t.xi3(13,11,i.hmeromiaLixisDilosis,"dd/MM/yyyy")," "),t.xp6(5),t.Q6J("ngIf",i.isMideniki),t.xp6(4),t.hij(" ",t.gM2(22,14,i.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),t.xp6(5),t.hij(" ",t.gM2(27,19,i.telosPoso,"\u20ac","symbol","1.2")," "),t.xp6(5),t.hij(" ",t.gM2(32,24,i.prostimoPoso,"\u20ac","symbol","1.2")," "),t.xp6(6),t.Oqu(t.gM2(38,29,i.telosPoso+i.prostimoPoso,"\u20ac","symbol","1.2")),t.xp6(2),t.Q6J("frozen",!0)}}function Ut(e,u){1&e&&(t.TgZ(0,"tr")(1,"td",30),t._uU(2," \u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ad\u03c2. "),t.qZA()())}function wt(e,u){if(1&e&&(t.TgZ(0,"tr")(1,"td",31)(2,"strong"),t._uU(3),t.qZA()(),t.TgZ(4,"td",25)(5,"strong"),t._uU(6),t.ALo(7,"currency"),t.qZA()(),t.TgZ(8,"td",25)(9,"strong"),t._uU(10),t.ALo(11,"currency"),t.qZA()(),t.TgZ(12,"td",25)(13,"strong"),t._uU(14),t.ALo(15,"currency"),t.qZA()(),t.TgZ(16,"td",25)(17,"strong"),t._uU(18),t.ALo(19,"currency"),t.qZA()(),t.TgZ(20,"td",32),t._uU(21,"\xa0"),t.qZA()()),2&e){const i=t.oxw();t.xp6(3),t.hij("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2: ",null==i.diloseisSaved?null:i.diloseisSaved.length,""),t.xp6(3),t.Oqu(t.G7q(7,5,t.VKq(29,B,i.sumYpokeimeno))),t.xp6(4),t.Oqu(t.G7q(11,11,t.VKq(31,B,i.sumTelos))),t.xp6(4),t.Oqu(t.G7q(15,17,t.VKq(33,B,i.sumProstimo))),t.xp6(4),t.Oqu(t.G7q(19,23,t.VKq(35,B,i.sumToPay)))}}function St(e,u){1&e&&t.GkF(0)}function Zt(e,u){if(1&e){const i=t.EpF();t.ynx(0),t.TgZ(1,"div",13),t.YNc(2,St,1,0,"ng-container",14),t.qZA(),t.TgZ(3,"div",33),t._UZ(4,"eg-loading",34),t.TgZ(5,"eg-checkout",35),t.NdJ("payBtnClick",function(o){t.CHM(i);const a=t.oxw();return t.KtG(a.onCreatePaymentRequest(o))}),t.qZA()(),t.BQk()}if(2&e){const i=t.oxw(),s=t.MAs(10);t.xp6(2),t.Q6J("ngTemplateOutlet",s),t.xp6(2),t.Q6J("condition",i.isLoadingResponse)("customClass","egr-load-small"),t.xp6(1),t.Q6J("isPaymentFormValid",!0)("doPaymentSubscription",i.onDoPaymentSubject.asObservable())("govPaymentGatewayApiUrl",i.govPaymentGatewayApiUrl)("buttonText","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae")}}function Et(e,u){if(1&e&&(t.TgZ(0,"div",36)(1,"p"),t._uU(2),t.qZA()()),2&e){const i=t.oxw();t.xp6(2),t.Oqu(i.errorMessageProfile)}}function Mt(e,u){if(1&e&&(t.TgZ(0,"p"),t._uU(1,"\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 "),t.TgZ(2,"span",37),t._uU(3),t.qZA()(),t.TgZ(4,"div",38)(5,"p"),t._uU(6,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a4\u03ad\u03bb\u03bf\u03c2: "),t.TgZ(7,"span",37),t._uU(8),t.ALo(9,"currency"),t.qZA()(),t.TgZ(10,"p"),t._uU(11,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf: "),t.TgZ(12,"span",37),t._uU(13),t.ALo(14,"currency"),t.qZA()(),t.TgZ(15,"p"),t._uU(16,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: "),t.TgZ(17,"span",39),t._uU(18),t.ALo(19,"currency"),t.qZA()()()),2&e){const i=t.oxw();t.xp6(3),t.AsE("",i.calculatedChecked.countChecked," ",i.calculatedChecked.countText,""),t.xp6(5),t.Oqu(t.gM2(9,5,i.calculatedChecked.checkedTelos,"\u20ac","symbol","1.2")),t.xp6(5),t.Oqu(t.gM2(14,10,i.calculatedChecked.checkedProstimo,"\u20ac","symbol","1.2")),t.xp6(5),t.Oqu(t.gM2(19,15,i.calculatedChecked.checkedTelos+i.calculatedChecked.checkedProstimo,"\u20ac","symbol","1.2"))}}function qt(e,u){if(1&e){const i=t.EpF();t.TgZ(0,"app-katastimata-create-dilosi",40),t.NdJ("updateSaved",function(o){t.CHM(i);const a=t.oxw();return t.KtG(a.updateDilosiInTable(o))}),t.qZA()}if(2&e){const i=t.oxw();t.Q6J("diloseisToPay",i.diloseisToPay)("dilosi",i.selectedDilosi)("applicationUrl",i.applicationUrl)("onlinePaymentsSettingsCompany",i.onlinePaymentsSettingsCompany)}}const N=function(){return{minWidth:"60vw"}};function Ot(e,u){1&e&&t._UZ(0,"p-message",4)}function Kt(e,u){if(1&e&&(t.TgZ(0,"p",15)(1,"strong"),t._uU(2,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1 \u0395\u03c0\u03b9\u03c7\u03b5\u03af\u03c1\u03b7\u03c3\u03b7\u03c2:"),t.qZA(),t._uU(3),t.qZA()),2&e){const i=t.oxw(3);t.xp6(3),t.hij("\xa0",i.epixeirisiInfo.eponimia," ")}}function Rt(e,u){if(1&e){const i=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(3);return t.KtG(o.onCreateNewDilosiClicked())}),t._UZ(1,"span",17),t._uU(2," \u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 "),t.qZA()}}function Nt(e,u){if(1&e&&(t.TgZ(0,"div",12),t.YNc(1,Kt,4,1,"p",13),t.YNc(2,Rt,3,0,"button",14),t.qZA()),2&e){const i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",i.epixeirisiInfo),t.xp6(1),t.Q6J("ngIf",i.diloseisToPay&&i.diloseisToPay.length>0)}}function Lt(e,u){if(1&e&&(t.TgZ(0,"div",18)(1,"p"),t._UZ(2,"i",19),t._uU(3),t.qZA(),t.TgZ(4,"a",20),t._UZ(5,"i",21),t._uU(6," \u03a0\u03bb\u03b1\u03c4\u03c6\u03cc\u03c1\u03bc\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 \u03b5\u03c0\u03af \u03c4\u03c9\u03bd \u0391\u03ba\u03b1\u03b8\u03b1\u03c1\u03af\u03c3\u03c4\u03c9\u03bd \u0395\u03c3\u03cc\u03b4\u03c9\u03bd \u03ba\u03b1\u03b9 \u03a0\u03b1\u03c1\u03b5\u03c0\u03b9\u03b4\u03b7\u03bc\u03bf\u03cd\u03bd\u03c4\u03c9\u03bd "),t.qZA()()),2&e){const i=t.oxw(2);t.xp6(3),t.hij(" ",i.epixeirisiInfo.daeMessage,"")}}function Qt(e,u){if(1&e){const i=t.EpF();t.TgZ(0,"app-katastimata-receipts",22),t.NdJ("reloadData",function(){t.CHM(i);const o=t.oxw(2);return t.KtG(o._loadData())}),t.qZA()}if(2&e){const i=t.oxw(2);t.Q6J("diloseisPayed",i.diloseisPayed)("diloseisToPay",i.diloseisToPay)("userInfo",i.userInfo)("isLoading",i.isLoading)}}function Jt(e,u){if(1&e){const i=t.EpF();t.ynx(0),t.YNc(1,Nt,3,2,"div",5),t.YNc(2,Lt,7,1,"div",6),t.TgZ(3,"p-tabView",7),t.NdJ("onChange",function(o){t.CHM(i);const a=t.oxw();return t.KtG(a.onTabChanged(o))}),t.TgZ(4,"p-tabPanel",8),t.YNc(5,Qt,1,4,"app-katastimata-receipts",9),t.qZA(),t.TgZ(6,"p-tabPanel",10)(7,"app-katastimata-saved",11),t.NdJ("reloadData",function(){t.CHM(i);const o=t.oxw();return t.KtG(o._loadData())}),t.qZA()()(),t.BQk()}if(2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.epixeirisiInfo||i.diloseisToPay&&i.diloseisToPay.length>0),t.xp6(1),t.Q6J("ngIf",i.epixeirisiInfo&&""!=i.epixeirisiInfo.daeMessage&&!i.isLoading),t.xp6(1),t.Q6J("activeIndex",i.index),t.xp6(2),t.Q6J("ngIf",i.diloseisPayed),t.xp6(2),t.Q6J("diloseisSaved",i.diloseisSaved)("diloseisToPay",i.diloseisToPay)("userInfo",i.userInfo)("epixeirisiInfo",i.epixeirisiInfo)("onlinePaymentsSettingsCompany",i.onlinePaymentsSettingsCompany)("isLoading",i.isLoading)("applicationUrl",i.applicationUrl)}}function jt(e,u){if(1&e){const i=t.EpF();t.TgZ(0,"app-katastimata-create-dilosi",23),t.NdJ("updateSaved",function(o){t.CHM(i);const a=t.oxw();return t.KtG(a.onReloadSaved(o))}),t.qZA()}if(2&e){const i=t.oxw();t.Q6J("epixeirisiInfo",i.epixeirisiInfo)("diloseisToPay",i.diloseisToPay)("dilosi",null)("applicationUrl",i.applicationUrl)("onlinePaymentsSettingsCompany",i.onlinePaymentsSettingsCompany)("createPaymentCodeDias",i.createPaymentCodeDias)}}let D=(()=>{class e extends class Yt{constructor(u,i){this.http=u,this.exceptionService=i,this.getBaseUrl=()=>this.baseUrl,AppConfOptions&&AppConfOptions.katastimata_api?(this.baseUrl=AppConfOptions.katastimata_api,this.financeApiUrl=(0,n.Ew)(AppConfOptions.finance_api)?(0,n.Ew)(AppConfOptions.epayments_api)?null:(0,n.Qj)(AppConfOptions.epayments_api):(0,n.Qj)(AppConfOptions.finance_api)):(this.baseUrl="/",this.financeApiUrl=(0,n.Qj)(AppConfOptions.financeApi)),this.baseUrl+="api",this.financeApiUrl+="api"}}{constructor(i,s){super(s,i),this.exceptionSrv=i,this.http=s,this.userInfoSubject=new H.X(null),this.userInfo$=this.userInfoSubject.asObservable(),this.egOnInit()}egOnInit(){this.userInfo$.subscribe(i=>{this.userInfo=i})}initUserInfo(){if(!this.userInfo){let s,i=null;s=window.localStorage.length&&null!=typeof localStorage.getItem("default-auth-config")?window.localStorage:window.sessionStorage;for(let o=0;o<s.length;o++){const a=s.key(o);a.includes("default-auth-config")&&(i=JSON.parse(s.getItem(a)).userData,this.userInfoSubject.next({email:i.email,username:i.given_name,tin:i.tin,family_name:i.family_name,given_name:i.given_name,name:i.name,address_city:i.address_city,address_country_code:i.address_country_code,address_zip:i.address_zip,address:i.address,fathers_name:i.fathers_name,mothers_name:i.mothers_name,adt:i.adt,phone_number:i.phone_number}))}}}getDiloseisWebInfo(i){return this.baseUrl=(0,n.Qj)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/DiloseisWeb/DiloseisWebInfo/${i}`).pipe((0,m.U)(o=>o),(0,c.K)(this.exceptionSrv.catchBadResponse))}getDilosiWebPaymentInfo(i){return this.baseUrl=(0,n.Qj)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.post(`${this.baseUrl}/DiloseisWeb/DilosiWebPaymentInfo`,i).pipe((0,m.U)(o=>o),(0,c.K)(this.exceptionSrv.catchBadResponse))}uploadPeriodikiDilosi(i){let s=new y.WM;return s=s.append("isForm","true"),this.baseUrl=(0,n.Qj)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.post(`${this.baseUrl}/DiloseisWeb/DilosiWebScan`,i,{headers:s,responseType:"arraybuffer"}).pipe((0,m.U)(a=>a),(0,c.K)(()=>(0,h.of)(!1)))}getDiloseisWebPayedInfo(i){return this.baseUrl=(0,n.Qj)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/DiloseisWeb/DiloseisWebPayedInfo/${i}`).pipe((0,m.U)(o=>o),(0,c.K)(this.exceptionSrv.catchBadResponse))}getEpixeirisiInfo(i){return this.baseUrl=(0,n.Qj)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/DiloseisWeb/DiloseisWebEpixirisiInfo/${i}`).pipe((0,m.U)(o=>o),(0,c.K)(this.exceptionSrv.catchBadResponse))}deleteDocDmsByDilosiId(i){return this.baseUrl=(0,n.Qj)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/DiloseisWeb/DeleteDocDmsByDilosiId/${i}`).pipe((0,m.U)(o=>o),(0,c.K)(this.exceptionSrv.catchBadResponse))}markDilosiWebExoflisi(i){return this.baseUrl=(0,n.Qj)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.post(`${this.baseUrl}/DiloseisWeb/MarkDilosiWebExoflisi`,i).pipe((0,m.U)(o=>o),(0,c.K)(this.exceptionService.catchBadResponse))}getDocDmsByDilosiId(i){return this.baseUrl=(0,n.Qj)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/DiloseisWeb/GetDocDmsByDilosiId/${i}`).pipe((0,m.U)(o=>o),(0,c.K)(this.exceptionSrv.catchBadResponse))}getDownloadFile(i){return this.baseUrl=(0,n.Qj)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/DocDms/DownloadFile/${i}`,{responseType:"blob"}).pipe((0,m.U)(o=>o),(0,c.K)(this.exceptionSrv.catchBadResponse))}getPluginCustomerOptions(){return this.baseUrl=(0,n.Qj)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/Configurations/GetPluginCustomerSpecificOptions`).pipe((0,m.U)(s=>s),(0,c.K)(this.exceptionSrv.catchBadResponse))}createRemittanceInfoById(i){this.baseUrl=(0,n.Qj)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl;const s=`${this.baseUrl}/DiloseisWeb/CreateRemittanceInfoById/${i}`,o={headers:new y.WM({Accept:"text/html, application/xhtml+xml, */*","Content-Type":"text/plain; charset=utf-8"}),responseType:"text"};return this.http.get(s,o).pipe((0,m.U)(a=>a),(0,c.K)(this.exceptionSrv.catchBadResponse))}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(n.Hm),t.LFG(y.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Wt{constructor(){this.dilosiId=0,this.dilosiDescription=null,this.hmeromiaLixisDilosis=null,this.isMideniki=!1}}class P{constructor(){this.dilosiId=null,this.epixirisiEponimia=null,this.epixirisiOfeiletisEponimia=null,this.epixirisiOfeiletisAfm=null,this.paymentCaption=null,this.paymentCode=null,this.paymentCodeDias=null,this.paymentAmount=null,this.telosPoso=null,this.prostimoPoso=null,this.ypokeimenoPoso=null,this.apoforologimenoPoso=null,this.posostoTelous=null,this.posostoEkprothesmisKatavolis=null,this.posostoEkprothesmisKatavolisArxiko=null,this.posostoEkprothesmisKatavolisMines=null}}class L{constructor(){this.bankTransactionId=null}}var v=(()=>{return(e=v||(v={})).dilosiDescription="\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2",e.ypokeimenoPoso="\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc",e.periodikiDilosiFPA="\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)",e.pososto="\u03a0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc",v;var e})();let zt=(()=>{class e{constructor(i,s,o){this.http=i,this.sanitizer=s,this.toasterSrv=o}transform(i){return this.http.get(i,{responseType:"blob"}).pipe((0,m.U)(s=>this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(s))),(0,c.K)(s=>(0,n.Zj)(s,this.toasterSrv)))}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(y.eN,16),t.Y36($.H7,16),t.Y36(n.MJ,16))},e.\u0275pipe=t.Yjl({name:"securePlg",type:e,pure:!0}),e})(),Q=(()=>{class e{constructor(i,s,o,a){this.katastimataNgSrv=i,this.paymentSrv=s,this.toasterSrv=o,this.cdr=a,this.createPaymentCodeDias=!1,this.updateSaved=new t.vpe,this.paymentRequestDto=void 0,this.requestObs=[],this.onDoPaymentSubject=new A.x,this.onDestroy=new A.x,this.pososta=[{value:"0.5",description:"0.5%"},{value:"2",description:"2%"},{value:"5",description:"5%"}],this.toggleEditFiles=!1,this.periodikiDilosiFPA=null,this.extraFile=null,this.uploadedFiles=[],this.isLoading=!1,this.isLoadingResponse=!1,this.initPaymentMethods=!1,this.isFormDirty=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=v}ngOnInit(){if(typeof AuthConfOptions<"u"&&typeof AppConfOptions<"u"&&"katastimata_api"in AppConfOptions&&("epayments_api"in AppConfOptions||"finance_api"in AppConfOptions)){this.katastimataApiUrl=(0,n.Qj)(AppConfOptions.katastimata_api);let i=(0,n.Ew)(AppConfOptions.finance_api)?(0,n.Ew)(AppConfOptions.epayments_api)?null:(0,n.Qj)(AppConfOptions.epayments_api):(0,n.Qj)(AppConfOptions.finance_api);this.govPaymentGatewayApiUrl=(0,n.Ew)(AppConfOptions.gov_payment_gateway_api)?i:(0,n.Qj)(AppConfOptions.gov_payment_gateway_api),this.relatedCallbackUrl=encodeURI(this.applicationUrl+"/katastimata/receipts")}else{this.katastimataApiUrl=(0,n.Qj)(AppConfOptions.applicationUrl);let i=(0,n.Qj)(AppConfOptions.financeApi);this.govPaymentGatewayApiUrl=(0,n.Ew)(AppConfOptions.govPaymentGatewayApi)?i:(0,n.Qj)(AppConfOptions.govPaymentGatewayApi),this.relatedCallbackUrl=encodeURI(this.applicationUrl+"/plugin/receipts")}(0,n.RA)(this.cdr),this.dilosi?this._getDilosiFiles():(this.dilosi=new Wt,this.dilosiCopy=(0,n.p$)(this.dilosi),(0,n.RA)(this.cdr)),this.katastimataNgSrv.userInfo$.pipe((0,b.R)(this.onDestroy)).subscribe(i=>{i&&(this.userInfo=i,this.userInfo.email=(0,n.Ew)(this.userInfo.email)?this.userInfo.email:this.userInfo.email.trim(),this.userInfo.username=(0,n.Ew)(this.userInfo.username)?this.userInfo.username:this.userInfo.username.trim(),this.userInfo.tin=(0,n.Ew)(this.userInfo.tin)?this.userInfo.tin:this.userInfo.tin.trim(),this.userInfo.family_name=(0,n.Ew)(this.userInfo.family_name)?this.userInfo.family_name:this.userInfo.family_name.trim(),this.userInfo.given_name=(0,n.Ew)(this.userInfo.given_name)?this.userInfo.given_name:this.userInfo.given_name.trim(),this.userInfo.fathers_name=(0,n.Ew)(this.userInfo.fathers_name)?this.userInfo.fathers_name:this.userInfo.fathers_name.trim(),this.userInfo.mothers_name=(0,n.Ew)(this.userInfo.mothers_name)?this.userInfo.mothers_name:this.userInfo.mothers_name.trim(),this.userInfo.name=(0,n.Ew)(this.userInfo.name)?this.userInfo.name:this.userInfo.name.trim(),this.userInfo.address_city=(0,n.Ew)(this.userInfo.address_city)?this.userInfo.address_city:this.userInfo.address_city.trim(),this.userInfo.address_country_code=(0,n.Ew)(this.userInfo.address_country_code)?this.userInfo.address_country_code:this.userInfo.address_country_code.trim(),this.userInfo.address_country_num=(0,n.Ew)(this.userInfo.address_country_num)?this.userInfo.address_country_num:this.userInfo.address_country_num.trim(),this.userInfo.address_zip=(0,n.Ew)(this.userInfo.address_zip)?this.userInfo.address_zip:this.userInfo.address_zip.trim(),this.userInfo.address=(0,n.Ew)(this.userInfo.address)?this.userInfo.address:this.userInfo.address.trim(),this.userInfo.adt=(0,n.Ew)(this.userInfo.adt)?this.userInfo.adt:this.userInfo.adt.trim(),this.userInfo.phone_number=(0,n.Ew)(this.userInfo.phone_number)?this.userInfo.phone_number:this.userInfo.phone_number.trim(),(0,n.RA)(this.cdr))})}ngOnDestroy(){this.onDestroy.next(null)}ngOnChanges(i){i&&i.dilosi&&(this.dilosiCopy=i.dilosi.currentValue,this.dilosiCopy&&this.dilosiCopy.kodikosPliromisDias&&(this.dilosiCopy.oikothenId||this.dilosiCopy.xrimatikosKatalogosEggrafesProstimoId||this.dilosiCopy.xrimatikosKatalogosEggrafesTelosId||3==this.dilosiCopy.statusId||4==this.dilosiCopy.statusId||5==this.dilosiCopy.statusId||7==this.dilosiCopy.statusId)&&(this.dilosiCopy.kodikosPliromisDias.length>15&&(this.kodikosPliromis=this.dilosiCopy.kodikosPliromisDias.match(/(.|[\r\n]){1,4}/g).toString(),this.kodikosPliromis=this.kodikosPliromis.replace(new RegExp(",","g")," ")),this.dilosiWebPaymentInfo=new P,this.dilosiWebPaymentInfo.dilosiId=this.dilosiCopy.dilosiId,this.dilosiWebPaymentInfo.paymentCaption=this.dilosiCopy.dilosiDescription,this.dilosiWebPaymentInfo.telosPoso=this.dilosiCopy.telosPoso,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines=this.dilosiCopy.posostoEkprothesmisKatavolis,this.dilosiWebPaymentInfo.prostimoPoso=this.dilosiCopy.prostimoPoso,this.dilosiWebPaymentInfo.paymentAmount=this.dilosiCopy.prostimoPoso+this.dilosiCopy.telosPoso,this.dilosiWebPaymentInfo.hmeromiaLixisPliromis=this.dilosiCopy.hmeromiaLixisPliromis),(0,n.RA)(this.cdr)),i&&i.onlinePaymentsSettingsCompany&&(this.onlinePaymentsSettingsCompany=i.onlinePaymentsSettingsCompany.currentValue,(0,n.RA)(this.cdr))}onSelectedDilosiChanged(i){if(i){let s=this.dilosiCopy.isMideniki;this.dilosiCopy=this.diloseisToPay.filter(o=>o.dilosiId===+this.dilosiCopy.dilosiId)[0],this.dilosiCopy.isMideniki=s,this.dilosiCopy.isMideniki&&(this.dilosiCopy.ypokeimenoPoso=0),i.dilosiId&&this.katastimataNgSrv.getDocDmsByDilosiId(i.dilosiId).subscribe(o=>{o&&(this.dilosiFiles=o),(0,n.RA)(this.cdr)})}}onIsMidenikiChanged(){this.dilosiCopy.isMideniki&&(this.dilosiCopy.ypokeimenoPoso=0,(0,n.RA)(this.cdr))}downloadFile(i){i&&this.katastimataNgSrv.getDownloadFile(i).subscribe()}onAddFile(i,s){const o=new FileReader;if(i&&i.currentFiles&&i.currentFiles.length>0){const a=i.currentFiles[0];o.readAsDataURL(a),o.onload=()=>{this.uploadedFiles=[...this.uploadedFiles,{type:s,base64:o.result,size:a.size,name:a.name}]}}else this.uploadedFiles=this.uploadedFiles.filter(a=>a.type!=s);this.isFormDirty=!0}onRemoveFile(i){i&&i.file&&i.file.name&&(this.uploadedFiles=this.uploadedFiles.filter(s=>s.name!=i.file.name),this.isFormDirty=!0,(0,n.RA)(this.cdr))}onOpenEktiposi(i){this.isFormDirty&&i.preventDefault()}onSubmit(){if(this.formErrorsMsg="",this.toggleEditFiles=!1,(0,n.RA)(this.cdr),this.dimotikosForosForm.valid&&(this.dilosiCopy.isMideniki||!this.dilosiCopy.isMideniki&&this.dilosiCopy.ypokeimenoPoso>0)&&this.uploadedFiles&&this.uploadedFiles.some(i=>"periodikiDilosiFPA"==i.type)){this.isFormSubmitted=!0,this.isFormDirty=!1,this.isLoading=!0;let i=[];if(this.uploadedFiles&&this.uploadedFiles.some(o=>"periodikiDilosiFPA"==o.type)){let o=[],a=0;this.uploadedFiles.forEach(l=>{let p=l.name.substr(l.name.lastIndexOf(".")+1),_=+this.dilosiCopy.ypokeimenoPoso;"periodikiDilosiFPA"!=l.type&&(_=0),o.push({language:"el",dilosiId:+this.dilosiCopy.dilosiId,fileContent:l.base64,fileLength:l.size,fileExtension:p,fileDescription:"periodikiDilosiFPA"==l.type?0:++a,fileName:l.name,poso:_,hmerominiaDilosis:new Date,type:l.type})}),i=[...i,this.katastimataNgSrv.deleteDocDmsByDilosiId(this.dilosiCopy.dilosiId)],this.uploadedFiles.some(l=>"extraFile"==l.type)&&(i=[...i,this.katastimataNgSrv.uploadPeriodikiDilosi(o.find(l=>"extraFile"==l.type))]),i=[...i,this.katastimataNgSrv.uploadPeriodikiDilosi(o.find(l=>"periodikiDilosiFPA"==l.type))]}let s={language:"el",dilosiId:+this.dilosiCopy.dilosiId,ypokeimenoPoso:+this.dilosiCopy.ypokeimenoPoso,hmerominiaDilosis:(0,n.Fh)(new Date),isMideniki:this.dilosiCopy.isMideniki};if(this.onlinePaymentsSettingsCompany&&"1"==this.onlinePaymentsSettingsCompany)this.requestObs=[...this.requestObs,this.katastimataNgSrv.getDilosiWebPaymentInfo(s)],i=[...i,this.katastimataNgSrv.getDilosiWebPaymentInfo(s)],(0,n.RA)(this.cdr),(0,n.CV)(i,()=>this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1.")).subscribe(o=>{o?(this.dilosiWebPaymentInfo=o,this.dilosiWebPaymentInfo&&(this.updateSaved.emit({dilosiId:this.dilosiWebPaymentInfo.dilosiId,dilosiDescription:this.dilosiWebPaymentInfo.paymentCaption,statusId:this.dilosiCopy.statusId,akatharistoPoso:this.dilosiCopy.akatharistoPoso,ypokeimenoPoso:this.dilosiCopy.ypokeimenoPoso,telosPoso:this.dilosiWebPaymentInfo.telosPoso,prostimoPoso:this.dilosiWebPaymentInfo.prostimoPoso,hmeromiaLixisDilosis:this.dilosiCopy.hmeromiaLixisDilosis,isChecked:!1,isMideniki:this.dilosiCopy.isMideniki,epixirisiId:this.dilosiCopy.epixirisiId,etos:this.dilosiCopy.etos}),this.kodikosPliromis=this.dilosiWebPaymentInfo.paymentCodeDias,this.kodikosPliromis&&this.kodikosPliromis.length>15&&(this.kodikosPliromis=this.dilosiWebPaymentInfo.paymentCodeDias.match(/(.|[\r\n]){1,4}/g).toString(),this.kodikosPliromis=this.kodikosPliromis.replace(new RegExp(",","g")," "))),this._getDilosiFiles()):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03c9\u03bd \u03c0\u03bf\u03c3\u03ce\u03bd."),this.isLoading=!1,this.isFormSubmitted=!1,(0,n.RA)(this.cdr)});else{let o="";this.katastimataNgSrv.createRemittanceInfoById(this.dilosiCopy.dilosiId).pipe((0,C.w)(a=>a?(o=a,(0,n.CV)(i,()=>this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1."))):(0,h.of)(!1))).subscribe(a=>{if(a&&a.statusUpload){this.dilosiWebPaymentInfo=new P;let p=(this.dilosiCopy.ypokeimenoPoso/(+this.selectedPososto/100+1)).toFixed(2);p=+p;let _=+this.selectedPososto/100,G=+a.poso,k=function Gt(e,u){return u.getMonth()-e.getMonth()+12*(u.getFullYear()-e.getFullYear())}(new Date(this.dilosiCopy.hmeromiaLixisDilosis),new Date);k<0&&(k=0);let z=a.proposo;this.dilosiWebPaymentInfo.dilosiId=this.dilosiCopy.dilosiId,this.dilosiWebPaymentInfo.epixirisiEponimia=this.epixeirisiInfo.eponimia,this.dilosiWebPaymentInfo.epixirisiOfeiletisEponimia=this.epixeirisiInfo.ofeiletisEponimia,this.dilosiWebPaymentInfo.epixirisiOfeiletisAfm=this.epixeirisiInfo.ofeiletisAfm,this.dilosiWebPaymentInfo.paymentCaption=this.dilosiCopy.dilosiDescription,this.dilosiWebPaymentInfo.paymentCode=o,this.dilosiWebPaymentInfo.paymentAmount=G+z,this.dilosiWebPaymentInfo.telosPoso=G,this.dilosiWebPaymentInfo.prostimoPoso=z,this.dilosiWebPaymentInfo.ypokeimenoPoso=this.dilosiCopy.ypokeimenoPoso,this.dilosiWebPaymentInfo.apoforologimenoPoso=p,this.dilosiWebPaymentInfo.posostoTelous=_,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolis=.02*k,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisArxiko=.02,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines=k,this.updateSaved.emit({dilosiId:this.dilosiCopy.dilosiId,dilosiDescription:this.dilosiCopy.dilosiDescription,statusId:this.dilosiCopy.statusId,hmeromiaLixisDilosis:this.dilosiCopy.hmeromiaLixisDilosis,akatharistoPoso:this.dilosiCopy.akatharistoPoso,ypokeimenoPoso:this.dilosiCopy.ypokeimenoPoso,isChecked:!1,telosPoso:this.dilosiWebPaymentInfo.telosPoso,prostimoPoso:this.dilosiWebPaymentInfo.prostimoPoso,isMideniki:this.dilosiCopy.isMideniki,epixirisiId:this.dilosiCopy.epixirisiId,etos:this.dilosiCopy.etos})}else this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03c9\u03bd \u03c0\u03bf\u03c3\u03ce\u03bd \u03ae \u03c4\u03bf\u03c5 Remittance Info.");this.isLoading=!1,this.isFormSubmitted=!1,(0,n.RA)(this.cdr)})}}else{let i="";this.dilosiCopy.dilosiId||(i+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf</li>"),0==this.dilosiCopy.ypokeimenoPoso&&(i+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03c4\u03bf\u03c5 0</li>"),this.uploadedFiles&&!this.uploadedFiles.some(s=>"periodikiDilosiFPA"==s.type)&&(i+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63) | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03c4\u03bf\u03c5 0</li>"),this.formErrorsMsg=(0,n.CD)(this.dimotikosForosForm,this.formDictionaryEnum,i),(0,n.RA)(this.cdr)}}onCreatePaymentRequest(i){(0,n.Ew)(this.userInfo.email)?this.toasterSrv.showWarning("","\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03c4\u03bf email \u03c3\u03b1\u03c2 \u03c3\u03c4\u03b7 \u03c3\u03b5\u03bb\u03af\u03b4\u03b1 \u03c4\u03bf\u03c5 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb \u03c3\u03b1\u03c2."):(this.initPaymentMethods=!0,this.isLoadingResponse=!0,this.paymentRequestDto=void 0,(0,n.RA)(this.cdr),i&&(this.paymentRequestDto={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:i.key,entries:[]},"PIRBGRAA"===i.key&&(this.paymentRequestDto.billingAddressCountryCode=null),this.paymentRequestDto.entries.push({remittanceInfo:this.dilosiWebPaymentInfo.paymentCode,amount:this.dilosiWebPaymentInfo.paymentAmount,debtorName:this.dilosiWebPaymentInfo.epixirisiOfeiletisEponimia,tin:this.userInfo.tin,description:this.dilosiWebPaymentInfo.paymentCaption}),this.paymentSrv.addPaymentRequest(this.govPaymentGatewayApiUrl,this.paymentRequestDto).subscribe(o=>{o?(this.paymentResponseDto=o,this.onDoPaymentSubject.next(this.paymentResponseDto)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2."),this.isLoadingResponse=!1,(0,n.RA)(this.cdr)})))}_getDilosiFiles(){this.katastimataNgSrv.getDocDmsByDilosiId(this.dilosiCopy.dilosiId).subscribe(i=>{i&&(this.dilosiFiles=i,(0,n.RA)(this.cdr))})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(D),t.Y36(n.te),t.Y36(n.MJ),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-katastimata-create-dilosi"]],viewQuery:function(i,s){if(1&i&&t.Gf(X,5),2&i){let o;t.iGM(o=t.CRH())&&(s.dimotikosForosForm=o.first)}},inputs:{epixeirisiInfo:"epixeirisiInfo",diloseisToPay:"diloseisToPay",dilosi:"dilosi",applicationUrl:"applicationUrl",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",createPaymentCodeDias:"createPaymentCodeDias"},outputs:{updateSaved:"updateSaved"},features:[t.TTD],decls:3,vars:4,consts:[["class","form w-100",4,"ngIf"],[3,"condition","customClass"],[4,"ngIf"],[1,"form","w-100"],["dimotikosForosForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-4"],["name","dilosiDescription","bindLabel","dilosiDescription","bindValue","dilosiId","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7","required","",1,"ontop-select",3,"appendTo","searchable","clearable","items","ngModel","disabled","ngModelChange"],["dilosiDescription","ngModel"],[1,"text-danger",3,"hidden"],["name","hmeromiaLixisDilosis","placeholder","\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2","type","text","disabled","",1,"form-control",3,"value"],[1,"form-group","col-12","col-md-4","d-flex","align-items-center"],["label","\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7","name","isMideniki","binary","true",3,"ngModel","disabled","ngModelChange"],["class","form-group col-12 col-md-6",4,"ngIf"],[1,"form-group","col-12",3,"ngClass"],["name","ypokeimenoPoso","type","text","currencyMask","","lang","el-GR","placeholder","0,00","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["ypokeimenoPosoInput","ngModel"],["type","button",1,"btn","btn-primary","d-block","mt-2","mx-auto",3,"disabled","click"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],[1,"form-group","col-12","col-md-6"],["name","pososto","bindLabel","description","bindValue","value","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc","required","",1,"ontop-select",3,"appendTo","searchable","clearable","items","ngModel","disabled","ngModelChange"],["posostoInput","ngModel"],[1,"d-flex","flex-wrap"],["type","button",1,"btn","btn-sm","btn-primary","m-0","ms-auto",3,"disabled","click"],[1,"far","fa-edit"],["class","mb-1",4,"ngFor","ngForOf"],[1,"mb-1"],["type","button",1,"btn","btn-sm","btn-outline-info","m-0","me-1",3,"href","download"],[1,"fas","fa-download"],[1,"far","fa-calendar-alt"],["severity","warn","text","\u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03bd\u03ad\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf, \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03bf\u03cd\u03bd \u03cc\u03bb\u03b1 \u03c4\u03b1 \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 \u03ba\u03b1\u03b9 \u03b8\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c4\u03b1 \u03b1\u03bd\u03b5\u03b2\u03ac\u03c3\u03b5\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac.",4,"ngIf"],[1,"form-group","col-12","col-sm-6"],["for","periodikiDilosiFPA"],["name","periodikiDilosiFPA","accept",".pdf,.jpg,.jpeg,.doc,.docx",3,"chooseLabel","showUploadButton","showCancelButton","multiple","maxFileSize","invalidFileSizeMessageSummary","invalidFileTypeMessageSummary","onRemove","onSelect"],["periodikiDilosiFPA",""],["for","extraFile"],["name","extraFile","accept",".pdf,.jpg,.jpeg,.doc,.docx",3,"chooseLabel","showUploadButton","showCancelButton","multiple","maxFileSize","invalidFileSizeMessageSummary","invalidFileTypeMessageSummary","onRemove","onSelect"],["extraFile",""],["severity","warn","text","\u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03bd\u03ad\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf, \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03bf\u03cd\u03bd \u03cc\u03bb\u03b1 \u03c4\u03b1 \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 \u03ba\u03b1\u03b9 \u03b8\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c4\u03b1 \u03b1\u03bd\u03b5\u03b2\u03ac\u03c3\u03b5\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac."],["aria-hidden","true",1,"fas","fa-calculator"],["aria-hidden","true",1,"far","fa-save","fa-fw"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"w-100","pb-2"],[1,"debits-info","d-flex","justify-content-between"],[1,"debits-info_left","d-flex","me-1"],[1,"mb-0"],[1,"me-1",2,"width","220px","line-height","1.7"],["class","mb-0",4,"ngIf"],[1,"totalPoso",2,"line-height","1.7"],["class","d-flex flex-column align-items-center",4,"ngIf"],[1,"d-flex","flex-column","align-items-center"],["class","btn btn-info mb-1 px-4 font-weight-bold","style","width: 173px;","target","_blank",3,"href","disabled","click",4,"ngIf"],[3,"isPaymentFormValid","doPaymentSubscription","govPaymentGatewayApiUrl","payBtnClick"],["target","_blank",1,"btn","btn-info","mb-1","px-4","font-weight-bold",2,"width","173px",3,"href","click"],["aria-hidden","true",1,"fas","fa-print"]],template:function(i,s){1&i&&(t.YNc(0,pt,33,24,"form",0),t._UZ(1,"eg-loading",1),t.YNc(2,gt,45,34,"ng-container",2)),2&i&&(t.Q6J("ngIf",s.dilosiCopy&&s.diloseisToPay&&s.diloseisToPay.length>0),t.xp6(1),t.Q6J("condition",s.isLoading)("customClass","egr-load-small"),t.xp6(1),t.Q6J("ngIf",s.dilosiWebPaymentInfo&&!s.isLoading&&!s.isFormDirty))},dependencies:[d.mk,d.sg,d.O5,f._Y,f.Fj,f.JJ,f.JL,f.Q7,f.On,f.F,U.XZ,q.p,x.q,w.g1,O.w9,n.Hl,n.IE,d.Ov,d.H9,d.uU,zt],encapsulation:2,changeDetection:0}),e})(),J=(()=>{class e{constructor(i,s,o,a){if(this.katastimataNgSrv=i,this.egPaymentSrv=s,this.route=o,this._http=a,this.reloadData=new t.vpe,this.onDestroy=new A.x,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumSinolo=0,typeof AuthConfOptions<"u"&&typeof AppConfOptions<"u"&&"katastimata_api"in AppConfOptions){let l=(0,n.Ew)(AppConfOptions.finance_api)?(0,n.Ew)(AppConfOptions.epayments_api)?null:(0,n.Qj)(AppConfOptions.epayments_api):(0,n.Qj)(AppConfOptions.finance_api);this.govPaymentGatewayApiUrl=(0,n.Ew)(AppConfOptions.gov_payment_gateway_api)?l:(0,n.Qj)(AppConfOptions.gov_payment_gateway_api)}else{let l=(0,n.Qj)(AppConfOptions.financeApi);this.govPaymentGatewayApiUrl=(0,n.Ew)(AppConfOptions.govPaymentGatewayApi)?l:(0,n.Qj)(AppConfOptions.govPaymentGatewayApi)}}ngOnChanges(i){i&&i.diloseisPayed&&(this.diloseisPayed=i.diloseisPayed.currentValue,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumSinolo=0,this.diloseisPayed.forEach(s=>{this.sumYpokeimeno+=s.ypokeimenoPoso,this.sumTelos+=s.telosPoso,this.sumProstimo+=s.prostimoPoso,s.sinolikoPoso=+s.telosPoso+ +s.prostimoPoso,this.sumSinolo+=s.sinolikoPoso})),i&&i.isLoading&&(this.isLoading=i.isLoading.currentValue)}ngOnInit(){this.katastimataNgSrv.userInfo$.pipe((0,b.R)(this.onDestroy)).subscribe(i=>this.userInfo=i),this.egPaymentSrv.getBankMessages(this.govPaymentGatewayApiUrl).pipe((0,C.w)(i=>i?(this.oikonomikiBankMessages=i,this.route.queryParams.pipe((0,b.R)(this.onDestroy))):(0,h.of)(!1))).subscribe(i=>{if(i){let o=i.messagecode,a=i.btId;if(o)if(this.bankStatusMessage=this.oikonomikiBankMessages[o],"TRANSACTION_COMPLETED"==o){if(this.bankStatusMessageClass="success",a){let l=new L;l.bankTransactionId=a,this.katastimataNgSrv.markDilosiWebExoflisi(l).subscribe(()=>{this.reloadData.emit(!0)})}}else this.bankStatusMessageClass="error"}})}ngOnDestroy(){this.onDestroy.next(null)}btnBankStatusMessageClicked(){this.bankStatusMessage=null}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(D),t.Y36(n.te),t.Y36(g.gz),t.Y36(y.eN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-katastimata-receipts"]],inputs:{diloseisPayed:"diloseisPayed",diloseisToPay:"diloseisToPay",userInfo:"userInfo",isLoading:"isLoading"},outputs:{reloadData:"reloadData"},features:[t.TTD],decls:7,vars:11,consts:[["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc.",4,"ngIf"],[3,"severity","text","styleClass",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","footer"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc."],[3,"severity","text","styleClass"],[1,"fixed-width-col-80"],[1,"fixed-width-col-220"],[1,"fixed-width-col-120"],[1,"fixed-width-col-170"],[1,"fixed-width-col-80","text-end"],[1,"p-column-title"],[1,"fixed-width-col-80","text-center"],["class","fas fa-check",4,"ngIf"],[1,"fixed-width-col-120","text-end"],[1,"fas","fa-check"],["colspan","8"],["colspan","3",1,"fixed-width-col-380"]],template:function(i,s){1&i&&(t.YNc(0,Bt,1,0,"p-message",0),t.YNc(1,_t,1,3,"p-message",1),t.TgZ(2,"p-table",2),t.YNc(3,yt,17,0,"ng-template",3),t.YNc(4,bt,37,28,"ng-template",4),t.YNc(5,xt,3,0,"ng-template",5),t.YNc(6,It,22,37,"ng-template",6),t.qZA()),2&i&&(t.Q6J("ngIf",(!s.diloseisToPay||s.diloseisToPay&&0==s.diloseisToPay.length)&&!s.isLoading),t.xp6(1),t.Q6J("ngIf",s.bankStatusMessage&&""!=s.bankStatusMessage),t.xp6(1),t.Q6J("value",s.diloseisPayed)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",s.isLoading)("totalRecords",null==s.diloseisPayed?null:s.diloseisPayed.length))},dependencies:[d.O5,K.jx,I.iA,x.q,d.H9],styles:[".fixed-width-col-80[_ngcontent-%COMP%]{width:80px!important;min-width:80px!important}.fixed-width-col-120[_ngcontent-%COMP%]{width:120px!important;min-width:120px!important}.fixed-width-col-170[_ngcontent-%COMP%]{width:170px!important;min-width:170px!important}.fixed-width-col-220[_ngcontent-%COMP%]{width:220px!important;min-width:220px!important}.fixed-width-col-380[_ngcontent-%COMP%]{width:380px!important;min-width:380px!important}"]}),e})(),j=(()=>{class e{constructor(i,s,o,a,l,p){this.katastimataNgSrv=i,this.egPaymentSrv=s,this.toasterSrv=o,this.cdr=a,this.route=l,this._http=p,this.reloadData=new t.vpe,this.modelPaymentInfo=[],this.modelToPayInfo=[],this.paymentRequestDto=void 0,this.onDestroy=new A.x,this.onDoPaymentSubject=new A.x,this.requestObs=[],this.errorMessageProfile=null,this.isLoadingResponse=!1,this.initPaymentMethods=!1,this.isAllDebitsChecked=!1,this.calculatedChecked={countChecked:0,countText:"\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",checkedYpokeimeno:0,checkedTelos:0,checkedProstimo:0},this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumToPay=0,this.isEditModalOpen=!1}ngOnInit(){if(typeof AuthConfOptions<"u"&&typeof AppConfOptions<"u"&&"katastimata_api"in AppConfOptions){let i=(0,n.Ew)(AppConfOptions.finance_api)?(0,n.Ew)(AppConfOptions.epayments_api)?null:(0,n.Qj)(AppConfOptions.epayments_api):(0,n.Qj)(AppConfOptions.finance_api);this.govPaymentGatewayApiUrl=(0,n.Ew)(AppConfOptions.gov_payment_gateway_api)?i:(0,n.Qj)(AppConfOptions.gov_payment_gateway_api),this.relatedCallbackUrl=encodeURI((0,n.Qj)(this.applicationUrl)+"/katastimata/saved")}else{let i=(0,n.Qj)(AppConfOptions.financeApi);this.govPaymentGatewayApiUrl=(0,n.Ew)(AppConfOptions.govPaymentGatewayApi)?i:(0,n.Qj)(AppConfOptions.govPaymentGatewayApi),this.relatedCallbackUrl=encodeURI((0,n.Qj)(this.applicationUrl)+"/plugin/saved")}this.katastimataNgSrv.userInfo$.pipe((0,b.R)(this.onDestroy)).subscribe(i=>this.userInfo=i),this.egPaymentSrv.getBankMessages(this.govPaymentGatewayApiUrl).pipe((0,C.w)(i=>i?(this.oikonomikiBankMessages=i,this.route.queryParams.pipe((0,b.R)(this.onDestroy))):(0,h.of)(!1))).subscribe(i=>{if(i){let o=i.messagecode,a=i.btId;if(o)if(this.bankStatusMessage=this.oikonomikiBankMessages[o],"TRANSACTION_COMPLETED"==o){if(this.bankStatusMessageClass="success",a){let l=new L;l.bankTransactionId=a,this.katastimataNgSrv.markDilosiWebExoflisi(l).subscribe(()=>{this.reloadData.emit(!0)})}}else this.bankStatusMessageClass="error"}(0,n.RA)(this.cdr)})}ngOnChanges(i){i&&i.diloseisSaved&&(this.diloseisSaved=i.diloseisSaved.currentValue,this.diloseisSaved&&this.diloseisSaved.length&&(this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumToPay=0,this.diloseisSaved.forEach(s=>{this.sumYpokeimeno+=s.ypokeimenoPoso,this.sumTelos+=s.telosPoso,this.sumProstimo+=s.prostimoPoso,this.sumToPay+=s.telosPoso+s.prostimoPoso})),(0,n.RA)(this.cdr))}ngOnDestroy(){this.onDestroy.next(null)}onAllDebitsSelected(){this.diloseisSaved.forEach(i=>{i.isMideniki||(i.isChecked=this.isAllDebitsChecked)}),(0,n.RA)(this.cdr),this._calculateTotalAmounts()}onEdit(i){this.isEditModalOpen=!0,this.selectedDilosi=(0,n.p$)(i),(0,n.RA)(this.cdr)}updateDilosiInTable(i){if(i){let s=this.diloseisSaved.findIndex(o=>o.dilosiId==i.dilosiId);this.diloseisSaved[s]=i,(0,n.RA)(this.cdr)}}onCreatePaymentRequest(i){this.initPaymentMethods=!0,this.isLoadingResponse=!0,this.paymentRequestDto=void 0,this.paymentResponseDto=void 0,this.modelPaymentInfo=[],(0,n.RA)(this.cdr),!this.requestObs||!this.requestObs.length||this.modelToPayInfo&&0!=this.modelToPayInfo.length?this.requestObs&&0!=this.requestObs?.length||!this.modelToPayInfo||!this.modelToPayInfo.length?(0,E.D)(this.requestObs).pipe((0,C.w)(s=>s&&s[0]?(s.forEach(o=>{this.modelPaymentInfo=[...this.modelPaymentInfo,o]}),this.modelToPayInfo.forEach(o=>{let a=new P;a.paymentCode=o.kodikosPliromisDias,a.paymentAmount=o.prostimoPoso+o.telosPoso,a.epixirisiOfeiletisEponimia=this.epixeirisiInfo.ofeiletisEponimia,a.paymentCaption=o.dilosiDescription,this.modelPaymentInfo=[...this.modelPaymentInfo,a]}),this.paymentRequestDto=this._createPaymentRequest(this.modelPaymentInfo,i),this.egPaymentSrv.addPaymentRequest(this.govPaymentGatewayApiUrl,this.paymentRequestDto)):(0,h.of)(!1))).subscribe(s=>{s?(this.paymentResponseDto=s,this.onDoPaymentSubject.next(this.paymentResponseDto)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2."),this.isLoadingResponse=!1,(0,n.RA)(this.cdr)}):(this.modelPaymentInfo=[],this.diloseisSaved.forEach(s=>{if(s.isChecked){let o=new P;o.paymentCode=s.kodikosPliromisDias,o.paymentAmount=s.prostimoPoso+s.telosPoso,o.epixirisiOfeiletisEponimia=this.epixeirisiInfo.ofeiletisEponimia,o.paymentCaption=s.dilosiDescription,this.modelPaymentInfo=[...this.modelPaymentInfo,o]}}),this.paymentRequestDto=this._createPaymentRequest(this.modelPaymentInfo,i),this.egPaymentSrv.addPaymentRequest(this.govPaymentGatewayApiUrl,this.paymentRequestDto).subscribe(s=>{s?(this.paymentResponseDto=s,this.onDoPaymentSubject.next(this.paymentResponseDto)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2."),this.isLoadingResponse=!1,(0,n.RA)(this.cdr)})):(0,E.D)(this.requestObs).pipe((0,C.w)(s=>s&&s[0]?(s.forEach(o=>{this.modelPaymentInfo=[...this.modelPaymentInfo,o]}),this.paymentRequestDto=this._createPaymentRequest(this.modelPaymentInfo,i),(0,n.Ew)(this.paymentRequestDto.userEmail)?(this.toasterSrv.showWarning("","\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03c4\u03bf email \u03c3\u03b1\u03c2 \u03c3\u03c4\u03b7 \u03c3\u03b5\u03bb\u03af\u03b4\u03b1 \u03c4\u03bf\u03c5 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb \u03c3\u03b1\u03c2."),(0,h.of)(!1)):this.egPaymentSrv.addPaymentRequest(this.govPaymentGatewayApiUrl,this.paymentRequestDto)):(0,h.of)(!1))).subscribe(s=>{s?(this.paymentResponseDto=s,this.onDoPaymentSubject.next(this.paymentResponseDto)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2."),this.isLoadingResponse=!1,(0,n.RA)(this.cdr)})}_createPaymentRequest(i,s){let o={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:s.key,entries:[]};return"PIRBGRAA"===s.key&&(o.billingAddressCountryCode=null),i.forEach(a=>{o.entries.push({remittanceInfo:a.paymentCode,amount:a.paymentAmount,debtorName:a.epixirisiOfeiletisEponimia,tin:this.userInfo.tin,description:a.paymentCaption})}),o}_calculateTotalAmounts(){this.requestObs=[],this.modelToPayInfo=[];let i=0,s=0,o=0,a=0,l="\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2";this.diloseisSaved.forEach(p=>{if(p.isChecked){a++,i+=p.ypokeimenoPoso,s+=p.telosPoso,o+=p.prostimoPoso;let _={language:"el",ypokeimenoPoso:+p.ypokeimenoPoso,dilosiId:+p.dilosiId,hmerominiaDilosis:new Date};p.oikothenId||p.xrimatikosKatalogosEggrafesProstimoId||p.xrimatikosKatalogosEggrafesTelosId||1!=p.statusId&&2!=p.statusId&&6!=p.statusId?this.modelToPayInfo=[...this.modelToPayInfo,p]:this.requestObs=[...this.requestObs,this.katastimataNgSrv.getDilosiWebPaymentInfo(_)]}}),l=1==a?"\u03b4\u03ae\u03bb\u03c9\u03c3\u03b7":"\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",this.calculatedChecked={countChecked:a,countText:l,checkedYpokeimeno:i,checkedTelos:s,checkedProstimo:o},(0,n.RA)(this.cdr)}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(D),t.Y36(n.te),t.Y36(n.MJ),t.Y36(t.sBO),t.Y36(g.gz),t.Y36(y.eN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-katastimata-saved"]],inputs:{diloseisSaved:"diloseisSaved",diloseisToPay:"diloseisToPay",userInfo:"userInfo",epixeirisiInfo:"epixeirisiInfo",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",isLoading:"isLoading",applicationUrl:"applicationUrl"},outputs:{reloadData:"reloadData"},features:[t.TTD],decls:13,vars:20,consts:[[3,"severity","text","styleClass",4,"ngIf"],["class","debits-info__selected-debits",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","footer"],[4,"ngIf"],["class","screen-msg",4,"ngIf"],["selectedDebits",""],["header","\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange","onHide"],[3,"diloseisToPay","dilosi","applicationUrl","onlinePaymentsSettingsCompany","updateSaved",4,"ngIf"],[3,"severity","text","styleClass"],[1,"debits-info__selected-debits"],[4,"ngTemplateOutlet"],[1,"fixed-width-col-40","text-center"],[3,"binary","ngModel","ngModelChange","onChange"],[1,"fixed-width-col-230"],[1,"fixed-width-col-100"],[1,"fixed-width-col-120"],["alignFrozen","right","pFrozenColumn","",1,"fixed-width-col-60",3,"frozen"],[1,"p-column-title"],[3,"binary","ngModel","disabled","ngModelChange","onChange"],[1,"fixed-width-col-100","text-center"],["class","fas fa-check",4,"ngIf"],[1,"fixed-width-col-120","text-end"],["alignFrozen","right","pFrozenColumn","",1,"fixed-width-col-60","text-center",3,"frozen"],["type","button",1,"btn","btn-primary","btn-sm","m-0",3,"click"],[1,"far","fa-edit"],[1,"fas","fa-check"],["colspan","9"],["colspan","4",1,"fixed-width-col-490"],[1,"fixed-width-col-60"],[1,"mt-2","mx-auto","d-flex","flex-column","justify-content-center",2,"width","350px"],[3,"condition","customClass"],[3,"isPaymentFormValid","doPaymentSubscription","govPaymentGatewayApiUrl","buttonText","payBtnClick"],[1,"screen-msg"],[1,"totalPoso"],[1,"d-flex","total-selected-cost"],["id","sumTotalToBank",1,"totalPoso"],[3,"diloseisToPay","dilosi","applicationUrl","onlinePaymentsSettingsCompany","updateSaved"]],template:function(i,s){1&i&&(t.YNc(0,Dt,1,3,"p-message",0),t.YNc(1,vt,2,1,"div",1),t.TgZ(2,"p-table",2),t.YNc(3,kt,19,3,"ng-template",3),t.YNc(4,Ft,44,34,"ng-template",4),t.YNc(5,Ut,3,0,"ng-template",5),t.YNc(6,wt,22,37,"ng-template",6),t.qZA(),t.YNc(7,Zt,6,7,"ng-container",7),t.YNc(8,Et,3,1,"div",8),t.YNc(9,Mt,20,20,"ng-template",null,9,t.W1O),t.TgZ(11,"p-dialog",10),t.NdJ("visibleChange",function(a){return s.isEditModalOpen=a})("onHide",function(){return s.isEditModalOpen=!1,s.selectedDilosi=null}),t.YNc(12,qt,1,4,"app-katastimata-create-dilosi",11),t.qZA()),2&i&&(t.Q6J("ngIf",s.bankStatusMessage),t.xp6(1),t.Q6J("ngIf",s.calculatedChecked.countChecked>0&&!s.isLoading),t.xp6(1),t.Q6J("value",s.diloseisSaved)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",s.isLoading)("totalRecords",null==s.diloseisSaved?null:s.diloseisSaved.length),t.xp6(5),t.Q6J("ngIf",s.calculatedChecked.countChecked>0&&!s.isLoading),t.xp6(1),t.Q6J("ngIf",s.errorMessageProfile),t.xp6(3),t.Akn(t.DdM(19,N)),t.Q6J("visible",s.isEditModalOpen)("draggable",!1)("closable",!0),t.xp6(1),t.Q6J("ngIf",s.isEditModalOpen&&s.selectedDilosi))},dependencies:[d.O5,d.tP,f.JJ,f.On,K.jx,I.iA,I.on,U.XZ,F.V,x.q,n.Hl,n.IE,Q,d.H9,d.uU],styles:[".fixed-width-col-60[_ngcontent-%COMP%]{width:60px!important;min-width:60px!important}.fixed-width-col-80[_ngcontent-%COMP%]{width:80px!important;min-width:80px!important}.fixed-width-col-100[_ngcontent-%COMP%]{width:100px!important;min-width:100px!important}.fixed-width-col-120[_ngcontent-%COMP%]{width:120px!important;min-width:120px!important}.fixed-width-col-170[_ngcontent-%COMP%]{width:170px!important;min-width:170px!important}.fixed-width-col-220[_ngcontent-%COMP%]{width:220px!important;min-width:220px!important}.fixed-width-col-230[_ngcontent-%COMP%]{width:230px!important;min-width:230px!important}.fixed-width-col-380[_ngcontent-%COMP%]{width:380px!important;min-width:380px!important}.fixed-width-col-490[_ngcontent-%COMP%]{width:490px!important;min-width:490px!important}"],changeDetection:0}),e})(),Y=(()=>{class e{constructor(i,s,o,a,l,p,_){this.katastimataNgSrv=i,this.toasterSrv=s,this.cdr=o,this.oidcSecuritySrv=a,this._http=l,this.router=p,this.route=_,this.diloseisPayed=[],this.countriesList=[],this.HttpStatusCodeEnum=n.WE,this.index=0,this.isLoading=!0,this.isAddingNewDilosi=!1,this.onlinePaymentsSettingsCompany="1",this.createPaymentCodeDias=!1,this.onDestroy=new A.x,this.financeApiUrl=(0,n.Ew)(AppConfOptions.finance_api)?(0,n.Ew)(AppConfOptions.epayments_api)?null:(0,n.Qj)(AppConfOptions.epayments_api):(0,n.Qj)(AppConfOptions.finance_api),typeof AuthConfOptions<"u"&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=(0,n.Qj)(AppConfOptions.application_url),this.returnUrl=encodeURI(this.applicationUrl+"/katastimata/receipts")):(this.applicationUrl=(0,n.Qj)(AppConfOptions.applicationUrl),this.returnUrl=encodeURI(this.applicationUrl+"/plugin/diloseis/receipts"))}ngOnInit(){this.katastimataNgSrv.initUserInfo(),this.katastimataNgSrv.userInfo$.pipe((0,C.w)(i=>{if(i){if(this.userInfo=i,typeof AppConfOptions<"u"&&"stsServer"in AppConfOptions){let s=(0,n.Qj)(AppConfOptions.stsServer);return this._http.get(s+"/api/general/GetCountries")}if(typeof AuthConfOptions<"u"&&"stsServer"in AuthConfOptions){let s=(0,n.Qj)(AuthConfOptions.stsServer);return this._http.get(s+"/api/general/GetCountries")}return this._http.get("https://auth.dev.egritosgroup.gr/api/general/GetCountries")}return(0,h.of)(!1)}),(0,b.R)(this.onDestroy)).subscribe(i=>{i&&(this.countriesList=i,this.userInfo.address_country_code&&""!=this.userInfo.address_country_code&&(this.userInfo.address_country_num=this.countriesList.find(s=>s.Alpha2Code==this.userInfo.address_country_code).NumericCode.toString()),this.userInfo.email=(0,n.Ew)(this.userInfo.email)?this.userInfo.email:this.userInfo.email.trim(),this.userInfo.username=(0,n.Ew)(this.userInfo.username)?this.userInfo.username:this.userInfo.username.trim(),this.userInfo.tin=(0,n.Ew)(this.userInfo.tin)?this.userInfo.tin:this.userInfo.tin.trim(),this.userInfo.family_name=(0,n.Ew)(this.userInfo.family_name)?this.userInfo.family_name:this.userInfo.family_name.trim(),this.userInfo.given_name=(0,n.Ew)(this.userInfo.given_name)?this.userInfo.given_name:this.userInfo.given_name.trim(),this.userInfo.fathers_name=(0,n.Ew)(this.userInfo.fathers_name)?this.userInfo.fathers_name:this.userInfo.fathers_name.trim(),this.userInfo.mothers_name=(0,n.Ew)(this.userInfo.mothers_name)?this.userInfo.mothers_name:this.userInfo.mothers_name.trim(),this.userInfo.name=(0,n.Ew)(this.userInfo.name)?this.userInfo.name:this.userInfo.name.trim(),this.userInfo.address_city=(0,n.Ew)(this.userInfo.address_city)?this.userInfo.address_city:this.userInfo.address_city.trim(),this.userInfo.address_country_code=(0,n.Ew)(this.userInfo.address_country_code)?this.userInfo.address_country_code:this.userInfo.address_country_code.trim(),this.userInfo.address_country_num=(0,n.Ew)(this.userInfo.address_country_num)?this.userInfo.address_country_num:this.userInfo.address_country_num.trim(),this.userInfo.address_zip=(0,n.Ew)(this.userInfo.address_zip)?this.userInfo.address_zip:this.userInfo.address_zip.trim(),this.userInfo.address=(0,n.Ew)(this.userInfo.address)?this.userInfo.address:this.userInfo.address.trim(),this.userInfo.adt=(0,n.Ew)(this.userInfo.adt)?this.userInfo.adt:this.userInfo.adt.trim(),this.userInfo.phone_number=(0,n.Ew)(this.userInfo.phone_number)?this.userInfo.phone_number:this.userInfo.phone_number.trim()),this.router.url.includes("receipts")?this.index=0:this.router.url.includes("saved")&&(this.index=1),(0,n.RA)(this.cdr)}),this.katastimataNgSrv.getEpixeirisiInfo(this.userInfo.tin).pipe((0,C.w)(i=>i&&i.statusCode==this.HttpStatusCodeEnum.Ok?(this.epixeirisiInfo=i,this.katastimataNgSrv.getDiloseisWebInfo(this.userInfo.tin)):(this.toasterSrv.showError("",i.message),(0,h.of)(!1))),(0,C.w)(i=>i?(this.diloseisToPay=i,(!this.diloseisToPay||0==this.diloseisToPay.length)&&this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd."),this.katastimataNgSrv.getPluginCustomerOptions()):(0,h.of)(!1))).subscribe(i=>{if(i){let s=i;if(s){if(s.configurationOptions&&s.configurationOptions.length&&s.configurationOptions.some(o=>"PluginCustomerSpecificOptions:OnlinePayments"==o.id)&&(this.onlinePaymentsSettingsCompany=s.configurationOptions.find(o=>"PluginCustomerSpecificOptions:OnlinePayments"==o.id).value),this.diloseisSaved=this.diloseisToPay.filter(o=>6==o.statusId),s.configurationOptions&&s.configurationOptions.length&&s.configurationOptions.some(o=>"PluginCustomerSpecificOptions:CreatePaymentCodeDias"==o.id)){let o=s.configurationOptions.find(a=>"PluginCustomerSpecificOptions:CreatePaymentCodeDias"==a.id).value;this.createPaymentCodeDias=!!(o="true")}(0,n.RA)(this.cdr),this._loadData()}else this.toasterSrv.showError("","\u0394\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03c1\u03c5\u03b8\u03bc\u03af\u03c3\u03b5\u03c9\u03bd \u03c4\u03b7\u03c2 \u03b5\u03c6\u03b1\u03c1\u03bc\u03bf\u03b3\u03ae\u03c2.")}this.isLoading=!1,(0,n.RA)(this.cdr)})}ngOnDestroy(){this.onDestroy.next(null)}onCreateNewDilosiClicked(){this.isAddingNewDilosi=!0,(0,n.RA)(this.cdr)}onTabChanged(i){0==i.index?this.router.navigate(["./receipts"],{relativeTo:this.route,queryParamsHandling:"preserve"}):this.router.navigate(["./saved"],{relativeTo:this.route.parent})}onReloadSaved(i){this.isLoading=!0,(0,n.RA)(this.cdr),this.katastimataNgSrv.getDiloseisWebInfo(this.userInfo.tin).subscribe(s=>{s&&(this.diloseisToPay=s,this.diloseisSaved=this.diloseisToPay.filter(o=>6==o.statusId),(0,n.RA)(this.cdr),this._loadData()),this.isLoading=!1,(0,n.RA)(this.cdr)})}_loadData(){this.isLoading=!0,(0,n.RA)(this.cdr),this.katastimataNgSrv.getDiloseisWebPayedInfo(this.userInfo.tin).subscribe(i=>{i?this.diloseisPayed=i:this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03c9\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd."),this.isLoading=!1,(0,n.RA)(this.cdr)})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(D),t.Y36(n.MJ),t.Y36(t.sBO),t.Y36(M.J_),t.Y36(y.eN),t.Y36(g.F0),t.Y36(g.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["lib-katastimata-ng"]],decls:6,vars:13,consts:[["severity","error","text","\u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b4\u03bf\u03ba\u03b9\u03bc\u03ac\u03c3\u03c4\u03b5 \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1!",4,"ngIf"],[4,"ngIf"],["header","\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange"],[3,"epixeirisiInfo","diloseisToPay","dilosi","applicationUrl","onlinePaymentsSettingsCompany","createPaymentCodeDias","updateSaved",4,"ngIf"],["severity","error","text","\u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b4\u03bf\u03ba\u03b9\u03bc\u03ac\u03c3\u03c4\u03b5 \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1!"],["class","mb-3 py-1 d-flex flex-wrap",4,"ngIf"],["class","alert alert-warning mb-3 my-2","style","color: #ffffff !important;",4,"ngIf"],[3,"activeIndex","onChange"],["header","\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd"],[3,"diloseisPayed","diloseisToPay","userInfo","isLoading","reloadData",4,"ngIf"],["header","\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2"],[3,"diloseisSaved","diloseisToPay","userInfo","epixeirisiInfo","onlinePaymentsSettingsCompany","isLoading","applicationUrl","reloadData"],[1,"mb-3","py-1","d-flex","flex-wrap"],["class","m-0 me-1 d-inline-flex align-items-center eponimia-title",4,"ngIf"],["class","btn btn-primary btn-sm m-0 ms-auto","type","button",3,"click",4,"ngIf"],[1,"m-0","me-1","d-inline-flex","align-items-center","eponimia-title"],["type","button",1,"btn","btn-primary","btn-sm","m-0","ms-auto",3,"click"],["aria-hidden","true",1,"fas","fa-plus"],[1,"alert","alert-warning","mb-3","my-2",2,"color","#ffffff !important"],[1,"fas","fa-exclamation-triangle"],["href","https://dae.govapp.gr","rel","noopener noreferrer","target","_blank",1,"text-primary"],[1,"fas","fa-link"],[3,"diloseisPayed","diloseisToPay","userInfo","isLoading","reloadData"],[3,"epixeirisiInfo","diloseisToPay","dilosi","applicationUrl","onlinePaymentsSettingsCompany","createPaymentCodeDias","updateSaved"]],template:function(i,s){1&i&&(t.YNc(0,Ot,1,0,"p-message",0),t.ALo(1,"async"),t.YNc(2,Jt,8,11,"ng-container",1),t.ALo(3,"async"),t.TgZ(4,"p-dialog",2),t.NdJ("visibleChange",function(a){return s.isAddingNewDilosi=a}),t.YNc(5,jt,1,6,"app-katastimata-create-dilosi",3),t.qZA()),2&i&&(t.Q6J("ngIf",!t.lcZ(1,8,s.katastimataNgSrv.userInfo$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(3,10,s.katastimataNgSrv.userInfo$)),t.xp6(2),t.Akn(t.DdM(12,N)),t.Q6J("visible",s.isAddingNewDilosi)("draggable",!1)("closable",!0),t.xp6(1),t.Q6J("ngIf",s.isAddingNewDilosi))},dependencies:[d.O5,T.xf,T.x4,F.V,x.q,Q,J,j,d.Ov],encapsulation:2,changeDetection:0}),e})();const Ht=[{path:"",component:Y,children:[{path:"",pathMatch:"full",redirectTo:"receipts"},{path:"receipts",component:J},{path:"saved",component:j}]}];let $t=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(Ht),g.Bz]}),e})();const Vt={align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."};let W=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[{provide:w.TN,useValue:Vt}],imports:[d.ez,f.u5,$t,T.LU,I.U$,U.nD,F.S,q.O,x.O,R.Q,V.d,w.zh,O.A0,n.cA,n.pL]}),e})();var Xt=r(2953),ti=r(5782),ii=r(9841),ei=r(2622),si=r(394),oi=r(1886);function ni(e,u){if(1&e&&t._UZ(0,"p-message",4),2&e){const i=t.oxw();t.Q6J("text",null==i.translation?null:i.translation.egwebapps.egwebappsLoginMesg)}}function ai(e,u){if(1&e&&(t.TgZ(0,"p-panel",6),t._UZ(1,"div",7),t.ALo(2,"decodeHtmlString"),t.qZA()),2&e){const i=t.oxw(2);t.Q6J("header",null==i.translation?null:i.translation.egwebapps.information)("styleClass","tab-msg mb-3")("toggleable",!0),t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,4,i.tabMsg),t.oJD)}}function ui(e,u){1&e&&t._UZ(0,"lib-katastimata-ng")}function li(e,u){if(1&e&&(t.ynx(0),t.YNc(1,ai,3,6,"p-panel",5),t.YNc(2,ui,1,0,"lib-katastimata-ng",3),t.BQk()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.tabMsg),t.xp6(1),t.Q6J("ngIf",i.isAuthorized)}}const ri=[{path:"",component:(()=>{class e{constructor(i,s,o,a){this.oidcSecuritySrv=i,this.cookieService=s,this.appCacheSrv=o,this.cdr=a,this.onDestroy=new A.x,this.afmNotFound=!1,this.selectedLang="el"}ngOnInit(){let i;(0,ii.a)([this.appCacheSrv.translation$,this.appCacheSrv.selectedLang$]).pipe((0,b.R)(this.onDestroy)).subscribe(s=>{s&&(this.translation=s[0],this.selectedLang=s[1],this.selectedLang&&(1==AppConfOptions.multilingual&&"el"!=this.selectedLang&&AppConfOptions.katastimata_tab_info_en&&""!=AppConfOptions.katastimata_tab_info_en?this.tabMsg=AppConfOptions.katastimata_tab_info_en:AppConfOptions.katastimata_tab_info&&""!=AppConfOptions.katastimata_tab_info&&"el"==this.selectedLang&&(this.tabMsg=AppConfOptions.katastimata_tab_info)),(0,n.RA)(this.cdr))});for(let s=0;s<window.sessionStorage.length;s++)window.sessionStorage.key(s).includes("authzData")&&(i=window.sessionStorage.getItem(window.sessionStorage.key(s)).replace(/"/g,""));"true"==window.sessionStorage.getItem("_isAuthorized")&&(this.isAuthorized=!0,i&&""!=i&&this.cookieService.set("katastimata-egritos-token",i)),this.oidcSecuritySrv.getUserData().subscribe(s=>{s&&(!s.tin||(0,n.Ew)(s.tin))&&1==AppConfOptions.katastimata_afm_required&&(this.afmNotFound=!0),(0,n.RA)(this.cdr)})}ngOnDestroy(){this.onDestroy.next(null)}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(M.J_),t.Y36(n.N_),t.Y36(ei.g),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-katastimata"]],decls:5,vars:4,consts:[[1,"module-title"],["severity","warn",3,"text",4,"ngIf"],[3,"afmNotFound"],[4,"ngIf"],["severity","warn",3,"text"],[3,"header","styleClass","toggleable",4,"ngIf"],[3,"header","styleClass","toggleable"],[3,"innerHTML"]],template:function(i,s){1&i&&(t.TgZ(0,"h3",0),t._uU(1),t.qZA(),t.YNc(2,ni,1,1,"p-message",1),t._UZ(3,"app-afmnotfound",2),t.YNc(4,li,3,2,"ng-container",3)),2&i&&(t.xp6(1),t.Oqu(null==s.translation?null:s.translation.menu.katastimataMenuItem),t.xp6(1),t.Q6J("ngIf",!s.isAuthorized),t.xp6(1),t.Q6J("afmNotFound",s.afmNotFound),t.xp6(1),t.Q6J("ngIf",!s.afmNotFound))},dependencies:[d.O5,si.d,x.q,R.s,Y,oi.o],encapsulation:2,changeDetection:0}),e})(),children:[{path:"",loadChildren:()=>Promise.resolve().then(r.bind(r,3402)).then(e=>e.PublicLibLoader)}]}];let pi=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(ri),g.Bz]}),e})(),di=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[ti.m,Xt.IJ,pi,W]}),e})(),mi=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[W]}),e})()}}]);