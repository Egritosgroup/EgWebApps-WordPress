"use strict";(self.webpackChunkegritos_group_eg_web_apps=self.webpackChunkegritos_group_eg_web_apps||[]).push([[988],{5607:(Kt,I,l)=>{l.r(I),l.d(I,{YdrefsiModule:()=>Ut});var N=l(4864),U=l(5265),d=l(7921),s=l(3228),E=l(5657),K=l(6040),f=l(3616),z=l(7368),t=l(4496),J=l(2116),H=l(9161),p=l(1368),_=l(6328),v=l(1148),k=l(4344),b=l(7048),B=l(4704),m=l(9144),F=l(6700),V=l(2700),Q=l(9336),h=l(7564),g=l(8552),C=l(6504),c=l(4454),D=l(2556),x=l(6116),O=l(120),A=l(7432),X=l(5544),W=l(9188);function Z(i,a){1&i&&t.wR5(0,"p-message",7),2&i&&t.E7m("styleClass","my-1")("text","\u0394\u03b5 \u03bc\u03c0\u03bf\u03c1\u03b5\u03af \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03ba\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7 \u03bd\u03ad\u03b1\u03c2 \u03b1\u03af\u03c4\u03b7\u03c3\u03b7\u03c2 \u03bb\u03cc\u03b3\u03c9 \u03bb\u03b1\u03bd\u03b8\u03b1\u03c3\u03bc\u03ad\u03bd\u03c9\u03bd \u03c1\u03c5\u03b8\u03bc\u03af\u03c3\u03b5\u03c9\u03bd. \u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b5\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc.")}function q(i,a){if(1&i){const e=t.KQA();t.I0R(0,"div",8)(1,"button",9),t.qCj("click",function(){t.usT(e);const o=t.GaO();return t.CGJ(o.onNeaAitisiClicked())}),t.wR5(2,"i",10),t.OEk(3," \u039d\u03ad\u03b1 \u0391\u03af\u03c4\u03b7\u03c3\u03b7 "),t.C$Y()()}if(2&i){const e=t.GaO();t.yG2(),t.E7m("disabled",!e.canCreateAitisi)}}function tt(i,a){1&i&&(t.I0R(0,"tr")(1,"th",11),t.OEk(2,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7 "),t.C$Y(),t.I0R(3,"th",12),t.OEk(4,"\u0391/\u03b1 "),t.wR5(5,"p-sortIcon",13),t.C$Y(),t.I0R(6,"th",14),t.OEk(7,"\u039a\u03b1\u03c4\u03b7\u03b3\u03bf\u03c1\u03af\u03b1 "),t.wR5(8,"p-sortIcon",15),t.C$Y(),t.I0R(9,"th",16),t.OEk(10,"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae "),t.wR5(11,"p-sortIcon",17),t.C$Y(),t.I0R(12,"th",18),t.OEk(13,"\u0397\u03bc. \u0391\u03af\u03c4\u03b7\u03c3\u03b7\u03c2 "),t.wR5(14,"p-sortIcon",19),t.C$Y(),t.I0R(15,"th",20),t.OEk(16,"\xa0"),t.C$Y()()),2&i&&(t.yG2(15),t.E7m("frozen",!0))}function et(i,a){if(1&i){const e=t.KQA();t.I0R(0,"tr")(1,"td",11)(2,"span",21),t.OEk(3,"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7"),t.C$Y(),t.OEk(4),t.C$Y(),t.I0R(5,"td",11)(6,"span",21),t.OEk(7,"\u0391/\u03b1"),t.C$Y(),t.OEk(8),t.C$Y(),t.I0R(9,"td",22)(10,"span",21),t.OEk(11,"\u039a\u03b1\u03c4\u03b7\u03b3\u03bf\u03c1\u03af\u03b1"),t.C$Y(),t.OEk(12),t.C$Y(),t.I0R(13,"td",23)(14,"span",21),t.OEk(15,"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae"),t.C$Y(),t.OEk(16),t.C$Y(),t.I0R(17,"td",11)(18,"span",21),t.OEk(19,"\u0397\u03bc. \u0391\u03af\u03c4\u03b7\u03c3\u03b7\u03c2"),t.C$Y(),t.OEk(20),t.wVc(21,"date"),t.C$Y(),t.I0R(22,"td",24)(23,"button",25),t.qCj("click",function(){const n=t.usT(e).$implicit,r=t.GaO();return t.CGJ(r.onEditAitisiClicked(n.id))}),t.SAx(24),t.wR5(25,"i",26),t.k70(),t.C$Y()()()}if(2&i){const e=a.$implicit;t.yG2(4),t.oRS(" ",e.statusPerigrafi," "),t.yG2(4),t.oRS(" ",e.aa," "),t.yG2(4),t.oRS(" ",e.eidos.perigrafi," "),t.yG2(4),t.oRS(" ",e.perigrafi," "),t.yG2(4),t.oRS(" ",t.g7$(21,6,e.hmerominiaAitimatos,"dd/MM/yyyy")," "),t.yG2(2),t.E7m("frozen",!0)}}function it(i,a){1&i&&(t.I0R(0,"tr")(1,"td",27),t.OEk(2," \u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ad\u03c2. "),t.C$Y()())}function ut(i,a){if(1&i&&(t.I0R(0,"tr")(1,"td",27)(2,"strong"),t.OEk(3),t.C$Y()()()),2&i){const e=t.GaO();t.yG2(3),t.oRS("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2: ",e.page.total,"")}}const ot=["aitisiForm"];function nt(i,a){1&i&&(t.I0R(0,"h3",39),t.OEk(1,"\u039d\u03ad\u03b1 \u0391\u03af\u03c4\u03b7\u03c3\u03b7 "),t.C$Y())}function st(i,a){1&i&&(t.I0R(0,"h3",39),t.OEk(1,"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0391\u03af\u03c4\u03b7\u03c3\u03b7\u03c2 "),t.C$Y())}function at(i,a){if(1&i){const e=t.KQA();t.SAx(0),t.I0R(1,"div",40)(2,"label"),t.OEk(3,"A/A"),t.C$Y(),t.I0R(4,"input",41,42),t.iHE("ngModelChange",function(o){t.usT(e);const n=t.GaO(2);return t.kNx(n.model.id,o)||(n.model.id=o),t.CGJ(o)}),t.C$Y()(),t.I0R(6,"div",40)(7,"label"),t.OEk(8,"\u0397\u03bc. \u0391\u03b9\u03c4\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2"),t.C$Y(),t.wR5(9,"input",43),t.C$Y(),t.I0R(10,"div",40)(11,"label"),t.OEk(12,"\u0391/\u0391 \u03a0\u03c1\u03c9\u03c4\u03bf\u03ba\u03cc\u03bb\u03bb\u03bf\u03c5"),t.C$Y(),t.I0R(13,"input",44,45),t.iHE("ngModelChange",function(o){t.usT(e);const n=t.GaO(2);return t.kNx(n.model.aaprotokolou,o)||(n.model.aaprotokolou=o),t.CGJ(o)}),t.C$Y()(),t.I0R(15,"div",40)(16,"label"),t.OEk(17,"\u0397\u03bc. \u03a0\u03c1\u03c9\u03c4\u03bf\u03ba\u03cc\u03bb\u03bb\u03bf\u03c5"),t.C$Y(),t.I0R(18,"input",46),t.iHE("ngModelChange",function(o){t.usT(e);const n=t.GaO(2);return t.kNx(n.model.hmerominiaProtokolouStr,o)||(n.model.hmerominiaProtokolouStr=o),t.CGJ(o)}),t.C$Y()(),t.k70()}if(2&i){const e=t.GaO(2);t.yG2(4),t.OKB("ngModel",e.model.id),t.yG2(5),t.E7m("ngModel",e.model.hmerominiaAitimatosStr),t.yG2(4),t.OKB("ngModel",e.model.aaprotokolou),t.yG2(5),t.OKB("ngModel",e.model.hmerominiaProtokolouStr)}}function lt(i,a){if(1&i){const e=t.KQA();t.I0R(0,"div",17)(1,"label"),t.OEk(2,"\u0395\u03b9\u03b4\u03bf\u03c2"),t.I0R(3,"span",18),t.OEk(4,"*"),t.C$Y()(),t.I0R(5,"ng-select",47,48),t.qCj("change",function(o){t.usT(e);const n=t.GaO(2);return t.CGJ(n.onEidosChanged(o))}),t.iHE("ngModelChange",function(o){t.usT(e);const n=t.GaO(2);return t.kNx(n.model.eidosId,o)||(n.model.eidosId=o),t.CGJ(o)}),t.C$Y(),t.I0R(7,"div",21),t.OEk(8," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),t.C$Y()()}if(2&i){const e=t.Gew(6),u=t.GaO(2);t.yG2(5),t.E7m("items",u.eidiAithmaton),t.OKB("ngModel",u.model.eidosId),t.E7m("disabled",u.isFormDisabled),t.yG2(2),t.E7m("hidden",!u.isFormSubmitted||u.isFormSubmitted&&e.valid)}}function rt(i,a){1&i&&t.wR5(0,"p-message",49),2&i&&t.E7m("styleClass","mt-3 mb-1 px-2 py-2")("escape",!1)("text","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03b5\u03b9\u03c3\u03ac\u03b3\u03b5\u03c4\u03b5 \u03c3\u03c4\u03b7\u03bd \u03c0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03b3\u03b9\u03b1 \u03c4\u03b7\u03bd \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c3\u03af\u03b1 \u03c4\u03bf\u03c5 \u03c5\u03b4\u03c1\u03bf\u03bc\u03ad\u03c4\u03c1\u03bf\u03c5 (\u03b4\u03b9\u03b5\u03cd\u03b8\u03c5\u03bd\u03c3\u03b7, \u03b1\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2, \u03c0\u03b5\u03c1\u03b9\u03bf\u03c7\u03ae, \u03a4\u039a). \u03a0\u03c1\u03bf\u03b1\u03b9\u03c1\u03b5\u03c4\u03b9\u03ba\u03ac \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03ba\u03b1\u03b9 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c3\u03af\u03b1 \u03c3\u03c4\u03bf\u03bd \u03c7\u03ac\u03c1\u03c4\u03b7.")}function dt(i,a){if(1&i){const e=t.KQA();t.I0R(0,"div",14)(1,"div",55)(2,"label"),t.OEk(3,"\u0391/\u0391 \u039a\u03b1\u03c1\u03c4\u03ad\u03bb\u03b1\u03c2"),t.C$Y(),t.I0R(4,"input",56,57),t.iHE("ngModelChange",function(o){t.usT(e);const n=t.GaO(3);return t.kNx(n.model.aakartelas,o)||(n.model.aakartelas=o),t.CGJ(o)}),t.C$Y()(),t.I0R(6,"div",55)(7,"label"),t.OEk(8,"\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2"),t.C$Y(),t.I0R(9,"input",58,59),t.iHE("ngModelChange",function(o){t.usT(e);const n=t.GaO(3);return t.kNx(n.model.kodikos,o)||(n.model.kodikos=o),t.CGJ(o)}),t.C$Y()(),t.I0R(11,"div",55)(12,"label"),t.OEk(13,"\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u03a5\u03b4\u03c1\u03bf\u03bc\u03ad\u03c4\u03c1\u03bf\u03c5"),t.C$Y(),t.I0R(14,"input",60,61),t.iHE("ngModelChange",function(o){t.usT(e);const n=t.GaO(3);return t.kNx(n.model.ydrometroArithmos,o)||(n.model.ydrometroArithmos=o),t.CGJ(o)}),t.C$Y()(),t.I0R(16,"div",55)(17,"label"),t.OEk(18,"\u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae"),t.C$Y(),t.I0R(19,"input",62,63),t.iHE("ngModelChange",function(o){t.usT(e);const n=t.GaO(3);return t.kNx(n.model.diadromi,o)||(n.model.diadromi=o),t.CGJ(o)}),t.C$Y()(),t.I0R(21,"div",55)(22,"label"),t.OEk(23,"\u0391/\u0391 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2"),t.C$Y(),t.I0R(24,"input",64,65),t.iHE("ngModelChange",function(o){t.usT(e);const n=t.GaO(3);return t.kNx(n.model.aadiadromis,o)||(n.model.aadiadromis=o),t.CGJ(o)}),t.C$Y()(),t.I0R(26,"div",55)(27,"label"),t.OEk(28,"\u03a0\u03b5\u03c1\u03b9\u03bf\u03c7\u03ae"),t.C$Y(),t.I0R(29,"input",66,67),t.iHE("ngModelChange",function(o){t.usT(e);const n=t.GaO(3);return t.kNx(n.model.perioxi,o)||(n.model.perioxi=o),t.CGJ(o)}),t.C$Y()()()}if(2&i){const e=t.GaO(3);t.yG2(4),t.OKB("ngModel",e.model.aakartelas),t.yG2(5),t.OKB("ngModel",e.model.kodikos),t.yG2(5),t.OKB("ngModel",e.model.ydrometroArithmos),t.yG2(5),t.OKB("ngModel",e.model.diadromi),t.yG2(5),t.OKB("ngModel",e.model.aadiadromis),t.yG2(5),t.OKB("ngModel",e.model.perioxi)}}function mt(i,a){if(1&i){const e=t.KQA();t.I0R(0,"p-fieldset",50)(1,"div",14)(2,"div",51)(3,"label"),t.OEk(4,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u03a5\u03b4\u03c1\u03bf\u03bc\u03ad\u03c4\u03c1\u03bf\u03c5"),t.C$Y(),t.I0R(5,"ng-select",52,53),t.iHE("ngModelChange",function(o){t.usT(e);const n=t.GaO(2);return t.kNx(n.model.ydrometroId,o)||(n.model.ydrometroId=o),t.CGJ(o)}),t.qCj("change",function(){t.usT(e);const o=t.GaO(2);return t.CGJ(o.onYdrometroChanged())}),t.C$Y(),t.I0R(7,"div",21),t.OEk(8," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),t.C$Y()()(),t.yuY(9,dt,31,6,"div",54),t.C$Y()}if(2&i){const e=t.Gew(6),u=t.GaO(2);t.E7m("styleClass","mt-2"),t.yG2(5),t.E7m("placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03a5\u03b4\u03c1\u03cc\u03bc\u03b5\u03c4\u03c1\u03bf")("appendTo","body")("multiple",!1)("items",u.ydrometra),t.OKB("ngModel",u.model.ydrometroId),t.E7m("required",!0)("disabled",u.isFormDisabled),t.yG2(2),t.E7m("hidden",!u.isFormSubmitted||u.isFormSubmitted&&e.valid),t.yG2(2),t.E7m("ngIf",u.model.ydrometroId)}}function Ct(i,a){if(1&i&&(t.I0R(0,"div",71)(1,"p-panel",72)(2,"div",73),t.OEk(3),t.C$Y()()()),2&i){const e=t.GaO(3);t.yG2(3),t.oRS(" ",e.model.sxolia," ")}}function ct(i,a){1&i&&(t.I0R(0,"tr")(1,"th"),t.OEk(2,"\u0397\u03bc. \u03a5\u03c0\u03bf\u03b2\u03bf\u03bb\u03ae\u03c2"),t.C$Y(),t.I0R(3,"th"),t.OEk(4,"\u039a\u03b1\u03c4\u03b7\u03b3\u03bf\u03c1\u03af\u03b1"),t.C$Y(),t.I0R(5,"th"),t.OEk(6,"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae"),t.C$Y(),t.I0R(7,"th"),t.OEk(8,"\u0397\u03bc. \u039f\u03bb\u03bf\u03ba\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7\u03c2"),t.C$Y(),t.wR5(9,"th"),t.C$Y())}function Bt(i,a){1&i&&(t.I0R(0,"button",80),t.wR5(1,"i",81),t.C$Y())}function pt(i,a){if(1&i&&(t.I0R(0,"tr")(1,"td"),t.OEk(2),t.wVc(3,"date"),t.C$Y(),t.I0R(4,"td"),t.OEk(5),t.C$Y(),t.I0R(6,"td"),t.OEk(7),t.C$Y(),t.I0R(8,"td"),t.OEk(9),t.wVc(10,"date"),t.C$Y(),t.I0R(11,"td",78),t.yuY(12,Bt,2,0,"button",79),t.C$Y()()),2&i){const e=a.$implicit;t.yG2(2),t.cNF(t.g7$(3,5,e.hmerominiaApostolis,"dd/MM/yyyy")),t.yG2(3),t.cNF(e.katigoria),t.yG2(2),t.cNF(e.perigrafi),t.yG2(2),t.cNF(t.g7$(10,8,e.hmerominiaEpistrofis,"dd/MM/yyyy")),t.yG2(3),t.E7m("ngIf",!e.katigoria.length)}}function ht(i,a){1&i&&(t.I0R(0,"tr")(1,"td",82),t.OEk(2,"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1"),t.C$Y()())}const gt=()=>({"min-width":"100%"});function ft(i,a){if(1&i&&(t.I0R(0,"div",74)(1,"div",25)(2,"p-table",75),t.yuY(3,ct,10,0,"ng-template",4)(4,pt,13,11,"ng-template",76)(5,ht,3,0,"ng-template",77),t.C$Y()()()),2&i){const e=t.GaO(3);t.yG2(2),t.E7m("value",e.model.aitAitimataEkseliksi)("tableStyle",t.q4q(2,gt))}}function _t(i,a){if(1&i&&(t.I0R(0,"p-fieldset",68),t.yuY(1,Ct,4,1,"div",69)(2,ft,6,3,"div",70),t.C$Y()),2&i){const e=t.GaO(2);t.E7m("styleClass","mt-2"),t.yG2(),t.E7m("ngIf",null==e.model?null:e.model.sxolia),t.yG2(),t.E7m("ngIf",e.model.aitAitimataEkseliksi&&e.model.aitAitimataEkseliksi.length>0)}}function At(i,a){if(1&i&&t.wR5(0,"p-message",83),2&i){const e=t.GaO(2);t.E7m("styleClass","mt-3 px-2 py-2 form-msgs")("escape",!1)("text",e.formErrorsMsg)}}function yt(i,a){if(1&i){const e=t.KQA();t.I0R(0,"button",84),t.qCj("click",function(){t.usT(e);const o=t.GaO(2);return t.CGJ(o.onSubmitClicked())}),t.OEk(1," \u0391\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7 "),t.C$Y()}if(2&i){const e=t.GaO(2);t.E7m("disabled",e.isFormDisabled)}}function Et(i,a){if(1&i){const e=t.KQA();t.I0R(0,"button",86),t.qCj("click",function(){t.usT(e);const o=t.GaO(3);return t.CGJ(o.onAkirosi())}),t.wR5(1,"i",87),t.OEk(2," \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 "),t.C$Y()}if(2&i){const e=t.GaO(3);t.E7m("disabled",e.isLoading)}}function vt(i,a){if(1&i&&(t.I0R(0,"div"),t.yuY(1,Et,3,1,"button",85),t.C$Y()),2&i){const e=t.GaO(2);t.yG2(),t.E7m("ngIf",(null==e.model?null:e.model.statusId)==e.AitimataStatusEnum.Arxiki&&!(null!=e.model&&e.model.egkrisi))}}function bt(i,a){if(1&i){const e=t.KQA();t.I0R(0,"div",5)(1,"div",6),t.yuY(2,nt,2,0,"h3",7)(3,st,2,0,"h3",7),t.C$Y(),t.I0R(4,"div",8)(5,"div",9)(6,"form",10,11)(8,"div",12)(9,"p-fieldset",13)(10,"div",14)(11,"div",15)(12,"div",14),t.yuY(13,at,19,4,"ng-container",16),t.I0R(14,"div",17)(15,"label"),t.OEk(16,"\u03a4\u03b7\u03bb. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03af\u03b1\u03c2 (\u039a\u03b9\u03bd\u03b7\u03c4\u03cc)"),t.I0R(17,"span",18),t.OEk(18,"*"),t.C$Y()(),t.I0R(19,"input",19,20),t.iHE("ngModelChange",function(o){t.usT(e);const n=t.GaO();return t.kNx(n.model.ofeiletisTilefono,o)||(n.model.ofeiletisTilefono=o),t.CGJ(o)}),t.C$Y(),t.I0R(21,"div",21),t.OEk(22),t.C$Y()(),t.I0R(23,"div",17)(24,"label"),t.OEk(25,"Email"),t.C$Y(),t.I0R(26,"input",22,23),t.iHE("ngModelChange",function(o){t.usT(e);const n=t.GaO();return t.kNx(n.model.ofeiletisEmail,o)||(n.model.ofeiletisEmail=o),t.CGJ(o)}),t.C$Y(),t.I0R(28,"div",21),t.OEk(29),t.C$Y()(),t.yuY(30,lt,9,4,"div",24),t.I0R(31,"div",25),t.yuY(32,rt,1,3,"p-message",26),t.C$Y(),t.I0R(33,"div",27)(34,"label"),t.OEk(35,"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae"),t.I0R(36,"span",18),t.OEk(37,"*"),t.C$Y()(),t.I0R(38,"textarea",28,29),t.iHE("ngModelChange",function(o){t.usT(e);const n=t.GaO();return t.kNx(n.model.perigrafi,o)||(n.model.perigrafi=o),t.CGJ(o)}),t.C$Y(),t.I0R(40,"div",21),t.OEk(41," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),t.C$Y()()()(),t.I0R(42,"div",30)(43,"div",31),t.qCj("leafletClick",function(o){t.usT(e);const n=t.GaO();return t.CGJ(n.onMapClicked(o))})("leafletMapReady",function(o){t.usT(e);const n=t.GaO();return t.CGJ(n.onMapReady(o))}),t.C$Y()()()(),t.yuY(44,mt,10,10,"p-fieldset",32)(45,_t,3,3,"p-fieldset",33)(46,At,1,3,"p-message",34),t.I0R(47,"div",35)(48,"div")(49,"button",36),t.qCj("click",function(){t.usT(e);const o=t.GaO();return t.CGJ(o.onBackToList())}),t.wR5(50,"i",37),t.OEk(51," \u03a0\u03af\u03c3\u03c9 \u03c3\u03c4\u03b7 \u03bb\u03af\u03c3\u03c4\u03b1 "),t.C$Y(),t.yuY(52,yt,2,1,"button",38),t.C$Y(),t.yuY(53,vt,2,1,"div",16),t.C$Y()()()()()()}if(2&i){const e=t.Gew(20),u=t.Gew(27),o=t.Gew(39),n=t.GaO();t.yG2(2),t.E7m("ngIf",0==n.model.id),t.yG2(),t.E7m("ngIf",0!=n.model.id),t.yG2(10),t.E7m("ngIf",n.model.id),t.yG2(6),t.E7m("disabled",n.isFormDisabled),t.OKB("ngModel",n.model.ofeiletisTilefono),t.yG2(2),t.E7m("hidden",!n.isFormSubmitted||n.isFormSubmitted&&e.valid),t.yG2(),t.CAO(" ",null!=e.errors&&e.errors.required?"*\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.":""," ",null!=e.errors&&e.errors.pattern?"*\u039c\u03b7 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf\u03c2 \u03b1\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u03c4\u03b7\u03bb\u03b5\u03c6\u03ce\u03bd\u03bf\u03c5. \u039c\u03bf\u03c1\u03c6\u03ae: 69\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7\u03a7":""," "),t.yG2(4),t.E7m("disabled",n.isFormDisabled),t.OKB("ngModel",n.model.ofeiletisEmail),t.yG2(2),t.E7m("hidden",!n.isFormSubmitted||n.isFormSubmitted&&u.valid),t.yG2(),t.oRS(" ",null!=u.errors&&u.errors.pattern?"*\u039c\u03b7 \u03ad\u03b3\u03ba\u03c5\u03c1\u03bf email. \u03a0.\u03c7.: someone@example.com":""," "),t.yG2(),t.E7m("ngIf",null==n.eidiAithmaton?null:n.eidiAithmaton.length),t.yG2(2),t.E7m("ngIf",n.model.eidosId&&!n.showStoixeiaYdrometrou),t.yG2(6),t.OKB("ngModel",n.model.perigrafi),t.E7m("disabled",n.isFormDisabled),t.yG2(2),t.E7m("hidden",!n.isFormSubmitted||n.isFormSubmitted&&o.valid),t.yG2(3),t.E7m("leafletCenter",n.leafletCenter)("leafletOptions",n.mapOptions)("leafletLayers",n.leafletLayers),t.yG2(),t.E7m("ngIf",n.showStoixeiaYdrometrou),t.yG2(),t.E7m("ngIf",null==n.model?null:n.model.id),t.yG2(),t.E7m("ngIf",n.formErrorsMsg&&""!==n.formErrorsMsg),t.yG2(6),t.E7m("ngIf",n.model.statusId===n.AitimataStatusEnum.Arxiki&&!n.model.egkrisi),t.yG2(),t.E7m("ngIf",null==n.model?null:n.model.id)}}function It(i,a){1&i&&(t.I0R(0,"h4",88),t.wR5(1,"i",89),t.OEk(2," \u03a0\u03a1\u039f\u03a3\u039f\u03a7\u0397 "),t.C$Y())}const kt={index:1,total:0,size:10};class Ft{constructor(a,e){this.get=a,this.cdr=e,this.filters={},this.page={...kt},this.orderings=[],this.isLoading=!0}onRefreshClicked(){this.loadData()}onPageChanged(a){this.page.index=a.first,this.loadData()}onFilterChanged(){this.page={...this.page,index:1},this.loadData()}loadData(a={start:(this.page.index-1)*this.page.size,length:this.page.size,searchColumns:this.getDefaultSearchColumns(),orders:this.getDefaultOrdering()}){this.isLoading=!0,this.get(a).subscribe({next:e=>{e&&(this.data=e.data,this.page.total=e.recordsFiltered,this.sumColumnResults=e.sumColumnResults)},error:e=>{},complete:()=>{this.isLoading=!1,(0,s.Er)(this.cdr)}})}getDefaultSearchColumns(){return[].filter(a=>a)}getDefaultOrdering(){return[{columnName:"Id",dir:"desc"}].filter(e=>e)}}class M{constructor(a,e,u){this.http=a,this.exceptionSrv=e,this.toasterSrv=u,this.getBaseUrl=()=>this.baseUrl,this.baseUrl=AppConfOptions&&AppConfOptions.ydrefsi_api?AppConfOptions.ydrefsi_api:"/",this.baseUrl+="api"}}let G=(()=>{class i extends M{constructor(e,u,o){super(o,e,u),this.exceptionSrv=e,this.toasterSrv=u,this.http=o,this.apiUrl=`${(0,s.sF)(this.baseUrl)}/AitimataPolites`}GetMyAitimata(e){return this.http.post(`${this.apiUrl}/GetMyAitimata`,e).pipe((0,B.k)(o=>o),(0,m.a)(o=>(0,s.Og)(o,this.toasterSrv)))}GetNewItemWithDefaultValues(){return this.http.get(`${this.apiUrl}/GetNewItemWithDefaultValues`).pipe((0,B.k)(u=>u),(0,m.a)(u=>(0,s.Og)(u,this.toasterSrv)))}GetMyAitisiById(e){return this.http.get(`${this.apiUrl}/GetMyAitisiById/${e}`).pipe((0,B.k)(o=>o),(0,m.a)(o=>(0,s.Og)(o,this.toasterSrv)))}GetEidiAithmatonComboBoxList(){return this.http.get(`${this.apiUrl}/EidiAithmatonComboList`).pipe((0,B.k)(u=>u),(0,m.a)(u=>(0,s.Og)(u,this.toasterSrv)))}createAitisi(e){return this.http.post(`${this.apiUrl}/CreateAitisi`,e).pipe((0,B.k)(o=>o),(0,m.a)(o=>(0,s.Og)(o,this.toasterSrv)))}updateAitisi(e){return this.http.post(`${this.apiUrl}/UpdateAitisi`,e).pipe((0,B.k)(o=>o),(0,m.a)(o=>(0,s.Og)(o,this.toasterSrv)))}akirosiAitisis(e){return this.http.post(`${this.apiUrl}/AkirosiAitisis`,e).pipe((0,B.k)(o=>o),(0,m.a)(o=>(0,s.Og)(o,this.toasterSrv)))}static{this.\u0275fac=function(u){return new(u||i)(t.CoB(s.gn),t.CoB(s.y6),t.CoB(b.KK))}}static{this.\u0275prov=t.wxM({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Y=(()=>{class i{constructor(e){this.http=e,this.mapsOptionsSubject=new F.g(null),this.mapsOptions$=this.mapsOptionsSubject.asObservable(),this.isProtocolConfiguredSubject=new F.g(null),this.isProtocolConfigured$=this.isProtocolConfiguredSubject.asObservable(),this.baseUrl=AppConfOptions&&AppConfOptions.ydrefsi_api?(0,s.sF)(AppConfOptions.ydrefsi_api):"",this.baseUrl+="/api",this.egOnInit()}egOnInit(){this.mapsOptions$.subscribe(e=>{this.mapsOptions=e}),this.isProtocolConfigured$.subscribe(e=>{this.isProtocolConfigured=e})}initMapsOptions(){if(!this.mapsOptions){const e=`${(0,s.sF)(this.baseUrl)}/Configurations/GetMapsOptions`;this.http.get(e).subscribe(u=>{u&&this.mapsOptionsSubject.next(u)})}}initIsProtocolConfigured(){if(!this.isProtocolConfigured){const e=`${(0,s.sF)(this.baseUrl)}/Configurations/IsProtocolConfigured`;this.http.get(e).pipe((0,m.a)(u=>(console.error("isProtocolConfigured request failed",u),(0,V.of)(!1)))).subscribe(u=>this.isProtocolConfiguredSubject.next(u))}}static{this.\u0275fac=function(u){return new(u||i)(t.CoB(b.KK))}}static{this.\u0275prov=t.wxM({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),S=(()=>{class i extends Ft{constructor(e,u,o,n,r){super(y=>this.aitimataPolitesService.GetMyAitimata(y)),this.aitimataPolitesService=e,this.cacheSrv=u,this.router=o,this.route=n,this.cdr=r,this.onDestroy=new E.E,this.canCreateAitisi=!1}ngOnInit(){this.canCreateAitisi=!0,this.cacheSrv.initIsProtocolConfigured(),this.cacheSrv.isProtocolConfigured$.pipe((0,f.a)(this.onDestroy)).subscribe(e=>{null!=e&&(this.canCreateAitisi=e,console.log(this.canCreateAitisi))})}ngOnDestroy(){this.onDestroy.next(null)}_customSort(e){this.loadData(),(0,s.Er)(this.cdr)}onNeaAitisiClicked(){this.router.navigate(["aitiseis",0],{relativeTo:this.route.parent})}onEditAitisiClicked(e){this.router.navigate(["aitiseis",e],{relativeTo:this.route.parent})}static{this.\u0275fac=function(u){return new(u||i)(t.GI1(G),t.GI1(Y),t.GI1(d.E5),t.GI1(d.gV),t.GI1(t.kD9))}}static{this.\u0275cmp=t.In1({type:i,selectors:[["lib-aitiseis-list"]],features:[t.eg9],decls:8,vars:13,consts:[["severity","warn",3,"styleClass","text",4,"ngIf"],[3,"value","autoLayout","lazy","lazyLoadOnInit","rowHover","paginator","scrollable","alwaysShowPaginator","rows","loading","totalRecords","customSort","onLazyLoad","sortFunction","onPage"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","footer"],["severity","warn",3,"styleClass","text"],[1,"d-flex","ms-auto"],["type","button",1,"btn","btn-primary","m-0",3,"disabled","click"],["aria-hidden","true",1,"fa-solid","fa-plus","fa-fw"],[1,"fixed-width-col-120"],["pSortableColumn","aa",1,"fixed-width-col-120"],["field","aa"],["pSortableColumn","EidosPerigrafi",1,"fixed-width-col-180"],["field","EidosPerigrafi"],["pSortableColumn","perigrafi",1,"fixed-width-col-170"],["field","perigrafi"],["pSortableColumn","hmerominiaAitimatos",1,"fixed-width-col-120"],["field","hmerominiaAitimatos"],["alignFrozen","right","pFrozenColumn","",1,"fixed-width-col-100",3,"frozen"],[1,"p-column-title"],[1,"fixed-width-col-180"],[1,"fixed-width-col-170"],["alignFrozen","right","pFrozenColumn","",1,"fixed-width-col-40","text-center","justify-content-end",3,"frozen"],[1,"btn","btn-primary","btn-sm","m-0",3,"click"],[1,"fa-solid","fa-eye"],["colspan","6"]],template:function(u,o){1&u&&(t.yuY(0,Z,1,2,"p-message",0),t.SAx(1),t.I0R(2,"p-table",1),t.qCj("onLazyLoad",function(r){return o._customSort(r)})("sortFunction",function(r){return o._customSort(r)})("onPage",function(r){return o.onPageChanged(r.first)}),t.yuY(3,q,4,1,"ng-template",2)(4,tt,17,1,"ng-template",3)(5,et,26,9,"ng-template",4)(6,it,3,0,"ng-template",5)(7,ut,4,1,"ng-template",6),t.C$Y(),t.k70()),2&u&&(t.E7m("ngIf",!o.canCreateAitisi),t.yG2(2),t.E7m("value",o.data)("autoLayout",!1)("lazy",!0)("lazyLoadOnInit",!0)("rowHover",!0)("paginator",!0)("scrollable",!0)("alwaysShowPaginator",!1)("rows",10)("loading",o.isLoading)("totalRecords",o.page.total)("customSort",!0))},dependencies:[p.u_,h.U3,g.oJ,g.E5,g._E,g.q4,_.S,p.y],encapsulation:2})}}return i})(),R=(()=>{class i{constructor(e,u){this.router=e,this.route=u}onAitiseisBtnClicked(){this.router.navigate(["aitiseis"],{relativeTo:this.route.parent})}static{this.\u0275fac=function(u){return new(u||i)(t.GI1(d.E5),t.GI1(d.gV))}}static{this.\u0275cmp=t.In1({type:i,selectors:[["lib-ydrefsi-ng"]],decls:2,vars:0,consts:[[1,"btn","btn-primary","me-1","my-2",3,"click"]],template:function(u,o){1&u&&(t.I0R(0,"a",0),t.qCj("click",function(){return o.onAitiseisBtnClicked()}),t.OEk(1,"\u0391\u03b9\u03c4\u03ae\u03c3\u03b5\u03b9\u03c2"),t.C$Y())},encapsulation:2})}}return i})(),Dt=(()=>{class i extends M{constructor(e,u,o){super(o,e,u),this.exceptionSrv=e,this.toasterSrv=u,this.http=o,this.apiUrl=`${(0,s.sF)(this.baseUrl)}/YdrometraPolites`}GetMyYdrometra(){return this.http.get(`${this.apiUrl}/GetMyYdrometra`).pipe((0,B.k)(u=>u),(0,m.a)(u=>(0,s.Og)(u,this.toasterSrv)))}static{this.\u0275fac=function(u){return new(u||i)(t.CoB(s.gn),t.CoB(s.y6),t.CoB(b.KK))}}static{this.\u0275prov=t.wxM({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),xt=(()=>{class i{constructor(e,u){this.onDestroy=new E.E,this.model={},this.isLoading=!1,this.yearRange=(0,s.sj)(50,50),this.today=new Date,this.showStoixeiaYdrometrou=!1,this.eidiAithmaton=[],this.isFormSubmitted=!1,this.formDictionaryEnum=L,this.AitimataStatusEnum=P,this.defaultCenterLat=37.996199,this.defaultCenterLng=23.708563,this.mapOptions={layers:[c.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"&copy; OpenStreetMap contributors"})],zoom:12},this.canChangePinOnMap=!0,this.leafletIcon=Rt,this.confirmationSrv=e,this.toasterSrv=u}get isFormDisabled(){return!this.model||this.model&&(this.model.egkrisi||1!=this.model.statusId)}ngOnDestroy(){this.onDestroy.next(null),this.onDestroy.complete()}onMapReady(e){console.log("xoxoxox"),setTimeout(()=>{this.model.latitude&&this.model.longitude?(this.leafletCenter=c.latLng(this.model.latitude,this.model.longitude),this.createLocationMarker()):(e.setZoom(10),this.leafletCenter=c.latLng(this.defaultCenterLat,this.defaultCenterLng)),e&&(this.map=e,e.invalidateSize(!0)),(0,s.Er)(this.cdr)},100)}createLocationMarker(){this.marker=c.marker([this.model.latitude,this.model.longitude],{icon:this.leafletIcon,draggable:!0}),this._onDragEnd=e=>{if(!this.canChangePinOnMap)return this.marker.setLatLng(c.latLng(this.model.latitude,this.model.longitude)),void this.toasterSrv.showWarning("","\u0394\u03b5 \u03bc\u03c0\u03bf\u03c1\u03b5\u03af\u03c4\u03b5 \u03bd\u03b1 \u03b1\u03bb\u03bb\u03ac\u03be\u03b5\u03c4\u03b5 \u03c4\u03b7\u03bd \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c3\u03af\u03b1 \u03c4\u03bf\u03c5 \u03c5\u03b4\u03c1\u03bf\u03bc\u03ad\u03c4\u03c1\u03bf\u03c5");this.onMarkerDragged(e)},this.marker.on("dragend",this._onDragEnd),this.marker.on("click",function(e){e.originalEvent.preventDefault()}),this.leafletLayers=[this.marker]}onMarkerDragged(e){this.marker=e.target;let u=this.marker.getLatLng();this.confirmationSrv.confirm({message:"\u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bb\u03bb\u03b1\u03b3\u03ae \u03c4\u03b7\u03c2 \u03c4\u03bf\u03c0\u03bf\u03b8\u03b5\u03c3\u03af\u03b1\u03c2 \u03c4\u03b7\u03c2 \u03b1\u03af\u03c4\u03b7\u03c3\u03b7\u03c2;",acceptLabel:"\u039d\u03b1\u03b9",acceptButtonStyleClass:"p-button-primary",rejectLabel:"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7",rejectButtonStyleClass:"p-button-warning",accept:()=>{this.model.longitude=u.lng,this.model.latitude=u.lat,(0,s.Er)(this.cdr)},reject:()=>{this.marker.setLatLng(c.latLng(this.model.latitude,this.model.longitude))}})}onMapClicked(e){console.log(this.canChangePinOnMap),this.canChangePinOnMap&&(this.model.latitude=e.latlng.lat,this.model.longitude=e.latlng.lng,(0,s.Er)(this.cdr),this.createLocationMarker())}onYdrometroChanged(){if(this.canChangePinOnMap=!0,(0,s.Er)(this.cdr),this.model.ydrometroId){let e=this.ydrometra.find(u=>u.ydrometroId==this.model.ydrometroId);e?(this.model.ydrometroArithmos=e.ydrometroArithmos,this.model.aakartelas=e.aaKartelas,this.model.kodikos=e.kodikos,this.model.diadromi=e.diadromiPerigrafi,this.model.aadiadromis=e.aaDiadromis,this.model.perioxi=e.ydrometroPerioxh,this.model.latitude=+e.latitude,this.model.longitude=+e.longitude,this.model.latitude&&this.model.longitude?(this.leafletCenter=c.latLng(this.model.latitude,this.model.longitude),this.canChangePinOnMap=!1,(0,s.Er)(this.cdr),this.createLocationMarker()):(this.leafletCenter=c.latLng(this.defaultCenterLat,this.defaultCenterLng),this.canChangePinOnMap=!0,(0,s.Er)(this.cdr),this.marker&&this.marker.remove())):(this.model.ydrometroArithmos=null,this.model.aakartelas=null,this.model.kodikos=null,this.model.diadromi=null,this.model.aadiadromis=null,this.model.perioxi=null)}else this.model.ydrometroArithmos=null,this.model.aakartelas=null,this.model.kodikos=null,this.model.diadromi=null,this.model.aadiadromis=null,this.model.perioxi=null;(0,s.Er)(this.cdr)}onBackToList(){this.model.id>0&&this.backToList(),this.confirmationSrv.confirm({message:"\u0398\u03b1 \u03b5\u03c0\u03b9\u03c3\u03c4\u03c1\u03ad\u03c8\u03b5\u03c4\u03b5 \u03c3\u03c4\u03b7\u03bd \u03b1\u03c1\u03c7\u03b9\u03ba\u03ae \u03bb\u03af\u03c3\u03c4\u03b1 \u03b1\u03b9\u03c4\u03ae\u03c3\u03b5\u03c9\u03bd \u03c7\u03c9\u03c1\u03af\u03c2 \u03b1\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7 \u03c4\u03b7\u03c2 \u03b1\u03af\u03c4\u03b7\u03c3\u03b7\u03c2. \u0395\u03af\u03c3\u03c4\u03b5 \u03c3\u03af\u03b3\u03bf\u03c5\u03c1\u03bf\u03b9?",acceptLabel:"\u0395\u03c0\u03b9\u03c3\u03c4\u03c1\u03bf\u03c6\u03ae \u03c3\u03c4\u03b7 \u03bb\u03af\u03c3\u03c4\u03b1",acceptButtonStyleClass:"btn btn-sm btn-warning py-1",rejectLabel:"\u03a0\u03b1\u03c1\u03b1\u03bc\u03bf\u03bd\u03ae \u03c3\u03c4\u03b7\u03bd \u03b1\u03af\u03c4\u03b7\u03c3\u03b7",rejectButtonStyleClass:"btn btn-sm btn-secondary py-1",accept:()=>{this.backToList()},reject:()=>{}})}backToList(){}onEidosChanged(e){this.showStoixeiaYdrometrou=!1,"true"===e.metadata.apaiteitaiYdrometro?(this.showStoixeiaYdrometrou=!0,this.assignYdrometro()):(this.model.ydrometroId=null,this.onYdrometroChanged()),(0,s.Er)(this.cdr)}assignYdrometro(){this.showStoixeiaYdrometrou&&1==this.ydrometra.length&&(this.model.ydrometroId=this.ydrometra[0].ydrometroId),this.onYdrometroChanged(),(0,s.Er)(this.cdr)}onSubmitClicked(){this.isFormSubmitted=!0,this.formErrorsMsg=null;let e=!0;const u=this.getFormErrors().trim();if(u&&""!=u&&(e=!1),(0,s.Er)(this.cdr),this.aitisiForm.valid&&e)this.confirmationSrv.confirm({message:this.model.id?"\u0397 \u03b1\u03af\u03c4\u03b7\u03c3\u03b7 \u03b8\u03b1 \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03c4\u03b5\u03af. \u0395\u03af\u03c3\u03c4\u03b5 \u03c3\u03af\u03b3\u03bf\u03c5\u03c1\u03bf\u03b9;":"\u0397 \u03b1\u03af\u03c4\u03b7\u03c3\u03b7 \u03b8\u03b1 \u03ba\u03b1\u03c4\u03b1\u03c7\u03c9\u03c1\u03b7\u03b8\u03b5\u03af \u03ba\u03b1\u03b9 \u03b8\u03b1 \u03bb\u03ac\u03b2\u03b5\u03b9 \u03c0\u03c1\u03c9\u03c4\u03cc\u03ba\u03bf\u03bb\u03bb\u03bf. E\u03af\u03c3\u03c4\u03b5 \u03c3\u03af\u03b3\u03bf\u03c5\u03c1\u03bf\u03b9?",acceptLabel:this.model.id?"\u0391\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7":"\u03a5\u03c0\u03bf\u03b2\u03bf\u03bb\u03ae",acceptButtonStyleClass:"btn btn-primary py-1",rejectLabel:"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7",rejectButtonStyleClass:"btn btn-warning py-1",accept:()=>{this.onSubmit()},reject:()=>{}});else{const o=this.getFormErrors().trim();this.formErrorsMsg=(0,s.SG)(this.aitisiForm,this.formDictionaryEnum,o)}}fixData(){this.model.ydrometroId&&(this.showStoixeiaYdrometrou=!0),this.model.id&&(this.model.hmerominiaAitimatosStr=this.model.hmerominiaAitimatos?new Date(this.model.hmerominiaAitimatos).toLocaleDateString("el-GR"):null,this.model.hmerominiaProtokolouStr=this.model.hmerominiaProtokolou?new Date(this.model.hmerominiaProtokolou).toLocaleDateString("el-GR"):null)}getFormErrors(){return""}onSubmit(){}static{this.\u0275fac=function(u){return new(u||i)(t.GI1(h.EV,8),t.GI1(s.y6,8))}}static{this.\u0275dir=t.Sc5({type:i,viewQuery:function(u,o){if(1&u&&t.CC$(ot,5),2&u){let n;t.wto(n=t.Gqi())&&(o.aitisiForm=n.first)}}})}}return i})();const Ot=[{path:"",component:R},{path:"aitiseis",component:S,pathMatch:"full"},{path:"aitiseis/:id",component:(()=>{class i extends xt{constructor(e,u,o,n,r,y,w,j){super(w,j),this.aitimataPolitesService=e,this.router=u,this.route=o,this.ydrometraService=n,this.cacheSrv=r,this.cdr=y,this.confirmationSrv=w,this.toasterSrv=j,this.cdr=y}ngOnInit(){this.isLoading=!0,this.aitisiId=this.route.snapshot.params.id,AppConfOptions&&AppConfOptions.ydrefsi_api&&(this.leafletIcon=$("leaflet/")),this.cacheSrv.initMapsOptions(),this.cacheSrv.mapsOptions$.pipe((0,f.a)(this.onDestroy)).subscribe(u=>{if(u){let o=u.configurationOptions;this.defaultCenterLat=o.some(n=>"MapsOptions:DefaultCenterLat"==n.id)?+o.filter(n=>"MapsOptions:DefaultCenterLat"==n.id)[0].value:this.defaultCenterLat,this.defaultCenterLng=o.some(n=>"MapsOptions:DefaultCenterLng"==n.id)?+o.filter(n=>"MapsOptions:DefaultCenterLng"==n.id)[0].value:this.defaultCenterLng,(0,s.Er)(this.cdr),this.map&&this.map.setView([this.defaultCenterLat,this.defaultCenterLng],10)}});let e=[];e=0==this.aitisiId?[...e,this.aitimataPolitesService.GetNewItemWithDefaultValues()]:[...e,this.aitimataPolitesService.GetMyAitisiById(this.aitisiId)],e=[...e,this.ydrometraService.GetMyYdrometra(),this.aitimataPolitesService.GetEidiAithmatonComboBoxList()],(0,Q.y)(e).subscribe({next:u=>{this.model=u[0],0==this.model.id&&(this.model.fromPoliti=!0),this.fixData(),this.ydrometra=u[1],this.eidiAithmaton=u[2].list,this.isLoading=!1,(0,s.Er)(this.cdr)},error:u=>{console.error(u)}})}backToList(){this.router.navigate(["aitiseis"],{relativeTo:this.route.parent})}onAkirosi(){this.confirmationSrv.confirm({message:"\u0397 \u03b1\u03af\u03c4\u03b7\u03c3\u03b7 \u03b8\u03b1 \u03b1\u03ba\u03c5\u03c1\u03c9\u03b8\u03b5\u03af. \u0395\u03af\u03c3\u03c4\u03b5 \u03c3\u03af\u03b3\u03bf\u03c5\u03c1\u03bf\u03b9;",acceptLabel:" \u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 \u0391\u03af\u03c4\u03b7\u03c3\u03b7\u03c2",acceptButtonStyleClass:"btn btn-danger py-1",acceptIcon:"pi pi-ban",rejectLabel:" \u0395\u03c0\u03b9\u03c3\u03c4\u03c1\u03bf\u03c6\u03ae",rejectButtonStyleClass:"btn btn-warning py-1",rejectIcon:"pi pi-times",accept:()=>{this._akirosi()},reject:()=>{}})}_akirosi(){this.isLoading=!0;let e={aitimaId:this.model.id};(0,s.Er)(this.cdr),this.aitimataPolitesService.akirosiAitisis(e).subscribe(u=>{u&&(this.toasterSrv.showSuccess("","\u0397 \u03b1\u03af\u03c4\u03b7\u03c3\u03b7 \u03b1\u03ba\u03c5\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5"),this.model=u),this.isLoading=!1,(0,s.Er)(this.cdr)})}onSubmit(){this.model.fromPoliti=!0,this.isLoading=!0,(0,s.Er)(this.cdr);let e=null;e=0==this.model.id?this.aitimataPolitesService.createAitisi(this.model):this.aitimataPolitesService.updateAitisi(this.model),e.subscribe(u=>{u&&(this.model.id>0?(this.model=u,this.fixData(),(0,s.Er)(this.cdr),this.toasterSrv.showSuccess("","\u0397 \u03b1\u03af\u03c4\u03b7\u03c3\u03b7 \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03cd\u03c4\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1")):(this.model=u,this.fixData(),(0,s.Er)(this.cdr),this.toasterSrv.showSuccess("","\u0397 \u03b1\u03af\u03c4\u03b7\u03c3\u03b7 \u03c5\u03c0\u03bf\u03b2\u03bb\u03ae\u03b8\u03b7\u03ba\u03b5 \u03bc\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03af\u03b1"),this.router.navigate(["aitiseis",u.id],{relativeTo:this.route.parent}))),this.isFormSubmitted=!1,this.isLoading=!1,(0,s.Er)(this.cdr)})}static{this.\u0275fac=function(u){return new(u||i)(t.GI1(G),t.GI1(d.E5),t.GI1(d.gV),t.GI1(Dt),t.GI1(Y),t.GI1(t.kD9),t.GI1(h.EV),t.GI1(s.y6))}}static{this.\u0275cmp=t.In1({type:i,selectors:[["lib-aitiseis-detail"]],features:[t.M5G([h.EV]),t.eg9],decls:5,vars:3,consts:[[3,"condition","customClass"],["class","card",4,"ngIf"],["styleClass","eg-confirm-dialog"],["confirmDialog",""],["pTemplate","header"],[1,"card"],[1,"card-header"],["class","",4,"ngIf"],[1,"card-body"],[1,"card-block"],[1,"form"],["aitisiForm","ngForm"],[1,"form-body"],["legend","\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03af\u03c4\u03b7\u03c3\u03b7\u03c2"],[1,"row"],[1,"col-12","col-lg-8"],[4,"ngIf"],[1,"form-group","col-12","col-md-6"],[1,"text-danger"],["required","","placeholder","\u03a4\u03bf \u03b5\u03c0\u03ce\u03bd\u03c5\u03bc\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf","type","text","pattern","69[0-9]{1}[0-9]{3}[0-9]{4}","name","tilefono",1,"form-control",3,"disabled","ngModel","ngModelChange"],["tilefono","ngModel"],[1,"validation-msg","text-danger","pt-1",3,"hidden"],["placeholder","\u03a4\u03bf email \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf","type","text","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$","name","email",1,"form-control",3,"disabled","ngModel","ngModelChange"],["email","ngModel"],["class","form-group col-12 col-md-6",4,"ngIf"],[1,"col-12"],["severity","info",3,"styleClass","escape","text",4,"ngIf"],[1,"form-group","col-12"],["name","perigrafi","type","text","placeholder","\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["perigrafi","ngModel"],[1,"col-12","col-lg-4"],["leaflet","",2,"height","500px",3,"leafletCenter","leafletOptions","leafletLayers","leafletClick","leafletMapReady"],["legend","\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a5\u03b4\u03c1\u03bf\u03bc\u03ad\u03c4\u03c1\u03bf\u03c5",3,"styleClass",4,"ngIf"],["legend","\u0395\u03be\u03ad\u03bb\u03b9\u03be\u03b7",3,"styleClass",4,"ngIf"],["severity","error",3,"styleClass","escape","text",4,"ngIf"],[1,"form-actions","d-flex","justify-content-between"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fa-solid","fa-undo-alt","fa-fw"],["type","button","class","btn btn-primary ms-1",3,"disabled","click",4,"ngIf"],[1,""],[1,"form-group","col-12","col-md-3"],["name","id","type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","ngModel"],["name","hmerominiaAitimatosStr","type","text","disabled","",1,"form-control",3,"ngModel"],["name","aaprotokolou","type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["aaprotokolou","ngModel"],["name","hmerominiaProtokolouStr","type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["name","eidosId","bindValue","value","bindLabel","displayText","placeholder","\u0395\u03c0\u03b9\u03bbo\u03b3\u03ae... ","required","",1,"mb-0",3,"items","ngModel","disabled","change","ngModelChange"],["eidosId","ngModel"],["severity","info",3,"styleClass","escape","text"],["legend","\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a5\u03b4\u03c1\u03bf\u03bc\u03ad\u03c4\u03c1\u03bf\u03c5",3,"styleClass"],[1,"form-group","col-12","col-md-12"],["name","ydrometroId","bindLabel","ydrometroArithmos","bindValue","ydrometroId",1,"ontop-select",3,"placeholder","appendTo","multiple","items","ngModel","required","disabled","ngModelChange","change"],["ydrometroId","ngModel"],["class","row",4,"ngIf"],[1,"form-group","col-12","col-md-4"],["name","aakartelas","placeholder","\u0391/\u0391 \u039a\u03b1\u03c1\u03c4\u03ad\u03bb\u03b1\u03c2","type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["aakartelas","ngModel"],["name","kodikos","placeholder","\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2","type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["kodikos","ngModel"],["name","ydrometroArithmos","placeholder","\u0391\u03c1\u03b9\u03b8\u03bc\u03cc\u03c2 \u03a5\u03b4\u03c1\u03bf\u03bc\u03ad\u03c4\u03c1\u03bf\u03c5","type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["ydrometroArithmos","ngModel"],["name","diadromi","placeholder","\u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae","type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["diadromi","ngModel"],["name","aadiadromis","placeholder","\u0391/\u0391 \u0394\u03b9\u03b1\u03b4\u03c1\u03bf\u03bc\u03ae\u03c2","type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["aadiadromis","ngModel"],["name","perioxi","placeholder","\u03a0\u03b5\u03c1\u03b9\u03bf\u03c7\u03ae","type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["perioxi","ngModel"],["legend","\u0395\u03be\u03ad\u03bb\u03b9\u03be\u03b7",3,"styleClass"],["class","mt-2",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"mt-2"],["header","\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1 \u0391\u03c0\u03cc \u03a5\u03c0\u03ac\u03bb\u03bb\u03b7\u03bb\u03bf"],[2,"white-space","pre-line"],[1,"row","mt-3"],["responsiveLayout","scroll",3,"value","tableStyle"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"text-center"],["class","btn btn-danger btn-sm my-0","disabled","",4,"ngIf"],["disabled","",1,"btn","btn-danger","btn-sm","my-0"],[1,"fa-regular","fa-trash-can"],["colspan","5",1,"text-center","text-muted"],["severity","error",3,"styleClass","escape","text"],["type","button",1,"btn","btn-primary","ms-1",3,"disabled","click"],["class","btn btn-danger ms-1 mb-0","type","button",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-danger","ms-1","mb-0",3,"disabled","click"],[1,"fa-solid","fa-ban","fa-fw"],[1,"fw-bold","my-0","align-items-center","d-flex"],[1,"pi","pi-exclamation-triangle","my-0",2,"margin-right","8px","font-size","20px"]],template:function(u,o){1&u&&(t.wR5(0,"eg-loading",0),t.yuY(1,bt,54,25,"div",1),t.I0R(2,"p-confirmDialog",2,3),t.yuY(4,It,3,0,"ng-template",4),t.C$Y()),2&u&&(t.E7m("condition",o.isLoading)("customClass","egr-load-small"),t.yG2(),t.E7m("ngIf",!o.isLoading))},dependencies:[p.u_,h.U3,D.o,x.c,g.oJ,_.S,v.s,O.UT,s.uU,C.sz,C.ot,C.ue,C.u,C.eJ,C.E1,C._G,C.SC,A.UV,A.wB,p.y],encapsulation:2,changeDetection:0})}}return i})(),pathMatch:"full"}];let Mt=(()=>{class i{static{this.\u0275fac=function(u){return new(u||i)}}static{this.\u0275mod=t.a4G({type:i})}static{this.\u0275inj=t.s3X({imports:[d.qQ.forChild(Ot),d.qQ]})}}return i})();const Gt={align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."},Yt=[X.a6,D.I,W.z,x.Y,g.q0,_.e,v.Y];let St=(()=>{class i{static{this.\u0275fac=function(u){return new(u||i)}}static{this.\u0275mod=t.a4G({type:i})}static{this.\u0275inj=t.s3X({providers:[h.EV,{provide:k.Ku,useValue:Gt}],imports:[p.MD,Yt,O.gb,s.CQ,C.y,k.k1,Mt,A.Ar,A.Ar]})}}return i})();var P=function(i){return i[i.Arxiki=1]="Arxiki",i[i.Akiromeni=2]="Akiromeni",i[i.Olokliromeni=3]="Olokliromeni",i}(P||{}),L=function(i){return i.ofeiletisOnoma="\u038c\u03bd\u03bf\u03bc\u03b1",i.ofeiletisEponimo="\u0395\u03c0\u03ce\u03bd\u03c5\u03bc\u03bf",i.ofeiletisPatronimo="\u03a0\u03b1\u03c4\u03c1\u03ce\u03bd\u03c5\u03bc\u03bf",i.aaprotokolou="\u0391/\u0391 \u03a0\u03c1\u03c9\u03c4\u03bf\u03ba\u03cc\u03bb\u03bb\u03bf\u03c5",i.hmerominiaProtokolou="\u0397\u03bc. \u03a0\u03c1\u03c9\u03c4\u03bf\u03ba\u03cc\u03bb\u03bb\u03bf\u03c5",i.ofeiletisEponimia="\u039f\u03c6\u03b5\u03b9\u03bb\u03ad\u03c4\u03b7\u03c2 \u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1",i.ofeiletisAfm="\u0391\u03a6\u039c",i.ofeiletisDoy="\u0394\u039f\u03a5",i.eidosId="\u0395\u03af\u03b4\u03bf\u03c2",i.perigrafi="\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae",i.tilefono="\u03a4\u03b7\u03bb\u03ad\u03c6\u03c9\u03bd\u03bf",i.email="Email",i.ydrometroId="\u03a5\u03b4\u03c1\u03cc\u03bc\u03b5\u03c4\u03c1\u03bf",i}(L||{});function $(i="assets/leaflet/"){return c.icon({iconRetinaUrl:`${i}marker-icon-2x.png`,iconUrl:`${i}marker-icon.png`,shadowUrl:`${i}marker-shadow.png`,iconSize:[25,41],iconAnchor:[13,41]})}const Rt=$("assets/leaflet/");var Tt=l(2656),Pt=l(6230);function Lt(i,a){1&i&&t.wR5(0,"p-message",3)}function $t(i,a){if(1&i&&(t.I0R(0,"p-panel",6),t.wVc(1,"translate"),t.wR5(2,"div",7),t.wVc(3,"decodeHtmlString"),t.C$Y()),2&i){const e=t.GaO(2);t.E7m("header",t.kDX(1,4,null==e.translation?null:e.translation.egwebapps.information))("styleClass","tab-msg mb-3")("toggleable",!0),t.yG2(2),t.E7m("innerHTML",t.kDX(3,6,e.tabMsg),t.E3n)}}function wt(i,a){if(1&i&&(t.SAx(0),t.yuY(1,$t,4,8,"p-panel",4),t.I0R(2,"div",5),t.wR5(3,"lib-ydrefsi-ng"),t.C$Y(),t.k70()),2&i){const e=t.GaO();t.yG2(),t.E7m("ngIf",e.tabMsg)}}const jt=[{path:"",component:(()=>{class i{constructor(e,u,o){this.oidcSecuritySrv=e,this.appCacheSrv=u,this.cdr=o,this.onDestroy=new E.E,this.afmNotFound=!1,this.selectedLang="el"}ngOnInit(){(0,K.E)([this.appCacheSrv.translation$,this.appCacheSrv.selectedLang$]).pipe((0,f.a)(this.onDestroy)).subscribe(e=>{e&&(this.translation=e[0],this.selectedLang=e[1],this.selectedLang&&(1==AppConfOptions.multilingual&&"el"!=this.selectedLang&&AppConfOptions.ydrefsi_tab_info_en&&""!=AppConfOptions.ydrefsi_tab_info_en?this.tabMsg=AppConfOptions.ydrefsi_tab_info_en:AppConfOptions.ydrefsi_tab_info&&""!=AppConfOptions.ydrefsi_tab_info&&"el"==this.selectedLang&&(this.tabMsg=AppConfOptions.ydrefsi_tab_info)),(0,s.Er)(this.cdr))}),this.oidcSecuritySrv.isAuthenticated$.pipe((0,z.G)(e=>(this.isAuthorized=null!=e&&e.isAuthenticated,this.appCacheSrv.user$)),(0,f.a)(this.onDestroy)).subscribe(e=>{this.afmNotFound=!1,(0,s.Er)(this.cdr),e&&(0,s.w1)(e.tin)&&AppConfOptions.ydrefsi_afm_required&&(this.afmNotFound=!0),(0,s.Er)(this.cdr)})}ngOnDestroy(){this.onDestroy.next(null)}static{this.\u0275fac=function(u){return new(u||i)(t.GI1(J.Bf),t.GI1(H.i),t.GI1(t.kD9))}}static{this.\u0275cmp=t.In1({type:i,selectors:[["app-ydrefsi"]],decls:4,vars:3,consts:[[1,"module-title"],["severity","warn","text","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd.",4,"ngIf"],[4,"ngIf"],["severity","warn","text","\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03bf\u03cd\u03bc\u03b5 \u03c3\u03c5\u03bd\u03b4\u03b5\u03b8\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03c3\u03cd\u03c3\u03c4\u03b7\u03bc\u03b1 \u03b7\u03bb\u03b5\u03ba\u03c4\u03c1\u03bf\u03bd\u03b9\u03ba\u03ce\u03bd \u03c5\u03c0\u03b7\u03c1\u03b5\u03c3\u03b9\u03ce\u03bd."],[3,"header","styleClass","toggleable",4,"ngIf"],[1,"ydrefsi-container","bg-white","p-2"],[3,"header","styleClass","toggleable"],[3,"innerHTML"]],template:function(u,o){1&u&&(t.I0R(0,"h3",0),t.OEk(1),t.C$Y(),t.yuY(2,Lt,1,0,"p-message",1)(3,wt,4,1,"ng-container",2)),2&u&&(t.yG2(),t.cNF(null==o.translation?null:o.translation.menu.ydrefsiMenuItem),t.yG2(),t.E7m("ngIf",!o.isAuthorized),t.yG2(),t.E7m("ngIf",!o.afmNotFound))},dependencies:[p.u_,_.S,v.s,R,Tt.m,Pt.sD],encapsulation:2,changeDetection:0})}}return i})()}];let Nt=(()=>{class i{static{this.\u0275fac=function(u){return new(u||i)}}static{this.\u0275mod=t.a4G({type:i})}static{this.\u0275inj=t.s3X({imports:[d.qQ.forChild(jt),d.qQ]})}}return i})(),Ut=(()=>{class i{static{this.\u0275fac=function(u){return new(u||i)}}static{this.\u0275mod=t.a4G({type:i})}static{this.\u0275inj=t.s3X({imports:[U.k,Nt,N.IB,St]})}}return i})()}}]);