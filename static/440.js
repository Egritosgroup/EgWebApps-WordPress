"use strict";(self.webpackChunkegritos_group_eg_web_apps=self.webpackChunkegritos_group_eg_web_apps||[]).push([[440],{3440:(ft,S,r)=>{r.r(S),r.d(S,{KatastimataModule:()=>ct,PublicLibLoader:()=>ht});var I=r(7048),i=r(4496),a=r(3228),J=r(6700),c=r(2700),k=r(5657),R=r(9336),m=r(4704),C=r(9144),f=r(3616),B=r(7368),y=r(7921),H=r(2116),p=r(1368),F=r(1123),x=r(3856),b=r(6328),h=r(6504),v=r(312),G=r(7435),O=r(4344),T=r(120),Q=r(4476),M=r(7564),D=r(8552),X=r(6835),U=r(1148);const Z=["dimotikosForosForm"];function ii(s,u){if(1&s){const t=i.KQA();i.I0R(0,"div",19)(1,"label"),i.OEk(2,"\u03a0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc*"),i.C$Y(),i.I0R(3,"ng-select",20,21),i.iHE("ngModelChange",function(e){i.usT(t);const n=i.GaO(2);return i.kNx(n.selectedPososto,e)||(n.selectedPososto=e),i.CGJ(e)}),i.C$Y(),i.I0R(5,"div",9),i.OEk(6," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),i.C$Y()()}if(2&s){const t=i.GaO(2);i.yG2(3),i.E7m("appendTo","body")("searchable",!0)("clearable",!1)("items",t.pososta),i.OKB("ngModel",t.selectedPososto),i.E7m("disabled",t.dilosi.statusId==t.statusDilosisEnum.exoflimeni||t.dilosi.statusId==t.statusDilosisEnum.merikosExoflimeni||t.dilosi.statusId==t.statusDilosisEnum.exoflimeniApoMetaptosi||t.dilosi.statusId==t.statusDilosisEnum.exoflisiWEB||null!=t.dilosi.oikothenId||null!=t.dilosi.xrimatikosKatalogosEggrafesProstimoId||null!=t.dilosi.xrimatikosKatalogosEggrafesTelosId||t.dilosiCopy.isMideniki),i.yG2(2),i.E7m("hidden",!t.isFormSubmitted||"1"==t.onlinePaymentsSettingsCompany||t.isFormSubmitted&&"1"!=t.onlinePaymentsSettingsCompany&&t.selectedPososto&&""!=t.selectedPososto)}}function ti(s,u){1&s&&(i.I0R(0,"span"),i.OEk(1,"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd"),i.C$Y())}function ei(s,u){1&s&&(i.I0R(0,"span"),i.OEk(1,"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7 \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1\u03c2 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd"),i.C$Y())}function si(s,u){if(1&s&&(i.I0R(0,"div",26)(1,"a",27),i.wVc(2,"async"),i.wVc(3,"securePlg"),i.wR5(4,"i",28),i.C$Y(),i.I0R(5,"strong"),i.OEk(6),i.C$Y(),i.OEk(7),i.I0R(8,"small"),i.wR5(9,"i",29),i.OEk(10),i.wVc(11,"date"),i.C$Y()()),2&s){const t=u.$implicit,o=i.GaO(3);i.yG2(),i._6D("download",t.fileName),i.E7m("href",i.kDX(2,5,i.kDX(3,7,o.katastimataApiUrl+"/api/DocDms/DownloadFile/"+t.dmsId)),i.K6U),i.yG2(5),i.cNF(t.perigrafi),i.yG2(),i.oRS(" (",t.fileName,")\xa0 "),i.yG2(3),i.oRS(" ",i.g7$(11,9,t.creationTime,"dd/MM/yyyy"),"")}}function oi(s,u){if(1&s){const t=i.KQA();i.SAx(0),i.I0R(1,"div",22)(2,"h5"),i.OEk(3,"\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u0391\u03c1\u03c7\u03b5\u03af\u03b1"),i.C$Y(),i.I0R(4,"button",23),i.qCj("click",function(){i.usT(t);const e=i.GaO(2);return i.CGJ(e.toggleEditFiles=!e.toggleEditFiles)}),i.wR5(5,"i",24),i.yuY(6,ti,2,0,"span",2)(7,ei,2,0,"span",2),i.C$Y()(),i.yuY(8,si,12,12,"div",25),i.k70()}if(2&s){const t=i.GaO(2);i.yG2(4),i.E7m("disabled",t.dilosi.statusId==t.statusDilosisEnum.exoflimeni||t.dilosi.statusId==t.statusDilosisEnum.merikosExoflimeni||t.dilosi.statusId==t.statusDilosisEnum.exoflimeniApoMetaptosi||t.dilosi.statusId==t.statusDilosisEnum.exoflisiWEB||null!=t.dilosi.oikothenId||null!=t.dilosi.xrimatikosKatalogosEggrafesProstimoId||null!=t.dilosi.xrimatikosKatalogosEggrafesTelosId),i.yG2(2),i.E7m("ngIf",!t.toggleEditFiles),i.yG2(),i.E7m("ngIf",t.toggleEditFiles),i.yG2(),i.E7m("ngForOf",t.dilosiFiles)}}function ai(s,u){1&s&&i.wR5(0,"p-message",38)}function ni(s,u){if(1&s){const t=i.KQA();i.SAx(0),i.yuY(1,ai,1,0,"p-message",30),i.I0R(2,"div",5)(3,"div",31)(4,"label",32),i.OEk(5,"\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)*"),i.C$Y(),i.I0R(6,"p-fileUpload",33,34),i.qCj("onRemove",function(e){i.usT(t);const n=i.GaO(2);return i.CGJ(n.onRemoveFile(e))})("onSelect",function(e){i.usT(t);const n=i.GaO(2);return i.CGJ(n.onAddFile(e,"periodikiDilosiFPA"))}),i.C$Y(),i.I0R(8,"div",9),i.OEk(9," *\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),i.C$Y()(),i.I0R(10,"div",31)(11,"label",35),i.OEk(12,"\u0395\u03c0\u03b9\u03c0\u03bb\u03ad\u03bf\u03bd \u03b1\u03c1\u03c7\u03b5\u03af\u03bf (\u03a0.\u03c7. \u0399\u03c3\u03bf\u03b6\u03cd\u03b3\u03b9\u03bf)"),i.C$Y(),i.I0R(13,"p-fileUpload",36,37),i.qCj("onRemove",function(e){i.usT(t);const n=i.GaO(2);return i.CGJ(n.onRemoveFile(e))})("onSelect",function(e){i.usT(t);const n=i.GaO(2);return i.CGJ(n.onAddFile(e,"extraFile"))}),i.C$Y()()(),i.k70()}if(2&s){const t=i.GaO(2);i.yG2(),i.E7m("ngIf",t.toggleEditFiles),i.yG2(5),i.E7m("chooseLabel","\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0391\u03c1\u03c7\u03b5\u03af\u03bf\u03c5")("showUploadButton",!1)("showCancelButton",!1)("multiple",!1)("maxFileSize",4e6)("invalidFileSizeMessageSummary","\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03be\u03b5\u03c0\u03b5\u03c1\u03bd\u03ac \u03c4\u03bf \u03bc\u03ad\u03b3\u03b9\u03c3\u03c4\u03bf \u03b5\u03c0\u03b9\u03c4\u03c1\u03b5\u03c0\u03c4\u03cc \u03bc\u03ad\u03b3\u03b5\u03b8\u03bf\u03c2 (4MB)")("invalidFileTypeMessageSummary","\u039f\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03b5\u03c0\u03cc\u03bc\u03b5\u03bd\u03bf\u03b9 \u03c4\u03cd\u03c0\u03bf\u03b9 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 pdf, jpg, jpeg, doc \u03ba\u03b1\u03b9 docx."),i.yG2(2),i.E7m("hidden",!t.isFormSubmitted||t.isFormSubmitted&&t.uploadedFiles&&t.uploadedFiles.periodikiDilosiFPA),i.yG2(5),i.E7m("chooseLabel","\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0391\u03c1\u03c7\u03b5\u03af\u03bf\u03c5")("showUploadButton",!1)("showCancelButton",!1)("multiple",!1)("maxFileSize",4e6)("invalidFileSizeMessageSummary","\u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03be\u03b5\u03c0\u03b5\u03c1\u03bd\u03ac \u03c4\u03bf \u03bc\u03ad\u03b3\u03b9\u03c3\u03c4\u03bf \u03b5\u03c0\u03b9\u03c4\u03c1\u03b5\u03c0\u03c4\u03cc \u03bc\u03ad\u03b3\u03b5\u03b8\u03bf\u03c2 (4MB)")("invalidFileTypeMessageSummary","\u039f\u03b9 \u03b5\u03c0\u03b9\u03c4\u03c1\u03b5\u03c0\u03cc\u03bc\u03b5\u03bd\u03bf\u03b9 \u03c4\u03cd\u03c0\u03bf\u03b9 \u03b1\u03c1\u03c7\u03b5\u03af\u03c9\u03bd \u03b5\u03af\u03bd\u03b1\u03b9 pdf, jpg, jpeg, doc \u03ba\u03b1\u03b9 docx.")}}function ui(s,u){1&s&&(i.I0R(0,"span"),i.wR5(1,"span",39),i.OEk(2," \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc\u03c2 \u03a0\u03bf\u03c3\u03ce\u03bd"),i.C$Y())}function li(s,u){1&s&&(i.I0R(0,"span"),i.wR5(1,"span",40),i.OEk(2," \u03a5\u03c0\u03bf\u03b2\u03bf\u03bb\u03ae"),i.C$Y())}function ri(s,u){if(1&s&&i.wR5(0,"div",41),2&s){const t=i.GaO(2);i.E7m("innerHTML",t.formErrorsMsg,i.E3n)}}function di(s,u){if(1&s){const t=i.KQA();i.I0R(0,"form",3,4)(2,"div",5)(3,"div",6)(4,"label"),i.OEk(5,"\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2*"),i.C$Y(),i.I0R(6,"ng-select",7,8),i.iHE("ngModelChange",function(e){i.usT(t);const n=i.GaO();return i.kNx(n.dilosiCopy.dilosiId,e)||(n.dilosiCopy.dilosiId=e),i.CGJ(e)}),i.qCj("ngModelChange",function(e){i.usT(t);const n=i.GaO();return n.onSelectedDilosiChanged(e),i.CGJ(n.isFormDirty=!0)}),i.C$Y(),i.I0R(8,"div",9),i.OEk(9," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),i.C$Y()(),i.I0R(10,"div",6)(11,"label"),i.OEk(12,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),i.C$Y(),i.wR5(13,"input",10),i.wVc(14,"date"),i.C$Y(),i.I0R(15,"div",11)(16,"p-checkbox",12),i.iHE("ngModelChange",function(e){i.usT(t);const n=i.GaO();return i.kNx(n.dilosiCopy.isMideniki,e)||(n.dilosiCopy.isMideniki=e),i.CGJ(e)}),i.qCj("ngModelChange",function(){i.usT(t);const e=i.GaO();return i.CGJ(e.onIsMidenikiChanged())}),i.C$Y()()(),i.I0R(17,"div",5),i.yuY(18,ii,7,7,"div",13),i.I0R(19,"div",14)(20,"label"),i.OEk(21,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc*"),i.C$Y(),i.I0R(22,"input",15,16),i.iHE("ngModelChange",function(e){i.usT(t);const n=i.GaO();return i.kNx(n.dilosiCopy.ypokeimenoPoso,e)||(n.dilosiCopy.ypokeimenoPoso=e),i.CGJ(e)}),i.qCj("ngModelChange",function(){i.usT(t);const e=i.GaO();return i.CGJ(e.isFormDirty=!0)}),i.C$Y(),i.I0R(24,"div",9),i.OEk(25," *\u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf. "),i.C$Y()()(),i.yuY(26,oi,9,4,"ng-container",2)(27,ni,15,16,"ng-container",2),i.wR5(28,"hr"),i.I0R(29,"button",17),i.qCj("click",function(){i.usT(t);const e=i.GaO();return i.CGJ(e.onSubmit())}),i.yuY(30,ui,3,0,"span",2)(31,li,3,0,"span",2),i.C$Y(),i.yuY(32,ri,1,1,"div",18),i.C$Y()}if(2&s){const t=i.Gew(7),o=i.Gew(23),e=i.GaO();i.yG2(6),i.E7m("appendTo","body")("searchable",!0)("clearable",!1)("items",e.diloseisToPay),i.OKB("ngModel",e.dilosiCopy.dilosiId),i.E7m("disabled",e.dilosi.statusId==e.statusDilosisEnum.exoflimeni||e.dilosi.statusId==e.statusDilosisEnum.merikosExoflimeni||e.dilosi.statusId==e.statusDilosisEnum.exoflimeniApoMetaptosi||e.dilosi.statusId==e.statusDilosisEnum.exoflisiWEB||null!=e.dilosi.oikothenId||null!=e.dilosi.xrimatikosKatalogosEggrafesProstimoId||null!=e.dilosi.xrimatikosKatalogosEggrafesTelosId),i.yG2(2),i.E7m("hidden",!e.isFormSubmitted||e.isFormSubmitted&&t.valid),i.yG2(5),i.E7m("value",i.g7$(14,21,e.dilosiCopy.hmeromiaLixisDilosis,"dd/MM/yyyy")),i.yG2(3),i.OKB("ngModel",e.dilosiCopy.isMideniki),i.E7m("disabled",e.dilosi.statusId==e.statusDilosisEnum.exoflimeni||e.dilosi.statusId==e.statusDilosisEnum.merikosExoflimeni||e.dilosi.statusId==e.statusDilosisEnum.exoflimeniApoMetaptosi||e.dilosi.statusId==e.statusDilosisEnum.exoflisiWEB||null!=e.dilosi.oikothenId||null!=e.dilosi.xrimatikosKatalogosEggrafesProstimoId||null!=e.dilosi.xrimatikosKatalogosEggrafesTelosId),i.yG2(2),i.E7m("ngIf","1"!=e.onlinePaymentsSettingsCompany),i.yG2(),i.E7m("ngClass","1"==e.onlinePaymentsSettingsCompany?"":"col-md-6"),i.yG2(3),i.OKB("ngModel",e.dilosiCopy.ypokeimenoPoso),i.E7m("disabled",e.dilosi.statusId==e.statusDilosisEnum.exoflimeni||e.dilosi.statusId==e.statusDilosisEnum.merikosExoflimeni||e.dilosi.statusId==e.statusDilosisEnum.exoflimeniApoMetaptosi||e.dilosi.statusId==e.statusDilosisEnum.exoflisiWEB||null!=e.dilosi.oikothenId||null!=e.dilosi.xrimatikosKatalogosEggrafesProstimoId||null!=e.dilosi.xrimatikosKatalogosEggrafesTelosId||e.dilosiCopy.isMideniki),i.yG2(2),i.E7m("hidden",!e.isFormSubmitted||e.isFormSubmitted&&o.valid),i.yG2(2),i.E7m("ngIf",e.dilosiFiles&&e.dilosiFiles.length),i.yG2(),i.E7m("ngIf",e.toggleEditFiles||!e.dilosiFiles||e.dilosiFiles&&0==e.dilosiFiles.length),i.yG2(2),i.E7m("disabled",e.dilosi.statusId==e.statusDilosisEnum.exoflimeni||e.dilosi.statusId==e.statusDilosisEnum.merikosExoflimeni||e.dilosi.statusId==e.statusDilosisEnum.exoflimeniApoMetaptosi||e.dilosi.statusId==e.statusDilosisEnum.exoflisiWEB||null!=e.dilosi.oikothenId||null!=e.dilosi.xrimatikosKatalogosEggrafesProstimoId||null!=e.dilosi.xrimatikosKatalogosEggrafesTelosId),i.yG2(),i.E7m("ngIf",!e.dilosiCopy.isMideniki&&"1"==e.onlinePaymentsSettingsCompany),i.yG2(),i.E7m("ngIf",e.dilosiCopy.isMideniki||"1"!=e.onlinePaymentsSettingsCompany),i.yG2(),i.E7m("ngIf",e.formErrorsMsg&&""!=e.formErrorsMsg)}}function pi(s,u){1&s&&(i.I0R(0,"p",45)(1,"span",46),i.OEk(2,"\u03a4\u03b1\u03c5\u03c4\u03cc\u03c4\u03b7\u03c4\u03b1 \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2 \u0394\u0399\u0391\u03a3:"),i.C$Y()())}function mi(s,u){1&s&&(i.I0R(0,"p",45)(1,"span",46),i.OEk(2,"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u039b\u03ae\u03be\u03b7\u03c2 \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2:"),i.C$Y()())}function Ci(s,u){if(1&s&&(i.I0R(0,"p",45)(1,"span",48),i.OEk(2),i.C$Y()()),2&s){const t=i.GaO(2);i.yG2(2),i.cNF(t.kodikosPliromis)}}function ci(s,u){if(1&s&&(i.I0R(0,"p",45)(1,"span",48),i.OEk(2),i.wVc(3,"date"),i.C$Y()()),2&s){const t=i.GaO(2);i.yG2(2),i.cNF(i.g7$(3,1,t.dilosiWebPaymentInfo.hmeromiaLixisPliromis,"dd/MM/yyyy"))}}function hi(s,u){if(1&s){const t=i.KQA();i.I0R(0,"a",53),i.qCj("click",function(e){i.usT(t);const n=i.GaO(3);return i.CGJ(n.onOpenEktiposi(e))}),i.wR5(1,"span",54),i.OEk(2," \u0395\u03ba\u03c4\u03cd\u03c0\u03c9\u03c3\u03b7 "),i.C$Y()}if(2&s){const t=i.GaO(3);i.eAK("disabled",!!t.isFormDirty||null),i.E7m("href",t.katastimataApiUrl+"/ViewReports/ReportDilosiTautotitaPliromisDias/"+t.dilosiWebPaymentInfo.dilosiId,i.K6U)}}function fi(s,u){if(1&s){const t=i.KQA();i.I0R(0,"div",50),i.yuY(1,hi,3,3,"a",51),i.I0R(2,"eg-checkout",52),i.qCj("payBtnClick",function(e){i.usT(t);const n=i.GaO(2);return i.CGJ(n.onCreatePaymentRequest(e))}),i.C$Y()()}if(2&s){const t=i.GaO(2);i.yG2(),i.E7m("ngIf",t.kodikosPliromis&&""!=t.kodikosPliromis&&t.createPaymentCodeDias),i.yG2(),i.E7m("isPaymentFormValid",!t.isFormDirty)("doPaymentSubscription",t.onDoPaymentSubject.asObservable())("govPaymentGatewayApiUrl",t.govPaymentGatewayApiUrl)}}const w=s=>[s,"\u20ac","symbol","1.2","el"];function Bi(s,u){if(1&s&&(i.SAx(0),i.I0R(1,"h4",42),i.OEk(2,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03a5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03bf\u03cd"),i.C$Y(),i.I0R(3,"div",43)(4,"div",44)(5,"div")(6,"p",45)(7,"span",46),i.OEk(8,"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),i.C$Y()(),i.I0R(9,"p",45)(10,"span",46),i.OEk(11,"\u03a0\u03bf\u03c3\u03cc \u03a4\u03ad\u03bb\u03bf\u03c5\u03c2:"),i.C$Y()(),i.I0R(12,"p",45)(13,"span",46),i.OEk(14,"\u039c\u03ae\u03bd\u03b5\u03c2 \u039a\u03b1\u03b8\u03c5\u03c3\u03c4\u03ad\u03c1\u03b7\u03c3\u03b7\u03c2:"),i.C$Y()(),i.I0R(15,"p",45)(16,"span",46),i.OEk(17,"\u03a0\u03bf\u03c3\u03cc \u03a0\u03c1\u03bf\u03c3\u03c4\u03af\u03bc\u03bf\u03c5/\u03a0\u03c1\u03bf\u03c3\u03b1\u03cd\u03be\u03b7\u03c3\u03b7\u03c2:"),i.C$Y()(),i.I0R(18,"p",45)(19,"span",46),i.OEk(20,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03bf\u03c3\u03cc \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2:"),i.C$Y()(),i.yuY(21,pi,3,0,"p",47)(22,mi,3,0,"p",47),i.C$Y(),i.I0R(23,"div")(24,"p",45)(25,"span",48),i.OEk(26),i.C$Y()(),i.I0R(27,"p",45)(28,"span",48),i.OEk(29),i.wVc(30,"currency"),i.C$Y()(),i.I0R(31,"p",45)(32,"span",48),i.OEk(33),i.C$Y()(),i.I0R(34,"p",45)(35,"span",48),i.OEk(36),i.wVc(37,"currency"),i.C$Y()(),i.I0R(38,"p",45)(39,"span",48),i.OEk(40),i.wVc(41,"currency"),i.C$Y()(),i.yuY(42,Ci,3,1,"p",47)(43,ci,4,4,"p",47),i.C$Y()(),i.yuY(44,fi,3,4,"div",49),i.C$Y(),i.k70()),2&s){const t=i.GaO();i.yG2(21),i.E7m("ngIf",t.kodikosPliromis&&t.dilosiWebPaymentInfo.paymentAmount>0&&t.createPaymentCodeDias),i.yG2(),i.E7m("ngIf",t.kodikosPliromis&&t.dilosiWebPaymentInfo.paymentAmount>0&&t.dilosiWebPaymentInfo.hmeromiaLixisPliromis),i.yG2(4),i.cNF(t.dilosiWebPaymentInfo.paymentCaption),i.yG2(3),i.cNF(i.MxA(30,10,i.S45(28,w,t.dilosiWebPaymentInfo.telosPoso))),i.yG2(4),i.cNF(t.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines),i.yG2(3),i.cNF(i.MxA(37,16,i.S45(30,w,t.dilosiWebPaymentInfo.prostimoPoso))),i.yG2(4),i.cNF(i.MxA(41,22,i.S45(32,w,t.dilosiWebPaymentInfo.paymentAmount))),i.yG2(2),i.E7m("ngIf",t.kodikosPliromis&&t.dilosiWebPaymentInfo.paymentAmount>0&&t.createPaymentCodeDias),i.yG2(),i.E7m("ngIf",t.kodikosPliromis&&t.dilosiWebPaymentInfo.paymentAmount>0),i.yG2(),i.E7m("ngIf",t.dilosiWebPaymentInfo.paymentAmount>0)}}function yi(s,u){1&s&&i.wR5(0,"p-message",7)}function gi(s,u){if(1&s&&i.wR5(0,"p-message",8),2&s){const t=i.GaO();i.E7m("severity",t.bankStatusMessageClass)("text",t.bankStatusMessage)("styleClass","my-1")}}function _i(s,u){1&s&&(i.I0R(0,"tr")(1,"th",9),i.OEk(2,"\u0391/\u0391"),i.C$Y(),i.I0R(3,"th",10),i.OEk(4,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),i.C$Y(),i.I0R(5,"th",9),i.OEk(6,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),i.C$Y(),i.I0R(7,"th",11),i.OEk(8,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),i.C$Y(),i.I0R(9,"th",11),i.OEk(10,"\u03a4\u03ad\u03bb\u03bf\u03c2"),i.C$Y(),i.I0R(11,"th",11),i.OEk(12,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),i.C$Y(),i.I0R(13,"th",11),i.OEk(14,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf"),i.C$Y(),i.I0R(15,"th",12),i.OEk(16,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),i.C$Y()())}function Ii(s,u){1&s&&i.wR5(0,"i",18)}function ki(s,u){if(1&s&&(i.I0R(0,"tr")(1,"td",13)(2,"span",14),i.OEk(3,"\u0391/\u0391"),i.C$Y(),i.OEk(4),i.C$Y(),i.I0R(5,"td",10)(6,"span",14),i.OEk(7,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),i.C$Y(),i.OEk(8),i.C$Y(),i.I0R(9,"td",15)(10,"span",14),i.OEk(11,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),i.C$Y(),i.yuY(12,Ii,1,0,"i",16),i.C$Y(),i.I0R(13,"td",17)(14,"span",14),i.OEk(15,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),i.C$Y(),i.OEk(16),i.wVc(17,"currency"),i.C$Y(),i.I0R(18,"td",17)(19,"span",14),i.OEk(20,"\u03a4\u03ad\u03bb\u03bf\u03c2"),i.C$Y(),i.OEk(21),i.wVc(22,"currency"),i.C$Y(),i.I0R(23,"td",17)(24,"span",14),i.OEk(25,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),i.C$Y(),i.OEk(26),i.wVc(27,"currency"),i.C$Y(),i.I0R(28,"td",17)(29,"span",14),i.OEk(30,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf"),i.C$Y(),i.OEk(31),i.wVc(32,"currency"),i.C$Y(),i.I0R(33,"td",12)(34,"span",14),i.OEk(35,"\u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u0391\u03c0\u03cc\u03b4\u03b5\u03b9\u03be\u03b7\u03c2"),i.C$Y(),i.OEk(36),i.C$Y()()),2&s){const t=u.$implicit,o=u.rowIndex;i.yG2(4),i.oRS(" ",o+1," "),i.yG2(4),i.oRS(" ",t.dilosiCaption," "),i.yG2(4),i.E7m("ngIf",t.midenikiDilosi),i.yG2(4),i.oRS(" ",i.wB1(17,8,t.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),i.yG2(5),i.oRS(" ",i.wB1(22,13,t.telosPoso,"\u20ac","symbol","1.2")," "),i.yG2(5),i.oRS(" ",i.wB1(27,18,t.prostimoPoso,"\u20ac","symbol","1.2")," "),i.yG2(5),i.oRS(" ",i.wB1(32,23,t.sinolikoPoso,"\u20ac","symbol","1.2")," "),i.yG2(5),i.oRS(" ",t.stoixeiaApodixis," ")}}function bi(s,u){1&s&&(i.I0R(0,"tr")(1,"td",19),i.OEk(2," \u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ad\u03c2. "),i.C$Y()())}const g=s=>[s,"EUR","symbol","1.2-2","el"];function Ai(s,u){if(1&s&&(i.I0R(0,"tr")(1,"td",20)(2,"strong"),i.OEk(3),i.C$Y()(),i.I0R(4,"td",17)(5,"strong"),i.OEk(6),i.wVc(7,"currency"),i.C$Y()(),i.I0R(8,"td",17)(9,"strong"),i.OEk(10),i.wVc(11,"currency"),i.C$Y()(),i.I0R(12,"td",17)(13,"strong"),i.OEk(14),i.wVc(15,"currency"),i.C$Y()(),i.I0R(16,"td",17)(17,"strong"),i.OEk(18),i.wVc(19,"currency"),i.C$Y()(),i.I0R(20,"td",12),i.OEk(21,"\xa0"),i.C$Y()()),2&s){const t=i.GaO();i.yG2(3),i.oRS("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2: ",null==t.diloseisPayed?null:t.diloseisPayed.length,""),i.yG2(3),i.cNF(i.MxA(7,5,i.S45(29,g,t.sumYpokeimeno))),i.yG2(4),i.cNF(i.MxA(11,11,i.S45(31,g,t.sumTelos))),i.yG2(4),i.cNF(i.MxA(15,17,i.S45(33,g,t.sumProstimo))),i.yG2(4),i.cNF(i.MxA(19,23,i.S45(35,g,t.sumSinolo)))}}function Di(s,u){if(1&s&&i.wR5(0,"p-message",12),2&s){const t=i.GaO();i.E7m("severity",t.bankStatusMessageClass)("text",t.bankStatusMessage)("styleClass","mb-2")}}function Ei(s,u){1&s&&i.C_f(0)}function Pi(s,u){if(1&s&&(i.I0R(0,"div",13),i.yuY(1,Ei,1,0,"ng-container",14),i.C$Y()),2&s){i.GaO();const t=i.Gew(10);i.yG2(),i.E7m("ngTemplateOutlet",t)}}function Fi(s,u){if(1&s){const t=i.KQA();i.I0R(0,"tr")(1,"th",15)(2,"p-checkbox",16),i.iHE("ngModelChange",function(e){i.usT(t);const n=i.GaO();return i.kNx(n.isAllDebitsChecked,e)||(n.isAllDebitsChecked=e),i.CGJ(e)}),i.qCj("onChange",function(){i.usT(t);const e=i.GaO();return i.CGJ(e.onAllDebitsSelected())}),i.C$Y()(),i.I0R(3,"th",17),i.OEk(4,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),i.C$Y(),i.I0R(5,"th",18),i.OEk(6,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),i.C$Y(),i.I0R(7,"th",18),i.OEk(8,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),i.C$Y(),i.I0R(9,"th",19),i.OEk(10,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),i.C$Y(),i.I0R(11,"th",19),i.OEk(12,"\u03a4\u03ad\u03bb\u03bf\u03c2"),i.C$Y(),i.I0R(13,"th",19),i.OEk(14,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),i.C$Y(),i.I0R(15,"th",19),i.OEk(16,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2"),i.C$Y(),i.I0R(17,"th",20),i.OEk(18,"\xa0"),i.C$Y()()}if(2&s){const t=i.GaO();i.yG2(2),i.E7m("binary",!0),i.OKB("ngModel",t.isAllDebitsChecked),i.yG2(15),i.E7m("frozen",!0)}}function xi(s,u){1&s&&i.wR5(0,"i",29)}function vi(s,u){if(1&s){const t=i.KQA();i.I0R(0,"tr")(1,"td",15)(2,"span",21),i.OEk(3,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae"),i.C$Y(),i.I0R(4,"p-checkbox",22),i.iHE("ngModelChange",function(e){const l=i.usT(t).$implicit;return i.kNx(l.isChecked,e)||(l.isChecked=e),i.CGJ(e)}),i.qCj("onChange",function(){i.usT(t);const e=i.GaO();return i.CGJ(e._calculateTotalAmounts())}),i.C$Y()(),i.I0R(5,"td",17)(6,"span",21),i.OEk(7,"\u0394\u03ae\u03bb\u03c9\u03c3\u03b7"),i.C$Y(),i.OEk(8),i.C$Y(),i.I0R(9,"td",23)(10,"span",21),i.OEk(11,"\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2"),i.C$Y(),i.OEk(12),i.wVc(13,"date"),i.C$Y(),i.I0R(14,"td",23)(15,"span",21),i.OEk(16,"\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae"),i.C$Y(),i.yuY(17,xi,1,0,"i",24),i.C$Y(),i.I0R(18,"td",25)(19,"span",21),i.OEk(20,"\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc"),i.C$Y(),i.OEk(21),i.wVc(22,"currency"),i.C$Y(),i.I0R(23,"td",25)(24,"span",21),i.OEk(25,"\u03a4\u03ad\u03bb\u03bf\u03c2"),i.C$Y(),i.OEk(26),i.wVc(27,"currency"),i.C$Y(),i.I0R(28,"td",25)(29,"span",21),i.OEk(30,"\u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf"),i.C$Y(),i.OEk(31),i.wVc(32,"currency"),i.C$Y(),i.I0R(33,"td",25)(34,"span",21),i.OEk(35,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u039f\u03c6\u03b5\u03b9\u03bb\u03ae\u03c2"),i.C$Y(),i.I0R(36,"strong"),i.OEk(37),i.wVc(38,"currency"),i.C$Y()(),i.I0R(39,"td",26)(40,"span",21),i.OEk(41,"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"),i.C$Y(),i.I0R(42,"button",27),i.qCj("click",function(){const n=i.usT(t).$implicit,l=i.GaO();return i.CGJ(l.onEdit(n))}),i.wR5(43,"i",28),i.C$Y()()()}if(2&s){const t=u.$implicit;i.yG2(4),i.E7m("binary",!0),i.OKB("ngModel",t.isChecked),i.E7m("disabled",t.isMideniki),i.yG2(4),i.oRS(" ",t.dilosiDescription," "),i.yG2(4),i.oRS(" ",i.g7$(13,11,t.hmeromiaLixisDilosis,"dd/MM/yyyy")," "),i.yG2(5),i.E7m("ngIf",t.isMideniki),i.yG2(4),i.oRS(" ",i.wB1(22,14,t.ypokeimenoPoso,"\u20ac","symbol","1.2")," "),i.yG2(5),i.oRS(" ",i.wB1(27,19,t.telosPoso,"\u20ac","symbol","1.2")," "),i.yG2(5),i.oRS(" ",i.wB1(32,24,t.prostimoPoso,"\u20ac","symbol","1.2")," "),i.yG2(6),i.cNF(i.wB1(38,29,t.telosPoso+t.prostimoPoso,"\u20ac","symbol","1.2")),i.yG2(2),i.E7m("frozen",!0)}}function Oi(s,u){1&s&&(i.I0R(0,"tr")(1,"td",30),i.OEk(2," \u0394\u03b5\u03bd \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd \u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ad\u03c2. "),i.C$Y()())}function wi(s,u){if(1&s&&(i.I0R(0,"tr")(1,"td",31)(2,"strong"),i.OEk(3),i.C$Y()(),i.I0R(4,"td",25)(5,"strong"),i.OEk(6),i.wVc(7,"currency"),i.C$Y()(),i.I0R(8,"td",25)(9,"strong"),i.OEk(10),i.wVc(11,"currency"),i.C$Y()(),i.I0R(12,"td",25)(13,"strong"),i.OEk(14),i.wVc(15,"currency"),i.C$Y()(),i.I0R(16,"td",25)(17,"strong"),i.OEk(18),i.wVc(19,"currency"),i.C$Y()(),i.I0R(20,"td",32),i.OEk(21,"\xa0"),i.C$Y()()),2&s){const t=i.GaO();i.yG2(3),i.oRS("\u03a0\u03bb\u03ae\u03b8\u03bf\u03c2: ",null==t.diloseisSaved?null:t.diloseisSaved.length,""),i.yG2(3),i.cNF(i.MxA(7,5,i.S45(29,g,t.sumYpokeimeno))),i.yG2(4),i.cNF(i.MxA(11,11,i.S45(31,g,t.sumTelos))),i.yG2(4),i.cNF(i.MxA(15,17,i.S45(33,g,t.sumProstimo))),i.yG2(4),i.cNF(i.MxA(19,23,i.S45(35,g,t.sumToPay)))}}function Si(s,u){1&s&&i.C_f(0)}function Ri(s,u){if(1&s){const t=i.KQA();i.SAx(0),i.I0R(1,"div",13),i.yuY(2,Si,1,0,"ng-container",14),i.C$Y(),i.I0R(3,"div",33),i.wR5(4,"eg-loading",34),i.I0R(5,"eg-checkout",35),i.qCj("payBtnClick",function(e){i.usT(t);const n=i.GaO();return i.CGJ(n.onCreatePaymentRequest(e))}),i.C$Y()(),i.k70()}if(2&s){const t=i.GaO(),o=i.Gew(10);i.yG2(2),i.E7m("ngTemplateOutlet",o),i.yG2(2),i.E7m("condition",t.isLoadingResponse)("customClass","egr-load-small"),i.yG2(),i.E7m("isPaymentFormValid",!0)("doPaymentSubscription",t.onDoPaymentSubject.asObservable())("govPaymentGatewayApiUrl",t.govPaymentGatewayApiUrl)("buttonText","\u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae")}}function Gi(s,u){if(1&s&&(i.I0R(0,"div",36)(1,"p"),i.OEk(2),i.C$Y()()),2&s){const t=i.GaO();i.yG2(2),i.cNF(t.errorMessageProfile)}}function Ti(s,u){if(1&s&&(i.I0R(0,"p"),i.OEk(1,"\u0388\u03c7\u03b5\u03c4\u03b5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03b9 "),i.I0R(2,"span",37),i.OEk(3),i.C$Y()(),i.I0R(4,"div",38)(5,"p"),i.OEk(6,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a4\u03ad\u03bb\u03bf\u03c2: "),i.I0R(7,"span",37),i.OEk(8),i.wVc(9,"currency"),i.C$Y()(),i.I0R(10,"p"),i.OEk(11,"\u03a3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03cc \u03a0\u03c1\u03cc\u03c3\u03c4\u03b9\u03bc\u03bf: "),i.I0R(12,"span",37),i.OEk(13),i.wVc(14,"currency"),i.C$Y()(),i.I0R(15,"p"),i.OEk(16,"\u03a3\u03cd\u03bd\u03bf\u03bb\u03bf \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd \u03bf\u03c6\u03b5\u03b9\u03bb\u03ce\u03bd: "),i.I0R(17,"span",39),i.OEk(18),i.wVc(19,"currency"),i.C$Y()()()),2&s){const t=i.GaO();i.yG2(3),i.CAO("",t.calculatedChecked.countChecked," ",t.calculatedChecked.countText,""),i.yG2(5),i.cNF(i.wB1(9,5,t.calculatedChecked.checkedTelos,"\u20ac","symbol","1.2")),i.yG2(5),i.cNF(i.wB1(14,10,t.calculatedChecked.checkedProstimo,"\u20ac","symbol","1.2")),i.yG2(5),i.cNF(i.wB1(19,15,t.calculatedChecked.checkedTelos+t.calculatedChecked.checkedProstimo,"\u20ac","symbol","1.2"))}}function Mi(s,u){if(1&s){const t=i.KQA();i.I0R(0,"app-katastimata-create-dilosi",40),i.qCj("updateSaved",function(e){i.usT(t);const n=i.GaO();return i.CGJ(n.updateDilosiInTable(e))}),i.C$Y()}if(2&s){const t=i.GaO();i.E7m("diloseisToPay",t.diloseisToPay)("dilosi",t.selectedDilosi)("applicationUrl",t.applicationUrl)("onlinePaymentsSettingsCompany",t.onlinePaymentsSettingsCompany)}}const Y=()=>({minWidth:"60vw"});function Ui(s,u){1&s&&i.wR5(0,"p-message",4)}function Yi(s,u){if(1&s&&(i.I0R(0,"p",15)(1,"strong"),i.OEk(2,"\u0395\u03c0\u03c9\u03bd\u03c5\u03bc\u03af\u03b1 \u0395\u03c0\u03b9\u03c7\u03b5\u03af\u03c1\u03b7\u03c3\u03b7\u03c2:"),i.C$Y(),i.OEk(3),i.C$Y()),2&s){const t=i.GaO(3);i.yG2(3),i.oRS("\xa0",t.epixeirisiInfo.eponimia," ")}}function $i(s,u){if(1&s){const t=i.KQA();i.I0R(0,"button",16),i.qCj("click",function(){i.usT(t);const e=i.GaO(3);return i.CGJ(e.onCreateNewDilosiClicked())}),i.wR5(1,"span",17),i.OEk(2," \u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 "),i.C$Y()}}function Ki(s,u){if(1&s&&(i.I0R(0,"div",12),i.yuY(1,Yi,4,1,"p",13)(2,$i,3,0,"button",14),i.C$Y()),2&s){const t=i.GaO(2);i.yG2(),i.E7m("ngIf",t.epixeirisiInfo),i.yG2(),i.E7m("ngIf",t.diloseisToPay&&t.diloseisToPay.length>0)}}function Ni(s,u){if(1&s&&(i.I0R(0,"div",18)(1,"p"),i.wR5(2,"i",19),i.OEk(3),i.C$Y(),i.I0R(4,"a",20),i.wR5(5,"i",21),i.OEk(6," \u03a0\u03bb\u03b1\u03c4\u03c6\u03cc\u03c1\u03bc\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 \u03b5\u03c0\u03af \u03c4\u03c9\u03bd \u0391\u03ba\u03b1\u03b8\u03b1\u03c1\u03af\u03c3\u03c4\u03c9\u03bd \u0395\u03c3\u03cc\u03b4\u03c9\u03bd \u03ba\u03b1\u03b9 \u03a0\u03b1\u03c1\u03b5\u03c0\u03b9\u03b4\u03b7\u03bc\u03bf\u03cd\u03bd\u03c4\u03c9\u03bd "),i.C$Y()()),2&s){const t=i.GaO(2);i.yG2(3),i.oRS(" ",t.epixeirisiInfo.daeMessage,"")}}function Li(s,u){if(1&s){const t=i.KQA();i.I0R(0,"app-katastimata-receipts",22),i.qCj("reloadData",function(){i.usT(t);const e=i.GaO(2);return i.CGJ(e._loadData())}),i.C$Y()}if(2&s){const t=i.GaO(2);i.E7m("diloseisPayed",t.diloseisPayed)("diloseisToPay",t.diloseisToPay)("userInfo",t.userInfo)("isLoading",t.isLoading)}}function Wi(s,u){if(1&s){const t=i.KQA();i.SAx(0),i.yuY(1,Ki,3,2,"div",5)(2,Ni,7,1,"div",6),i.I0R(3,"p-tabView",7),i.qCj("onChange",function(e){i.usT(t);const n=i.GaO();return i.CGJ(n.onTabChanged(e))}),i.I0R(4,"p-tabPanel",8),i.yuY(5,Li,1,4,"app-katastimata-receipts",9),i.C$Y(),i.I0R(6,"p-tabPanel",10)(7,"app-katastimata-saved",11),i.qCj("reloadData",function(){i.usT(t);const e=i.GaO();return i.CGJ(e._loadData())}),i.C$Y()()(),i.k70()}if(2&s){const t=i.GaO();i.yG2(),i.E7m("ngIf",t.epixeirisiInfo||t.diloseisToPay&&t.diloseisToPay.length>0),i.yG2(),i.E7m("ngIf",t.epixeirisiInfo&&""!=t.epixeirisiInfo.daeMessage&&!t.isLoading),i.yG2(),i.E7m("activeIndex",t.index),i.yG2(2),i.E7m("ngIf",t.diloseisPayed),i.yG2(2),i.E7m("diloseisSaved",t.diloseisSaved)("diloseisToPay",t.diloseisToPay)("userInfo",t.userInfo)("epixeirisiInfo",t.epixeirisiInfo)("onlinePaymentsSettingsCompany",t.onlinePaymentsSettingsCompany)("isLoading",t.isLoading)("applicationUrl",t.applicationUrl)}}function ji(s,u){if(1&s){const t=i.KQA();i.I0R(0,"app-katastimata-create-dilosi",23),i.qCj("updateSaved",function(e){i.usT(t);const n=i.GaO();return i.CGJ(n.onReloadSaved(e))}),i.C$Y()}if(2&s){const t=i.GaO();i.E7m("epixeirisiInfo",t.epixeirisiInfo)("diloseisToPay",t.diloseisToPay)("dilosi",null)("applicationUrl",t.applicationUrl)("onlinePaymentsSettingsCompany",t.onlinePaymentsSettingsCompany)("createPaymentCodeDias",t.createPaymentCodeDias)}}class zi{constructor(u,t){this.http=u,this.exceptionService=t,this.getBaseUrl=()=>this.baseUrl,AppConfOptions&&AppConfOptions.katastimata_api?(this.baseUrl=AppConfOptions.katastimata_api,this.financeApiUrl=(0,a.w1)(AppConfOptions.finance_api)?(0,a.w1)(AppConfOptions.epayments_api)?null:(0,a.sF)(AppConfOptions.epayments_api):(0,a.sF)(AppConfOptions.finance_api)):(this.baseUrl="/",this.financeApiUrl=(0,a.sF)(AppConfOptions.financeApi)),this.baseUrl+="api",this.financeApiUrl+="api"}}let E=(()=>{class s extends zi{constructor(t,o){super(o,t),this.exceptionSrv=t,this.http=o,this.userInfoSubject=new J.g(null),this.userInfo$=this.userInfoSubject.asObservable(),this.egOnInit()}egOnInit(){this.userInfo$.subscribe(t=>{this.userInfo=t})}initUserInfo(){if(!this.userInfo){let o,t=null;o=window.localStorage.length&&null!=typeof localStorage.getItem("default-auth-config")?window.localStorage:window.sessionStorage;for(let e=0;e<o.length;e++){const n=o.key(e);n.includes("default-auth-config")&&(t=JSON.parse(o.getItem(n)).userData,this.userInfoSubject.next({email:t.email,username:t.given_name,tin:t.tin,family_name:t.family_name,given_name:t.given_name,name:t.name,address_city:t.address_city,address_country_code:t.address_country_code,address_zip:t.address_zip,address:t.address,fathers_name:t.fathers_name,mothers_name:t.mothers_name,adt:t.adt,phone_number:t.phone_number}))}}}getDiloseisWebInfo(t){return this.baseUrl=(0,a.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/DiloseisWeb/DiloseisWebInfo/${t}`).pipe((0,m.k)(e=>e),(0,C.a)(this.exceptionSrv.catchBadResponse))}getDilosiWebPaymentInfo(t){return this.baseUrl=(0,a.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.post(`${this.baseUrl}/DiloseisWeb/DilosiWebPaymentInfo`,t).pipe((0,m.k)(e=>e),(0,C.a)(this.exceptionSrv.catchBadResponse))}uploadPeriodikiDilosi(t){let o=new I.UD;return o=o.append("isForm","true"),this.baseUrl=(0,a.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.post(`${this.baseUrl}/DiloseisWeb/DilosiWebScan`,t,{headers:o,responseType:"arraybuffer"}).pipe((0,m.k)(n=>n),(0,C.a)(()=>(0,c.of)(!1)))}getDiloseisWebPayedInfo(t){return this.baseUrl=(0,a.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/DiloseisWeb/DiloseisWebPayedInfo/${t}`).pipe((0,m.k)(e=>e),(0,C.a)(this.exceptionSrv.catchBadResponse))}getEpixeirisiInfo(t){return this.baseUrl=(0,a.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/DiloseisWeb/DiloseisWebEpixirisiInfo/${t}`).pipe((0,m.k)(e=>e),(0,C.a)(this.exceptionSrv.catchBadResponse))}deleteDocDmsByDilosiId(t){return this.baseUrl=(0,a.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/DiloseisWeb/DeleteDocDmsByDilosiId/${t}`).pipe((0,m.k)(e=>e),(0,C.a)(this.exceptionSrv.catchBadResponse))}markDilosiWebExoflisi(t){return this.baseUrl=(0,a.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.post(`${this.baseUrl}/DiloseisWeb/MarkDilosiWebExoflisi`,t).pipe((0,m.k)(e=>e),(0,C.a)(this.exceptionService.catchBadResponse))}getDocDmsByDilosiId(t){return this.baseUrl=(0,a.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/DiloseisWeb/GetDocDmsByDilosiId/${t}`).pipe((0,m.k)(e=>e),(0,C.a)(this.exceptionSrv.catchBadResponse))}getDownloadFile(t){return this.baseUrl=(0,a.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/DocDms/DownloadFile/${t}`,{responseType:"blob"}).pipe((0,m.k)(e=>e),(0,C.a)(this.exceptionSrv.catchBadResponse))}getPluginCustomerOptions(){return this.baseUrl=(0,a.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl,this.http.get(`${this.baseUrl}/Configurations/GetPluginCustomerSpecificOptions`).pipe((0,m.k)(o=>o),(0,C.a)(this.exceptionSrv.catchBadResponse))}createRemittanceInfoById(t){this.baseUrl=(0,a.sF)(this.baseUrl),this.baseUrl="/"==this.baseUrl[0]?this.baseUrl.substring(1):this.baseUrl;const o=`${this.baseUrl}/DiloseisWeb/CreateRemittanceInfoById/${t}`,e={headers:new I.UD({Accept:"text/html, application/xhtml+xml, */*","Content-Type":"text/plain; charset=utf-8"}),responseType:"text"};return this.http.get(o,e).pipe((0,m.k)(n=>n),(0,C.a)(this.exceptionSrv.catchBadResponse))}static{this.\u0275fac=function(o){return new(o||s)(i.CoB(a.gn),i.CoB(I.KK))}}static{this.\u0275prov=i.wxM({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();class Vi{constructor(){this.dilosiId=0,this.dilosiDescription=null,this.hmeromiaLixisDilosis=null,this.isMideniki=!1}}class ${constructor(){this.bankTransactionId=null}}var A=function(s){return s[s.archiki=1]="archiki",s[s.anexofliti=2]="anexofliti",s[s.exoflimeni=3]="exoflimeni",s[s.merikosExoflimeni=4]="merikosExoflimeni",s[s.exoflimeniApoMetaptosi=5]="exoflimeniApoMetaptosi",s[s.katachorisiWEB=6]="katachorisiWEB",s[s.exoflisiWEB=7]="exoflisiWEB",s}(A||{}),K=function(s){return s.dilosiDescription="\u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2",s.ypokeimenoPoso="\u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc",s.periodikiDilosiFPA="\u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63)",s.pososto="\u03a0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc",s}(K||{});let Zi=(()=>{class s{constructor(t,o,e){this.http=t,this.sanitizer=o,this.toasterSrv=e}transform(t){return this.http.get(t,{responseType:"blob"}).pipe((0,m.k)(o=>this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(o))),(0,C.a)(o=>(0,a.Og)(o,this.toasterSrv)))}static{this.\u0275fac=function(o){return new(o||s)(i.GI1(I.KK,16),i.GI1(Q.mI,16),i.GI1(a.y6,16))}}static{this.\u0275pipe=i.UTH({name:"securePlg",type:s,pure:!0})}}return s})(),N=(()=>{class s{constructor(t,o,e,n){this.katastimataNgSrv=t,this.paymentSrv=o,this.toasterSrv=e,this.cdr=n,this.createPaymentCodeDias=!1,this.updateSaved=new i._w7,this.statusDilosisEnum=A,this.paymentRequestDto=void 0,this.requestObs=[],this.onDoPaymentSubject=new k.E,this.onDestroy=new k.E,this.pososta=[{value:"0.5",description:"0.5%"},{value:"2",description:"2%"},{value:"5",description:"5%"}],this.toggleEditFiles=!1,this.periodikiDilosiFPA=null,this.extraFile=null,this.uploadedFiles=[],this.isLoading=!1,this.isLoadingResponse=!1,this.initPaymentMethods=!1,this.isFormDirty=!1,this.isFormSubmitted=!1,this.formDictionaryEnum=K}ngOnInit(){if(typeof AuthConfOptions<"u"&&typeof AppConfOptions<"u"&&"katastimata_api"in AppConfOptions&&("epayments_api"in AppConfOptions||"finance_api"in AppConfOptions)){this.katastimataApiUrl=(0,a.sF)(AppConfOptions.katastimata_api);let t=(0,a.w1)(AppConfOptions.finance_api)?(0,a.w1)(AppConfOptions.epayments_api)?null:(0,a.sF)(AppConfOptions.epayments_api):(0,a.sF)(AppConfOptions.finance_api);this.govPaymentGatewayApiUrl=(0,a.w1)(AppConfOptions.gov_payment_gateway_api)?t:(0,a.sF)(AppConfOptions.gov_payment_gateway_api),this.relatedCallbackUrl=encodeURI(this.applicationUrl+"/katastimata/receipts")}else{this.katastimataApiUrl=(0,a.sF)(AppConfOptions.applicationUrl);let t=(0,a.sF)(AppConfOptions.financeApi);this.govPaymentGatewayApiUrl=(0,a.w1)(AppConfOptions.govPaymentGatewayApi)?t:(0,a.sF)(AppConfOptions.govPaymentGatewayApi),this.relatedCallbackUrl=encodeURI(this.applicationUrl+"/plugin/receipts")}(0,a.Er)(this.cdr),this.dilosi?this._getDilosiFiles():(this.dilosi=new Vi,this.dilosiCopy=(0,a.O0)(this.dilosi),(0,a.Er)(this.cdr)),this.diloseisToPay.forEach(t=>{t.disabled=6==t.statusId}),(0,a.Er)(this.cdr),this.katastimataNgSrv.userInfo$.pipe((0,f.a)(this.onDestroy)).subscribe(t=>{t&&(this.userInfo=t,this.userInfo.email=(0,a.w1)(this.userInfo.email)?this.userInfo.email:this.userInfo.email.trim(),this.userInfo.username=(0,a.w1)(this.userInfo.username)?this.userInfo.username:this.userInfo.username.trim(),this.userInfo.tin=(0,a.w1)(this.userInfo.tin)?this.userInfo.tin:this.userInfo.tin.trim(),this.userInfo.family_name=(0,a.w1)(this.userInfo.family_name)?this.userInfo.family_name:this.userInfo.family_name.trim(),this.userInfo.given_name=(0,a.w1)(this.userInfo.given_name)?this.userInfo.given_name:this.userInfo.given_name.trim(),this.userInfo.fathers_name=(0,a.w1)(this.userInfo.fathers_name)?this.userInfo.fathers_name:this.userInfo.fathers_name.trim(),this.userInfo.mothers_name=(0,a.w1)(this.userInfo.mothers_name)?this.userInfo.mothers_name:this.userInfo.mothers_name.trim(),this.userInfo.name=(0,a.w1)(this.userInfo.name)?this.userInfo.name:this.userInfo.name.trim(),this.userInfo.address_city=(0,a.w1)(this.userInfo.address_city)?this.userInfo.address_city:this.userInfo.address_city.trim(),this.userInfo.address_country_code=(0,a.w1)(this.userInfo.address_country_code)?this.userInfo.address_country_code:this.userInfo.address_country_code.trim(),this.userInfo.address_country_num=(0,a.w1)(this.userInfo.address_country_num)?this.userInfo.address_country_num:this.userInfo.address_country_num.trim(),this.userInfo.address_zip=(0,a.w1)(this.userInfo.address_zip)?this.userInfo.address_zip:this.userInfo.address_zip.trim(),this.userInfo.address=(0,a.w1)(this.userInfo.address)?this.userInfo.address:this.userInfo.address.trim(),this.userInfo.adt=(0,a.w1)(this.userInfo.adt)?this.userInfo.adt:this.userInfo.adt.trim(),this.userInfo.phone_number=(0,a.w1)(this.userInfo.phone_number)?this.userInfo.phone_number:this.userInfo.phone_number.trim(),(0,a.Er)(this.cdr))})}ngOnDestroy(){this.onDestroy.next(null)}ngOnChanges(t){t&&t.dilosi&&(this.dilosiCopy=t.dilosi.currentValue,this.dilosiCopy&&this.dilosiCopy.kodikosPliromisDias&&(this.dilosiCopy.oikothenId||this.dilosiCopy.xrimatikosKatalogosEggrafesProstimoId||this.dilosiCopy.xrimatikosKatalogosEggrafesTelosId||3==this.dilosiCopy.statusId||4==this.dilosiCopy.statusId||5==this.dilosiCopy.statusId||7==this.dilosiCopy.statusId)&&(this.dilosiCopy.kodikosPliromisDias.length>15&&(this.kodikosPliromis=this.dilosiCopy.kodikosPliromisDias.match(/(.|[\r\n]){1,4}/g).toString(),this.kodikosPliromis=this.kodikosPliromis.replace(new RegExp(",","g")," ")),this.dilosiWebPaymentInfo={dilosiId:this.dilosiCopy.dilosiId,paymentCaption:this.dilosiCopy.dilosiDescription,telosPoso:this.dilosiCopy.telosPoso,posostoEkprothesmisKatavolisMines:this.dilosiCopy.posostoEkprothesmisKatavolis,prostimoPoso:this.dilosiCopy.prostimoPoso,paymentAmount:this.dilosiCopy.prostimoPoso+this.dilosiCopy.telosPoso,hmeromiaLixisPliromis:this.dilosiCopy.hmeromiaLixisPliromis}),(0,a.Er)(this.cdr)),t&&t.onlinePaymentsSettingsCompany&&(this.onlinePaymentsSettingsCompany=t.onlinePaymentsSettingsCompany.currentValue,(0,a.Er)(this.cdr))}onSelectedDilosiChanged(t){if(t){let o=this.dilosiCopy.isMideniki;this.dilosiCopy=this.diloseisToPay.filter(e=>e.dilosiId===+this.dilosiCopy.dilosiId)[0],this.dilosiCopy.isMideniki=o,this.dilosiCopy.isMideniki&&(this.dilosiCopy.ypokeimenoPoso=0),t.dilosiId&&this.katastimataNgSrv.getDocDmsByDilosiId(t.dilosiId).subscribe(e=>{e&&(this.dilosiFiles=e),(0,a.Er)(this.cdr)})}}onIsMidenikiChanged(){this.dilosiCopy.isMideniki&&(this.dilosiCopy.ypokeimenoPoso=0),(0,a.Er)(this.cdr)}downloadFile(t){t&&this.katastimataNgSrv.getDownloadFile(t).subscribe()}onAddFile(t,o){const e=new FileReader;if(t&&t.currentFiles&&t.currentFiles.length>0){const n=t.currentFiles[0];e.readAsDataURL(n),e.onload=()=>{this.uploadedFiles=[...this.uploadedFiles,{type:o,base64:e.result,size:n.size,name:n.name}]}}else this.uploadedFiles=this.uploadedFiles.filter(n=>n.type!=o);this.isFormDirty=!0}onRemoveFile(t){t&&t.file&&t.file.name&&(this.uploadedFiles=this.uploadedFiles.filter(o=>o.name!=t.file.name),this.isFormDirty=!0,(0,a.Er)(this.cdr))}onOpenEktiposi(t){this.isFormDirty&&t.preventDefault()}onSubmit(){if(this.formErrorsMsg="",this.toggleEditFiles=!1,(0,a.Er)(this.cdr),this.dimotikosForosForm.valid&&(this.dilosiCopy.isMideniki||!this.dilosiCopy.isMideniki&&this.dilosiCopy.ypokeimenoPoso>0)&&(this.uploadedFiles&&this.uploadedFiles.some(t=>"periodikiDilosiFPA"==t.type)||this.dilosiFiles&&this.dilosiFiles.length)){this.isFormSubmitted=!0,this.isFormDirty=!1,this.isLoading=!0;let t=[];if(this.uploadedFiles&&this.uploadedFiles.some(e=>"periodikiDilosiFPA"==e.type)){let e=[],n=0;this.uploadedFiles.forEach(l=>{let d=l.name.substr(l.name.lastIndexOf(".")+1),_=+this.dilosiCopy.ypokeimenoPoso;"periodikiDilosiFPA"!=l.type&&(_=0),e.push({language:"el",dilosiId:+this.dilosiCopy.dilosiId,fileContent:l.base64,fileLength:l.size,fileExtension:d,fileDescription:"periodikiDilosiFPA"==l.type?0:++n,fileName:l.name,poso:_,hmerominiaDilosis:new Date,type:l.type})}),t=[...t,this.katastimataNgSrv.deleteDocDmsByDilosiId(this.dilosiCopy.dilosiId)],this.uploadedFiles.some(l=>"extraFile"==l.type)&&(t=[...t,this.katastimataNgSrv.uploadPeriodikiDilosi(e.find(l=>"extraFile"==l.type))]),t=[...t,this.katastimataNgSrv.uploadPeriodikiDilosi(e.find(l=>"periodikiDilosiFPA"==l.type))]}let o={language:"el",dilosiId:+this.dilosiCopy.dilosiId,ypokeimenoPoso:+this.dilosiCopy.ypokeimenoPoso,hmerominiaDilosis:(0,a.M5)(new Date),hmeromiaLixisDilosis:(0,a.M5)(new Date(this.dilosiCopy.hmeromiaLixisDilosis)),isMideniki:this.dilosiCopy.isMideniki,lixiFromUser:!1};if(this.onlinePaymentsSettingsCompany&&"1"==this.onlinePaymentsSettingsCompany)this.requestObs=[...this.requestObs,this.katastimataNgSrv.getDilosiWebPaymentInfo(o)],t=[...t,this.katastimataNgSrv.getDilosiWebPaymentInfo(o)],(0,a.Er)(this.cdr),(0,a.sb)(t,()=>this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1.")).subscribe(e=>{e?(this.dilosiWebPaymentInfo=e,this.dilosiWebPaymentInfo&&(this.updateSaved.emit({dilosiId:this.dilosiWebPaymentInfo.dilosiId,dilosiDescription:this.dilosiWebPaymentInfo.paymentCaption,statusId:this.dilosiCopy.statusId,akatharistoPoso:this.dilosiCopy.akatharistoPoso,ypokeimenoPoso:this.dilosiCopy.ypokeimenoPoso,telosPoso:this.dilosiWebPaymentInfo.telosPoso,prostimoPoso:this.dilosiWebPaymentInfo.prostimoPoso,hmeromiaLixisDilosis:this.dilosiCopy.hmeromiaLixisDilosis,isChecked:!1,isMideniki:this.dilosiCopy.isMideniki,epixirisiId:this.dilosiCopy.epixirisiId,etos:this.dilosiCopy.etos}),this.kodikosPliromis=this.dilosiWebPaymentInfo.paymentCodeDias,this.kodikosPliromis&&this.kodikosPliromis.length>15&&(this.kodikosPliromis=this.dilosiWebPaymentInfo.paymentCodeDias.match(/(.|[\r\n]){1,4}/g).toString(),this.kodikosPliromis=this.kodikosPliromis.replace(new RegExp(",","g")," "))),this._getDilosiFiles()):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03c9\u03bd \u03c0\u03bf\u03c3\u03ce\u03bd."),this.isLoading=!1,this.isFormSubmitted=!1,(0,a.Er)(this.cdr)});else{let e="";this.katastimataNgSrv.createRemittanceInfoById(this.dilosiCopy.dilosiId).pipe((0,B.G)(n=>n?(e=n,(0,a.sb)(t,()=>this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1."))):(0,c.of)(!1))).subscribe(n=>{if(n&&n.statusUpload){this.dilosiWebPaymentInfo={};let d=(this.dilosiCopy.ypokeimenoPoso/(+this.selectedPososto/100+1)).toFixed(2);d=+d;let _=+this.selectedPososto/100,V=+n.poso,P=function Xi(s,u){return u.getMonth()-s.getMonth()+12*(u.getFullYear()-s.getFullYear())}(new Date(this.dilosiCopy.hmeromiaLixisDilosis),new Date);P<0&&(P=0);let q=n.proposo;this.dilosiWebPaymentInfo.dilosiId=this.dilosiCopy.dilosiId,this.dilosiWebPaymentInfo.epixirisiEponimia=this.epixeirisiInfo.eponimia,this.dilosiWebPaymentInfo.epixirisiOfeiletisEponimia=this.epixeirisiInfo.ofeiletisEponimia,this.dilosiWebPaymentInfo.epixirisiOfeiletisAfm=this.epixeirisiInfo.ofeiletisAfm,this.dilosiWebPaymentInfo.paymentCaption=this.dilosiCopy.dilosiDescription,this.dilosiWebPaymentInfo.paymentCode=e,this.dilosiWebPaymentInfo.paymentAmount=V+q,this.dilosiWebPaymentInfo.telosPoso=V,this.dilosiWebPaymentInfo.prostimoPoso=q,this.dilosiWebPaymentInfo.ypokeimenoPoso=this.dilosiCopy.ypokeimenoPoso,this.dilosiWebPaymentInfo.apoforologimenoPoso=d,this.dilosiWebPaymentInfo.posostoTelous=_,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolis=.02*P,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisArxiko=.02,this.dilosiWebPaymentInfo.posostoEkprothesmisKatavolisMines=P,this.updateSaved.emit({dilosiId:this.dilosiCopy.dilosiId,dilosiDescription:this.dilosiCopy.dilosiDescription,statusId:this.dilosiCopy.statusId,hmeromiaLixisDilosis:this.dilosiCopy.hmeromiaLixisDilosis,akatharistoPoso:this.dilosiCopy.akatharistoPoso,ypokeimenoPoso:this.dilosiCopy.ypokeimenoPoso,isChecked:!1,telosPoso:this.dilosiWebPaymentInfo.telosPoso,prostimoPoso:this.dilosiWebPaymentInfo.prostimoPoso,isMideniki:this.dilosiCopy.isMideniki,epixirisiId:this.dilosiCopy.epixirisiId,etos:this.dilosiCopy.etos})}else this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03bf\u03bd \u03c5\u03c0\u03bf\u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03cc \u03c4\u03c9\u03bd \u03c0\u03bf\u03c3\u03ce\u03bd \u03ae \u03c4\u03bf\u03c5 Remittance Info.");this.isLoading=!1,this.isFormSubmitted=!1,(0,a.Er)(this.cdr)})}}else{let t="";this.dilosiCopy.dilosiId||(t+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf</li>"),0==this.dilosiCopy.ypokeimenoPoso&&(t+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a5\u03c0\u03bf\u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03a0\u03bf\u03c3\u03cc | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03c0\u03b5\u03b4\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03ba\u03b1\u03b9 \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03c4\u03bf\u03c5 0.</li>"),(this.uploadedFiles&&this.uploadedFiles.length&&!this.uploadedFiles.some(o=>"periodikiDilosiFPA"==o.type)||!this.uploadedFiles||this.dilosiFiles&&0==this.dilosiFiles.length||!this.dilosiFiles)&&(t+="<li>\u03a0\u03b5\u03b4\u03af\u03bf: \u03a0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7 \u03a6\u03a0\u0391 (\u03a62 \u03ae \u03a63) | \u03a3\u03c6\u03ac\u03bb\u03bc\u03b1: \u03a4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf.</li>"),this.formErrorsMsg=(0,a.SG)(this.dimotikosForosForm,this.formDictionaryEnum,t),(0,a.Er)(this.cdr)}}onCreatePaymentRequest(t){(0,a.w1)(this.userInfo.email)?this.toasterSrv.showWarning("","\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03c4\u03bf email \u03c3\u03b1\u03c2 \u03c3\u03c4\u03b7 \u03c3\u03b5\u03bb\u03af\u03b4\u03b1 \u03c4\u03bf\u03c5 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb \u03c3\u03b1\u03c2."):(this.initPaymentMethods=!0,this.isLoadingResponse=!0,this.paymentRequestDto=void 0,(0,a.Er)(this.cdr),t&&(this.paymentRequestDto={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:t.key,entries:[]},"PIRBGRAA"===t.key&&(this.paymentRequestDto.billingAddressCountryCode=null),this.paymentRequestDto.entries.push({remittanceInfo:this.dilosiWebPaymentInfo.paymentCode,amount:this.dilosiWebPaymentInfo.paymentAmount,debtorName:this.dilosiWebPaymentInfo.epixirisiOfeiletisEponimia,tin:this.userInfo.tin,description:this.dilosiWebPaymentInfo.paymentCaption}),this.paymentSrv.addPaymentRequest(this.govPaymentGatewayApiUrl,this.paymentRequestDto).subscribe(e=>{e?(this.paymentResponseDto=e,this.onDoPaymentSubject.next(this.paymentResponseDto)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2."),this.isLoadingResponse=!1,(0,a.Er)(this.cdr)})))}_getDilosiFiles(){this.katastimataNgSrv.getDocDmsByDilosiId(this.dilosiCopy.dilosiId).subscribe(t=>{t&&(this.dilosiFiles=t,(0,a.Er)(this.cdr))})}static{this.\u0275fac=function(o){return new(o||s)(i.GI1(E),i.GI1(a.U5),i.GI1(a.y6),i.GI1(i.kD9))}}static{this.\u0275cmp=i.In1({type:s,selectors:[["app-katastimata-create-dilosi"]],viewQuery:function(o,e){if(1&o&&i.CC$(Z,5),2&o){let n;i.wto(n=i.Gqi())&&(e.dimotikosForosForm=n.first)}},inputs:{epixeirisiInfo:"epixeirisiInfo",diloseisToPay:"diloseisToPay",dilosi:"dilosi",applicationUrl:"applicationUrl",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",createPaymentCodeDias:"createPaymentCodeDias"},outputs:{updateSaved:"updateSaved"},features:[i.SYr],decls:3,vars:4,consts:[["class","form w-100",4,"ngIf"],[3,"condition","customClass"],[4,"ngIf"],[1,"form","w-100"],["dimotikosForosForm","ngForm"],[1,"row"],[1,"form-group","col-12","col-md-4"],["name","dilosiDescription","bindLabel","dilosiDescription","bindValue","dilosiId","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03b5\u03c1\u03b9\u03bf\u03b4\u03b9\u03ba\u03ae \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7","required","",1,"ontop-select",3,"appendTo","searchable","clearable","items","ngModel","disabled","ngModelChange"],["dilosiDescription","ngModel"],[1,"text-danger",3,"hidden"],["name","hmeromiaLixisDilosis","placeholder","\u0397\u03bc. \u039b\u03ae\u03be\u03b7\u03c2","type","text","disabled","",1,"form-control",3,"value"],[1,"form-group","col-12","col-md-4","d-flex","align-items-center"],["label","\u039c\u03b7\u03b4\u03b5\u03bd\u03b9\u03ba\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7","name","isMideniki","binary","true",3,"ngModel","disabled","ngModelChange"],["class","form-group col-12 col-md-6",4,"ngIf"],[1,"form-group","col-12",3,"ngClass"],["name","ypokeimenoPoso","type","text","currencyMask","","lang","el-GR","placeholder","0,00","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["ypokeimenoPosoInput","ngModel"],["type","button",1,"btn","btn-primary","d-block","mt-2","mx-auto",3,"disabled","click"],["class","alert alert-danger form-msgs",3,"innerHTML",4,"ngIf"],[1,"form-group","col-12","col-md-6"],["name","pososto","bindLabel","description","bindValue","value","placeholder","\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03c0\u03bf\u03c3\u03bf\u03c3\u03c4\u03cc","required","",1,"ontop-select",3,"appendTo","searchable","clearable","items","ngModel","disabled","ngModelChange"],["posostoInput","ngModel"],[1,"d-flex","flex-wrap"],["type","button",1,"btn","btn-sm","btn-primary","m-0","ms-auto",3,"disabled","click"],[1,"far","fa-edit"],["class","mb-1",4,"ngFor","ngForOf"],[1,"mb-1"],["type","button",1,"btn","btn-sm","btn-outline-info","m-0","me-1",3,"href","download"],[1,"fas","fa-download"],[1,"far","fa-calendar-alt"],["severity","warn","text","\u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03bd\u03ad\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf, \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03bf\u03cd\u03bd \u03cc\u03bb\u03b1 \u03c4\u03b1 \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 \u03ba\u03b1\u03b9 \u03b8\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c4\u03b1 \u03b1\u03bd\u03b5\u03b2\u03ac\u03c3\u03b5\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac.",4,"ngIf"],[1,"form-group","col-12","col-sm-6"],["for","periodikiDilosiFPA"],["name","periodikiDilosiFPA","accept",".pdf,.jpg,.jpeg,.doc,.docx","required","",3,"chooseLabel","showUploadButton","showCancelButton","multiple","maxFileSize","invalidFileSizeMessageSummary","invalidFileTypeMessageSummary","onRemove","onSelect"],["periodikiDilosiFPA",""],["for","extraFile"],["name","extraFile","accept",".pdf,.jpg,.jpeg,.doc,.docx",3,"chooseLabel","showUploadButton","showCancelButton","multiple","maxFileSize","invalidFileSizeMessageSummary","invalidFileTypeMessageSummary","onRemove","onSelect"],["extraFile",""],["severity","warn","text","\u03a3\u03b5 \u03c0\u03b5\u03c1\u03af\u03c0\u03c4\u03c9\u03c3\u03b7 \u03c0\u03bf\u03c5 \u03b5\u03c0\u03b9\u03bb\u03ad\u03be\u03b5\u03c4\u03b5 \u03bd\u03ad\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf, \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03bf\u03cd\u03bd \u03cc\u03bb\u03b1 \u03c4\u03b1 \u03b1\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b1 \u03b1\u03c1\u03c7\u03b5\u03af\u03b1 \u03c4\u03b7\u03c2 \u03b4\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2 \u03ba\u03b1\u03b9 \u03b8\u03b1 \u03c0\u03c1\u03ad\u03c0\u03b5\u03b9 \u03bd\u03b1 \u03c4\u03b1 \u03b1\u03bd\u03b5\u03b2\u03ac\u03c3\u03b5\u03c4\u03b5 \u03be\u03b1\u03bd\u03ac."],["aria-hidden","true",1,"fas","fa-calculator"],["aria-hidden","true",1,"far","fa-save","fa-fw"],[1,"alert","alert-danger","form-msgs",3,"innerHTML"],[1,"w-100","pb-2"],[1,"debits-info","d-flex","justify-content-between"],[1,"debits-info_left","d-flex","me-1"],[1,"mb-0"],[1,"me-1",2,"width","220px","line-height","1.7"],["class","mb-0",4,"ngIf"],[1,"totalPoso",2,"line-height","1.7"],["class","d-flex flex-column align-items-center",4,"ngIf"],[1,"d-flex","flex-column","align-items-center"],["class","btn btn-info mb-1 px-4 font-weight-bold","style","width: 173px;","target","_blank",3,"href","disabled","click",4,"ngIf"],[3,"isPaymentFormValid","doPaymentSubscription","govPaymentGatewayApiUrl","payBtnClick"],["target","_blank",1,"btn","btn-info","mb-1","px-4","font-weight-bold",2,"width","173px",3,"href","click"],["aria-hidden","true",1,"fas","fa-print"]],template:function(o,e){1&o&&(i.yuY(0,di,33,24,"form",0),i.wR5(1,"eg-loading",1),i.yuY(2,Bi,45,34,"ng-container",2)),2&o&&(i.E7m("ngIf",e.dilosiCopy&&e.diloseisToPay&&e.diloseisToPay.length>0),i.yG2(),i.E7m("condition",e.isLoading)("customClass","egr-load-small"),i.yG2(),i.E7m("ngIf",e.dilosiWebPaymentInfo&&!e.isLoading&&!e.isFormDirty))},dependencies:[p.QF,p.ay,p.u_,h.sz,h.ot,h.ue,h.u,h.eJ,h._G,h.SC,v.yw,G.s,b.S,O.Mb,T.UT,a.CG,a.uU,p.a,p.cf,p.y,Zi],encapsulation:2,changeDetection:0})}}return s})(),L=(()=>{class s{constructor(t,o,e,n){if(this.katastimataNgSrv=t,this.egPaymentSrv=o,this.route=e,this._http=n,this.reloadData=new i._w7,this.onDestroy=new k.E,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumSinolo=0,typeof AuthConfOptions<"u"&&typeof AppConfOptions<"u"&&"katastimata_api"in AppConfOptions){let l=(0,a.w1)(AppConfOptions.finance_api)?(0,a.w1)(AppConfOptions.epayments_api)?null:(0,a.sF)(AppConfOptions.epayments_api):(0,a.sF)(AppConfOptions.finance_api);this.govPaymentGatewayApiUrl=(0,a.w1)(AppConfOptions.gov_payment_gateway_api)?l:(0,a.sF)(AppConfOptions.gov_payment_gateway_api)}else{let l=(0,a.sF)(AppConfOptions.financeApi);this.govPaymentGatewayApiUrl=(0,a.w1)(AppConfOptions.govPaymentGatewayApi)?l:(0,a.sF)(AppConfOptions.govPaymentGatewayApi)}}ngOnChanges(t){t&&t.diloseisPayed&&(this.diloseisPayed=t.diloseisPayed.currentValue,this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumSinolo=0,this.diloseisPayed.forEach(o=>{this.sumYpokeimeno+=o.ypokeimenoPoso,this.sumTelos+=o.telosPoso,this.sumProstimo+=o.prostimoPoso,o.sinolikoPoso=+o.telosPoso+ +o.prostimoPoso,this.sumSinolo+=o.sinolikoPoso})),t&&t.isLoading&&(this.isLoading=t.isLoading.currentValue)}ngOnInit(){this.katastimataNgSrv.userInfo$.pipe((0,f.a)(this.onDestroy)).subscribe(t=>this.userInfo=t),this.egPaymentSrv.getBankMessages(this.govPaymentGatewayApiUrl).pipe((0,B.G)(t=>t?(this.oikonomikiBankMessages=t,this.route.queryParams.pipe((0,f.a)(this.onDestroy))):(0,c.of)(!1))).subscribe(t=>{if(t){let e=t.messagecode,n=t.btId;if(e)if(this.bankStatusMessage=this.oikonomikiBankMessages[e],"TRANSACTION_COMPLETED"==e){if(this.bankStatusMessageClass="success",n){let l=new $;l.bankTransactionId=n,this.katastimataNgSrv.markDilosiWebExoflisi(l).subscribe(()=>{this.reloadData.emit(!0)})}}else this.bankStatusMessageClass="error"}})}ngOnDestroy(){this.onDestroy.next(null)}btnBankStatusMessageClicked(){this.bankStatusMessage=null}static{this.\u0275fac=function(o){return new(o||s)(i.GI1(E),i.GI1(a.U5),i.GI1(y.gV),i.GI1(I.KK))}}static{this.\u0275cmp=i.In1({type:s,selectors:[["app-katastimata-receipts"]],inputs:{diloseisPayed:"diloseisPayed",diloseisToPay:"diloseisToPay",userInfo:"userInfo",isLoading:"isLoading"},outputs:{reloadData:"reloadData"},features:[i.SYr],decls:7,vars:11,consts:[["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc.",4,"ngIf"],[3,"severity","text","styleClass",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","footer"],["severity","warn","text","\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2. \u0395\u03c0\u03b9\u03ba\u03bf\u03b9\u03bd\u03c9\u03bd\u03ae\u03c3\u03c4\u03b5 \u03bc\u03b5 \u03c4\u03bf\u03bd \u03bf\u03c1\u03b3\u03b1\u03bd\u03b9\u03c3\u03bc\u03cc."],[3,"severity","text","styleClass"],[1,"fixed-width-col-80"],[1,"fixed-width-col-220"],[1,"fixed-width-col-120"],[1,"fixed-width-col-170"],[1,"fixed-width-col-80","text-end"],[1,"p-column-title"],[1,"fixed-width-col-80","text-center"],["class","fas fa-check",4,"ngIf"],[1,"fixed-width-col-120","text-end"],[1,"fas","fa-check"],["colspan","8"],["colspan","3",1,"fixed-width-col-380"]],template:function(o,e){1&o&&(i.yuY(0,yi,1,0,"p-message",0)(1,gi,1,3,"p-message",1),i.I0R(2,"p-table",2),i.yuY(3,_i,17,0,"ng-template",3)(4,ki,37,28,"ng-template",4)(5,bi,3,0,"ng-template",5)(6,Ai,22,37,"ng-template",6),i.C$Y()),2&o&&(i.E7m("ngIf",(!e.diloseisToPay||e.diloseisToPay&&0==e.diloseisToPay.length)&&!e.isLoading),i.yG2(),i.E7m("ngIf",e.bankStatusMessage&&""!=e.bankStatusMessage),i.yG2(),i.E7m("value",e.diloseisPayed)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",e.isLoading)("totalRecords",null==e.diloseisPayed?null:e.diloseisPayed.length))},dependencies:[p.u_,M.U3,D.oJ,b.S,p.cf],styles:[".fixed-width-col-80[_ngcontent-%COMP%]{width:80px!important;min-width:80px!important}.fixed-width-col-120[_ngcontent-%COMP%]{width:120px!important;min-width:120px!important}.fixed-width-col-170[_ngcontent-%COMP%]{width:170px!important;min-width:170px!important}.fixed-width-col-220[_ngcontent-%COMP%]{width:220px!important;min-width:220px!important}.fixed-width-col-380[_ngcontent-%COMP%]{width:380px!important;min-width:380px!important}"]})}}return s})(),W=(()=>{class s{constructor(t,o,e,n,l,d){this.katastimataNgSrv=t,this.egPaymentSrv=o,this.toasterSrv=e,this.cdr=n,this.route=l,this._http=d,this.reloadData=new i._w7,this.modelPaymentInfo=[],this.modelToPayInfo=[],this.paymentRequestDto=void 0,this.onDestroy=new k.E,this.onDoPaymentSubject=new k.E,this.requestObs=[],this.errorMessageProfile=null,this.isLoadingResponse=!1,this.initPaymentMethods=!1,this.isAllDebitsChecked=!1,this.calculatedChecked={countChecked:0,countText:"\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",checkedYpokeimeno:0,checkedTelos:0,checkedProstimo:0},this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumToPay=0,this.isEditModalOpen=!1}ngOnInit(){if(typeof AuthConfOptions<"u"&&typeof AppConfOptions<"u"&&"katastimata_api"in AppConfOptions){let t=(0,a.w1)(AppConfOptions.finance_api)?(0,a.w1)(AppConfOptions.epayments_api)?null:(0,a.sF)(AppConfOptions.epayments_api):(0,a.sF)(AppConfOptions.finance_api);this.govPaymentGatewayApiUrl=(0,a.w1)(AppConfOptions.gov_payment_gateway_api)?t:(0,a.sF)(AppConfOptions.gov_payment_gateway_api),this.relatedCallbackUrl=encodeURI((0,a.sF)(this.applicationUrl)+"/katastimata/saved")}else{let t=(0,a.sF)(AppConfOptions.financeApi);this.govPaymentGatewayApiUrl=(0,a.w1)(AppConfOptions.govPaymentGatewayApi)?t:(0,a.sF)(AppConfOptions.govPaymentGatewayApi),this.relatedCallbackUrl=encodeURI((0,a.sF)(this.applicationUrl)+"/plugin/saved")}this.katastimataNgSrv.userInfo$.pipe((0,f.a)(this.onDestroy)).subscribe(t=>this.userInfo=t),this.egPaymentSrv.getBankMessages(this.govPaymentGatewayApiUrl).pipe((0,B.G)(t=>t?(this.oikonomikiBankMessages=t,this.route.queryParams.pipe((0,f.a)(this.onDestroy))):(0,c.of)(!1))).subscribe(t=>{if(t){let e=t.messagecode,n=t.btId;if(e)if(this.bankStatusMessage=this.oikonomikiBankMessages[e],"TRANSACTION_COMPLETED"==e){if(this.bankStatusMessageClass="success",n){let l=new $;l.bankTransactionId=n,this.katastimataNgSrv.markDilosiWebExoflisi(l).subscribe(()=>{this.reloadData.emit(!0)})}}else this.bankStatusMessageClass="error"}(0,a.Er)(this.cdr)})}ngOnChanges(t){t&&t.diloseisSaved&&(this.diloseisSaved=t.diloseisSaved.currentValue,this.diloseisSaved&&this.diloseisSaved.length&&(this.sumYpokeimeno=0,this.sumTelos=0,this.sumProstimo=0,this.sumToPay=0,this.diloseisSaved.forEach(o=>{this.sumYpokeimeno+=o.ypokeimenoPoso,this.sumTelos+=o.telosPoso,this.sumProstimo+=o.prostimoPoso,this.sumToPay+=o.telosPoso+o.prostimoPoso})),(0,a.Er)(this.cdr))}ngOnDestroy(){this.onDestroy.next(null)}onAllDebitsSelected(){this.diloseisSaved.forEach(t=>{t.isMideniki||(t.isChecked=this.isAllDebitsChecked)}),(0,a.Er)(this.cdr),this._calculateTotalAmounts()}onEdit(t){this.isEditModalOpen=!0,this.selectedDilosi=(0,a.O0)(t),(0,a.Er)(this.cdr)}updateDilosiInTable(t){if(t){let o=this.diloseisSaved.findIndex(e=>e.dilosiId==t.dilosiId);this.diloseisSaved[o]=t,(0,a.Er)(this.cdr)}}onCreatePaymentRequest(t){this.initPaymentMethods=!0,this.isLoadingResponse=!0,this.paymentRequestDto=void 0,this.paymentResponseDto=void 0,this.modelPaymentInfo=[],(0,a.Er)(this.cdr),!this.requestObs||!this.requestObs.length||this.modelToPayInfo&&0!=this.modelToPayInfo.length?this.requestObs&&0!=this.requestObs?.length||!this.modelToPayInfo||!this.modelToPayInfo.length?(0,R.y)(this.requestObs).pipe((0,B.G)(o=>o&&o[0]?(o.forEach(e=>{this.modelPaymentInfo=[...this.modelPaymentInfo,e]}),this.modelToPayInfo.forEach(e=>{this.modelPaymentInfo=[...this.modelPaymentInfo,{paymentCode:e.kodikosPliromisDias,paymentAmount:e.prostimoPoso+e.telosPoso,epixirisiOfeiletisEponimia:this.epixeirisiInfo.ofeiletisEponimia,paymentCaption:e.dilosiDescription}]}),this.paymentRequestDto=this._createPaymentRequest(this.modelPaymentInfo,t),this.egPaymentSrv.addPaymentRequest(this.govPaymentGatewayApiUrl,this.paymentRequestDto)):(0,c.of)(!1))).subscribe(o=>{o?(this.paymentResponseDto=o,this.onDoPaymentSubject.next(this.paymentResponseDto)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2."),this.isLoadingResponse=!1,(0,a.Er)(this.cdr)}):(this.modelPaymentInfo=[],this.diloseisSaved.forEach(o=>{o.isChecked&&(this.modelPaymentInfo=[...this.modelPaymentInfo,{paymentCode:o.kodikosPliromisDias,paymentAmount:o.prostimoPoso+o.telosPoso,epixirisiOfeiletisEponimia:this.epixeirisiInfo.ofeiletisEponimia,paymentCaption:o.dilosiDescription}])}),this.paymentRequestDto=this._createPaymentRequest(this.modelPaymentInfo,t),this.egPaymentSrv.addPaymentRequest(this.govPaymentGatewayApiUrl,this.paymentRequestDto).subscribe(o=>{o?(this.paymentResponseDto=o,this.onDoPaymentSubject.next(this.paymentResponseDto)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2."),this.isLoadingResponse=!1,(0,a.Er)(this.cdr)})):(0,R.y)(this.requestObs).pipe((0,B.G)(o=>o&&o[0]?(o.forEach(e=>{this.modelPaymentInfo=[...this.modelPaymentInfo,e]}),this.paymentRequestDto=this._createPaymentRequest(this.modelPaymentInfo,t),(0,a.w1)(this.paymentRequestDto.userEmail)?(this.toasterSrv.showWarning("","\u0395\u03af\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b1\u03c1\u03b1\u03af\u03c4\u03b7\u03c4\u03bf \u03c4\u03bf email \u03c3\u03b1\u03c2 \u03c3\u03c4\u03b7 \u03c3\u03b5\u03bb\u03af\u03b4\u03b1 \u03c4\u03bf\u03c5 \u03c0\u03c1\u03bf\u03c6\u03af\u03bb \u03c3\u03b1\u03c2."),(0,c.of)(!1)):this.egPaymentSrv.addPaymentRequest(this.govPaymentGatewayApiUrl,this.paymentRequestDto)):(0,c.of)(!1))).subscribe(o=>{o?(this.paymentResponseDto=o,this.onDoPaymentSubject.next(this.paymentResponseDto)):this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03ba\u03ac\u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03c4\u03b7\u03c2 \u03c0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ae\u03c2."),this.isLoadingResponse=!1,(0,a.Er)(this.cdr)})}_createPaymentRequest(t,o){let e={tinRelated:this.userInfo.tin,relatedCallbackUrl:this.relatedCallbackUrl,billingAddressCity:this.userInfo.address_city,billingAddressCountryCode:this.userInfo.address_country_code,billingAddressZip:this.userInfo.address_zip,billingAddress:this.userInfo.address,userEmail:this.userInfo.email,userPhone:this.userInfo.phone_number,paymentMethodKey:o.key,entries:[]};return"PIRBGRAA"===o.key&&(e.billingAddressCountryCode=null),t.forEach(n=>{e.entries.push({remittanceInfo:n.paymentCode,amount:n.paymentAmount,debtorName:n.epixirisiOfeiletisEponimia,tin:this.userInfo.tin,description:n.paymentCaption})}),e}_calculateTotalAmounts(){this.requestObs=[],this.modelToPayInfo=[];let t=0,o=0,e=0,n=0,l="\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2";this.diloseisSaved.forEach(d=>{if(console.log("entry",d),d.isChecked){n++,t+=d.ypokeimenoPoso,o+=d.telosPoso,e+=d.prostimoPoso;let _={language:"el",ypokeimenoPoso:+d.ypokeimenoPoso,dilosiId:+d.dilosiId,hmerominiaDilosis:(0,a.M5)(new Date),hmeromiaLixisDilosis:(0,a.M5)(new Date(d.hmeromiaLixisDilosis)),isMideniki:d.isMideniki,lixiFromUser:!1};d.oikothenId||d.xrimatikosKatalogosEggrafesProstimoId||d.xrimatikosKatalogosEggrafesTelosId||d.statusId!=A.archiki&&d.statusId!=A.anexofliti&&d.statusId!=A.katachorisiWEB?this.modelToPayInfo=[...this.modelToPayInfo,d]:this.requestObs=[...this.requestObs,this.katastimataNgSrv.getDilosiWebPaymentInfo(_)]}}),l=1==n?"\u03b4\u03ae\u03bb\u03c9\u03c3\u03b7":"\u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2",this.calculatedChecked={countChecked:n,countText:l,checkedYpokeimeno:t,checkedTelos:o,checkedProstimo:e},(0,a.Er)(this.cdr)}static{this.\u0275fac=function(o){return new(o||s)(i.GI1(E),i.GI1(a.U5),i.GI1(a.y6),i.GI1(i.kD9),i.GI1(y.gV),i.GI1(I.KK))}}static{this.\u0275cmp=i.In1({type:s,selectors:[["app-katastimata-saved"]],inputs:{diloseisSaved:"diloseisSaved",diloseisToPay:"diloseisToPay",userInfo:"userInfo",epixeirisiInfo:"epixeirisiInfo",onlinePaymentsSettingsCompany:"onlinePaymentsSettingsCompany",isLoading:"isLoading",applicationUrl:"applicationUrl"},outputs:{reloadData:"reloadData"},features:[i.SYr],decls:13,vars:20,consts:[[3,"severity","text","styleClass",4,"ngIf"],["class","debits-info__selected-debits",4,"ngIf"],["responsiveLayout","stack","breakpoint","1070px",3,"value","lazy","lazyLoadOnInit","rowHover","paginator","alwaysShowPaginator","rows","loading","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","footer"],[4,"ngIf"],["class","screen-msg",4,"ngIf"],["selectedDebits",""],["header","\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange","onHide"],[3,"diloseisToPay","dilosi","applicationUrl","onlinePaymentsSettingsCompany","updateSaved",4,"ngIf"],[3,"severity","text","styleClass"],[1,"debits-info__selected-debits"],[4,"ngTemplateOutlet"],[1,"fixed-width-col-40","text-center"],[3,"binary","ngModel","ngModelChange","onChange"],[1,"fixed-width-col-230"],[1,"fixed-width-col-100"],[1,"fixed-width-col-120"],["alignFrozen","right","pFrozenColumn","",1,"fixed-width-col-60",3,"frozen"],[1,"p-column-title"],[3,"binary","ngModel","disabled","ngModelChange","onChange"],[1,"fixed-width-col-100","text-center"],["class","fas fa-check",4,"ngIf"],[1,"fixed-width-col-120","text-end"],["alignFrozen","right","pFrozenColumn","",1,"fixed-width-col-60","text-center",3,"frozen"],["type","button",1,"btn","btn-primary","btn-sm","m-0",3,"click"],[1,"far","fa-edit"],[1,"fas","fa-check"],["colspan","9"],["colspan","4",1,"fixed-width-col-490"],[1,"fixed-width-col-60"],[1,"mt-2","mx-auto","d-flex","flex-column","justify-content-center",2,"width","350px"],[3,"condition","customClass"],[3,"isPaymentFormValid","doPaymentSubscription","govPaymentGatewayApiUrl","buttonText","payBtnClick"],[1,"screen-msg"],[1,"totalPoso"],[1,"d-flex","total-selected-cost"],["id","sumTotalToBank",1,"totalPoso"],[3,"diloseisToPay","dilosi","applicationUrl","onlinePaymentsSettingsCompany","updateSaved"]],template:function(o,e){1&o&&(i.yuY(0,Di,1,3,"p-message",0)(1,Pi,2,1,"div",1),i.I0R(2,"p-table",2),i.yuY(3,Fi,19,3,"ng-template",3)(4,vi,44,34,"ng-template",4)(5,Oi,3,0,"ng-template",5)(6,wi,22,37,"ng-template",6),i.C$Y(),i.yuY(7,Ri,6,7,"ng-container",7)(8,Gi,3,1,"div",8)(9,Ti,20,20,"ng-template",null,9,i.gJz),i.I0R(11,"p-dialog",10),i.iHE("visibleChange",function(l){return i.kNx(e.isEditModalOpen,l)||(e.isEditModalOpen=l),l}),i.qCj("onHide",function(){return e.isEditModalOpen=!1,e.selectedDilosi=null}),i.yuY(12,Mi,1,4,"app-katastimata-create-dilosi",11),i.C$Y()),2&o&&(i.E7m("ngIf",e.bankStatusMessage),i.yG2(),i.E7m("ngIf",e.calculatedChecked.countChecked>0&&!e.isLoading),i.yG2(),i.E7m("value",e.diloseisSaved)("lazy",!1)("lazyLoadOnInit",!1)("rowHover",!0)("paginator",!0)("alwaysShowPaginator",!1)("rows",10)("loading",e.isLoading)("totalRecords",null==e.diloseisSaved?null:e.diloseisSaved.length),i.yG2(5),i.E7m("ngIf",e.calculatedChecked.countChecked>0&&!e.isLoading),i.yG2(),i.E7m("ngIf",e.errorMessageProfile),i.yG2(3),i.m_g(i.q4q(19,Y)),i.OKB("visible",e.isEditModalOpen),i.E7m("draggable",!1)("closable",!0),i.yG2(),i.E7m("ngIf",e.isEditModalOpen&&e.selectedDilosi))},dependencies:[p.u_,p.XV,h.ue,h._G,M.U3,D.oJ,D._E,v.yw,x.C,b.S,a.CG,a.uU,N,p.cf,p.y],styles:[".fixed-width-col-60[_ngcontent-%COMP%]{width:60px!important;min-width:60px!important}.fixed-width-col-80[_ngcontent-%COMP%]{width:80px!important;min-width:80px!important}.fixed-width-col-100[_ngcontent-%COMP%]{width:100px!important;min-width:100px!important}.fixed-width-col-120[_ngcontent-%COMP%]{width:120px!important;min-width:120px!important}.fixed-width-col-170[_ngcontent-%COMP%]{width:170px!important;min-width:170px!important}.fixed-width-col-220[_ngcontent-%COMP%]{width:220px!important;min-width:220px!important}.fixed-width-col-230[_ngcontent-%COMP%]{width:230px!important;min-width:230px!important}.fixed-width-col-380[_ngcontent-%COMP%]{width:380px!important;min-width:380px!important}.fixed-width-col-490[_ngcontent-%COMP%]{width:490px!important;min-width:490px!important}"],changeDetection:0})}}return s})(),j=(()=>{class s{constructor(t,o,e,n,l,d,_){this.katastimataNgSrv=t,this.toasterSrv=o,this.cdr=e,this.oidcSecuritySrv=n,this._http=l,this.router=d,this.route=_,this.diloseisPayed=[],this.countriesList=[],this.HttpStatusCodeEnum=a.oZ,this.index=0,this.isLoading=!0,this.isAddingNewDilosi=!1,this.onlinePaymentsSettingsCompany="1",this.createPaymentCodeDias=!1,this.onDestroy=new k.E,this.financeApiUrl=(0,a.w1)(AppConfOptions.finance_api)?(0,a.w1)(AppConfOptions.epayments_api)?null:(0,a.sF)(AppConfOptions.epayments_api):(0,a.sF)(AppConfOptions.finance_api),typeof AuthConfOptions<"u"&&AppConfOptions&&AppConfOptions.katastimata_api?(this.applicationUrl=(0,a.sF)(AppConfOptions.application_url),this.returnUrl=encodeURI(this.applicationUrl+"/katastimata/receipts")):(this.applicationUrl=(0,a.sF)(AppConfOptions.applicationUrl),this.returnUrl=encodeURI(this.applicationUrl+"/plugin/diloseis/receipts"))}ngOnInit(){this.katastimataNgSrv.initUserInfo(),this.katastimataNgSrv.userInfo$.pipe((0,B.G)(t=>{if(t){if(this.userInfo=t,typeof AppConfOptions<"u"&&"stsServer"in AppConfOptions){let o=(0,a.sF)(AppConfOptions.stsServer);return this._http.get(o+"/api/general/GetCountries")}if(typeof AuthConfOptions<"u"&&"stsServer"in AuthConfOptions){let o=(0,a.sF)(AuthConfOptions.stsServer);return this._http.get(o+"/api/general/GetCountries")}return this._http.get("https://auth.dev.egritosgroup.gr/api/general/GetCountries")}return(0,c.of)(!1)}),(0,f.a)(this.onDestroy)).subscribe(t=>{t&&(this.countriesList=t,this.userInfo.address_country_code&&""!=this.userInfo.address_country_code&&(this.userInfo.address_country_num=this.countriesList.find(o=>o.Alpha2Code==this.userInfo.address_country_code).NumericCode.toString()),this.userInfo.email=(0,a.w1)(this.userInfo.email)?this.userInfo.email:this.userInfo.email.trim(),this.userInfo.username=(0,a.w1)(this.userInfo.username)?this.userInfo.username:this.userInfo.username.trim(),this.userInfo.tin=(0,a.w1)(this.userInfo.tin)?this.userInfo.tin:this.userInfo.tin.trim(),this.userInfo.family_name=(0,a.w1)(this.userInfo.family_name)?this.userInfo.family_name:this.userInfo.family_name.trim(),this.userInfo.given_name=(0,a.w1)(this.userInfo.given_name)?this.userInfo.given_name:this.userInfo.given_name.trim(),this.userInfo.fathers_name=(0,a.w1)(this.userInfo.fathers_name)?this.userInfo.fathers_name:this.userInfo.fathers_name.trim(),this.userInfo.mothers_name=(0,a.w1)(this.userInfo.mothers_name)?this.userInfo.mothers_name:this.userInfo.mothers_name.trim(),this.userInfo.name=(0,a.w1)(this.userInfo.name)?this.userInfo.name:this.userInfo.name.trim(),this.userInfo.address_city=(0,a.w1)(this.userInfo.address_city)?this.userInfo.address_city:this.userInfo.address_city.trim(),this.userInfo.address_country_code=(0,a.w1)(this.userInfo.address_country_code)?this.userInfo.address_country_code:this.userInfo.address_country_code.trim(),this.userInfo.address_country_num=(0,a.w1)(this.userInfo.address_country_num)?this.userInfo.address_country_num:this.userInfo.address_country_num.trim(),this.userInfo.address_zip=(0,a.w1)(this.userInfo.address_zip)?this.userInfo.address_zip:this.userInfo.address_zip.trim(),this.userInfo.address=(0,a.w1)(this.userInfo.address)?this.userInfo.address:this.userInfo.address.trim(),this.userInfo.adt=(0,a.w1)(this.userInfo.adt)?this.userInfo.adt:this.userInfo.adt.trim(),this.userInfo.phone_number=(0,a.w1)(this.userInfo.phone_number)?this.userInfo.phone_number:this.userInfo.phone_number.trim()),this.router.url.includes("receipts")?this.index=0:this.router.url.includes("saved")&&(this.index=1),(0,a.Er)(this.cdr)}),this.katastimataNgSrv.getEpixeirisiInfo(this.userInfo.tin).pipe((0,B.G)(t=>t&&t.statusCode==this.HttpStatusCodeEnum.Ok?(this.epixeirisiInfo=t,this.katastimataNgSrv.getDiloseisWebInfo(this.userInfo.tin)):(this.toasterSrv.showError("",t.message),(0,c.of)(!1))),(0,B.G)(t=>t?(this.diloseisToPay=t,(!this.diloseisToPay||0==this.diloseisToPay.length)&&this.toasterSrv.showWarning("","\u0394\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd."),this.katastimataNgSrv.getPluginCustomerOptions()):(0,c.of)(!1))).subscribe(t=>{if(t){let o=t;if(o){if(o.configurationOptions&&o.configurationOptions.length&&o.configurationOptions.some(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id)&&(this.onlinePaymentsSettingsCompany=o.configurationOptions.find(e=>"PluginCustomerSpecificOptions:OnlinePayments"==e.id).value),this.diloseisSaved=this.diloseisToPay.filter(e=>6==e.statusId),o.configurationOptions&&o.configurationOptions.length&&o.configurationOptions.some(e=>"PluginCustomerSpecificOptions:CreatePaymentCodeDias"==e.id)){let e=o.configurationOptions.find(n=>"PluginCustomerSpecificOptions:CreatePaymentCodeDias"==n.id).value;this.createPaymentCodeDias=!!(e="true")}(0,a.Er)(this.cdr),this._loadData()}else this.toasterSrv.showError("","\u0394\u03b5\u03bd \u03bc\u03c0\u03cc\u03c1\u03b5\u03c3\u03b5 \u03bd\u03b1 \u03b3\u03af\u03bd\u03b5\u03b9 \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03c1\u03c5\u03b8\u03bc\u03af\u03c3\u03b5\u03c9\u03bd \u03c4\u03b7\u03c2 \u03b5\u03c6\u03b1\u03c1\u03bc\u03bf\u03b3\u03ae\u03c2.")}this.isLoading=!1,(0,a.Er)(this.cdr)})}ngOnDestroy(){this.onDestroy.next(null)}onCreateNewDilosiClicked(){this.isAddingNewDilosi=!0,(0,a.Er)(this.cdr)}onTabChanged(t){0==t.index?this.router.navigate(["./receipts"],{relativeTo:this.route,queryParamsHandling:"preserve"}):this.router.navigate(["./saved"],{relativeTo:this.route.parent})}onReloadSaved(t){this.isLoading=!0,(0,a.Er)(this.cdr),this.katastimataNgSrv.getDiloseisWebInfo(this.userInfo.tin).subscribe(o=>{o&&(this.diloseisToPay=o,this.diloseisSaved=this.diloseisToPay.filter(e=>6==e.statusId),(0,a.Er)(this.cdr),this._loadData()),this.isLoading=!1,(0,a.Er)(this.cdr)})}_loadData(){this.isLoading=!0,(0,a.Er)(this.cdr),this.katastimataNgSrv.getDiloseisWebPayedInfo(this.userInfo.tin).subscribe(t=>{t?this.diloseisPayed=t:this.toasterSrv.showError("","\u03a5\u03c0\u03ae\u03c1\u03be\u03b5 \u03c0\u03c1\u03cc\u03b2\u03bb\u03b7\u03bc\u03b1 \u03ba\u03b1\u03c4\u03ac \u03c4\u03b7\u03bd \u03b1\u03bd\u03ac\u03ba\u03c4\u03b7\u03c3\u03b7 \u03c4\u03c9\u03bd \u03b5\u03be\u03bf\u03c6\u03bb\u03b7\u03bc\u03ad\u03bd\u03c9\u03bd \u03b4\u03b7\u03bb\u03ce\u03c3\u03b5\u03c9\u03bd."),this.isLoading=!1,(0,a.Er)(this.cdr)})}static{this.\u0275fac=function(o){return new(o||s)(i.GI1(E),i.GI1(a.y6),i.GI1(i.kD9),i.GI1(H.Bf),i.GI1(I.KK),i.GI1(y.E5),i.GI1(y.gV))}}static{this.\u0275cmp=i.In1({type:s,selectors:[["lib-katastimata-ng"]],decls:6,vars:13,consts:[["severity","error","text","\u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b4\u03bf\u03ba\u03b9\u03bc\u03ac\u03c3\u03c4\u03b5 \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1!",4,"ngIf"],[4,"ngIf"],["header","\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0394\u03ae\u03bb\u03c9\u03c3\u03b7\u03c2","appendTo","body","resizable","false","modal","true",3,"visible","draggable","closable","visibleChange"],[3,"epixeirisiInfo","diloseisToPay","dilosi","applicationUrl","onlinePaymentsSettingsCompany","createPaymentCodeDias","updateSaved",4,"ngIf"],["severity","error","text","\u039a\u03ac\u03c4\u03b9 \u03c0\u03ae\u03b3\u03b5 \u03c3\u03c4\u03c1\u03b1\u03b2\u03ac, \u03c0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03b4\u03bf\u03ba\u03b9\u03bc\u03ac\u03c3\u03c4\u03b5 \u03b1\u03c1\u03b3\u03cc\u03c4\u03b5\u03c1\u03b1!"],["class","mb-3 py-1 d-flex flex-wrap",4,"ngIf"],["class","alert alert-warning mb-3 my-2","style","color: #ffffff !important;",4,"ngIf"],[3,"activeIndex","onChange"],["header","\u0399\u03c3\u03c4\u03bf\u03c1\u03b9\u03ba\u03cc \u03a0\u03bb\u03b7\u03c1\u03c9\u03bc\u03ce\u03bd"],[3,"diloseisPayed","diloseisToPay","userInfo","isLoading","reloadData",4,"ngIf"],["header","\u0391\u03c0\u03bf\u03b8\u03b7\u03ba\u03b5\u03c5\u03bc\u03ad\u03bd\u03b5\u03c2 \u0394\u03b7\u03bb\u03ce\u03c3\u03b5\u03b9\u03c2"],[3,"diloseisSaved","diloseisToPay","userInfo","epixeirisiInfo","onlinePaymentsSettingsCompany","isLoading","applicationUrl","reloadData"],[1,"mb-3","py-1","d-flex","flex-wrap"],["class","m-0 me-1 d-inline-flex align-items-center eponimia-title",4,"ngIf"],["class","btn btn-primary btn-sm m-0 ms-auto","type","button",3,"click",4,"ngIf"],[1,"m-0","me-1","d-inline-flex","align-items-center","eponimia-title"],["type","button",1,"btn","btn-primary","btn-sm","m-0","ms-auto",3,"click"],["aria-hidden","true",1,"fas","fa-plus"],[1,"alert","alert-warning","mb-3","my-2",2,"color","#ffffff !important"],[1,"fas","fa-exclamation-triangle"],["href","https://dae.govapp.gr","rel","noopener noreferrer","target","_blank",1,"text-primary"],[1,"fas","fa-link"],[3,"diloseisPayed","diloseisToPay","userInfo","isLoading","reloadData"],[3,"epixeirisiInfo","diloseisToPay","dilosi","applicationUrl","onlinePaymentsSettingsCompany","createPaymentCodeDias","updateSaved"]],template:function(o,e){1&o&&(i.yuY(0,Ui,1,0,"p-message",0),i.wVc(1,"async"),i.yuY(2,Wi,8,11,"ng-container",1),i.wVc(3,"async"),i.I0R(4,"p-dialog",2),i.iHE("visibleChange",function(l){return i.kNx(e.isAddingNewDilosi,l)||(e.isAddingNewDilosi=l),l}),i.yuY(5,ji,1,6,"app-katastimata-create-dilosi",3),i.C$Y()),2&o&&(i.E7m("ngIf",!i.kDX(1,8,e.katastimataNgSrv.userInfo$)),i.yG2(2),i.E7m("ngIf",i.kDX(3,10,e.katastimataNgSrv.userInfo$)),i.yG2(2),i.m_g(i.q4q(12,Y)),i.OKB("visible",e.isAddingNewDilosi),i.E7m("draggable",!1)("closable",!0),i.yG2(),i.E7m("ngIf",e.isAddingNewDilosi))},dependencies:[p.u_,F.DX,F.Gk,x.C,b.S,N,L,W,p.a],encapsulation:2,changeDetection:0})}}return s})();const it=[{path:"",component:j,children:[{path:"",pathMatch:"full",redirectTo:"receipts"},{path:"receipts",component:L},{path:"saved",component:W}]}];let tt=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=i.a4G({type:s})}static{this.\u0275inj=i.s3X({imports:[y.qQ.forChild(it),y.qQ]})}}return s})();const et={align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"\u20ac",thousands:"."};let z=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=i.a4G({type:s})}static{this.\u0275inj=i.s3X({providers:[{provide:O.Ku,useValue:et}],imports:[p.MD,h.y,tt,F.Y1,D.q0,v.Q1,x.k,G.e,b.e,U.Y,X.W,O.k1,T.gb,a.qU,a.CQ]})}}return s})();var st=r(4864),ot=r(5265),at=r(6040),nt=r(9161),ut=r(2656);function lt(s,u){if(1&s&&i.wR5(0,"p-message",3),2&s){const t=i.GaO();i.E7m("text",null==t.translation?null:t.translation.egwebapps.egwebappsLoginMesg)}}function rt(s,u){if(1&s&&(i.I0R(0,"p-panel",5),i.wR5(1,"div",6),i.wVc(2,"decodeHtmlString"),i.C$Y()),2&s){const t=i.GaO(2);i.E7m("header",null==t.translation?null:t.translation.egwebapps.information)("styleClass","tab-msg mb-3")("toggleable",!0),i.yG2(),i.E7m("innerHTML",i.kDX(2,4,t.tabMsg),i.E3n)}}function dt(s,u){1&s&&i.wR5(0,"lib-katastimata-ng")}function pt(s,u){if(1&s&&(i.SAx(0),i.yuY(1,rt,3,6,"p-panel",4)(2,dt,1,0,"lib-katastimata-ng",2),i.k70()),2&s){const t=i.GaO();i.yG2(),i.E7m("ngIf",t.tabMsg),i.yG2(),i.E7m("ngIf",t.isAuthorized)}}const mt=[{path:"",component:(()=>{class s{constructor(t,o,e){this.cookieService=t,this.appCacheSrv=o,this.cdr=e,this.onDestroy=new k.E,this.afmNotFound=!1,this.selectedLang="el"}ngOnInit(){let t;(0,at.E)([this.appCacheSrv.translation$,this.appCacheSrv.selectedLang$]).pipe((0,f.a)(this.onDestroy)).subscribe(o=>{o&&(this.translation=o[0],this.selectedLang=o[1],this.selectedLang&&(1==AppConfOptions.multilingual&&"el"!=this.selectedLang&&AppConfOptions.katastimata_tab_info_en&&""!=AppConfOptions.katastimata_tab_info_en?this.tabMsg=AppConfOptions.katastimata_tab_info_en:AppConfOptions.katastimata_tab_info&&""!=AppConfOptions.katastimata_tab_info&&"el"==this.selectedLang&&(this.tabMsg=AppConfOptions.katastimata_tab_info)),(0,a.Er)(this.cdr))});for(let o=0;o<window.sessionStorage.length;o++)window.sessionStorage.key(o).includes("authzData")&&(t=window.sessionStorage.getItem(window.sessionStorage.key(o)).replace(/"/g,""));"true"==window.sessionStorage.getItem("_isAuthorized")&&(this.isAuthorized=!0,t&&""!=t&&this.cookieService.set("katastimata-egritos-token",t)),this.appCacheSrv.user$.pipe((0,f.a)(this.onDestroy)).subscribe(o=>{this.afmNotFound=!1,(0,a.Er)(this.cdr),o&&(0,a.w1)(o.tin)&&AppConfOptions.katastimata_afm_required&&(this.afmNotFound=!0),(0,a.Er)(this.cdr)})}ngOnDestroy(){this.onDestroy.next(null)}static{this.\u0275fac=function(o){return new(o||s)(i.GI1(a.q4),i.GI1(nt.i),i.GI1(i.kD9))}}static{this.\u0275cmp=i.In1({type:s,selectors:[["app-katastimata"]],decls:4,vars:3,consts:[[1,"module-title"],["severity","warn",3,"text",4,"ngIf"],[4,"ngIf"],["severity","warn",3,"text"],[3,"header","styleClass","toggleable",4,"ngIf"],[3,"header","styleClass","toggleable"],[3,"innerHTML"]],template:function(o,e){1&o&&(i.I0R(0,"h3",0),i.OEk(1),i.C$Y(),i.yuY(2,lt,1,1,"p-message",1)(3,pt,3,2,"ng-container",2)),2&o&&(i.yG2(),i.cNF(null==e.translation?null:e.translation.menu.katastimataMenuItem),i.yG2(),i.E7m("ngIf",!e.isAuthorized),i.yG2(),i.E7m("ngIf",!e.afmNotFound))},dependencies:[p.u_,b.S,U.s,j,ut.m],encapsulation:2,changeDetection:0})}}return s})(),children:[{path:"",loadChildren:()=>Promise.resolve().then(r.bind(r,3440)).then(s=>s.PublicLibLoader)}]}];let Ct=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=i.a4G({type:s})}static{this.\u0275inj=i.s3X({imports:[y.qQ.forChild(mt),y.qQ]})}}return s})(),ct=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=i.a4G({type:s})}static{this.\u0275inj=i.s3X({imports:[ot.k,st.IB,Ct,z]})}}return s})(),ht=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=i.a4G({type:s})}static{this.\u0275inj=i.s3X({imports:[z]})}}return s})()}}]);